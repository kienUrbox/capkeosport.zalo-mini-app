var oj=Object.defineProperty,lj=Object.defineProperties;var cj=Object.getOwnPropertyDescriptors;var Yl=Object.getOwnPropertySymbols;var nx=Object.prototype.hasOwnProperty,ax=Object.prototype.propertyIsEnumerable;var Ws=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),uj=e=>{throw TypeError(e)};var rx=(e,t,r)=>t in e?oj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C=(e,t)=>{for(var r in t||(t={}))nx.call(t,r)&&rx(e,r,t[r]);if(Yl)for(var r of Yl(t))ax.call(t,r)&&rx(e,r,t[r]);return e},Z=(e,t)=>lj(e,cj(t));var Wn=(e,t)=>{var r={};for(var n in e)nx.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Yl)for(var n of Yl(e))t.indexOf(n)<0&&ax.call(e,n)&&(r[n]=e[n]);return r};var T=(e,t,r)=>new Promise((n,a)=>{var i=c=>{try{l(r.next(c))}catch(u){a(u)}},o=c=>{try{l(r.throw(c))}catch(u){a(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,o);l((r=r.apply(e,t)).next())}),ss=function(e,t){this[0]=e,this[1]=t},Rd=(e,t,r)=>{var n=(o,l,c,u)=>{try{var d=r[o](l),f=(l=d.value)instanceof ss,h=d.done;Promise.resolve(f?l[0]:l).then(p=>f?n(o==="return"?o:"next",l[1]?{done:p.done,value:p.value}:p,c,u):c({value:p,done:h})).catch(p=>n("throw",p,c,u))}catch(p){u(p)}},a=o=>i[o]=l=>new Promise((c,u)=>n(o,l,c,u)),i={};return r=r.apply(e,t),i[Ws("asyncIterator")]=()=>i,a("next"),a("throw"),a("return"),i},Od=e=>{var t=e[Ws("asyncIterator")],r=!1,n,a={};return t==null?(t=e[Ws("iterator")](),n=i=>a[i]=o=>t[i](o)):(t=t.call(e),n=i=>a[i]=o=>{if(r){if(r=!1,i==="throw")throw o;return o}return r=!0,{done:!1,value:new ss(new Promise(l=>{var c=t[i](o);c instanceof Object||uj("Object expected"),l(c)}),1)}}),a[Ws("iterator")]=()=>a,n("next"),"throw"in t?n("throw"):a.throw=i=>{throw i},"return"in t&&n("return"),a},sx=(e,t,r)=>(t=e[Ws("asyncIterator")])?t.call(e):(e=e[Ws("iterator")](),t={},r=(n,a)=>(a=e[n])&&(t[n]=i=>new Promise((o,l,c)=>(i=a.call(e,i),c=i.done,Promise.resolve(i.value).then(u=>o({value:u,done:c}),l)))),r("next"),r("return"),t);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Ay(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ry={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),dj=Symbol.for("react.portal"),fj=Symbol.for("react.fragment"),hj=Symbol.for("react.strict_mode"),mj=Symbol.for("react.profiler"),pj=Symbol.for("react.provider"),gj=Symbol.for("react.context"),xj=Symbol.for("react.forward_ref"),vj=Symbol.for("react.suspense"),yj=Symbol.for("react.memo"),bj=Symbol.for("react.lazy"),ix=Symbol.iterator;function wj(e){return e===null||typeof e!="object"?null:(e=ix&&e[ix]||e["@@iterator"],typeof e=="function"?e:null)}var Oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ly=Object.assign,Dy={};function Di(e,t,r){this.props=e,this.context=t,this.refs=Dy,this.updater=r||Oy}Di.prototype.isReactComponent={};Di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zy(){}zy.prototype=Di.prototype;function kp(e,t,r){this.props=e,this.context=t,this.refs=Dy,this.updater=r||Oy}var jp=kp.prototype=new zy;jp.constructor=kp;Ly(jp,Di.prototype);jp.isPureReactComponent=!0;var ox=Array.isArray,$y=Object.prototype.hasOwnProperty,_p={current:null},Uy={key:!0,ref:!0,__self:!0,__source:!0};function Fy(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$y.call(t,n)&&!Uy.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:bl,type:e,key:i,ref:o,props:a,_owner:_p.current}}function Nj(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sp(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function kj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lx=/\/+/g;function Ld(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kj(""+e.key):t.toString(36)}function Cc(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bl:case dj:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ld(o,0):n,ox(a)?(r="",e!=null&&(r=e.replace(lx,"$&/")+"/"),Cc(a,t,r,"",function(u){return u})):a!=null&&(Sp(a)&&(a=Nj(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(lx,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",ox(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ld(i,l);o+=Cc(i,t,r,c,a)}else if(c=wj(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ld(i,l++),o+=Cc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ql(e,t,r){if(e==null)return e;var n=[],a=0;return Cc(e,n,"","",function(i){return t.call(r,i,a++)}),n}function jj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nr={current:null},Pc={transition:null},_j={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:Pc,ReactCurrentOwner:_p};function By(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Ql,forEach:function(e,t,r){Ql(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ql(e,function(){t++}),t},toArray:function(e){return Ql(e,function(t){return t})||[]},only:function(e){if(!Sp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Component=Di;Ge.Fragment=fj;Ge.Profiler=mj;Ge.PureComponent=kp;Ge.StrictMode=hj;Ge.Suspense=vj;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_j;Ge.act=By;Ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ly({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=_p.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$y.call(t,c)&&!Uy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bl,type:e.type,key:a,ref:i,props:n,_owner:o}};Ge.createContext=function(e){return e={$$typeof:gj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pj,_context:e},e.Consumer=e};Ge.createElement=Fy;Ge.createFactory=function(e){var t=Fy.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:xj,render:e}};Ge.isValidElement=Sp;Ge.lazy=function(e){return{$$typeof:bj,_payload:{_status:-1,_result:e},_init:jj}};Ge.memo=function(e,t){return{$$typeof:yj,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=Pc.transition;Pc.transition={};try{e()}finally{Pc.transition=t}};Ge.unstable_act=By;Ge.useCallback=function(e,t){return nr.current.useCallback(e,t)};Ge.useContext=function(e){return nr.current.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e){return nr.current.useDeferredValue(e)};Ge.useEffect=function(e,t){return nr.current.useEffect(e,t)};Ge.useId=function(){return nr.current.useId()};Ge.useImperativeHandle=function(e,t,r){return nr.current.useImperativeHandle(e,t,r)};Ge.useInsertionEffect=function(e,t){return nr.current.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return nr.current.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return nr.current.useMemo(e,t)};Ge.useReducer=function(e,t,r){return nr.current.useReducer(e,t,r)};Ge.useRef=function(e){return nr.current.useRef(e)};Ge.useState=function(e){return nr.current.useState(e)};Ge.useSyncExternalStore=function(e,t,r){return nr.current.useSyncExternalStore(e,t,r)};Ge.useTransition=function(){return nr.current.useTransition()};Ge.version="18.3.1";Ry.exports=Ge;var w=Ry.exports;const Ne=Ay(w);var Hy={exports:{}},Tr={},Wy={exports:{}},Vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,Y){var H=U.length;U.push(Y);e:for(;0<H;){var fe=H-1>>>1,K=U[fe];if(0<a(K,Y))U[fe]=Y,U[H]=K,H=fe;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Y=U[0],H=U.pop();if(H!==Y){U[0]=H;e:for(var fe=0,K=U.length,ue=K>>>1;fe<ue;){var we=2*(fe+1)-1,ke=U[we],te=we+1,B=U[te];if(0>a(ke,H))te<K&&0>a(B,ke)?(U[fe]=B,U[te]=H,fe=te):(U[fe]=ke,U[we]=H,fe=we);else if(te<K&&0>a(B,H))U[fe]=B,U[te]=H,fe=te;else break e}}return Y}function a(U,Y){var H=U.sortIndex-Y.sortIndex;return H!==0?H:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(U){for(var Y=r(u);Y!==null;){if(Y.callback===null)n(u);else if(Y.startTime<=U)n(u),Y.sortIndex=Y.expirationTime,t(c,Y);else break;Y=r(u)}}function k(U){if(m=!1,v(U),!g)if(r(c)!==null)g=!0,V(j);else{var Y=r(u);Y!==null&&ae(k,Y.startTime-U)}}function j(U,Y){g=!1,m&&(m=!1,b(E),E=-1),p=!0;var H=h;try{for(v(Y),f=r(c);f!==null&&(!(f.expirationTime>Y)||U&&!F());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,h=f.priorityLevel;var K=fe(f.expirationTime<=Y);Y=e.unstable_now(),typeof K=="function"?f.callback=K:f===r(c)&&n(c),v(Y)}else n(c);f=r(c)}if(f!==null)var ue=!0;else{var we=r(u);we!==null&&ae(k,we.startTime-Y),ue=!1}return ue}finally{f=null,h=H,p=!1}}var M=!1,N=null,E=-1,A=5,O=-1;function F(){return!(e.unstable_now()-O<A)}function G(){if(N!==null){var U=e.unstable_now();O=U;var Y=!0;try{Y=N(!0,U)}finally{Y?ne():(M=!1,N=null)}}else M=!1}var ne;if(typeof x=="function")ne=function(){x(G)};else if(typeof MessageChannel!="undefined"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=G,ne=function(){J.postMessage(null)}}else ne=function(){y(G,0)};function V(U){N=U,M||(M=!0,ne())}function ae(U,Y){E=y(function(){U(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,V(j))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var H=h;h=Y;try{return U()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var H=h;h=U;try{return Y()}finally{h=H}},e.unstable_scheduleCallback=function(U,Y,H){var fe=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?fe+H:fe):H=fe,U){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,U={id:d++,callback:Y,priorityLevel:U,startTime:H,expirationTime:K,sortIndex:-1},H>fe?(U.sortIndex=H,t(u,U),r(c)===null&&U===r(u)&&(m?(b(E),E=-1):m=!0,ae(k,H-fe))):(U.sortIndex=K,t(c,U),g||p||(g=!0,V(j))),U},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(U){var Y=h;return function(){var H=h;h=Y;try{return U.apply(this,arguments)}finally{h=H}}}})(Vy);Wy.exports=Vy;var Sj=Wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej=w,Sr=Sj;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ky=new Set,Ro={};function Ls(e,t){ji(e,t),ji(e+"Capture",t)}function ji(e,t){for(Ro[e]=t,e=0;e<t.length;e++)Ky.add(t[e])}var sa=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Vf=Object.prototype.hasOwnProperty,Tj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cx={},ux={};function Cj(e){return Vf.call(ux,e)?!0:Vf.call(cx,e)?!1:Tj.test(e)?ux[e]=!0:(cx[e]=!0,!1)}function Pj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ij(e,t,r,n){if(t===null||typeof t=="undefined"||Pj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ar(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new ar(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new ar(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new ar(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new ar(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new ar(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new ar(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new ar(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new ar(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new ar(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ep=/[\-:]([a-z])/g;function Tp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ep,Tp);Vt[t]=new ar(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ep,Tp);Vt[t]=new ar(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ep,Tp);Vt[t]=new ar(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new ar(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new ar(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cp(e,t,r,n){var a=Vt.hasOwnProperty(t)?Vt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ij(t,r,a,n)&&(r=null),n||a===null?Cj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fa=Ej.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jl=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Gy=Symbol.for("react.provider"),Zy=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Zf=Symbol.for("react.suspense_list"),Mp=Symbol.for("react.memo"),Na=Symbol.for("react.lazy"),qy=Symbol.for("react.offscreen"),dx=Symbol.iterator;function Zi(e){return e===null||typeof e!="object"?null:(e=dx&&e[dx]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,Dd;function fo(e){if(Dd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Dd=t&&t[1]||""}return`
`+Dd+e}var zd=!1;function $d(e,t){if(!e||zd)return"";zd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fo(e):""}function Mj(e){switch(e.tag){case 5:return fo(e.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return e=$d(e.type,!1),e;case 11:return e=$d(e.type.render,!1),e;case 1:return e=$d(e.type,!0),e;default:return""}}function qf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ei:return"Fragment";case Xs:return"Portal";case Kf:return"Profiler";case Pp:return"StrictMode";case Gf:return"Suspense";case Zf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zy:return(e.displayName||"Context")+".Consumer";case Gy:return(e._context.displayName||"Context")+".Provider";case Ip:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mp:return t=e.displayName||null,t!==null?t:qf(e.type)||"Memo";case Na:t=e._payload,e=e._init;try{return qf(e(t))}catch(r){}}return null}function Aj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(t);case 8:return t===Pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ha(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rj(e){var t=Yy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=Rj(e))}function Qy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qc(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Yf(e,t){var r=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function fx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ha(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jy(e,t){t=t.checked,t!=null&&Cp(e,"checked",t,!1)}function Qf(e,t){Jy(e,t);var r=Ha(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jf(e,t.type,Ha(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jf(e,t,r){(t!=="number"||Qc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ho=Array.isArray;function mi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ha(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Xf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(ho(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ha(r)}}function Xy(e,t){var r=Ha(t.value),n=Ha(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function px(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ec,tb=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ec.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oj=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(e){Oj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wo[t]=wo[e]})});function rb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wo.hasOwnProperty(e)&&wo[e]?(""+t).trim():t+"px"}function nb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=rb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Lj=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(e,t){if(t){if(Lj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function rh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=null;function Ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ah=null,pi=null,gi=null;function gx(e){if(e=kl(e)){if(typeof ah!="function")throw Error(re(280));var t=e.stateNode;t&&(t=Qu(t),ah(e.stateNode,e.type,t))}}function ab(e){pi?gi?gi.push(e):gi=[e]:pi=e}function sb(){if(pi){var e=pi,t=gi;if(gi=pi=null,gx(e),t)for(e=0;e<t.length;e++)gx(t[e])}}function ib(e,t){return e(t)}function ob(){}var Ud=!1;function lb(e,t,r){if(Ud)return e(t,r);Ud=!0;try{return ib(e,t,r)}finally{Ud=!1,(pi!==null||gi!==null)&&(ob(),sb())}}function Lo(e,t){var r=e.stateNode;if(r===null)return null;var n=Qu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var sh=!1;if(sa)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){sh=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch(e){sh=!1}function Dj(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var No=!1,Jc=null,Xc=!1,ih=null,zj={onError:function(e){No=!0,Jc=e}};function $j(e,t,r,n,a,i,o,l,c){No=!1,Jc=null,Dj.apply(zj,arguments)}function Uj(e,t,r,n,a,i,o,l,c){if($j.apply(this,arguments),No){if(No){var u=Jc;No=!1,Jc=null}else throw Error(re(198));Xc||(Xc=!0,ih=u)}}function Ds(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xx(e){if(Ds(e)!==e)throw Error(re(188))}function Fj(e){var t=e.alternate;if(!t){if(t=Ds(e),t===null)throw Error(re(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return xx(a),e;if(i===n)return xx(a),t;i=i.sibling}throw Error(re(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?e:t}function ub(e){return e=Fj(e),e!==null?db(e):null}function db(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=db(e);if(t!==null)return t;e=e.sibling}return null}var fb=Sr.unstable_scheduleCallback,vx=Sr.unstable_cancelCallback,Bj=Sr.unstable_shouldYield,Hj=Sr.unstable_requestPaint,Ct=Sr.unstable_now,Wj=Sr.unstable_getCurrentPriorityLevel,Rp=Sr.unstable_ImmediatePriority,hb=Sr.unstable_UserBlockingPriority,eu=Sr.unstable_NormalPriority,Vj=Sr.unstable_LowPriority,mb=Sr.unstable_IdlePriority,Gu=null,En=null;function Kj(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Gu,e,void 0,(e.current.flags&128)===128)}catch(t){}}var on=Math.clz32?Math.clz32:qj,Gj=Math.log,Zj=Math.LN2;function qj(e){return e>>>=0,e===0?32:31-(Gj(e)/Zj|0)|0}var tc=64,rc=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=mo(l):(i&=o,i!==0&&(n=mo(i)))}else o=r&~a,o!==0?n=mo(o):i!==0&&(n=mo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-on(t),a=1<<r,n|=e[r],t&=~a;return n}function Yj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-on(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=Yj(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function oh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pb(){var e=tc;return tc<<=1,!(tc&4194240)&&(tc=64),e}function Fd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=r}function Jj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-on(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Op(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-on(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var nt=0;function gb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xb,Lp,vb,yb,bb,lh=!1,nc=[],Ra=null,Oa=null,La=null,Do=new Map,zo=new Map,ja=[],Xj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yx(e,t){switch(e){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Do.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function Yi(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=kl(t),t!==null&&Lp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function e_(e,t,r,n,a){switch(t){case"focusin":return Ra=Yi(Ra,e,t,r,n,a),!0;case"dragenter":return Oa=Yi(Oa,e,t,r,n,a),!0;case"mouseover":return La=Yi(La,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Do.set(i,Yi(Do.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,zo.set(i,Yi(zo.get(i)||null,e,t,r,n,a)),!0}return!1}function wb(e){var t=hs(e.target);if(t!==null){var r=Ds(t);if(r!==null){if(t=r.tag,t===13){if(t=cb(r),t!==null){e.blockedOn=t,bb(e.priority,function(){vb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ch(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);nh=n,r.target.dispatchEvent(n),nh=null}else return t=kl(r),t!==null&&Lp(t),e.blockedOn=r,!1;t.shift()}return!0}function bx(e,t,r){Ic(e)&&r.delete(t)}function t_(){lh=!1,Ra!==null&&Ic(Ra)&&(Ra=null),Oa!==null&&Ic(Oa)&&(Oa=null),La!==null&&Ic(La)&&(La=null),Do.forEach(bx),zo.forEach(bx)}function Qi(e,t){e.blockedOn===t&&(e.blockedOn=null,lh||(lh=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,t_)))}function $o(e){function t(a){return Qi(a,e)}if(0<nc.length){Qi(nc[0],e);for(var r=1;r<nc.length;r++){var n=nc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ra!==null&&Qi(Ra,e),Oa!==null&&Qi(Oa,e),La!==null&&Qi(La,e),Do.forEach(t),zo.forEach(t),r=0;r<ja.length;r++)n=ja[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ja.length&&(r=ja[0],r.blockedOn===null);)wb(r),r.blockedOn===null&&ja.shift()}var xi=fa.ReactCurrentBatchConfig,ru=!0;function r_(e,t,r,n){var a=nt,i=xi.transition;xi.transition=null;try{nt=1,Dp(e,t,r,n)}finally{nt=a,xi.transition=i}}function n_(e,t,r,n){var a=nt,i=xi.transition;xi.transition=null;try{nt=4,Dp(e,t,r,n)}finally{nt=a,xi.transition=i}}function Dp(e,t,r,n){if(ru){var a=ch(e,t,r,n);if(a===null)Qd(e,t,n,nu,r),yx(e,n);else if(e_(a,e,t,r,n))n.stopPropagation();else if(yx(e,n),t&4&&-1<Xj.indexOf(e)){for(;a!==null;){var i=kl(a);if(i!==null&&xb(i),i=ch(e,t,r,n),i===null&&Qd(e,t,n,nu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Qd(e,t,n,null,r)}}var nu=null;function ch(e,t,r,n){if(nu=null,e=Ap(n),e=hs(e),e!==null)if(t=Ds(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cb(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nu=e,null}function Nb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wj()){case Rp:return 1;case hb:return 4;case eu:case Vj:return 16;case mb:return 536870912;default:return 16}default:return 16}}var Pa=null,zp=null,Mc=null;function kb(){if(Mc)return Mc;var e,t=zp,r=t.length,n,a="value"in Pa?Pa.value:Pa.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Mc=a.slice(e,1<n?1-n:void 0)}function Ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ac(){return!0}function wx(){return!1}function Cr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ac:wx,this.isPropagationStopped=wx,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=Cr(zi),Nl=wt({},zi,{view:0,detail:0}),a_=Cr(Nl),Bd,Hd,Ji,Zu=wt({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Up,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ji&&(Ji&&e.type==="mousemove"?(Bd=e.screenX-Ji.screenX,Hd=e.screenY-Ji.screenY):Hd=Bd=0,Ji=e),Bd)},movementY:function(e){return"movementY"in e?e.movementY:Hd}}),Nx=Cr(Zu),s_=wt({},Zu,{dataTransfer:0}),i_=Cr(s_),o_=wt({},Nl,{relatedTarget:0}),Wd=Cr(o_),l_=wt({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),c_=Cr(l_),u_=wt({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d_=Cr(u_),f_=wt({},zi,{data:0}),kx=Cr(f_),h_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p_[e])?!!t[e]:!1}function Up(){return g_}var x_=wt({},Nl,{key:function(e){if(e.key){var t=h_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Up,charCode:function(e){return e.type==="keypress"?Ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v_=Cr(x_),y_=wt({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jx=Cr(y_),b_=wt({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Up}),w_=Cr(b_),N_=wt({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=Cr(N_),j_=wt({},Zu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),__=Cr(j_),S_=[9,13,27,32],Fp=sa&&"CompositionEvent"in window,ko=null;sa&&"documentMode"in document&&(ko=document.documentMode);var E_=sa&&"TextEvent"in window&&!ko,jb=sa&&(!Fp||ko&&8<ko&&11>=ko),_x=" ",Sx=!1;function _b(e,t){switch(e){case"keyup":return S_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ti=!1;function T_(e,t){switch(e){case"compositionend":return Sb(t);case"keypress":return t.which!==32?null:(Sx=!0,_x);case"textInput":return e=t.data,e===_x&&Sx?null:e;default:return null}}function C_(e,t){if(ti)return e==="compositionend"||!Fp&&_b(e,t)?(e=kb(),Mc=zp=Pa=null,ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jb&&t.locale!=="ko"?null:t.data;default:return null}}var P_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P_[e.type]:t==="textarea"}function Eb(e,t,r,n){ab(n),t=au(t,"onChange"),0<t.length&&(r=new $p("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jo=null,Uo=null;function I_(e){zb(e,0)}function qu(e){var t=ai(e);if(Qy(t))return e}function M_(e,t){if(e==="change")return t}var Tb=!1;if(sa){var Vd;if(sa){var Kd="oninput"in document;if(!Kd){var Tx=document.createElement("div");Tx.setAttribute("oninput","return;"),Kd=typeof Tx.oninput=="function"}Vd=Kd}else Vd=!1;Tb=Vd&&(!document.documentMode||9<document.documentMode)}function Cx(){jo&&(jo.detachEvent("onpropertychange",Cb),Uo=jo=null)}function Cb(e){if(e.propertyName==="value"&&qu(Uo)){var t=[];Eb(t,Uo,e,Ap(e)),lb(I_,t)}}function A_(e,t,r){e==="focusin"?(Cx(),jo=t,Uo=r,jo.attachEvent("onpropertychange",Cb)):e==="focusout"&&Cx()}function R_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qu(Uo)}function O_(e,t){if(e==="click")return qu(t)}function L_(e,t){if(e==="input"||e==="change")return qu(t)}function D_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:D_;function Fo(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vf.call(t,a)||!un(e[a],t[a]))return!1}return!0}function Px(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ix(e,t){var r=Px(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Px(r)}}function Pb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ib(){for(var e=window,t=Qc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=Qc(e.document)}return t}function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function z_(e){var t=Ib(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pb(r.ownerDocument.documentElement,r)){if(n!==null&&Bp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Ix(r,i);var o=Ix(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $_=sa&&"documentMode"in document&&11>=document.documentMode,ri=null,uh=null,_o=null,dh=!1;function Mx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||ri==null||ri!==Qc(n)||(n=ri,"selectionStart"in n&&Bp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_o&&Fo(_o,n)||(_o=n,n=au(uh,"onSelect"),0<n.length&&(t=new $p("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ri)))}function sc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ni={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Gd={},Mb={};sa&&(Mb=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Yu(e){if(Gd[e])return Gd[e];if(!ni[e])return e;var t=ni[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Mb)return Gd[e]=t[r];return e}var Ab=Yu("animationend"),Rb=Yu("animationiteration"),Ob=Yu("animationstart"),Lb=Yu("transitionend"),Db=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(e,t){Db.set(e,t),Ls(t,[e])}for(var Zd=0;Zd<Ax.length;Zd++){var qd=Ax[Zd],U_=qd.toLowerCase(),F_=qd[0].toUpperCase()+qd.slice(1);Ga(U_,"on"+F_)}Ga(Ab,"onAnimationEnd");Ga(Rb,"onAnimationIteration");Ga(Ob,"onAnimationStart");Ga("dblclick","onDoubleClick");Ga("focusin","onFocus");Ga("focusout","onBlur");Ga(Lb,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B_=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Rx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Uj(n,t,void 0,e),e.currentTarget=null}function zb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Rx(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Rx(a,l,u),i=c}}}if(Xc)throw e=ih,Xc=!1,ih=null,e}function lt(e,t){var r=t[gh];r===void 0&&(r=t[gh]=new Set);var n=e+"__bubble";r.has(n)||($b(t,e,2,!1),r.add(n))}function Yd(e,t,r){var n=0;t&&(n|=4),$b(r,e,n,t)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Bo(e){if(!e[ic]){e[ic]=!0,Ky.forEach(function(r){r!=="selectionchange"&&(B_.has(r)||Yd(r,!1,e),Yd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ic]||(t[ic]=!0,Yd("selectionchange",!1,t))}}function $b(e,t,r,n){switch(Nb(t)){case 1:var a=r_;break;case 4:a=n_;break;default:a=Dp}r=a.bind(null,t,r,e),a=void 0,!sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Qd(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=hs(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}lb(function(){var u=i,d=Ap(r),f=[];e:{var h=Db.get(e);if(h!==void 0){var p=$p,g=e;switch(e){case"keypress":if(Ac(r)===0)break e;case"keydown":case"keyup":p=v_;break;case"focusin":g="focus",p=Wd;break;case"focusout":g="blur",p=Wd;break;case"beforeblur":case"afterblur":p=Wd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=i_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=w_;break;case Ab:case Rb:case Ob:p=c_;break;case Lb:p=k_;break;case"scroll":p=a_;break;case"wheel":p=__;break;case"copy":case"cut":case"paste":p=d_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jx}var m=(t&4)!==0,y=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,v;x!==null;){v=x;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,b!==null&&(k=Lo(x,b),k!=null&&m.push(Ho(x,k,v)))),y)break;x=x.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==nh&&(g=r.relatedTarget||r.fromElement)&&(hs(g)||g[ia]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?hs(g):null,g!==null&&(y=Ds(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=Nx,k="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=jx,k="onPointerLeave",b="onPointerEnter",x="pointer"),y=p==null?h:ai(p),v=g==null?h:ai(g),h=new m(k,x+"leave",p,r,d),h.target=y,h.relatedTarget=v,k=null,hs(d)===u&&(m=new m(b,x+"enter",g,r,d),m.target=v,m.relatedTarget=y,k=m),y=k,p&&g)t:{for(m=p,b=g,x=0,v=m;v;v=Vs(v))x++;for(v=0,k=b;k;k=Vs(k))v++;for(;0<x-v;)m=Vs(m),x--;for(;0<v-x;)b=Vs(b),v--;for(;x--;){if(m===b||b!==null&&m===b.alternate)break t;m=Vs(m),b=Vs(b)}m=null}else m=null;p!==null&&Ox(f,h,p,m,!1),g!==null&&y!==null&&Ox(f,y,g,m,!0)}}e:{if(h=u?ai(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=M_;else if(Ex(h))if(Tb)j=L_;else{j=R_;var M=A_}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=O_);if(j&&(j=j(e,u))){Eb(f,j,r,d);break e}M&&M(e,h,u),e==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Jf(h,"number",h.value)}switch(M=u?ai(u):window,e){case"focusin":(Ex(M)||M.contentEditable==="true")&&(ri=M,uh=u,_o=null);break;case"focusout":_o=uh=ri=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Mx(f,r,d);break;case"selectionchange":if($_)break;case"keydown":case"keyup":Mx(f,r,d)}var N;if(Fp)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ti?_b(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(jb&&r.locale!=="ko"&&(ti||E!=="onCompositionStart"?E==="onCompositionEnd"&&ti&&(N=kb()):(Pa=d,zp="value"in Pa?Pa.value:Pa.textContent,ti=!0)),M=au(u,E),0<M.length&&(E=new kx(E,e,null,r,d),f.push({event:E,listeners:M}),N?E.data=N:(N=Sb(r),N!==null&&(E.data=N)))),(N=E_?T_(e,r):C_(e,r))&&(u=au(u,"onBeforeInput"),0<u.length&&(d=new kx("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}zb(f,t)})}function Ho(e,t,r){return{instance:e,listener:t,currentTarget:r}}function au(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Lo(e,r),i!=null&&n.unshift(Ho(e,i,a)),i=Lo(e,t),i!=null&&n.push(Ho(e,i,a))),e=e.return}return n}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ox(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Lo(r,i),c!=null&&o.unshift(Ho(r,c,l))):a||(c=Lo(r,i),c!=null&&o.push(Ho(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var H_=/\r\n?/g,W_=/\u0000|\uFFFD/g;function Lx(e){return(typeof e=="string"?e:""+e).replace(H_,`
`).replace(W_,"")}function oc(e,t,r){if(t=Lx(t),Lx(e)!==t&&r)throw Error(re(425))}function su(){}var fh=null,hh=null;function mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,V_=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,K_=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx!="undefined"?function(e){return Dx.resolve(null).then(e).catch(G_)}:ph;function G_(e){setTimeout(function(){throw e})}function Jd(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),$o(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);$o(t)}function Da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $i=Math.random().toString(36).slice(2),wn="__reactFiber$"+$i,Wo="__reactProps$"+$i,ia="__reactContainer$"+$i,gh="__reactEvents$"+$i,Z_="__reactListeners$"+$i,q_="__reactHandles$"+$i;function hs(e){var t=e[wn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ia]||r[wn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zx(e);e!==null;){if(r=e[wn])return r;e=zx(e)}return t}e=r,r=e.parentNode}return null}function kl(e){return e=e[wn]||e[ia],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function Qu(e){return e[Wo]||null}var xh=[],si=-1;function Za(e){return{current:e}}function ct(e){0>si||(e.current=xh[si],xh[si]=null,si--)}function it(e,t){si++,xh[si]=e.current,e.current=t}var Wa={},Qt=Za(Wa),hr=Za(!1),_s=Wa;function _i(e,t){var r=e.type.contextTypes;if(!r)return Wa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mr(e){return e=e.childContextTypes,e!=null}function iu(){ct(hr),ct(Qt)}function $x(e,t,r){if(Qt.current!==Wa)throw Error(re(168));it(Qt,t),it(hr,r)}function Ub(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(re(108,Aj(e)||"Unknown",a));return wt({},r,n)}function ou(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wa,_s=Qt.current,it(Qt,e),it(hr,hr.current),!0}function Ux(e,t,r){var n=e.stateNode;if(!n)throw Error(re(169));r?(e=Ub(e,t,_s),n.__reactInternalMemoizedMergedChildContext=e,ct(hr),ct(Qt),it(Qt,e)):ct(hr),it(hr,r)}var Qn=null,Ju=!1,Xd=!1;function Fb(e){Qn===null?Qn=[e]:Qn.push(e)}function Y_(e){Ju=!0,Fb(e)}function qa(){if(!Xd&&Qn!==null){Xd=!0;var e=0,t=nt;try{var r=Qn;for(nt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Qn=null,Ju=!1}catch(a){throw Qn!==null&&(Qn=Qn.slice(e+1)),fb(Rp,qa),a}finally{nt=t,Xd=!1}}return null}var ii=[],oi=0,lu=null,cu=0,Dr=[],zr=0,Ss=null,Xn=1,ea="";function cs(e,t){ii[oi++]=cu,ii[oi++]=lu,lu=e,cu=t}function Bb(e,t,r){Dr[zr++]=Xn,Dr[zr++]=ea,Dr[zr++]=Ss,Ss=e;var n=Xn;e=ea;var a=32-on(n)-1;n&=~(1<<a),r+=1;var i=32-on(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Xn=1<<32-on(t)+a|r<<a|n,ea=i+e}else Xn=1<<i|r<<a|n,ea=e}function Hp(e){e.return!==null&&(cs(e,1),Bb(e,1,0))}function Wp(e){for(;e===lu;)lu=ii[--oi],ii[oi]=null,cu=ii[--oi],ii[oi]=null;for(;e===Ss;)Ss=Dr[--zr],Dr[zr]=null,ea=Dr[--zr],Dr[zr]=null,Xn=Dr[--zr],Dr[zr]=null}var _r=null,kr=null,mt=!1,nn=null;function Hb(e,t){var r=$r(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Fx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_r=e,kr=Da(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_r=e,kr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ss!==null?{id:Xn,overflow:ea}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$r(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_r=e,kr=null,!0):!1;default:return!1}}function vh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yh(e){if(mt){var t=kr;if(t){var r=t;if(!Fx(e,t)){if(vh(e))throw Error(re(418));t=Da(r.nextSibling);var n=_r;t&&Fx(e,t)?Hb(n,r):(e.flags=e.flags&-4097|2,mt=!1,_r=e)}}else{if(vh(e))throw Error(re(418));e.flags=e.flags&-4097|2,mt=!1,_r=e}}}function Bx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_r=e}function lc(e){if(e!==_r)return!1;if(!mt)return Bx(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mh(e.type,e.memoizedProps)),t&&(t=kr)){if(vh(e))throw Wb(),Error(re(418));for(;t;)Hb(e,t),t=Da(t.nextSibling)}if(Bx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kr=Da(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kr=null}}else kr=_r?Da(e.stateNode.nextSibling):null;return!0}function Wb(){for(var e=kr;e;)e=Da(e.nextSibling)}function Si(){kr=_r=null,mt=!1}function Vp(e){nn===null?nn=[e]:nn.push(e)}var Q_=fa.ReactCurrentBatchConfig;function Xi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,e))}return e}function cc(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hx(e){var t=e._init;return t(e._payload)}function Vb(e){function t(b,x){if(e){var v=b.deletions;v===null?(b.deletions=[x],b.flags|=16):v.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=Fa(b,x),b.index=0,b.sibling=null,b}function i(b,x,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<x?(b.flags|=2,x):v):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,v,k){return x===null||x.tag!==6?(x=of(v,b.mode,k),x.return=b,x):(x=a(x,v),x.return=b,x)}function c(b,x,v,k){var j=v.type;return j===ei?d(b,x,v.props.children,k,v.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Na&&Hx(j)===x.type)?(k=a(x,v.props),k.ref=Xi(b,x,v),k.return=b,k):(k=Uc(v.type,v.key,v.props,null,b.mode,k),k.ref=Xi(b,x,v),k.return=b,k)}function u(b,x,v,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=lf(v,b.mode,k),x.return=b,x):(x=a(x,v.children||[]),x.return=b,x)}function d(b,x,v,k,j){return x===null||x.tag!==7?(x=bs(v,b.mode,k,j),x.return=b,x):(x=a(x,v),x.return=b,x)}function f(b,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=of(""+x,b.mode,v),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Jl:return v=Uc(x.type,x.key,x.props,null,b.mode,v),v.ref=Xi(b,null,x),v.return=b,v;case Xs:return x=lf(x,b.mode,v),x.return=b,x;case Na:var k=x._init;return f(b,k(x._payload),v)}if(ho(x)||Zi(x))return x=bs(x,b.mode,v,null),x.return=b,x;cc(b,x)}return null}function h(b,x,v,k){var j=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(b,x,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Jl:return v.key===j?c(b,x,v,k):null;case Xs:return v.key===j?u(b,x,v,k):null;case Na:return j=v._init,h(b,x,j(v._payload),k)}if(ho(v)||Zi(v))return j!==null?null:d(b,x,v,k,null);cc(b,v)}return null}function p(b,x,v,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(v)||null,l(x,b,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Jl:return b=b.get(k.key===null?v:k.key)||null,c(x,b,k,j);case Xs:return b=b.get(k.key===null?v:k.key)||null,u(x,b,k,j);case Na:var M=k._init;return p(b,x,v,M(k._payload),j)}if(ho(k)||Zi(k))return b=b.get(v)||null,d(x,b,k,j,null);cc(x,k)}return null}function g(b,x,v,k){for(var j=null,M=null,N=x,E=x=0,A=null;N!==null&&E<v.length;E++){N.index>E?(A=N,N=null):A=N.sibling;var O=h(b,N,v[E],k);if(O===null){N===null&&(N=A);break}e&&N&&O.alternate===null&&t(b,N),x=i(O,x,E),M===null?j=O:M.sibling=O,M=O,N=A}if(E===v.length)return r(b,N),mt&&cs(b,E),j;if(N===null){for(;E<v.length;E++)N=f(b,v[E],k),N!==null&&(x=i(N,x,E),M===null?j=N:M.sibling=N,M=N);return mt&&cs(b,E),j}for(N=n(b,N);E<v.length;E++)A=p(N,b,E,v[E],k),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?E:A.key),x=i(A,x,E),M===null?j=A:M.sibling=A,M=A);return e&&N.forEach(function(F){return t(b,F)}),mt&&cs(b,E),j}function m(b,x,v,k){var j=Zi(v);if(typeof j!="function")throw Error(re(150));if(v=j.call(v),v==null)throw Error(re(151));for(var M=j=null,N=x,E=x=0,A=null,O=v.next();N!==null&&!O.done;E++,O=v.next()){N.index>E?(A=N,N=null):A=N.sibling;var F=h(b,N,O.value,k);if(F===null){N===null&&(N=A);break}e&&N&&F.alternate===null&&t(b,N),x=i(F,x,E),M===null?j=F:M.sibling=F,M=F,N=A}if(O.done)return r(b,N),mt&&cs(b,E),j;if(N===null){for(;!O.done;E++,O=v.next())O=f(b,O.value,k),O!==null&&(x=i(O,x,E),M===null?j=O:M.sibling=O,M=O);return mt&&cs(b,E),j}for(N=n(b,N);!O.done;E++,O=v.next())O=p(N,b,E,O.value,k),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?E:O.key),x=i(O,x,E),M===null?j=O:M.sibling=O,M=O);return e&&N.forEach(function(G){return t(b,G)}),mt&&cs(b,E),j}function y(b,x,v,k){if(typeof v=="object"&&v!==null&&v.type===ei&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Jl:e:{for(var j=v.key,M=x;M!==null;){if(M.key===j){if(j=v.type,j===ei){if(M.tag===7){r(b,M.sibling),x=a(M,v.props.children),x.return=b,b=x;break e}}else if(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Na&&Hx(j)===M.type){r(b,M.sibling),x=a(M,v.props),x.ref=Xi(b,M,v),x.return=b,b=x;break e}r(b,M);break}else t(b,M);M=M.sibling}v.type===ei?(x=bs(v.props.children,b.mode,k,v.key),x.return=b,b=x):(k=Uc(v.type,v.key,v.props,null,b.mode,k),k.ref=Xi(b,x,v),k.return=b,b=k)}return o(b);case Xs:e:{for(M=v.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(b,x.sibling),x=a(x,v.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=lf(v,b.mode,k),x.return=b,b=x}return o(b);case Na:return M=v._init,y(b,x,M(v._payload),k)}if(ho(v))return g(b,x,v,k);if(Zi(v))return m(b,x,v,k);cc(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,v),x.return=b,b=x):(r(b,x),x=of(v,b.mode,k),x.return=b,b=x),o(b)):r(b,x)}return y}var Ei=Vb(!0),Kb=Vb(!1),uu=Za(null),du=null,li=null,Kp=null;function Gp(){Kp=li=du=null}function Zp(e){var t=uu.current;ct(uu),e._currentValue=t}function bh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vi(e,t){du=e,Kp=li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function Br(e){var t=e._currentValue;if(Kp!==e)if(e={context:e,memoizedValue:t,next:null},li===null){if(du===null)throw Error(re(308));li=e,du.dependencies={lanes:0,firstContext:e}}else li=li.next=e;return t}var ms=null;function qp(e){ms===null?ms=[e]:ms.push(e)}function Gb(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,qp(t)):(r.next=a.next,a.next=r),t.interleaved=r,oa(e,n)}function oa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ka=!1;function Yp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,oa(e,r)}return a=n.interleaved,a===null?(t.next=t,qp(n)):(t.next=a.next,a.next=t),n.interleaved=t,oa(e,r)}function Rc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Op(e,r)}}function Wx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fu(e,t,r,n){var a=e.updateQueue;ka=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=wt({},f,h);break e;case 2:ka=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ts|=o,e.lanes=o,e.memoizedState=f}}function Vx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(re(191,a));a.call(n)}}}var jl={},Tn=Za(jl),Vo=Za(jl),Ko=Za(jl);function ps(e){if(e===jl)throw Error(re(174));return e}function Qp(e,t){switch(it(Ko,t),it(Vo,e),it(Tn,jl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eh(t,e)}ct(Tn),it(Tn,t)}function Ti(){ct(Tn),ct(Vo),ct(Ko)}function qb(e){ps(Ko.current);var t=ps(Tn.current),r=eh(t,e.type);t!==r&&(it(Vo,e),it(Tn,r))}function Jp(e){Vo.current===e&&(ct(Tn),ct(Vo))}var vt=Za(0);function hu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ef=[];function Xp(){for(var e=0;e<ef.length;e++)ef[e]._workInProgressVersionPrimary=null;ef.length=0}var Oc=fa.ReactCurrentDispatcher,tf=fa.ReactCurrentBatchConfig,Es=0,yt=null,Rt=null,Lt=null,mu=!1,So=!1,Go=0,J_=0;function Gt(){throw Error(re(321))}function eg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!un(e[r],t[r]))return!1;return!0}function tg(e,t,r,n,a,i){if(Es=i,yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oc.current=e===null||e.memoizedState===null?r2:n2,e=r(n,a),So){i=0;do{if(So=!1,Go=0,25<=i)throw Error(re(301));i+=1,Lt=Rt=null,t.updateQueue=null,Oc.current=a2,e=r(n,a)}while(So)}if(Oc.current=pu,t=Rt!==null&&Rt.next!==null,Es=0,Lt=Rt=yt=null,mu=!1,t)throw Error(re(300));return e}function rg(){var e=Go!==0;return Go=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?yt.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Hr(){if(Rt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=Lt===null?yt.memoizedState:Lt.next;if(t!==null)Lt=t,Rt=e;else{if(e===null)throw Error(re(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Lt===null?yt.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Zo(e,t){return typeof t=="function"?t(e):t}function rf(e){var t=Hr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=Rt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Es&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,yt.lanes|=d,Ts|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,un(n,t.memoizedState)||(dr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,yt.lanes|=i,Ts|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nf(e){var t=Hr(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);un(i,t.memoizedState)||(dr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Yb(){}function Qb(e,t){var r=yt,n=Hr(),a=t(),i=!un(n.memoizedState,a);if(i&&(n.memoizedState=a,dr=!0),n=n.queue,ng(ew.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Lt!==null&&Lt.memoizedState.tag&1){if(r.flags|=2048,qo(9,Xb.bind(null,r,n,a,t),void 0,null),zt===null)throw Error(re(349));Es&30||Jb(r,t,a)}return a}function Jb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xb(e,t,r,n){t.value=r,t.getSnapshot=n,tw(t)&&rw(e)}function ew(e,t,r){return r(function(){tw(t)&&rw(e)})}function tw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!un(e,r)}catch(n){return!0}}function rw(e){var t=oa(e,1);t!==null&&ln(t,e,1,-1)}function Kx(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=t2.bind(null,yt,e),[t.memoizedState,e]}function qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nw(){return Hr().memoizedState}function Lc(e,t,r,n){var a=vn();yt.flags|=e,a.memoizedState=qo(1|t,r,void 0,n===void 0?null:n)}function Xu(e,t,r,n){var a=Hr();n=n===void 0?null:n;var i=void 0;if(Rt!==null){var o=Rt.memoizedState;if(i=o.destroy,n!==null&&eg(n,o.deps)){a.memoizedState=qo(t,r,i,n);return}}yt.flags|=e,a.memoizedState=qo(1|t,r,i,n)}function Gx(e,t){return Lc(8390656,8,e,t)}function ng(e,t){return Xu(2048,8,e,t)}function aw(e,t){return Xu(4,2,e,t)}function sw(e,t){return Xu(4,4,e,t)}function iw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ow(e,t,r){return r=r!=null?r.concat([e]):null,Xu(4,4,iw.bind(null,t,e),r)}function ag(){}function lw(e,t){var r=Hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cw(e,t){var r=Hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&eg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function uw(e,t,r){return Es&21?(un(r,t)||(r=pb(),yt.lanes|=r,Ts|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=r)}function X_(e,t){var r=nt;nt=r!==0&&4>r?r:4,e(!0);var n=tf.transition;tf.transition={};try{e(!1),t()}finally{nt=r,tf.transition=n}}function dw(){return Hr().memoizedState}function e2(e,t,r){var n=Ua(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fw(e))hw(t,r);else if(r=Gb(e,t,r,n),r!==null){var a=rr();ln(r,e,n,a),mw(r,t,n)}}function t2(e,t,r){var n=Ua(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fw(e))hw(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,un(l,o)){var c=t.interleaved;c===null?(a.next=a,qp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch(u){}finally{}r=Gb(e,t,a,n),r!==null&&(a=rr(),ln(r,e,n,a),mw(r,t,n))}}function fw(e){var t=e.alternate;return e===yt||t!==null&&t===yt}function hw(e,t){So=mu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Op(e,r)}}var pu={readContext:Br,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},r2={readContext:Br,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Br,useEffect:Gx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Lc(4194308,4,iw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Lc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lc(4,2,e,t)},useMemo:function(e,t){var r=vn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=e2.bind(null,yt,e),[n.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:Kx,useDebugValue:ag,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=Kx(!1),t=e[0];return e=X_.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=yt,a=vn();if(mt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),zt===null)throw Error(re(349));Es&30||Jb(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Gx(ew.bind(null,n,i,e),[e]),n.flags|=2048,qo(9,Xb.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=vn(),t=zt.identifierPrefix;if(mt){var r=ea,n=Xn;r=(n&~(1<<32-on(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Go++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=J_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n2={readContext:Br,useCallback:lw,useContext:Br,useEffect:ng,useImperativeHandle:ow,useInsertionEffect:aw,useLayoutEffect:sw,useMemo:cw,useReducer:rf,useRef:nw,useState:function(){return rf(Zo)},useDebugValue:ag,useDeferredValue:function(e){var t=Hr();return uw(t,Rt.memoizedState,e)},useTransition:function(){var e=rf(Zo)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:Yb,useSyncExternalStore:Qb,useId:dw,unstable_isNewReconciler:!1},a2={readContext:Br,useCallback:lw,useContext:Br,useEffect:ng,useImperativeHandle:ow,useInsertionEffect:aw,useLayoutEffect:sw,useMemo:cw,useReducer:nf,useRef:nw,useState:function(){return nf(Zo)},useDebugValue:ag,useDeferredValue:function(e){var t=Hr();return Rt===null?t.memoizedState=e:uw(t,Rt.memoizedState,e)},useTransition:function(){var e=nf(Zo)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:Yb,useSyncExternalStore:Qb,useId:dw,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ed={isMounted:function(e){return(e=e._reactInternals)?Ds(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rr(),a=Ua(e),i=ta(n,a);i.payload=t,r!=null&&(i.callback=r),t=za(e,i,a),t!==null&&(ln(t,e,a,n),Rc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rr(),a=Ua(e),i=ta(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=za(e,i,a),t!==null&&(ln(t,e,a,n),Rc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rr(),n=Ua(e),a=ta(r,n);a.tag=2,t!=null&&(a.callback=t),t=za(e,a,n),t!==null&&(ln(t,e,n,r),Rc(t,e,n))}};function Zx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fo(r,n)||!Fo(a,i):!0}function pw(e,t,r){var n=!1,a=Wa,i=t.contextType;return typeof i=="object"&&i!==null?i=Br(i):(a=mr(t)?_s:Qt.current,n=t.contextTypes,i=(n=n!=null)?_i(e,a):Wa),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ed,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function qx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ed.enqueueReplaceState(t,t.state,null)}function Nh(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Yp(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Br(i):(i=mr(t)?_s:Qt.current,a.context=_i(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wh(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ed.enqueueReplaceState(a,a.state,null),fu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Ci(e,t){try{var r="",n=t;do r+=Mj(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function af(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function kh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function gw(e,t,r){r=ta(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xu||(xu=!0,Ah=n),kh(e,t)},r}function xw(e,t,r){r=ta(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){kh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){kh(e,t),typeof n!="function"&&($a===null?$a=new Set([this]):$a.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Yx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new s2;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=y2.bind(null,e,t,r),t.then(e,e))}function Qx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jx(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ta(-1,1),t.tag=2,za(r,t,1))),r.lanes|=1),e)}var i2=fa.ReactCurrentOwner,dr=!1;function er(e,t,r,n){t.child=e===null?Kb(t,null,r,n):Ei(t,e.child,r,n)}function Xx(e,t,r,n,a){r=r.render;var i=t.ref;return vi(t,a),n=tg(e,t,r,n,i,a),r=rg(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,la(e,t,a)):(mt&&r&&Hp(t),t.flags|=1,er(e,t,n,a),t.child)}function e0(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!fg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,vw(e,t,i,n,a)):(e=Uc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(o,n)&&e.ref===t.ref)return la(e,t,a)}return t.flags|=1,e=Fa(i,n),e.ref=t.ref,e.return=t,t.child=e}function vw(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Fo(i,n)&&e.ref===t.ref)if(dr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,la(e,t,a)}return jh(e,t,r,n,a)}function yw(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(ui,br),br|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(ui,br),br|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,it(ui,br),br|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,it(ui,br),br|=n;return er(e,t,a,r),t.child}function bw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jh(e,t,r,n,a){var i=mr(r)?_s:Qt.current;return i=_i(t,i),vi(t,a),r=tg(e,t,r,n,i,a),n=rg(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,la(e,t,a)):(mt&&n&&Hp(t),t.flags|=1,er(e,t,r,a),t.child)}function t0(e,t,r,n,a){if(mr(r)){var i=!0;ou(t)}else i=!1;if(vi(t,a),t.stateNode===null)Dc(e,t),pw(t,r,n),Nh(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Br(u):(u=mr(r)?_s:Qt.current,u=_i(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&qx(t,o,n,u),ka=!1;var h=t.memoizedState;o.state=h,fu(t,n,o,a),c=t.memoizedState,l!==n||h!==c||hr.current||ka?(typeof d=="function"&&(wh(t,r,d,n),c=t.memoizedState),(l=ka||Zx(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Zb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tn(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Br(c):(c=mr(r)?_s:Qt.current,c=_i(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&qx(t,o,n,c),ka=!1,h=t.memoizedState,o.state=h,fu(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||hr.current||ka?(typeof p=="function"&&(wh(t,r,p,n),g=t.memoizedState),(u=ka||Zx(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _h(e,t,r,n,i,a)}function _h(e,t,r,n,a,i){bw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Ux(t,r,!1),la(e,t,i);n=t.stateNode,i2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ei(t,e.child,null,i),t.child=Ei(t,null,l,i)):er(e,t,l,i),t.memoizedState=n.state,a&&Ux(t,r,!0),t.child}function ww(e){var t=e.stateNode;t.pendingContext?$x(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$x(e,t.context,!1),Qp(e,t.containerInfo)}function r0(e,t,r,n,a){return Si(),Vp(a),t.flags|=256,er(e,t,r,n),t.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function Eh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nw(e,t,r){var n=t.pendingProps,a=vt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),it(vt,a&1),e===null)return yh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nd(o,n,0,null),e=bs(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eh(r),t.memoizedState=Sh,e):sg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return o2(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Fa(l,i):(i=bs(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Eh(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Sh,n}return i=e.child,e=i.sibling,n=Fa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sg(e,t){return t=nd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uc(e,t,r,n){return n!==null&&Vp(n),Ei(t,e.child,null,r),e=sg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o2(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=af(Error(re(422))),uc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=nd({mode:"visible",children:n.children},a,0,null),i=bs(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ei(t,e.child,null,o),t.child.memoizedState=Eh(o),t.memoizedState=Sh,i);if(!(t.mode&1))return uc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(re(419)),n=af(i,n,void 0),uc(e,t,o,n)}if(l=(o&e.childLanes)!==0,dr||l){if(n=zt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,oa(e,a),ln(n,e,a,-1))}return dg(),n=af(Error(re(421))),uc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=b2.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,kr=Da(a.nextSibling),_r=t,mt=!0,nn=null,e!==null&&(Dr[zr++]=Xn,Dr[zr++]=ea,Dr[zr++]=Ss,Xn=e.id,ea=e.overflow,Ss=t),t=sg(t,n.children),t.flags|=4096,t)}function n0(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bh(e.return,t,r)}function sf(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function kw(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(er(e,t,n.children,r),n=vt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n0(e,r,t);else if(e.tag===19)n0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(it(vt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&hu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sf(t,!0,r,null,i);break;case"together":sf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function la(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ts|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,r=Fa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function l2(e,t,r){switch(t.tag){case 3:ww(t),Si();break;case 5:qb(t);break;case 1:mr(t.type)&&ou(t);break;case 4:Qp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;it(uu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(it(vt,vt.current&1),t.flags|=128,null):r&t.child.childLanes?Nw(e,t,r):(it(vt,vt.current&1),e=la(e,t,r),e!==null?e.sibling:null);it(vt,vt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kw(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),it(vt,vt.current),n)break;return null;case 22:case 23:return t.lanes=0,yw(e,t,r)}return la(e,t,r)}var jw,Th,_w,Sw;jw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Th=function(){};_w=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ps(Tn.current);var i=null;switch(r){case"input":a=Yf(e,a),n=Yf(e,n),i=[];break;case"select":a=wt({},a,{value:void 0}),n=wt({},n,{value:void 0}),i=[];break;case"textarea":a=Xf(e,a),n=Xf(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=su)}th(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&lt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Sw=function(e,t,r,n){r!==n&&(t.flags|=4)};function eo(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function c2(e,t,r){var n=t.pendingProps;switch(Wp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return mr(t.type)&&iu(),Zt(t),null;case 3:return n=t.stateNode,Ti(),ct(hr),ct(Qt),Xp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(lc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(Lh(nn),nn=null))),Th(e,t),Zt(t),null;case 5:Jp(t);var a=ps(Ko.current);if(r=t.type,e!==null&&t.stateNode!=null)_w(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(re(166));return Zt(t),null}if(e=ps(Tn.current),lc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wn]=t,n[Wo]=i,e=(t.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(a=0;a<po.length;a++)lt(po[a],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":fx(n,i),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},lt("invalid",n);break;case"textarea":mx(n,i),lt("invalid",n)}th(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&oc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&oc(n.textContent,l,e),a=["children",""+l]):Ro.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&lt("scroll",n)}switch(r){case"input":Xl(n),hx(n,i,!0);break;case"textarea":Xl(n),px(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=su)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wn]=t,e[Wo]=n,jw(e,t,!1,!1),t.stateNode=e;e:{switch(o=rh(r,n),r){case"dialog":lt("cancel",e),lt("close",e),a=n;break;case"iframe":case"object":case"embed":lt("load",e),a=n;break;case"video":case"audio":for(a=0;a<po.length;a++)lt(po[a],e);a=n;break;case"source":lt("error",e),a=n;break;case"img":case"image":case"link":lt("error",e),lt("load",e),a=n;break;case"details":lt("toggle",e),a=n;break;case"input":fx(e,n),a=Yf(e,n),lt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=wt({},n,{value:void 0}),lt("invalid",e);break;case"textarea":mx(e,n),a=Xf(e,n),lt("invalid",e);break;default:a=n}th(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?nb(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tb(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Oo(e,c):typeof c=="number"&&Oo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?c!=null&&i==="onScroll"&&lt("scroll",e):c!=null&&Cp(e,i,c,o))}switch(r){case"input":Xl(e),hx(e,n,!1);break;case"textarea":Xl(e),px(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ha(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?mi(e,!!n.multiple,i,!1):n.defaultValue!=null&&mi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=su)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)Sw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(re(166));if(r=ps(Ko.current),ps(Tn.current),lc(t)){if(n=t.stateNode,r=t.memoizedProps,n[wn]=t,(i=n.nodeValue!==r)&&(e=_r,e!==null))switch(e.tag){case 3:oc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wn]=t,t.stateNode=n}return Zt(t),null;case 13:if(ct(vt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&kr!==null&&t.mode&1&&!(t.flags&128))Wb(),Si(),t.flags|=98560,i=!1;else if(i=lc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[wn]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),i=!1}else nn!==null&&(Lh(nn),nn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||vt.current&1?Ot===0&&(Ot=3):dg())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return Ti(),Th(e,t),e===null&&Bo(t.stateNode.containerInfo),Zt(t),null;case 10:return Zp(t.type._context),Zt(t),null;case 17:return mr(t.type)&&iu(),Zt(t),null;case 19:if(ct(vt),i=t.memoizedState,i===null)return Zt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)eo(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hu(e),o!==null){for(t.flags|=128,eo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return it(vt,vt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ct()>Pi&&(t.flags|=128,n=!0,eo(i,!1),t.lanes=4194304)}else{if(!n)if(e=hu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mt)return Zt(t),null}else 2*Ct()-i.renderingStartTime>Pi&&r!==1073741824&&(t.flags|=128,n=!0,eo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ct(),t.sibling=null,r=vt.current,it(vt,n?r&1|2:r&1),t):(Zt(t),null);case 22:case 23:return ug(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?br&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function u2(e,t){switch(Wp(t),t.tag){case 1:return mr(t.type)&&iu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ti(),ct(hr),ct(Qt),Xp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jp(t),null;case 13:if(ct(vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(vt),null;case 4:return Ti(),null;case 10:return Zp(t.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var dc=!1,qt=!1,d2=typeof WeakSet=="function"?WeakSet:Set,ye=null;function ci(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(e,t,n)}else r.current=null}function Ch(e,t,r){try{r()}catch(n){kt(e,t,n)}}var a0=!1;function f2(e,t){if(fh=ru,e=Ib(),Bp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(k){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(hh={focusedElem:e,selectionRange:r},ru=!1,ye=t;ye!==null;)if(t=ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ye=e;else for(;ye!==null;){t=ye;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:tn(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(k){kt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ye=e;break}ye=t.return}return g=a0,a0=!1,g}function Eo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ch(t,r,i)}a=a.next}while(a!==n)}}function td(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ph(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ew(e){var t=e.alternate;t!==null&&(e.alternate=null,Ew(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[Wo],delete t[gh],delete t[Z_],delete t[q_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tw(e){return e.tag===5||e.tag===3||e.tag===4}function s0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ih(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=su));else if(n!==4&&(e=e.child,e!==null))for(Ih(e,t,r),e=e.sibling;e!==null;)Ih(e,t,r),e=e.sibling}function Mh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Mh(e,t,r),e=e.sibling;e!==null;)Mh(e,t,r),e=e.sibling}var Bt=null,rn=!1;function va(e,t,r){for(r=r.child;r!==null;)Cw(e,t,r),r=r.sibling}function Cw(e,t,r){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Gu,r)}catch(l){}switch(r.tag){case 5:qt||ci(r,t);case 6:var n=Bt,a=rn;Bt=null,va(e,t,r),Bt=n,rn=a,Bt!==null&&(rn?(e=Bt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bt.removeChild(r.stateNode));break;case 18:Bt!==null&&(rn?(e=Bt,r=r.stateNode,e.nodeType===8?Jd(e.parentNode,r):e.nodeType===1&&Jd(e,r),$o(e)):Jd(Bt,r.stateNode));break;case 4:n=Bt,a=rn,Bt=r.stateNode.containerInfo,rn=!0,va(e,t,r),Bt=n,rn=a;break;case 0:case 11:case 14:case 15:if(!qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ch(r,t,o),a=a.next}while(a!==n)}va(e,t,r);break;case 1:if(!qt&&(ci(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){kt(r,t,l)}va(e,t,r);break;case 21:va(e,t,r);break;case 22:r.mode&1?(qt=(n=qt)||r.memoizedState!==null,va(e,t,r),qt=n):va(e,t,r);break;default:va(e,t,r)}}function i0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new d2),t.forEach(function(n){var a=w2.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Bt=l.stateNode,rn=!1;break e;case 3:Bt=l.stateNode.containerInfo,rn=!0;break e;case 4:Bt=l.stateNode.containerInfo,rn=!0;break e}l=l.return}if(Bt===null)throw Error(re(160));Cw(i,o,a),Bt=null,rn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){kt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pw(t,e),t=t.sibling}function Pw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),mn(e),n&4){try{Eo(3,e,e.return),td(3,e)}catch(m){kt(e,e.return,m)}try{Eo(5,e,e.return)}catch(m){kt(e,e.return,m)}}break;case 1:Xr(t,e),mn(e),n&512&&r!==null&&ci(r,r.return);break;case 5:if(Xr(t,e),mn(e),n&512&&r!==null&&ci(r,r.return),e.flags&32){var a=e.stateNode;try{Oo(a,"")}catch(m){kt(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jy(a,i),rh(l,o);var u=rh(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?nb(a,f):d==="dangerouslySetInnerHTML"?tb(a,f):d==="children"?Oo(a,f):Cp(a,d,f,u)}switch(l){case"input":Qf(a,i);break;case"textarea":Xy(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?mi(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?mi(a,!!i.multiple,i.defaultValue,!0):mi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Wo]=i}catch(m){kt(e,e.return,m)}}break;case 6:if(Xr(t,e),mn(e),n&4){if(e.stateNode===null)throw Error(re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){kt(e,e.return,m)}}break;case 3:if(Xr(t,e),mn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$o(t.containerInfo)}catch(m){kt(e,e.return,m)}break;case 4:Xr(t,e),mn(e);break;case 13:Xr(t,e),mn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(lg=Ct())),n&4&&i0(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(qt=(u=qt)||d,Xr(t,e),qt=u):Xr(t,e),mn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ye=e,d=e.child;d!==null;){for(f=ye=d;ye!==null;){switch(h=ye,p=h.child,h.tag){case 0:case 11:case 14:case 15:Eo(4,h,h.return);break;case 1:ci(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kt(n,r,m)}}break;case 5:ci(h,h.return);break;case 22:if(h.memoizedState!==null){l0(f);continue}}p!==null?(p.return=h,ye=p):l0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rb("display",o))}catch(m){kt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){kt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(t,e),mn(e),n&4&&i0(e);break;case 21:break;default:Xr(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tw(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Oo(a,""),n.flags&=-33);var i=s0(e);Mh(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=s0(e);Ih(e,l,o);break;default:throw Error(re(161))}}catch(c){kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h2(e,t,r){ye=e,Iw(e)}function Iw(e,t,r){for(var n=(e.mode&1)!==0;ye!==null;){var a=ye,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||dc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||qt;l=dc;var u=qt;if(dc=o,(qt=c)&&!u)for(ye=a;ye!==null;)o=ye,c=o.child,o.tag===22&&o.memoizedState!==null?c0(a):c!==null?(c.return=o,ye=c):c0(a);for(;i!==null;)ye=i,Iw(i),i=i.sibling;ye=a,dc=l,qt=u}o0(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ye=i):o0(e)}}function o0(e){for(;ye!==null;){var t=ye;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||td(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:tn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Vx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Vx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$o(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}qt||t.flags&512&&Ph(t)}catch(h){kt(t,t.return,h)}}if(t===e){ye=null;break}if(r=t.sibling,r!==null){r.return=t.return,ye=r;break}ye=t.return}}function l0(e){for(;ye!==null;){var t=ye;if(t===e){ye=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ye=r;break}ye=t.return}}function c0(e){for(;ye!==null;){var t=ye;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{td(4,t)}catch(c){kt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){kt(t,a,c)}}var i=t.return;try{Ph(t)}catch(c){kt(t,i,c)}break;case 5:var o=t.return;try{Ph(t)}catch(c){kt(t,o,c)}}}catch(c){kt(t,t.return,c)}if(t===e){ye=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ye=l;break}ye=t.return}}var m2=Math.ceil,gu=fa.ReactCurrentDispatcher,ig=fa.ReactCurrentOwner,Fr=fa.ReactCurrentBatchConfig,et=0,zt=null,It=null,Wt=0,br=0,ui=Za(0),Ot=0,Yo=null,Ts=0,rd=0,og=0,To=null,cr=null,lg=0,Pi=1/0,qn=null,xu=!1,Ah=null,$a=null,fc=!1,Ia=null,vu=0,Co=0,Rh=null,zc=-1,$c=0;function rr(){return et&6?Ct():zc!==-1?zc:zc=Ct()}function Ua(e){return e.mode&1?et&2&&Wt!==0?Wt&-Wt:Q_.transition!==null?($c===0&&($c=pb()),$c):(e=nt,e!==0||(e=window.event,e=e===void 0?16:Nb(e.type)),e):1}function ln(e,t,r,n){if(50<Co)throw Co=0,Rh=null,Error(re(185));wl(e,r,n),(!(et&2)||e!==zt)&&(e===zt&&(!(et&2)&&(rd|=r),Ot===4&&_a(e,Wt)),pr(e,n),r===1&&et===0&&!(t.mode&1)&&(Pi=Ct()+500,Ju&&qa()))}function pr(e,t){var r=e.callbackNode;Qj(e,t);var n=tu(e,e===zt?Wt:0);if(n===0)r!==null&&vx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vx(r),t===1)e.tag===0?Y_(u0.bind(null,e)):Fb(u0.bind(null,e)),K_(function(){!(et&6)&&qa()}),r=null;else{switch(gb(n)){case 1:r=Rp;break;case 4:r=hb;break;case 16:r=eu;break;case 536870912:r=mb;break;default:r=eu}r=$w(r,Mw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mw(e,t){if(zc=-1,$c=0,et&6)throw Error(re(327));var r=e.callbackNode;if(yi()&&e.callbackNode!==r)return null;var n=tu(e,e===zt?Wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yu(e,n);else{t=n;var a=et;et|=2;var i=Rw();(zt!==e||Wt!==t)&&(qn=null,Pi=Ct()+500,ys(e,t));do try{x2();break}catch(l){Aw(e,l)}while(!0);Gp(),gu.current=i,et=a,It!==null?t=0:(zt=null,Wt=0,t=Ot)}if(t!==0){if(t===2&&(a=oh(e),a!==0&&(n=a,t=Oh(e,a))),t===1)throw r=Yo,ys(e,0),_a(e,n),pr(e,Ct()),r;if(t===6)_a(e,n);else{if(a=e.current.alternate,!(n&30)&&!p2(a)&&(t=yu(e,n),t===2&&(i=oh(e),i!==0&&(n=i,t=Oh(e,i))),t===1))throw r=Yo,ys(e,0),_a(e,n),pr(e,Ct()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(re(345));case 2:us(e,cr,qn);break;case 3:if(_a(e,n),(n&130023424)===n&&(t=lg+500-Ct(),10<t)){if(tu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){rr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ph(us.bind(null,e,cr,qn),t);break}us(e,cr,qn);break;case 4:if(_a(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-on(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m2(n/1960))-n,10<n){e.timeoutHandle=ph(us.bind(null,e,cr,qn),n);break}us(e,cr,qn);break;case 5:us(e,cr,qn);break;default:throw Error(re(329))}}}return pr(e,Ct()),e.callbackNode===r?Mw.bind(null,e):null}function Oh(e,t){var r=To;return e.current.memoizedState.isDehydrated&&(ys(e,t).flags|=256),e=yu(e,t),e!==2&&(t=cr,cr=r,t!==null&&Lh(t)),e}function Lh(e){cr===null?cr=e:cr.push.apply(cr,e)}function p2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!un(i(),a))return!1}catch(o){return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t){for(t&=~og,t&=~rd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-on(t),n=1<<r;e[r]=-1,t&=~n}}function u0(e){if(et&6)throw Error(re(327));yi();var t=tu(e,0);if(!(t&1))return pr(e,Ct()),null;var r=yu(e,t);if(e.tag!==0&&r===2){var n=oh(e);n!==0&&(t=n,r=Oh(e,n))}if(r===1)throw r=Yo,ys(e,0),_a(e,t),pr(e,Ct()),r;if(r===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,us(e,cr,qn),pr(e,Ct()),null}function cg(e,t){var r=et;et|=1;try{return e(t)}finally{et=r,et===0&&(Pi=Ct()+500,Ju&&qa())}}function Cs(e){Ia!==null&&Ia.tag===0&&!(et&6)&&yi();var t=et;et|=1;var r=Fr.transition,n=nt;try{if(Fr.transition=null,nt=1,e)return e()}finally{nt=n,Fr.transition=r,et=t,!(et&6)&&qa()}}function ug(){br=ui.current,ct(ui)}function ys(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,V_(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(Wp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&iu();break;case 3:Ti(),ct(hr),ct(Qt),Xp();break;case 5:Jp(n);break;case 4:Ti();break;case 13:ct(vt);break;case 19:ct(vt);break;case 10:Zp(n.type._context);break;case 22:case 23:ug()}r=r.return}if(zt=e,It=e=Fa(e.current,null),Wt=br=t,Ot=0,Yo=null,og=rd=Ts=0,cr=To=null,ms!==null){for(t=0;t<ms.length;t++)if(r=ms[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}ms=null}return e}function Aw(e,t){do{var r=It;try{if(Gp(),Oc.current=pu,mu){for(var n=yt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}mu=!1}if(Es=0,Lt=Rt=yt=null,So=!1,Go=0,ig.current=null,r===null||r.return===null){Ot=1,Yo=t,It=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qx(o);if(p!==null){p.flags&=-257,Jx(p,o,l,i,t),p.mode&1&&Yx(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){Yx(i,u,t),dg();break e}c=Error(re(426))}}else if(mt&&l.mode&1){var y=Qx(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Jx(y,o,l,i,t),Vp(Ci(c,l));break e}}i=c=Ci(c,l),Ot!==4&&(Ot=2),To===null?To=[i]:To.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=gw(i,c,t);Wx(i,b);break e;case 1:l=c;var x=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&($a===null||!$a.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=xw(i,l,t);Wx(i,k);break e}}i=i.return}while(i!==null)}Lw(r)}catch(j){t=j,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function Rw(){var e=gu.current;return gu.current=pu,e===null?pu:e}function dg(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),zt===null||!(Ts&268435455)&&!(rd&268435455)||_a(zt,Wt)}function yu(e,t){var r=et;et|=2;var n=Rw();(zt!==e||Wt!==t)&&(qn=null,ys(e,t));do try{g2();break}catch(a){Aw(e,a)}while(!0);if(Gp(),et=r,gu.current=n,It!==null)throw Error(re(261));return zt=null,Wt=0,Ot}function g2(){for(;It!==null;)Ow(It)}function x2(){for(;It!==null&&!Bj();)Ow(It)}function Ow(e){var t=zw(e.alternate,e,br);e.memoizedProps=e.pendingProps,t===null?Lw(e):It=t,ig.current=null}function Lw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=u2(r,t),r!==null){r.flags&=32767,It=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,It=null;return}}else if(r=c2(r,t,br),r!==null){It=r;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Ot===0&&(Ot=5)}function us(e,t,r){var n=nt,a=Fr.transition;try{Fr.transition=null,nt=1,v2(e,t,r,n)}finally{Fr.transition=a,nt=n}return null}function v2(e,t,r,n){do yi();while(Ia!==null);if(et&6)throw Error(re(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Jj(e,i),e===zt&&(It=zt=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fc||(fc=!0,$w(eu,function(){return yi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fr.transition,Fr.transition=null;var o=nt;nt=1;var l=et;et|=4,ig.current=null,f2(e,r),Pw(r,e),z_(hh),ru=!!fh,hh=fh=null,e.current=r,h2(r),Hj(),et=l,nt=o,Fr.transition=i}else e.current=r;if(fc&&(fc=!1,Ia=e,vu=a),i=e.pendingLanes,i===0&&($a=null),Kj(r.stateNode),pr(e,Ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(xu)throw xu=!1,e=Ah,Ah=null,e;return vu&1&&e.tag!==0&&yi(),i=e.pendingLanes,i&1?e===Rh?Co++:(Co=0,Rh=e):Co=0,qa(),null}function yi(){if(Ia!==null){var e=gb(vu),t=Fr.transition,r=nt;try{if(Fr.transition=null,nt=16>e?16:e,Ia===null)var n=!1;else{if(e=Ia,Ia=null,vu=0,et&6)throw Error(re(331));var a=et;for(et|=4,ye=e.current;ye!==null;){var i=ye,o=i.child;if(ye.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ye=u;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Eo(8,d,i)}var f=d.child;if(f!==null)f.return=d,ye=f;else for(;ye!==null;){d=ye;var h=d.sibling,p=d.return;if(Ew(d),d===u){ye=null;break}if(h!==null){h.return=p,ye=h;break}ye=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ye=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ye=o;else e:for(;ye!==null;){if(i=ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Eo(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ye=b;break e}ye=i.return}}var x=e.current;for(ye=x;ye!==null;){o=ye;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ye=v;else e:for(o=x;ye!==null;){if(l=ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:td(9,l)}}catch(j){kt(l,l.return,j)}if(l===o){ye=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ye=k;break e}ye=l.return}}if(et=a,qa(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Gu,e)}catch(j){}n=!0}return n}finally{nt=r,Fr.transition=t}}return!1}function d0(e,t,r){t=Ci(r,t),t=gw(e,t,1),e=za(e,t,1),t=rr(),e!==null&&(wl(e,1,t),pr(e,t))}function kt(e,t,r){if(e.tag===3)d0(e,e,r);else for(;t!==null;){if(t.tag===3){d0(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($a===null||!$a.has(n))){e=Ci(r,e),e=xw(t,e,1),t=za(t,e,1),e=rr(),t!==null&&(wl(t,1,e),pr(t,e));break}}t=t.return}}function y2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rr(),e.pingedLanes|=e.suspendedLanes&r,zt===e&&(Wt&r)===r&&(Ot===4||Ot===3&&(Wt&130023424)===Wt&&500>Ct()-lg?ys(e,0):og|=r),pr(e,t)}function Dw(e,t){t===0&&(e.mode&1?(t=rc,rc<<=1,!(rc&130023424)&&(rc=4194304)):t=1);var r=rr();e=oa(e,t),e!==null&&(wl(e,t,r),pr(e,r))}function b2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dw(e,r)}function w2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(t),Dw(e,r)}var zw;zw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||hr.current)dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dr=!1,l2(e,t,r);dr=!!(e.flags&131072)}else dr=!1,mt&&t.flags&1048576&&Bb(t,cu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Dc(e,t),e=t.pendingProps;var a=_i(t,Qt.current);vi(t,r),a=tg(null,t,n,e,a,r);var i=rg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(n)?(i=!0,ou(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Yp(t),a.updater=ed,t.stateNode=a,a._reactInternals=t,Nh(t,n,e,r),t=_h(null,t,n,!0,i,r)):(t.tag=0,mt&&i&&Hp(t),er(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Dc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=k2(n),e=tn(n,e),a){case 0:t=jh(null,t,n,e,r);break e;case 1:t=t0(null,t,n,e,r);break e;case 11:t=Xx(null,t,n,e,r);break e;case 14:t=e0(null,t,n,tn(n.type,e),r);break e}throw Error(re(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),jh(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),t0(e,t,n,a,r);case 3:e:{if(ww(t),e===null)throw Error(re(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Zb(e,t),fu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Ci(Error(re(423)),t),t=r0(e,t,n,r,a);break e}else if(n!==a){a=Ci(Error(re(424)),t),t=r0(e,t,n,r,a);break e}else for(kr=Da(t.stateNode.containerInfo.firstChild),_r=t,mt=!0,nn=null,r=Kb(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Si(),n===a){t=la(e,t,r);break e}er(e,t,n,r)}t=t.child}return t;case 5:return qb(t),e===null&&yh(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,mh(n,a)?o=null:i!==null&&mh(n,i)&&(t.flags|=32),bw(e,t),er(e,t,o,r),t.child;case 6:return e===null&&yh(t),null;case 13:return Nw(e,t,r);case 4:return Qp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ei(t,null,n,r):er(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),Xx(e,t,n,a,r);case 7:return er(e,t,t.pendingProps,r),t.child;case 8:return er(e,t,t.pendingProps.children,r),t.child;case 12:return er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,it(uu,n._currentValue),n._currentValue=o,i!==null)if(un(i.value,o)){if(i.children===a.children&&!hr.current){t=la(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ta(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),bh(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),bh(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}er(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,vi(t,r),a=Br(a),n=n(a),t.flags|=1,er(e,t,n,r),t.child;case 14:return n=t.type,a=tn(n,t.pendingProps),a=tn(n.type,a),e0(e,t,n,a,r);case 15:return vw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:tn(n,a),Dc(e,t),t.tag=1,mr(n)?(e=!0,ou(t)):e=!1,vi(t,r),pw(t,n,a),Nh(t,n,a,r),_h(null,t,n,!0,e,r);case 19:return kw(e,t,r);case 22:return yw(e,t,r)}throw Error(re(156,t.tag))};function $w(e,t){return fb(e,t)}function N2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(e,t,r,n){return new N2(e,t,r,n)}function fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k2(e){if(typeof e=="function")return fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ip)return 11;if(e===Mp)return 14}return 2}function Fa(e,t){var r=e.alternate;return r===null?(r=$r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uc(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")fg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ei:return bs(r.children,a,i,t);case Pp:o=8,a|=8;break;case Kf:return e=$r(12,r,t,a|2),e.elementType=Kf,e.lanes=i,e;case Gf:return e=$r(13,r,t,a),e.elementType=Gf,e.lanes=i,e;case Zf:return e=$r(19,r,t,a),e.elementType=Zf,e.lanes=i,e;case qy:return nd(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gy:o=10;break e;case Zy:o=9;break e;case Ip:o=11;break e;case Mp:o=14;break e;case Na:o=16,n=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=$r(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function bs(e,t,r,n){return e=$r(7,e,n,t),e.lanes=r,e}function nd(e,t,r,n){return e=$r(22,e,n,t),e.elementType=qy,e.lanes=r,e.stateNode={isHidden:!1},e}function of(e,t,r){return e=$r(6,e,null,t),e.lanes=r,e}function lf(e,t,r){return t=$r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j2(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fd(0),this.expirationTimes=Fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fd(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function hg(e,t,r,n,a,i,o,l,c){return e=new j2(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=$r(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yp(i),e}function _2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Uw(e){if(!e)return Wa;e=e._reactInternals;e:{if(Ds(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var r=e.type;if(mr(r))return Ub(e,r,t)}return t}function Fw(e,t,r,n,a,i,o,l,c){return e=hg(r,n,!0,e,a,i,o,l,c),e.context=Uw(null),r=e.current,n=rr(),a=Ua(r),i=ta(n,a),i.callback=t!=null?t:null,za(r,i,a),e.current.lanes=a,wl(e,a,n),pr(e,n),e}function ad(e,t,r,n){var a=t.current,i=rr(),o=Ua(a);return r=Uw(r),t.context===null?t.context=r:t.pendingContext=r,t=ta(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=za(a,t,o),e!==null&&(ln(e,a,o,i),Rc(e,a,o)),o}function bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function f0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mg(e,t){f0(e,t),(e=e.alternate)&&f0(e,t)}function S2(){return null}var Bw=typeof reportError=="function"?reportError:function(e){console.error(e)};function pg(e){this._internalRoot=e}sd.prototype.render=pg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));ad(e,t,null,null)};sd.prototype.unmount=pg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){ad(null,e,null,null)}),t[ia]=null}};function sd(e){this._internalRoot=e}sd.prototype.unstable_scheduleHydration=function(e){if(e){var t=yb();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ja.length&&t!==0&&t<ja[r].priority;r++);ja.splice(r,0,e),r===0&&wb(e)}};function gg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function h0(){}function E2(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=bu(o);i.call(u)}}var o=Fw(t,n,e,0,null,!1,!1,"",h0);return e._reactRootContainer=o,e[ia]=o.current,Bo(e.nodeType===8?e.parentNode:e),Cs(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=bu(c);l.call(u)}}var c=hg(e,0,!1,null,null,!1,!1,"",h0);return e._reactRootContainer=c,e[ia]=c.current,Bo(e.nodeType===8?e.parentNode:e),Cs(function(){ad(t,c,r,n)}),c}function od(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=bu(o);l.call(c)}}ad(t,o,e,a)}else o=E2(r,t,e,a,n);return bu(o)}xb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mo(t.pendingLanes);r!==0&&(Op(t,r|1),pr(t,Ct()),!(et&6)&&(Pi=Ct()+500,qa()))}break;case 13:Cs(function(){var n=oa(e,1);if(n!==null){var a=rr();ln(n,e,1,a)}}),mg(e,1)}};Lp=function(e){if(e.tag===13){var t=oa(e,134217728);if(t!==null){var r=rr();ln(t,e,134217728,r)}mg(e,134217728)}};vb=function(e){if(e.tag===13){var t=Ua(e),r=oa(e,t);if(r!==null){var n=rr();ln(r,e,t,n)}mg(e,t)}};yb=function(){return nt};bb=function(e,t){var r=nt;try{return nt=e,t()}finally{nt=r}};ah=function(e,t,r){switch(t){case"input":if(Qf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Qu(n);if(!a)throw Error(re(90));Qy(n),Qf(n,a)}}}break;case"textarea":Xy(e,r);break;case"select":t=r.value,t!=null&&mi(e,!!r.multiple,t,!1)}};ib=cg;ob=Cs;var T2={usingClientEntryPoint:!1,Events:[kl,ai,Qu,ab,sb,cg]},to={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C2={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ub(e),e===null?null:e.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||S2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Gu=hc.inject(C2),En=hc}catch(e){}}Tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T2;Tr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gg(t))throw Error(re(200));return _2(e,t,null,r)};Tr.createRoot=function(e,t){if(!gg(e))throw Error(re(299));var r=!1,n="",a=Bw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=hg(e,1,!1,null,null,r,!1,n,a),e[ia]=t.current,Bo(e.nodeType===8?e.parentNode:e),new pg(t)};Tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=ub(t),e=e===null?null:e.stateNode,e};Tr.flushSync=function(e){return Cs(e)};Tr.hydrate=function(e,t,r){if(!id(t))throw Error(re(200));return od(null,e,t,!0,r)};Tr.hydrateRoot=function(e,t,r){if(!gg(e))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Bw;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Fw(t,null,e,1,r!=null?r:null,a,!1,i,o),e[ia]=t.current,Bo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new sd(t)};Tr.render=function(e,t,r){if(!id(t))throw Error(re(200));return od(null,e,t,!1,r)};Tr.unmountComponentAtNode=function(e){if(!id(e))throw Error(re(40));return e._reactRootContainer?(Cs(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[ia]=null})}),!0):!1};Tr.unstable_batchedUpdates=cg;Tr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!id(r))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return od(e,t,r,!1,n)};Tr.version="18.3.1-next-f1338f8080-20240426";function Hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hw)}catch(e){console.error(e)}}Hw(),Hy.exports=Tr;var xg=Hy.exports;const mc=Ay(xg);var Ww,m0=xg;Ww=m0.createRoot,m0.hydrateRoot;var Vw={exports:{}},ld={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2=w,I2=Symbol.for("react.element"),M2=Symbol.for("react.fragment"),A2=Object.prototype.hasOwnProperty,R2=P2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O2={key:!0,ref:!0,__self:!0,__source:!0};function Kw(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)A2.call(t,n)&&!O2.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:I2,type:e,key:i,ref:o,props:a,_owner:R2.current}}ld.Fragment=M2;ld.jsx=Kw;ld.jsxs=Kw;Vw.exports=ld;var s=Vw.exports;function L2(e,t){if(e==null)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Ui(e,t){if(e==null)return{};var r,n,a=L2(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Sa,Or,Qo,wu,Nu;(function(e){e.OnFrameCallback="h5.event.camera.frame",e.OnStartCallback="h5.event.camera.start",e.OnStopCallback="h5.event.camera.stop"})(Sa||(Sa={})),function(e){e.FRONT="user",e.BACK="environment"}(Or||(Or={})),function(e){e.WEBP="image/webp",e.PNG="image/png",e.JPEG="image/jpeg"}(Qo||(Qo={})),function(e){e.HIGH="high",e.NORMAL="normal",e.LOW="low"}(wu||(wu={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(Nu||(Nu={}));function Kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dh(e,t){return t!=null&&typeof Symbol!="undefined"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var D2=Object.prototype.toString,z2="[object Null]",$2="[object Undefined]";function p0(e){return e==null?e===void 0?$2:z2:function(t){return D2.call(t)}(e)}function g0(e){return e!=null&&typeof e=="object"}var Ee={isEmpty:function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},isNull:function(e){return e===null},isUndefined:function(e){return e===void 0},isFunction:function(e){return typeof e=="function"},isObject:function(e){return e!==null&&(typeof e=="function"||typeof e=="object")},isString:function(e){return e!=null&&typeof e.valueOf()=="string"},isNumber:function(e){return typeof e=="number"||g0(e)&&p0(e)=="[object Number]"},isArray:function(e){return Array.isArray(e)},isRegExp:function(e){return g0(e)&&p0(e)=="[object RegExp]"},get:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,n=function(i){return String.prototype.split.call(t,i).filter(Boolean).reduce(function(o,l){return o!=null?o[l]:o},e)},a=n(/[,[\]]+?/)||n(/[,[\].]+?/);return a===void 0||a===e?r:a},isPromise:function(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}},Jo,Gw=1048576,U2=1*Gw,zn=window.zAppID,$t=window.APP_ID,Zw="https://zalo.me/s",vg="https://h5.zdn.vn/zapps",F2="h5.zdn.vn",qw="/zapps",Dt={ZOAUTH:"h5.zdn.vn_zoauth",JS_TOKEN:"h5.zdn.vn_zlink3rd",ZOAUTH_VRF:"h5.zdn.vn_zoauth_vrf",DEVICE_ID:"h5.zdn.vn_deviceID",CONTEXT_ID:"h5.zdn.vn_contextID",CONTEXT_TYPE:"h5.zdn.vn_contextType",UTOKEN_ZPI:"h5.zdn.vn_utoken_zpi",GTOKEN_ZPI:"h5.zdn.vn_gtoken_zpi",ZPP_ZPI:"h5.zdn.vn_zpp_zpi",ZPT_ZPI:"h5.zdn.vn_zpt_zpi"},ca={GET_USER_INFO:"https://graph.zalo.me/v2.0/me",GET_ACCESS_TOKEN:"https://h5.zalo.me/openapi/access_token",GET_ACCESS_TOKEN_V3:"https://oauth.zaloapp.com/v3/access_token",GET_LIST_USER_INFO:"https://graph.zalo.me/v2.0/me/friends/list",CREATE_ORDER:"https://payment-mini.zalo.me/api/order/create",GET_APP_INFO:"https://h5.zalo.me/apps/get-info",SEND_ACTION_LOG:"https://h5.zalo.me/log/async",CREATE_SHARE_LINK:"https://h5.zalo.me/openapi/create-sharelink",CHECK_INTERACT_OA:"https://h5.zalo.me/openapi/check-interact-oa",GET_AUTH_SETTING:"https://h5.zalo.me/apis/users/auth-settings"};(function(e){e.REQUEST="REQUEST",e.MODIFIED_REQUEST="MODIFIED_REQUEST",e.RESPONSE="RESPONSE",e.MODIFIED_RESPONSE="MODIFIED_RESPONSE",e.NOT_FOUND="NOT_FOUND"})(Jo||(Jo={}));var zh,ku,Me={SUCCESS:0,UNKNOWN_ERROR:-2e3,BAD_REQUEST:-1400,INTERNAL_SERVER_ERROR:-1500,UNAUTHORIZED:-1401,FORBIDDEN:-1403,CLIENT_NOT_SUPPORT:-1404,TIME_OUT:-1408,FAIL_LIMIT:-1409,DUPLICATE_REQUEST:-1410,DECODE_FAILED:-2001,USER_DENIED:-2002,USER_CANCEL:-2003,MEDIA_PICKER_FAIL:-2004,SAVE_IMAGE_FAIL:-2005,SAVE_VIDEO_FAIL:-2006,SAVE_FILE_FAIL:-2007,DEVICE_NOT_SUPPORT:-600,SCAN_TIMEOUT:-601,SERVICE_NOT_READY:-602,UNREADABLE:-603,INVALID_MRZ:-604,PROCESSING:-605,CANCEL:-606,MPDS_ACTION_INVALID:-3e3,MPDS_SOURCE_INVALID:-3005,MPDS_APPID_INVALID:-3006,INVALID_URL_FORMAT:-700,UNSUPPORTED_FILE_TYPE:-701,DOWNLOAD_FAIL:-702,OPEN_DOCUMENT_FAIL:-703},Oe={SUCCESS:"Success",UNKNOWN_ERROR:"Unknown error. Please try again later.",FAIL_LIMIT:"Request limit exceeded. Please try again later.",DUPLICATE_REQUEST:"Duplicate request. Please try again later.",TIME_OUT:"Request timeout. Please try again later.",LOGIN_REQUIRED:"Please login (https://miniapp.zalo.me/docs/api/login) before to call this api",LOGIN_FAILED:"Login failed",NOT_PERMISSION:"You don't have permission to call this api",CLIENT_NOT_SUPPORT:"This API is not supported in this version of Zalo",DECODE_FAILED:"Can not decode id. Please check your params again.",USER_DENIED:"User denied",USER_CANCEL:"User cancel",NEED_USER_AUTH:"User Authentication Required. Please grant User Authentication permission before requesting User Permission",MEDIA_PICKER_FAIL:"Unable to pick media",SAVE_IMAGE_FAIL:"Unable to save image",SAVE_VIDEO_FAIL:"Unable to save video",DOWNLOAD_FAIL:"Download failed. Please check your network or file path again.",SAVE_FILE_FAIL:"Unable to save file",DEVICE_NOT_SUPPORT:"This device does not support NFC",SERVICE_NOT_READY:"NFC service is not ready. Please check in your setting",UNREADABLE:"NFC tag is unreadable",INVALID_MRZ:"Invalid MRZ data. Please try again later.",PROCESSING:"Processing NFC tag. Please wait a moment.",CANCEL:"User cancel",SCAN_TIMEOUT:"NFC scan timeout. Please try again later.",MPDS_ACTION_INVALID:"Action name from input data does not match declared API actions",MPDS_SOURCE_INVALID:"This API not called from Mini App",MPDS_APPID_INVALID:"AppId from input data does not match the currently opened AppId",INVALID_URL_FORMAT:"Download failed. Please check your URL again.",UNSUPPORTED_FILE_TYPE:"Unsupported file type",OPEN_DOCUMENT_FAIL:"Open document failed"},ve={UNKNOWN_ERROR:{code:Me.UNKNOWN_ERROR,message:Oe.UNKNOWN_ERROR},UNAUTHORIZED:{code:Me.UNAUTHORIZED,message:Oe.LOGIN_REQUIRED},FORBIDDEN:{code:Me.FORBIDDEN,message:Oe.NOT_PERMISSION},CLIENT_NOT_SUPPORT:{code:Me.CLIENT_NOT_SUPPORT,message:Oe.CLIENT_NOT_SUPPORT},DECODE_FAILED:{code:Me.DECODE_FAILED,message:Oe.DECODE_FAILED},TIME_OUT:{code:Me.TIME_OUT,message:Oe.TIME_OUT},USER_DENIED:{code:Me.USER_DENIED,message:Oe.USER_DENIED},USER_CANCEL:{code:Me.USER_CANCEL,message:Oe.USER_CANCEL},DUPLICATE_REQUEST:{code:Me.DUPLICATE_REQUEST,message:Oe.DUPLICATE_REQUEST},DEVICE_NOT_SUPPORT:{code:Me.DEVICE_NOT_SUPPORT,message:Oe.DEVICE_NOT_SUPPORT},SERVICE_NOT_READY:{code:Me.SERVICE_NOT_READY,message:Oe.SERVICE_NOT_READY},UNREADABLE:{code:Me.UNREADABLE,message:Oe.UNREADABLE},INVALID_MRZ:{code:Me.INVALID_MRZ,message:Oe.INVALID_MRZ},PROCESSING:{code:Me.PROCESSING,message:Oe.PROCESSING},CANCEL:{code:Me.CANCEL,message:Oe.CANCEL},SCAN_TIMEOUT:{code:Me.SCAN_TIMEOUT,message:Oe.SCAN_TIMEOUT},MPDS_ACTION_INVALID:{code:Me.MPDS_ACTION_INVALID,message:Oe.MPDS_ACTION_INVALID},MPDS_SOURCE_INVALID:{code:Me.MPDS_SOURCE_INVALID,message:Oe.MPDS_SOURCE_INVALID},MPDS_APPID_INVALID:{code:Me.MPDS_APPID_INVALID,message:Oe.MPDS_APPID_INVALID}},Yw={addRating:{limit:1},authorize:{},isAllowedInteractWithOA:{},favoriteApp:{},followOA:{},getLocation:{},getPhoneNumber:{},getShareableLink:{},getSetting:{},getAppInfo:{},getUserInfo:{},interactOA:{},openProfilePicker:{},openShareSheet:{},unfollowOA:{},checkTransaction:{limit:5},createOrder:{limit:5},createOrderIAP:{limit:5},selectPaymentMethod:{},requestSendNotification:{}},yg={GET_DOWNLOADED_STICKER:{haveCallback:!0},OPEN_SHARE_STICKER:{},OPEN_PROFILE:{requireAccessToken:!0},OPEN_FEED_DETAIL:{},OPEN_FRIEND_RADA:{},OPEN_INAPP:{},OPEN_OUTAPP:{requireAccessToken:!0},OPEN_PAGE:{},OPEN_PHOTODETAIL:{},OPEN_GALARY:{},OPEN_GAMECENTER:{},OPEN_GAMENEWS:{},OPEN_TAB_CONTACT:{},OPEN_TAB_SOCIAL:{},OPEN_FRIENDSUGGEST:{},OPEN_GROUPLIST:{},OPEN_NEARBY:{},OPEN_ROOM:{},OPEN_STICKERSTORE:{},OPEN_CREATECHAT:{},COPY_LINK_CATESTICKER:{},REQUEST_BUY_STICKER:{},OPEN_CHAT:{requireAccessToken:!0},OPEN_TAB_CHAT:{},OPEN_CHATGROUP:{},OPEN_ADDFRIEND:{},OPEN_TAB_MORE:{},OPEN_POSTFEED:{requireAccessToken:!0},OPEN_LOGINDEVICES:{},OPEN_SENDSTICKER:{},REPORT_ABUSE:{haveCallback:!0},FOLLOW_OA:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-400":{mapTo:ve.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ve.DUPLICATE_REQUEST}}}},UNFOLLOW_OA:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-400":{mapTo:ve.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ve.DUPLICATE_REQUEST}}}},OPEN_GAMEDETAIL:{},OPEN_SHARESHEET:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-101":{mapTo:ve.CLIENT_NOT_SUPPORT}},iOS:{"-101":{mapTo:ve.CLIENT_NOT_SUPPORT}}}},REQUEST_PERMISSION_CAMERA:{errorList:{android:{"-2":{mapTo:ve.USER_DENIED}},iOS:{"-2":{mapTo:ve.USER_DENIED}}}},CHANGE_TITLE_HEADER:{skipJump:!0},WEBVIEW_CLEARCACHE:{},WEBVIEW_CONFIRMCACHE:{},WEBVIEW_ISVISIBLE:{},WEBVIEW_NETWORKTYPE:{skipJump:!0},CHANGE_BUTTON_HEADER:{},CREATE_OPTIONS_MENU:{skipJump:!0,haveCallback:!0},CREATE_SHORTCUT:{requireAccessToken:!0},CHANGE_ACTIONBAR_LEFTBUTTON_TYPE:{skipJump:!0,haveCallback:!0},WINDOW_CLOSE:{skipJump:!0,haveCallback:!0},WEBVIEW_CHECKRESERROR:{},IAP_REQUESTPAYMENT:{haveCallback:!0},ZBROWSER_GETSTATS:{},ZBROWSER_JSBRIDGE:{skipJump:!0,haveCallback:!0},PROMPT_AUTHENTICATION:{},CHANGE_ACTIONBAR_COLOR:{skipJump:!0},PROMPT_AUTHENTICATION_CHECK_STATE:{},OPEN_APPSTORE:{},GET_LOCATION:{haveCallback:!0,errorList:{android:{"-1":{mapTo:ve.USER_DENIED},"-400":{mapTo:ve.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:ve.USER_DENIED},"-400":{mapTo:ve.DUPLICATE_REQUEST}}}},QUERY_LOCATION_HIDE:{haveCallback:!0},SHOW_TOAST:{haveCallback:!0,timeout:2},OPEN_APP:{},HIDE_KEYBOARD:{},OPEN_PHONE:{},OPEN_QR:{},OPEN_SMS:{errorList:{iOS:{"-9":{mapTo:ve.UNKNOWN_ERROR},"-10":{mapTo:ve.USER_CANCEL}}}},VIEW_MYQR:{haveCallback:!0,timeout:!0,requireAccessToken:!0},KEEP_SCREEN:{haveCallback:!0,timeout:2},CHANGE_AUTOROTATE:{skipJump:!0},CHECK_APP_INSTALLED:{},QUERY_SHOW:{},QUERY_HIDE:{},OPEN_INAPPRW:{},ZALORUN_GETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_SETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_GETDAYSTEP:{haveCallback:!0},ZALORUN_FORCESUBMITDATA:{haveCallback:!0},ZALORUN_SETWEIGHT:{haveCallback:!0},OPEN_PROFILE_EXT:{},DOWNLOAD_CATE:{haveCallback:!0},JUMP_LOGIN:{skipJump:!0,whiteList:!0},OPEN_ADTIMA_ADS_INTERSTITIAL:{},OPEN_ADTIMA_ADS:{},GET_ADIDCLIENT:{},SCAN_IBEACON:{},SAVE_VIDEO_GALLERY:{versionLive:{iOS:628},errorList:{android:{"-101":{mapTo:{code:Me.SAVE_VIDEO_FAIL,message:Oe.SAVE_VIDEO_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:Me.SAVE_VIDEO_FAIL,message:Oe.SAVE_VIDEO_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:Me.SAVE_VIDEO_FAIL,message:Oe.SAVE_VIDEO_FAIL},needMoreDetail:!0}}}},INTERACTIVE_VIBRATION:{},SAVE_IMAGE_GALLERY:{versionLive:{iOS:408},errorList:{android:{"-101":{mapTo:{code:Me.SAVE_IMAGE_FAIL,message:Oe.SAVE_IMAGE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:Me.SAVE_IMAGE_FAIL,message:Oe.SAVE_IMAGE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:Me.SAVE_IMAGE_FAIL,message:Oe.SAVE_IMAGE_FAIL},needMoreDetail:!0}}}},OPEN_MP:{versionLive:{iOS:402}},CHANGE_ACTIONBAR:{haveCallback:!0,timeout:2,versionLive:{iOS:402},skipJump:!0},ZBROWSER_MPDS:{haveCallback:!0,timeout:2,versionLive:{iOS:402},errorList:{android:{"-100":{mapTo:ve.MPDS_ACTION_INVALID},"-101":{mapTo:ve.UNKNOWN_ERROR},"-105":{mapTo:ve.MPDS_SOURCE_INVALID},"-106":{mapTo:ve.MPDS_APPID_INVALID}},iOS:{"-10":{mapTo:ve.MPDS_ACTION_INVALID},"-101":{mapTo:ve.MPDS_APPID_INVALID},"-102":{mapTo:ve.UNKNOWN_ERROR}}}},ZBROWSER_MPDS_SYNC:{versionLive:{iOS:402},errorList:{android:{"-100":{mapTo:ve.MPDS_ACTION_INVALID},"-101":{mapTo:ve.UNKNOWN_ERROR},"-105":{mapTo:ve.MPDS_SOURCE_INVALID},"-106":{mapTo:ve.MPDS_APPID_INVALID}},iOS:{"-10":{mapTo:ve.MPDS_ACTION_INVALID},"-101":{mapTo:ve.MPDS_APPID_INVALID},"-102":{mapTo:ve.UNKNOWN_ERROR}}}},WEBVIEW_SET_RESULT:{versionLive:{iOS:416}},MP_GET_NUMBER:{versionLive:{iOS:416},errorList:{android:{"-1":{mapTo:ve.USER_DENIED},"-101":{mapTo:ve.USER_DENIED},"-400":{mapTo:ve.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:ve.USER_DENIED},"-10":{mapTo:ve.USER_DENIED},"-400":{mapTo:ve.DUPLICATE_REQUEST}}}},MP_OPEN_PROFILE_PICKER:{requireAccessToken:!0,versionLive:{iOS:432},errorList:{android:{"-101":{mapTo:ve.USER_CANCEL}},iOS:{"-101":{mapTo:ve.USER_CANCEL}}}},GET_SUPPORTED_ACTIONS:{whiteList:!0},MP_JOIN_WIFI:{haveCallback:!0,timeout:!0,versionLive:{android:0,iOS:0},havePermission:!1,whiteList:!1},PICK_MEDIA:{requireAccessToken:!0,versionLive:{iOS:440},errorList:{android:{"-101":{mapTo:ve.USER_CANCEL},999:{mapTo:{code:Me.MEDIA_PICKER_FAIL,message:Oe.MEDIA_PICKER_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:Me.MEDIA_PICKER_FAIL,message:Oe.MEDIA_PICKER_FAIL}}}}},MP_CLOSE_LOADINGVIEW:{skipJump:!0},CHANGE_BOTTOMBAR:{haveCallback:!0,timeout:2,skipJump:!0},MA_MENU_MINIMIZE:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_PERMISSION:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_FAVORITES:{skipJump:!1,versionLive:{iOS:520}},MP_SEND_NOTIFICATION:{skipJump:!1,versionLive:{iOS:530},errorList:{android:{"-1":{mapTo:ve.USER_DENIED},"-400":{mapTo:ve.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:ve.USER_DENIED},"-400":{mapTo:ve.DUPLICATE_REQUEST}}}},MP_ADD_RATING:{skipJump:!1},MP_ADD_MYFAVORITES:{skipJump:!1},MP_INTERACT_OA:{skipJump:!1,errorList:{android:{"-400":{mapTo:ve.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ve.DUPLICATE_REQUEST}}}},MP_USER_AUTHORIZE:{skipJump:!1,errorList:{android:{"-400":{mapTo:ve.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ve.DUPLICATE_REQUEST}}}},MP_SELECT_PAYMENT_METHOD:{skipJump:!1},CHECK_NFC:{skipJump:!1,versionLive:{iOS:626},errorList:{all:{"-1":{mapTo:ve.UNKNOWN_ERROR},"-600":{mapTo:ve.DEVICE_NOT_SUPPORT},"-602":{mapTo:ve.SERVICE_NOT_READY}}}},SCAN_NFC:{skipJump:!1,haveCallback:!0,timeout:65,errorList:{all:{"-1":{mapTo:ve.UNKNOWN_ERROR},"-600":{mapTo:ve.DEVICE_NOT_SUPPORT},"-601":{mapTo:ve.SCAN_TIMEOUT},"-602":{mapTo:ve.SERVICE_NOT_READY},"-603":{mapTo:ve.UNREADABLE},"-604":{mapTo:ve.INVALID_MRZ},"-605":{mapTo:ve.PROCESSING},"-606":{mapTo:ve.CANCEL}}}},MP_CONFIRM_REQUEST_PAYMENT:{skipJump:!1},SAVE_FILE:{versionLive:{iOS:628},skipJump:!1,errorList:{android:{"-101":{mapTo:{code:Me.SAVE_FILE_FAIL,message:Oe.SAVE_FILE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:Me.SAVE_FILE_FAIL,message:Oe.SAVE_FILE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:Me.SAVE_FILE_FAIL,message:Oe.SAVE_FILE_FAIL},needMoreDetail:!0}}}},MP_APP_LIFECYCLE_TRACKING:{skipJump:!1},OPEN_DOCUMENT:{skipJump:!1,errorList:{all:{"-10":{mapTo:{code:Me.INVALID_URL_FORMAT,message:Oe.INVALID_URL_FORMAT}},"-700":{mapTo:{code:Me.INVALID_URL_FORMAT,message:Oe.INVALID_URL_FORMAT}},"-701":{mapTo:{code:Me.UNSUPPORTED_FILE_TYPE,message:Oe.UNSUPPORTED_FILE_TYPE}},"-702":{mapTo:{code:Me.DOWNLOAD_FAIL,message:Oe.DOWNLOAD_FAIL}},"-703":{mapTo:{code:Me.OPEN_DOCUMENT_FAIL,message:Oe.OPEN_DOCUMENT_FAIL}}}}},GET_DEVICE_INFO:{skipJump:!1}},cf={android:{"-4":ve.DECODE_FAILED,"-5":ve.CLIENT_NOT_SUPPORT,"-14":ve.TIME_OUT},iOS:{"-9":ve.DECODE_FAILED,"-5":ve.CLIENT_NOT_SUPPORT,"-14":ve.TIME_OUT}},B2={android:12100615,iOS:460,wp:0,unknown:0},H2={android:12100571,iOS:400,wp:0,unknown:0},Po=5*Gw,cd={CREATE_ORDER:"https://payment-mini.zalo.me/api/order/create-v2",CREATE_IAP_ORDER:"https://payment-mini.zalo.me/api/order/iap-create",GET_TRANSACTION:"https://payment-mini.zalo.me/api/transaction",PURCHASE:"https://payment-mini.zalo.me/api/order/purchase"},W2="https://payment-mini.zalo.me",x0={DEFERRED:"DEFERRED",IMMEDIATE_AND_CHARGE_FULL_PRICE:"IMMEDIATE_AND_CHARGE_FULL_PRICE"},ya={SHOW_BACK:0,HIDE_BACK:3,SHOW_HOME:1,HIDE_HOME:0},uf=5,pc=6,V2={LEFT:0},K2="#1843EF",G2=V2.LEFT,Z2={"-12101":"Invalid params","-12102":"Session expire","-12103":"Not permission","-12104":"Not Authorize","-12105":"Unknown exception","-12106":"Cannot create order","-12107":"Transaction not found","-12108":"Cannot update order","-12109":"Cannot decode param","-12110":"Version not support","-12111":"Receipt expire","-12112":"Product not found","-12113":"Subscription other GW","-12114":"Product already subcription","-12115":"Not exist","-12116":"Already exist","-12117":"Not allow","-12118":"Not permit","-12119":"Internal error","-2":"Unable to pay","-6":"Unable to register","-7":"Registered account","-832":"Purchased by another account","-833":"Register for another account","-834":"Unable to register","-2010":"System is maintaining","-3999":"Not in Vietnam","-12129":"Purchased by another account",123:"An error has occurred"},q2=["scope.userInfo","scope.userLocation","scope.userPhonenumber"];(function(e){e.DEV_TRACKING="devTracking"})(zh||(zh={})),function(e){e[e.APP_INITIALIZING=95]="APP_INITIALIZING",e[e.APP_READY=96]="APP_READY"}(ku||(ku={}));var Xo="checkoutKitWidget-ifCKW",Cn="https://h5.zalo.me",_l={CHECKOUT_KIT:"https://h5.zalo.me/widgets/checkoutkit_widget.html",FUNCTION_BUTTON:"https://h5.zalo.me/widgets/function_button_widget.html",OA:"https://h5.zalo.me/widgets/oa_widget.html",CUSTOM_OA:"https://h5.zalo.me/widgets/oa_widget_custom.html"},Tt=function(){function e(r,n,a,i){Kr(this,e),this.code=r,this.message=n,this.api=a,this.detail=i}var t=e.prototype;return t.toString=function(){return"api: ".concat(String(this.api),"; code: ").concat(this.code,"; message: ").concat(JSON.stringify(this.message))},t.toJSON=function(){return{code:this.code,message:this.message,api:this.api,detail:this.detail}},e}(),gc=function(e,t){return Dh(e,Tt)?function(r,n){return r.api=n,r.toJSON()}(e,t):function(r,n){return Dh(r,Error)?new Tt(Me.UNKNOWN_ERROR,r.message,n).toJSON():Ee.isEmpty(r==null?void 0:r.message)||Ee.isEmpty(r==null?void 0:r.code)?new Tt(Me.UNKNOWN_ERROR,Oe.UNKNOWN_ERROR,n,r).toJSON():new Tt(r.code,r.message,n,r.detail).toJSON()}(e,t)},Qw="2.49.4";function $h(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y2(e){if(Array.isArray(e))return $h(e)}function Jw(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q2(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Xw(e,t){if(e){if(typeof e=="string")return $h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(r):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$h(e,t):void 0}}function Va(e){return Y2(e)||Jw(e)||Xw(e)||Q2()}function v0(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function S(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(c){v0(i,n,a,o,l,"next",c)}function l(c){v0(i,n,a,o,l,"throw",c)}o(void 0)})}}function J2(e){if(Array.isArray(e))return e}function X2(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function An(e,t){return J2(e)||Jw(e)||Xw(e,t)||X2()}function Ii(e){return e&&e.constructor===Symbol?"symbol":typeof e}function bg(e){return typeof window.Debug=="function"?window.Debug(e):function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n]}}var fr,Io,st,yn,Uh,Fh,Bh,Hh,Wh,y0,Vh,Kh,Gh,Mo,Pn,ju,_u,Su,el;(function(e){e.none="none",e.wifi="wifi",e.cellular="cellular",e.unknown="unknown"})(fr||(fr={})),function(e){e.wp="wp",e.android="android",e.iOS="iOS",e.unknown="unknown"}(Io||(Io={})),function(e){e.AppPaused="h5.event.paused",e.AppResumed="h5.event.resumed",e.NetworkChanged="h5.event.connection.changed",e.OnDataCallback="h5.event.webview.result",e.WebviewClosed="h5.event.webview.close",e.OpenApp="h5.event.open.mp",e.AppClose="h5.event.action.close",e.PaymentCallback="payment.callback",e.PaymentResult="action.payment.result",e.PaymentDone="action.payment.done",e.PaymentClose="action.payment.close",e.DownloadProgress="h5.event.webview.download.progress"}(st||(st={})),function(e){e.DOING="doing",e.DONE="done"}(yn||(yn={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa",e[e.aliasOA=2]="aliasOA"}(Uh||(Uh={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa"}(Fh||(Fh={})),function(e){e[e.image=1]="image",e[e.multi_image=2]="multi_image",e[e.link=4]="link",e[e.profile=5]="profile"}(Bh||(Bh={})),function(e){e[e.cccd=1]="cccd"}(Hh||(Hh={})),function(e){e[e.image=1]="image",e[e.gif=11]="gif",e[e.video=12]="video",e[e.link=4]="link",e[e.oa=5]="oa",e[e.zmp=20]="zmp",e[e.multi_image=21]="multi_image",e[e.zmp_deep_link=4]="zmp_deep_link",e[e.text=22]="text"}(Wh||(Wh={})),function(e){e[e.auto=1]="auto",e[e.portrait=2]="portrait",e[e.landscape=3]="landscape"}(y0||(y0={})),function(e){e[e.oneShot=0]="oneShot"}(Vh||(Vh={})),function(e){e[e.zcamera=3]="zcamera",e[e.zcamera_photo=1]="zcamera_photo",e[e.zcamera_video=2]="zcamera_video",e[e.zcamera_scan=7]="zcamera_scan",e[e.photo=4]="photo",e[e.video=5]="video",e[e.file=6]="file"}(Kh||(Kh={})),function(e){e.SUBSCRIPTION="SUBSCRIPTION",e.ONETIME="ONETIME"}(Gh||(Gh={})),function(e){e[e.UNKNOW=0]="UNKNOW",e[e.DEFERRED=1]="DEFERRED",e[e.IMMEDIATE_AND_CHARGE_FULL_PRICE=2]="IMMEDIATE_AND_CHARGE_FULL_PRICE"}(Mo||(Mo={})),function(e){e[e.normal=1]="normal",e[e.hidden=0]="hidden",e[e.transparent=2]="transparent"}(Pn||(Pn={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(ju||(ju={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(_u||(_u={})),function(e){e[e.left=0]="left",e[e.center=1]="center"}(Su||(Su={})),function(e){e.TOOL_DEL_FRIEND="tool_del_friend"}(el||(el={}));function eS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tS(e,t,r){return t&&eS(e.prototype,t),e}function e1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){e1(e,a,r[a])})}return e}function Ps(e){Ps.on&&Ps.engine(e)}Ps.on=!1,Ps.engine=function(e){var t=e.name,r=e.type,n=e.state,a=e.request,i=e.response,o=e.stage;console[r]([t,o,n,a,i].filter(Boolean).map(function(l){return typeof l=="object"?JSON.stringify(l):l}).join("; "))};function Zh(e){return Zh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zh(e)}function gs(e){return Zh(e)}function rS(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=gs(e))!==null;);return e}function qh(e,t,r){return qh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(n,a,i){var o=rS(n,a);if(o){var l=Object.getOwnPropertyDescriptor(o,a);return l.get?l.get.call(i||n):l.value}},qh(e,t,r)}function xc(e,t,r){return qh(e,t,r)}function Yh(e,t){return Yh=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},Yh(e,t)}function nS(e,t){return Yh(e,t)}function Sl(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nS(e,t)}function aS(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ur(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sS(e,t){return!t||Ii(t)!=="object"&&typeof t!="function"?ur(e):t}function El(e){var t=aS();return function(){var r,n=gs(e);if(t){var a=gs(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return sS(this,r)}}function iS(e,t){return e(t={exports:{}},t.exports),t.exports}var oS=iS(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount==0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),l.prototype.eventNames=function(){var c,u,d=[];if(this._eventsCount===0)return d;for(u in c=this._events)t.call(c,u)&&d.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(c)):d},l.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},l.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},l.prototype.emit=function(c,u,d,f,h,p){var g=r?r+c:c;if(!this._events[g])return!1;var m,y,b=this._events[g],x=arguments.length;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,f),!0;case 5:return b.fn.call(b.context,u,d,f,h),!0;case 6:return b.fn.call(b.context,u,d,f,h,p),!0}for(y=1,m=new Array(x-1);y<x;y++)m[y-1]=arguments[y];b.fn.apply(b.context,m)}else{var v,k=b.length;for(y=0;y<k;y++)switch(b[y].once&&this.removeListener(c,b[y].fn,void 0,!0),x){case 1:b[y].fn.call(b[y].context);break;case 2:b[y].fn.call(b[y].context,u);break;case 3:b[y].fn.call(b[y].context,u,d);break;case 4:b[y].fn.call(b[y].context,u,d,f);break;default:if(!m)for(v=1,m=new Array(x-1);v<x;v++)m[v-1]=arguments[v];b[y].fn.apply(b[y].context,m)}}return!0},l.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},l.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},l.prototype.removeListener=function(c,u,d,f){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn!==u||f&&!p.once||d&&p.context!==d||o(this,h);else{for(var g=0,m=[],y=p.length;g<y;g++)(p[g].fn!==u||f&&!p[g].once||d&&p[g].context!==d)&&m.push(p[g]);m.length?this._events[h]=m.length===1?m[0]:m:o(this,h)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}),lS=oS,Qh={enablePaymentDone:!1};function cS(e){var t=new URL(e,window.location.origin),r=t.pathname.split("/")[3].toUpperCase().replace(/-/g,"_"),n={},a=t.searchParams.get("orderId"),i=t.searchParams.get("zmpOrderId"),o=t.searchParams.get("appTransID")||t.searchParams.get("apptransid");switch(r){case"MOMO":case"MOMO_SANDBOX":n.orderId=i,n.transId=a;break;default:n.orderId=i||a,n.transId=o}return n}function uS(e){var t=e.data;return{orderId:t.zmpOrderId||t.orderId,transId:t.appTransID||t.apptransid||t.transId}}var Eu="ACTION_CALLBACK",Pt=function(e){Sl(r,e);var t=El(r);function r(){var a;return Kr(this,r),(a=t.apply(this,arguments)).debug=bg("zmp:event-emitter"),a}var n=r.prototype;return n.h5ConfirmHandleEvent=function(a,i,o){ZaloJavaScriptInterface.jsH5EventCallback(a,i,o||"")},n.on=function(a,i,o){var l=this;return a===Eu||a===st.PaymentCallback?xc(gs(r.prototype),"on",this).call(this,a,i,o):(this.debug("register ".concat(String(a),": ").concat(o)),xc(gs(r.prototype),"on",this).call(this,a,function(c,u){l.h5ConfirmHandleEvent(c,a,o),i(u)},o))},n.once=function(a,i,o){var l=this;return a===Eu?xc(gs(r.prototype),"once",this).call(this,a,i,o):(this.debug("register once ".concat(String(a),": ").concat(o)),xc(gs(r.prototype),"once",this).call(this,a,function(c,u){l.h5ConfirmHandleEvent(c,a,o),i(u)},o))},r.getInstance=function(){return r.instance||(r.instance=new r),r.instance},r}(lS);function dS(e){Pt.getInstance().on(Eu,e)}function go(e){Pt.getInstance().emit(Eu,e)}window.onNativeMessage=function(e,t){return function(r){go({serialId:e,actionName:t,result:r})}},window.zaloJSV2={zalo_h5_event_handler:function(e,t,r){var n=bg("zmp:zalo_h5_event_handler");n("eventId: ".concat(e,", eventName: ").concat(t,", eventData: ").concat(r));var a=i1(r);n("stringToData",a);var i=function(l,c){if(!c||typeof c=="string")return c;try{if(l===st.OpenApp){var u=c.url,d=new URL(u),f=d.pathname.split("/zapps/".concat($t))[1];return{path:"".concat(f||"/").concat(d.search)}}return c}catch(h){return c}}(t,a),o=function(l,c,u,d){switch(!0){case(typeof u=="string"||u===null):return[{eventName:l,eventId:c,data:u}];case(l===st.OpenApp&&(d==null?void 0:d.enablePaymentDone)):var f=cS(u.path);return[{eventName:st.PaymentDone,eventId:c,data:f}];case l===st.OnDataCallback:if(["PAY_BY_BANK","PAY_BY_CUSTOM_METHOD"].includes(u==null?void 0:u.eventType))return[{eventName:st.OnDataCallback,eventId:c,data:u},{eventName:st.PaymentDone,eventId:c,data:uS(u)}];break;default:return[{eventName:l,eventId:c,data:u}]}}(t,e,i,Qh);o==null||o.forEach(function(l){Pt.getInstance().emit(l.eventName,l.eventId,l.data);var c=document.getElementById(Xo);c&&di(c,"appEvent",{eventName:l.eventName,eventId:l.eventId,data:l.data})})}},window.zaloNative2JS={nativeCall:function(e,t,r){Pt.getInstance().emit(st.PaymentCallback,e,t,r)}};function b0(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(n===void 0)return;if(n===null)return void t.push(r);t.push(encodeURIComponent(r)+"="+encodeURIComponent(n))}return t.join("&")}var Ba={encode:b0,decode:function(e,t){var r={};if(e==="")return r;for(var n=e.split("&"),a=0;a<n.length;a++){var i=n[a].split("=",2),o=decodeURIComponent(i[0]);if(t&&Object.prototype.hasOwnProperty.call(r,o))throw new URIError("Duplicate key: "+o);r[o]=i.length===2?decodeURIComponent(i[1]):null}return r},appendToUrl:function(e,t){return e+(e.indexOf("?")!==-1?"&":"?")+(typeof t=="string"?t:b0(t))},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},getParamsAsObject:function(e){var t={};return e&&e.split("&").map(function(r){var n=r.split("=");n&&n.length==2&&(t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}),t},toQueryString:function(e){if(!e)return"";if((e===void 0||e===void 0?"undefined":Ii(e))!="object")return e;var t=Object.keys(e),r=[];return t.map(function(n){var a=e[n],i=[n,a=(a===void 0||a===void 0?"undefined":Ii(a))=="object"?JSON.stringify(a):encodeURIComponent(a)].join("=");r.push(i)}),r.join("&")}},Jh={},Xh=function(e,t,r){var n=t||"default";return function(){return(n in Jh?Jh[n](e,r):e).apply(this,arguments)}};Xh.setWrapper=function(e){Jh[arguments.length<=1||arguments[1]===void 0?"default":arguments[1]]=e};var w0={error:{code:1,error_subcode:1357046,message:"Received Invalid JSON reply.",type:"http"}};function N0(e){try{return e===null?w0:JSON.parse(e)}catch(t){return w0}}var fS={execute:function(e,t,r,n){r.suppress_http_code=1;var a=Ba.encode(r);t!="post"&&(e=Ba.appendToUrl(e,a),a="");var i=function(o,l){if(!self.XMLHttpRequest)return null;var c=new XMLHttpRequest,u=function(){};if(!("withCredentials"in c))return null;c.open(o,l,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");var d={send:function(p){c.send(p)}},f=Xh(function(){f=u,"onload"in d&&d.onload(c)},"entry","XMLHttpRequest:load"),h=Xh(function(){h=u,"onerror"in d&&d.onerror(c)},"entry","XMLHttpRequest:error");return c.onload=function(){f()},c.onerror=function(){h()},c.onreadystatechange=function(){c.readyState==4&&(c.status==200?f():h())},d}(t,e);return!!i&&(i.onload=function(o){n(N0(o.responseText))},i.onerror=function(o){o.responseText?n(N0(o.responseText)):n({error:{code:1,error_subcode:1357045,message:"unknown error (empty response)",status:o.status,type:"http"}})},i.send(a),!0)}};function _(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(c){return function(u){return function(d){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(o=0)),o;)try{if(r=1,n&&(a=2&d[0]?n.return:d[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,d[1])).done)return a;switch(n=0,a&&(d=[2&d[0],a.value]),d[0]){case 0:case 1:a=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,n=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!((a=a.length>0&&a[a.length-1])||d[0]!==6&&d[0]!==2)){o=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){o.label=d[1];break}if(d[0]===6&&o.label<a[1]){o.label=a[1],a=d;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(d);break}a[2]&&o.ops.pop(),o.trys.pop();continue}d=t.call(e,o)}catch(f){d=[6,f],n=0}finally{r=a=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([c,u])}}}function hS(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function t1(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];try{return e.apply(void 0,Va(r))}catch(a){return typeof console!="undefined"&&console.error&&console.error(a),null}}}t1.async=function(e){return S(function(){var t,r,n,a,i=arguments;return _(this,function(o){switch(o.label){case 0:for(t=i.length,r=new Array(t),n=0;n<t;n++)r[n]=i[n];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.apply(void 0,Va(r))];case 2:return[2,o.sent()];case 3:return a=o.sent(),typeof console!="undefined"&&console.error&&console.error(a),[2,null];case 4:return[2]}})})};var mS=function(e){return e.isAndroid?Io.android:e.isIOS?Io.iOS:Io.unknown};function pS(e){var t=e.split("zalo")[1];return t&&t.replace(" ","").split("/")[1]||""}function bt(){var e=function(){var t=t1(function(){return window.navigator.userAgent.toLowerCase()})();if(t){var r,n=function(a){return{isAndroid:/android/i.test(a)&&!/iemobile/.test(a),isIOS:/iphone|ios|ipad|ipod/.test(a)&&!/iemobile/.test(a),isMobile:/android|iphone|ios|ipad|ipod|iemobile/.test(a),isZalo:/zalo/.test(a)}}(t);return{appEnv:(r=new URL(window.location.href).searchParams.get("env"),{isMp:window.location.hostname.includes(F2)&&(r=="TESTING_LOCAL"||window.location.pathname.startsWith(qw)),isMpWeb:window.location.hostname.includes("localhost")}),platform:n,platformName:mS(n),zaloVersion:pS(t).trim()}}}();if(e)return e}var k0,gS=(k0=S(function(e,t,r){var n,a,i,o;return _(this,function(l){switch(l.label){case 0:return n={appId:e,versionStatus:t},Ee.isUndefined(r)||(n.currentVersion=r),a=Ba.appendToUrl(ca.GET_APP_INFO,n),[4,fetch(a,{credentials:"include"})];case 1:return(i=l.sent()).ok?[4,i.json()]:[3,3];case 2:if((o=l.sent()).err<0||!o.data)throw new Error(o);return[2,{name:o.data.name,version:o.data.version,description:o.data.description,appUrl:o.data.appUrl,qrCodeUrl:o.data.qrCodeUrl,logoUrl:o.data.logoUrl,cateID:o.data.cateType}];case 3:throw new Error("Can't get app info")}})}),function(e,t,r){return k0.apply(this,arguments)});function bn(e){try{var t=e.map(function(r){return{action:r.action,error:r.error,message:r.message,data:r.data}});fS.execute(ca.SEND_ACTION_LOG,"post",{appId:window.APP_ID,data:JSON.stringify(t)},function(){})}catch(r){}}var j0=function(e){return e.replace(/[A-Z]/g,function(t){return"_".concat(t.toLowerCase())})},wg=function(){var e;return(((e=bt())===null||e===void 0?void 0:e.platformName)||"").toLowerCase()==="android"},r1=function(){var e;return(((e=bt())===null||e===void 0?void 0:e.platformName)||"").toLowerCase()==="ios"};function _0(e){var t=String(e);try{if(/^\d{9}$/.test(t)&&t[5]==="0")return Number(t.slice(0,5)+t.slice(6))}catch(r){}return Number(t)}var zs=function(){var e,t=0;if(window.zaloVersionCode)return _0(window.zaloVersionCode);var r=Number(((e=bt())===null||e===void 0?void 0:e.zaloVersion)||"0");return r>=24112e3?t=r:wg()?t=r%1e4:r1()&&(t=r),_0(t)};function ha(e,t){if(window.isAPISupport&&typeof window.isAPISupport=="function")return window.isAPISupport(e,t);var r=zs();return wg()?r>=e:!!r1()&&r>=t}var S0,xS=(S0=S(function(e){var t;return _(this,function(r){switch(r.label){case 0:return t={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer ".concat(e)}},[4,fetch(ca.GET_AUTH_SETTING,ut({method:"GET"},t))];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}})}),function(e){return S0.apply(this,arguments)}),Ng=S(function(){return _(this,function(e){return[2,new Promise((t=S(function(r,n){var a,i,o,l;return _(this,function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,_e.jumpAndGetToken()];case 1:return c.sent(),(i=(a=_e.miniProgramConfig)===null||a===void 0?void 0:a.jwt)||n(new Tt(Me.UNAUTHORIZED,Oe.LOGIN_REQUIRED,"getSetting")),[4,xS(i)];case 2:return(o=c.sent())&&o.err===0?r({authSetting:o.data}):n(new Tt(o.err,o.msg,"getSetting")),[3,4];case 3:return l=c.sent(),n(l),[3,4];case 4:return[2]}})}),function(r,n){return t.apply(this,arguments)}))];var t})}),df,E0,Vn,is,vc,ba,n1=(Vn=bt(),is={},vc=Pt.getInstance(),ba=[],dS(function(e){var t=e.serialId,r=bS(e.result),n=tm(r==null?void 0:r.action),a=Ee.isEmpty(r==null?void 0:r.error_code)?0:r==null?void 0:r.error_code,i=r==null?void 0:r.error_message,o=(r==null?void 0:r.data)||r;if(n&&a===0){var l=JSON.parse(r==null?void 0:r.data);a=Ee.isEmpty(l==null?void 0:l.error_code)?0:l==null?void 0:l.error_code,i=l==null?void 0:l.error_message,o=(l==null?void 0:l.data)||l}var c={error_code:a,error_message:i,data:o,action:(r==null?void 0:r.action)||e.actionName};if(t&&is[t]){var u=is[t],d=u.callback,f=u.timeout,h=u.isMultiCallback,p=u.options,g=u.downloadListener;(function(j,M){var N=M||{},E=N.success,A=N.fail;j.error_code===0?Ee.isFunction(E)&&E(j):Ee.isFunction(A)&&A(j)})(c,d),!h&&delete is[t],f&&clearTimeout(f);var m={action:c==null?void 0:c.action,error:c==null?void 0:c.error_code,message:c==null?void 0:c.error_message,data:{}};try{if(c.action==="action.open.inapp"||c.action==="action.open.outapp"){var y=new URL(p==null?void 0:p.url),b="".concat(y.protocol,"//").concat(y.host).concat(y.pathname);m.data={url:b}}if(c.action==="action.follow.oa"||c.action==="action.unfollow.oa"){var x=p==null?void 0:p.uid;m.data={uid:x}}if(c.action==="action.open.chat"){var v=p==null?void 0:p.uId,k=p==null?void 0:p.type;m.data={uid:v,openChatType:k}}p!=null&&p.onProgress&&g&&vc.off(st.DownloadProgress,g)}catch(j){}ba.push(m)}}),vc.on(st.AppPaused,function(){if(ba.length>0){var e=ba;ba=[],bn(e)}}),df?clearInterval(df):df=setInterval(function(){if(ba.length>0){var e=ba;ba=[],bn(e)}},5e3),E0=S(function(e,t,r,n){var a,i,o,l,c,u,d,f,h,p,g,m,y,b,x,v,k,j,M,N,E,A,O,F,G,ne;return _(this,function(X){switch(X.label){case 0:return i=Math.floor(1e6*Math.random()),o="".concat(e,"_").concat(i),l=ES(e),n!=null&&n.actionName&&n.actionName.length>0&&(l=n==null?void 0:n.actionName),c=(n==null?void 0:n.isMultiCallback)||!1,u=(n==null?void 0:n.timeout)!==!1&&((n==null?void 0:n.timeout)||!0),d=(n==null?void 0:n.haveCallback)||!1,f=(n==null?void 0:n.skipJump)||!1,h=(n==null?void 0:n.requireAccessToken)||!1,p=_S(l),t&&r&&(is[o]={options:t,callback:r,isMultiCallback:c},u&&d&&(is[o].timeout=setTimeout(function(){var J={serialId:o,result:{error_code:Me.TIME_OUT,error_message:Oe.TIME_OUT,data:{timeout:u},action:e}};return go(J),null},u===!0?8e3:1e3*u))),p?[4,Ng()]:[3,2];case 1:if(((m=X.sent())==null||(g=m.authSetting)===null||g===void 0?void 0:g["scope.userInfo"])===!1)return b={serialId:o,result:{error_code:Me.UNAUTHORIZED,error_message:Oe.NEED_USER_AUTH,data:{isMobile:Vn==null||(y=Vn.platform)===null||y===void 0?void 0:y.isMobile},action:e}},go(b),[2];X.label=2;case 2:return x=tm(l),!(!(Vn==null||(a=Vn.platform)===null||a===void 0)&&a.isMobile)||!e||Ee.isUndefined(ZaloJavaScriptInterface)||Vn.platform.isIOS&&!yS(e)||x&&x.isSupported===!1?(k={serialId:o,result:{error_code:Me.CLIENT_NOT_SUPPORT,error_message:Oe.CLIENT_NOT_SUPPORT,data:{isMobile:Vn==null||(v=Vn.platform)===null||v===void 0?void 0:v.isMobile},action:e}},go(k),[2]):(j=em(t),f?[3,4]:[4,_e.getJSAccessToken()]);case 3:return N=X.sent(),[3,5];case 4:N="",X.label=5;case 5:M=N,X.label=6;case 6:return X.trys.push([6,10,,11]),f||!h?[3,8]:[4,_e.getAccessToken()];case 7:return A=X.sent(),[3,9];case 8:A="",X.label=9;case 9:return E=A,[3,11];case 10:return O=X.sent(),F={serialId:o,result:{error_code:O==null?void 0:O.code,error_message:O==null?void 0:O.message,action:e}},go(F),[2];case 11:try{t&&(t!=null&&t.onProgress)&&(G=function(J){(function(V,ae){var U=V.progress;ae&&ae(U)})(J,t==null?void 0:t.onProgress)},is[o].downloadListener=G,vc.on(st.DownloadProgress,G))}catch(J){}return ne=Vn.platform.isIOS?window.onNativeMessage(o,l):'window.onNativeMessage("'.concat(o,'", "').concat(l,'")'),[2,ZaloJavaScriptInterface.jsCall(M,l,E,j,ne)]}})}),function(e,t,r,n){return E0.apply(this,arguments)}),pt={success:function(e,t){return{code:Me.SUCCESS,message:t||Oe.SUCCESS,data:e||{}}},error:{failLimit:function(){return new Tt(Me.FAIL_LIMIT,Oe.FAIL_LIMIT)},badRequest:function(e){return new Tt(Me.BAD_REQUEST,e)},loginFailed:function(e){return new Tt(Me.UNAUTHORIZED,"".concat(Oe.LOGIN_FAILED,": ").concat(e))},loginRequired:function(){return new Tt(Me.UNAUTHORIZED,Oe.LOGIN_REQUIRED)},cannotGetShareInfo:function(){return new Tt(Me.INTERNAL_SERVER_ERROR,"Can not get app info to share")},createIAPOrderFailed:function(e){var t=Object.keys(Z2).find(function(r){return r===e.toString()});return new Tt(e,t||Oe.UNKNOWN_ERROR)},clientNotSupport:function(){return new Tt(Me.CLIENT_NOT_SUPPORT,Oe.CLIENT_NOT_SUPPORT)}}},a1=function(e){var t,r,n,a=(t=bt())===null||t===void 0?void 0:t.platformName,i=SS(e.action),o=yg[i],l=(o==null?void 0:o.skipJump)||!1,c=(o==null?void 0:o.errorList)||{};if(i==="JUMP_LOGIN")return new Tt(Me.UNKNOWN_ERROR,"Can not get auth code: ".concat(e.error_message));if(_e.jumpStatus!==yn.DONE&&!l)return new Tt(ve.UNAUTHORIZED.code,ve.UNAUTHORIZED.message);if(String(e.error_message).toLowerCase()==="permission required!"||String(e.error_message).toLowerCase()==="no permission!")return new Tt(ve.FORBIDDEN.code,ve.FORBIDDEN.message);if(a&&(!((r=cf[a])===null||r===void 0)&&r[e.error_code]))return new Tt(cf[a][e.error_code].code,cf[a][e.error_code].message);var u=c==null||(n=c[a])===null||n===void 0?void 0:n[String(e.error_code)];if(u){var d,f,h,p=(d=u.mapTo)===null||d===void 0?void 0:d.message;return u!=null&&u.needMoreDetail&&(p="".concat(u==null||(h=u.mapTo)===null||h===void 0?void 0:h.message,": ").concat(e.error_message)),new Tt((f=u.mapTo)===null||f===void 0?void 0:f.code,p)}return new Tt(e.error_code,e.error_message)},be=function(e,t,r,n){var a=function(l,c){function u(d){return function(f){var h=Ee.isEmpty(c)?void 0:c[d];if(h)return Ps({stage:Jo.RESPONSE,type:"log",state:d,name:l,response:f}),h(d==="fail"?a1(f):f==null?void 0:f.data)}}return Ee.isUndefined(l)&&(l=""),Object.assign({},{success:u("success"),fail:u("fail")})}(e,r),i=yg[e],o=(n==null?void 0:n.delay)||0;setTimeout(function(){n1(e,t,a,ut({},n,i))},o)},T0,s1=(T0=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("MP_USER_AUTHORIZE",{scopes:e,forceUpdate:!0},{success:function(a){Ee.isEmpty(a)||r(a)},fail:function(a){n(a)}},{isMultiCallback:!1,timeout:!1})})]})}),function(e){return T0.apply(this,arguments)}),vS=function(){function e(){Kr(this,e),this._jumpStatus=void 0,this.WAITING_QUEUE=[],this.getAccessTokenCount=0,this._accessToken="",this._jsAccessToken="",this.refreshToken="",this._cookies=[],this.accessTokenExpiresIn=0,this.prevGetAccessTokenTimestamp=new Date().getTime(),this.manualSetAccessToken=!1,this._miniProgramConfig={},this.retryLimitMap={}}var t=e.prototype;return t.initRetryLimit=function(r){var n=Yw[r],a={lastCall:new Date().getTime(),limit:n&&n.limit?n.limit:3,retry:0};return this.retryLimitMap[r]=a,a},t.resetRetryLimit=function(r){this.retryLimitMap[r].lastCall=new Date().getTime(),this.retryLimitMap[r].retry=0},t.getRetryLimit=function(r){var n=this.retryLimitMap[r];return n&&n.lastCall&&n.retry||(n=this.initRetryLimit(r)),n},t.increaseRetryLimit=function(r){this.retryLimitMap[r].retry++},t.jump=function(){var r=this;return S(function(){return _(this,function(n){return[2,new Promise(function(a,i){r._jumpStatus?r._jumpStatus===yn.DONE?a(yn.DONE):a(yn.DOING):(r._jumpStatus=yn.DOING,Ps({stage:Jo.REQUEST,type:"log",name:"jump"}),n1("JUMP_LOGIN",{},{success:function(o){var l=o.data;r._miniProgramConfig=(l==null?void 0:l.miniProgramConfig)||{};var c=(l==null?void 0:l.cookiesOAuthLogins)||[],u=c.find(function(f){return f.name===Dt.JS_TOKEN});u&&(r._jsAccessToken=u.value,window.ZJSBridge.setJSToken&&window.ZJSBridge.setJSToken(u.value)),r._cookies=c;var d=r._cookies.find(function(f){return f.name===Dt.ZOAUTH});d!=null&&d.value||bn([{action:"action.jump.login",error:-102,message:"no zoauth",data:{}}]),a(yn.DONE)},fail:function(o){bn([{action:"action.jump.login",error:-101,message:o.message||"jump error",data:{}}]),i(o)}},{skipJump:!0}))})]})})()},t.loginZaloV3=function(r,n,a){var i=this;return S(function(){var o;return _(this,function(l){switch(l.label){case 0:return o="".concat(ca.GET_ACCESS_TOKEN_V3,"?app_id=").concat(n,"&redirect_uri=").concat(vg,"/").concat(r,"/&code=").concat(a,"&isSDK=true"),[4,fetch(o).then((c=S(function(u){var d,f,h;return _(this,function(p){switch(p.label){case 0:return[4,u.json()];case 1:return d=p.sent(),f=d==null?void 0:d.access_token,i._accessToken=f,h=1e3*parseInt(d.expires_in),i.accessTokenExpiresIn=h,i.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(i._accessToken||""),[2,f]}})}),function(u){return c.apply(this,arguments)}))];case 1:return[2,l.sent()]}var c})})()},t.loginZaloV4=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",i=this;return S(function(){var o,l;return _(this,function(c){switch(c.label){case 0:return(o=new URLSearchParams).append("app_id",r),o.append("code",n),o.append("code_verifier",a),Ee.isNull(i.refreshToken)||i.refreshToken.length===0?o.append("grant_type","authorization_code"):(o.append("grant_type","refresh_token"),o.append("refresh_token",i.refreshToken||"")),l={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(ca.GET_ACCESS_TOKEN,ut({method:"POST",body:o},l)).then((u=S(function(d){var f,h,p,g;return _(this,function(m){switch(m.label){case 0:return[4,d.json()];case 1:return f=m.sent(),h=(f==null?void 0:f.access_token)||"",p=(f==null?void 0:f.refresh_token)||"",i.refreshToken=p,i._accessToken=h,g=1e3*parseInt(f==null?void 0:f.expires_in),i.accessTokenExpiresIn=g,i.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(h),[2,h]}})}),function(d){return u.apply(this,arguments)}))];case 1:return[2,c.sent()]}var u})})()},t.getAccessToken=function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this;return S(function(){var a,i,o,l,c,u,d,f,h;function p(){return g.apply(this,arguments)}function g(){return(g=S(function(){return _(this,function(m){switch(m.label){case 0:return[4,new Promise(function(y){var b=setInterval(function(){(i.getAccessTokenCount<=1||i._accessToken)&&(y("done"),clearInterval(b))},200)})];case 1:return[2,m.sent()]}})})).apply(this,arguments)}return _(this,function(m){switch(m.label){case 0:return a=new Date().getTime()-n.prevGetAccessTokenTimestamp,(i=n).getAccessTokenCount++,n.getAccessTokenCount>1?[4,p()]:[3,2];case 1:m.sent(),m.label=2;case 2:return n.manualSetAccessToken?(i.getAccessTokenCount--,[2,Promise.resolve(n._accessToken)]):r?[4,n.verifyUserAuthorized()]:[3,4];case 3:return l=m.sent(),[3,5];case 4:l=!0,m.label=5;case 5:return o=l,n._accessToken.length>0&&a<n.accessTokenExpiresIn&&o?(i.getAccessTokenCount--,[2,Promise.resolve(n._accessToken)]):(n.accessToken="",[4,n.jumpAndGetToken(Dt.ZOAUTH)]);case 6:return c=m.sent(),[4,n.jumpAndGetToken(Dt.ZOAUTH_VRF)];case 7:if(u=m.sent(),d="zmp.getaccesstoken.fail",!o)throw i.getAccessTokenCount--,bn([{action:d,error:-104,message:"no user auth",data:{}}]),pt.error.loginFailed("User Authentication Required");if(!c)return[3,15];m.label=8;case 8:return m.trys.push([8,13,,14]),u?[4,n.loginZaloV4($t,c,u)]:[3,10];case 9:return f=m.sent(),[3,12];case 10:return[4,n.loginZaloV3($t,zn,c)];case 11:f=m.sent(),m.label=12;case 12:return[3,14];case 13:return h=m.sent(),f="",console.log("Can not get access token",h),bn([{action:d,error:-103,message:String(h)||"Can not get access token",data:{}}]),[3,14];case 14:return i.getAccessTokenCount--,f?[2,Promise.resolve(n._accessToken)]:(bn([{action:d,error:-101,message:"no accessToken",data:{}}]),[2,Promise.reject(pt.error.loginFailed("Can't get accessToken. Please try again later."))]);case 15:throw i.getAccessTokenCount--,bn([{action:d,error:-102,message:"no oauth",data:{}}]),pt.error.loginFailed("Zalo app has not been activated")}})})()},t.verifyUserAuthorized=function(){var r=this;return S(function(){var n,a,i,o,l,c;return _(this,function(u){switch(u.label){case 0:return a=!0,[4,r.jumpAndGetToken()];case 1:if(u.sent(),((n=r._miniProgramConfig)===null||n===void 0?void 0:n.userAuthorized)!==!1)return[3,7];u.label=2;case 2:return u.trys.push([2,6,,7]),(i=tm("action.mp.user.authorize"))&&i.isSupported?[4,Ng()]:[3,5];case 3:return((l=u.sent())==null||(o=l.authSetting)===null||o===void 0?void 0:o["scope.userInfo"])!==!1?[3,5]:[4,s1()];case 4:c=u.sent(),a=(c==null?void 0:c["scope.userInfo"])||!1,u.label=5;case 5:return[3,7];case 6:return u.sent(),a=!1,[3,7];case 7:return[2,a]}})})()},t.setAccessToken=function(r){this.manualSetAccessToken=!0,this._accessToken=r,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(r)},t.getJSAccessToken=function(){var r=this;return S(function(){var n;return _(this,function(a){switch(a.label){case 0:return r._jsAccessToken.length>0?[2,Promise.resolve(r._jsAccessToken)]:[4,r.jumpAndGetToken(Dt.JS_TOKEN)];case 1:return n=a.sent(),[2,Promise.resolve(n)]}})})()},t.getSync=function(r){var n;return(n=this._cookies.find(function(a){return a.name===r}))===null||n===void 0?void 0:n.value},t.jumpAndGetToken=function(r){var n,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this;return new Promise((n=S(function(o){var l,c,u,d;return _(this,function(f){switch(f.label){case 0:return!a&&i._cookies.length>0?Ee.isString(r)?(l=i._cookies.find(function(h){return h.name===r}),[2,o(l==null?void 0:l.value)]):[2,o("")]:(a&&i._jumpStatus===yn.DONE&&(i._jumpStatus=void 0),c={name:r,cb:function(h){return o(h)}},[4,i.jump()]);case 1:return(u=f.sent())===yn.DONE?(i._jumpStatus=u,i.WAITING_QUEUE.length&&(i.WAITING_QUEUE.forEach(function(h){var p=i._cookies.find(function(g){return g.name===h.name});h.cb(p==null?void 0:p.value)}),i.WAITING_QUEUE=[]),d=i._cookies.find(function(h){return h.name===c.name}),c.cb(d==null?void 0:d.value)):i.WAITING_QUEUE.push(c),[2]}})}),function(o){return n.apply(this,arguments)}))},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},tS(e,[{key:"jumpStatus",get:function(){return this._jumpStatus}},{key:"accessToken",set:function(r){this._accessToken=r,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(r)}},{key:"miniProgramConfig",get:function(){return this._miniProgramConfig}}]),e}(),_e=vS.getInstance(),ff=bg("zmp:utils:common"),em=function(e){if(Ee.isObject(JSON)&&JSON.stringify)return JSON.stringify(e);if(e===void 0)return"undefined";if(e===null)return"null";try{if(typeof e=="string"||e.constructor.toString().match(/string/i)!==null)return'"'+e.replace(/"/g,'\\"')+'"'}catch(i){console.log(i)}var t;if(Object.prototype.toString.call(e).match(/array/i)!==null){t=[];for(var r=e.length,n=0;n<r;n++)t.push(em(e[n]));return"["+t.join(",")+"]"}if(typeof e=="object"){for(var a in t=[],e)t.push('"'+a+'":'+em(e[a]));return"{"+t.join(",")+"}"}return e.toString()},yS=function(e){var t=yg[e],r=zs(),n=t&&typeof t=="object"&&"versionLive"in t&&t.versionLive&&"iOS"in t.versionLive?t.versionLive.iOS:0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(e))||r>=n},i1=function(e){try{if(e){ff(e);var t=e.replace(/\\/g,"").replace(/&#39;/g,"'");try{t=decodeURIComponent(atob(e))}catch(n){}var r=JSON.parse(t);return ff("formattedValue",t,r,r===void 0?"undefined":Ii(r)),r}return null}catch(n){return ff("parse json error:",n),e}},bS=function(e){if(Ee.isObject(JSON)&&JSON.parse&&Ee.isString(e)){var t=e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(t,function(r,n){return n})}return Ee.isObject(e)?e:new Function("return "+e)()},o1=function(e){for(var t=document.getElementsByTagName("meta"),r=0;r<t.length;r++)if(t[r].getAttribute("name")===e||t[r].getAttribute("property")===e)return t[r].getAttribute("content");return""},l1=function(e){return btoa(encodeURIComponent(JSON.stringify(e)))},wS=function(e,t){var r,n=0;for(r in e){var a=r.split("_")[0];e.hasOwnProperty(r)&&(t&&a!==t||(n+=2*(e[r].length+r.length)))}return n};function NS(e){return e.map(function(t,r){var n=t.path.length>0?t.path.map(function(a,i){return i>0?"[".concat(a,"]"):a}).join(""):"arg";return"Error ".concat(r+1,": Code: ").concat(t.code," ~ Path: ").concat(n," ~ Message: ").concat(t.message)}).join(" | ")}var C0,kS=function(e){return e===Pn.hidden?"hidden":e===Pn.transparent?"transparent":"normal"},jS=function(e){return e==="hidden"?Pn.hidden:e==="transparent"?Pn.transparent:Pn.normal},tm=function(e){if(e!==void 0){var t=_e.miniProgramConfig;return((t==null?void 0:t.dynamicApis)||[]).find(function(r){return r.action===e&&r.clientHandle===!1})}},_S=function(e){if(e===void 0)return!1;var t=_e.miniProgramConfig;return((t==null?void 0:t.requiredAuthenList)||[]).indexOf(e)>=0},c1=(C0=S(function(){return _(this,function(e){return[2,new Promise(function(){var t=S(function(r,n){var a;return _(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,_e.jumpAndGetToken()];case 1:return i.sent(),a=_e.miniProgramConfig,r((a==null?void 0:a.canUseAccessTokenByDefault)===!0),[3,3];case 2:return i.sent(),r(!1),[3,3];case 3:return[2]}})});return function(r,n){return t.apply(this,arguments)}}())]})}),function(){return C0.apply(this,arguments)}),SS=function(e){return e==="action.get.device_info"?"GET_DEVICE_INFO":e.replace("action.","").replace(/\./g,"_").toUpperCase()},ES=function(e){return e.startsWith("action.")?e:e==="GET_DEVICE_INFO"?"action.get.device_info":"action.".concat(e.replace(/\_/g,".").toLowerCase())},u1=function(e,t,r){typeof r=="string"&&r.length>0?e.set(t,r):typeof r!="object"||Array.isArray(r)||Object.entries(r).forEach(function(n){var a=An(n,2),i=a[0],o=a[1];o!=null&&o!==""&&e.set("".concat(t).concat(i),String(o))})},di=function(e,t,r){var n;(n=e.contentWindow)===null||n===void 0||n.postMessage({type:t,payload:r},Cn)};function TS(e){var t=new TextEncoder().encode(e),r=Array.from(t).map(function(n){return String.fromCharCode(n)}).join("");return btoa(r)}function W(e,t,r,n){var a,i;(function(d,f){if(Yw[d]){var h=_e.getRetryLimit(d);h.lastCall&&new Date().getTime()-h.lastCall>1e3&&_e.resetRetryLimit(d);var p=h.limit||3;if(h.retry&&h.retry>=p)throw gc(pt.error.failLimit(),d);_e.increaseRetryLimit(d)}})(e);var o=Array.isArray(r)&&r.length>0&&((a=r[0])===null||a===void 0?void 0:a.success),l=Array.isArray(r)&&r.length>0&&((i=r[0])===null||i===void 0?void 0:i.fail);try{var c=r;t.length>0&&t.forEach(function(d,f){var h=d.safeParse(r[f]);if(!h.success){var p,g=(p=h.error)===null||p===void 0?void 0:p.issues,m=NS(g),y=pt.error.badRequest(m);throw y.detail=g,gc(y,e)}c.push(h.data)});var u=n.apply(void 0,Va(c));return Ee.isPromise(u)?new Promise(function(d,f){u.then(function(h){if(!Ee.isNull(o)&&Ee.isFunction(o))return o(h);d(u)}).catch(function(h){var p=gc(h,e);if(!Ee.isNull(l)&&Ee.isFunction(l))return l(p);f(p)})}):u}catch(d){if(!Ee.isNull(l)&&Ee.isFunction(l))return l(d);throw gc(d,e)}}function d1(){return W("getVersion",[],[],function(){return Qw})}var hf,R=((hf=bt())===null||hf===void 0?void 0:hf.appEnv)||{},oe=function(e,t){var r,n={error:-1404,errorMessage:"".concat(e," is not found")};t==null||(r=t.fail)===null||r===void 0||r.call(t,n),Ps({stage:Jo.NOT_FOUND,type:"error",name:e,request:t,state:"fail",response:n})};function f1(e){return h1.apply(this,arguments)}function h1(){return(h1=S(function(e){return _(this,function(t){return[2,W("login",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,_e.jumpAndGetToken(Dt.ZOAUTH)]:[3,2];case 1:return r.sent(),[2,"Success"];case 2:return R.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(oe("login",{}))]}})}))]})})).apply(this,arguments)}function m1(e){return p1.apply(this,arguments)}function p1(){return(p1=S(function(e){return _(this,function(t){return[2,W("getAccessToken",[],[e],S(function(){var r;return _(this,function(n){switch(n.label){case 0:return R.isMp?[4,c1()]:[3,3];case 1:return r=!n.sent(),[4,_e.getAccessToken(r)];case 2:return[2,n.sent()||""];case 3:return R.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(oe("getAccessToken",{}))]}})}))]})})).apply(this,arguments)}function g1(){var e;return{version:o1("version-id")||"",apiVersion:Qw,zaloVersion:String(zs()),platform:((e=bt())===null||e===void 0?void 0:e.platformName)||"",language:navigator.language,zaloLanguage:window.zLanguage||"vi",zaloTheme:window.zTheme||"light"}}function x1(){return W("getSystemInfo",[],[],function(){return g1()})}var rt;(function(e){e.assertEqual=t=>t,e.assertIs=function(t){},e.assertNever=function(t){throw new Error},e.arrayToEnum=t=>{const r={};for(const n of t)r[n]=n;return r},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter(a=>typeof t[t[a]]!="number"),n={};for(const a of r)n[a]=t[a];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(r){return t[r]}),e.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(n);return r},e.find=(t,r)=>{for(const n of t)if(r(n))return n},e.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t,e.joinValues=function(t,r=" | "){return t.map(n=>typeof n=="string"?`'${n}'`:n).join(r)},e.jsonStringifyReplacer=(t,r)=>typeof r=="bigint"?r.toString():r})(rt||(rt={}));const xe=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ea=e=>{switch(typeof e){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return isNaN(e)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(e)?xe.array:e===null?xe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?xe.promise:typeof Map!="undefined"&&e instanceof Map?xe.map:typeof Set!="undefined"&&e instanceof Set?xe.set:typeof Date!="undefined"&&e instanceof Date?xe.date:xe.object;default:return xe.unknown}},de=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CS=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");let ra=class extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ra.create=e=>new ra(e);const tl=(e,t)=>{let r;switch(e.code){case de.invalid_type:r=e.received===xe.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case de.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,rt.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:r=`Unrecognized key(s) in object: ${rt.joinValues(e.keys,", ")}`;break;case de.invalid_union:r="Invalid input";break;case de.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${rt.joinValues(e.options)}`;break;case de.invalid_enum_value:r=`Invalid enum value. Expected ${rt.joinValues(e.options)}, received '${e.received}'`;break;case de.invalid_arguments:r="Invalid function arguments";break;case de.invalid_return_type:r="Invalid function return type";break;case de.invalid_date:r="Invalid date";break;case de.invalid_string:typeof e.validation=="object"?"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:rt.assertNever(e.validation):r=e.validation!=="regex"?`Invalid ${e.validation}`:"Invalid";break;case de.too_small:r=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(e.minimum)}`:"Invalid input";break;case de.too_big:r=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(e.maximum)}`:"Invalid input";break;case de.custom:r="Invalid input";break;case de.invalid_intersection_types:r="Intersection results could not be merged";break;case de.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case de.not_finite:r="Number must be finite";break;default:r=t.defaultError,rt.assertNever(e)}return{message:r}};let v1=tl;function PS(e){v1=e}function Tu(){return v1}const Cu=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o=Z(C({},a),{path:i});let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return Z(C({},a),{path:i,message:a.message||l})},IS=[];function je(e,t){const r=Cu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Tu(),tl].filter(n=>!!n)});e.common.issues.push(r)}let Er=class y1{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Le;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static mergeObjectAsync(t,r){return T(this,null,function*(){const n=[];for(const a of r)n.push({key:yield a.key,value:yield a.value});return y1.mergeObjectSync(t,n)})}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Le;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),(o.value!==void 0||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}};const Le=Object.freeze({status:"aborted"}),b1=e=>({status:"dirty",value:e}),Jt=e=>({status:"valid",value:e}),rm=e=>e.status==="aborted",nm=e=>e.status==="dirty",Pu=e=>e.status==="valid",Iu=e=>typeof Promise!="undefined"&&e instanceof Promise;var Ze;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ze||(Ze={}));let Rn=class{constructor(t,r,n,a){this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._path.concat(this._key)}};const P0=(e,t)=>{if(Pu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new ra(e.common.issues)}};function $e(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,o)=>i.code!=="invalid_type"?{message:o.defaultError}:o.data===void 0?{message:n!=null?n:o.defaultError}:{message:r!=null?r:o.defaultError},description:a}}class Ve{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ea(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ea(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Er,ctx:{common:t.parent.common,data:t.data,parsedType:Ea(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Iu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0&&n,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ea(t)},i=this._parseSync({data:t,path:a.path,parent:a});return P0(a,i)}parseAsync(t,r){return T(this,null,function*(){const n=yield this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error})}safeParseAsync(t,r){return T(this,null,function*(){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ea(t)},a=this._parse({data:t,path:n.path,parent:n}),i=yield Iu(a)?a:Promise.resolve(a);return P0(n,i)})}refine(t,r){const n=a=>typeof r=="string"||r===void 0?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue(C({code:de.custom},n(a)));return typeof Promise!="undefined"&&o instanceof Promise?o.then(c=>!!c||(l(),!1)):!!o||(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>!!t(n)||(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new sn({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return aa.create(this,this._def)}nullable(){return As.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cn.create(this,this._def)}promise(){return Ri.create(this,this._def)}or(t){return ol.create([this,t],this._def)}and(t){return ll.create(this,t,this._def)}transform(t){return new sn(Z(C({},$e(this._def)),{schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){const r=typeof t=="function"?t:()=>t;return new fl(Z(C({},$e(this._def)),{innerType:this,defaultValue:r,typeName:Ae.ZodDefault}))}brand(){return new N1(C({typeName:Ae.ZodBranded,type:this},$e(this._def)))}catch(t){const r=typeof t=="function"?t:()=>t;return new Lu(Z(C({},$e(this._def)),{innerType:this,catchValue:r,typeName:Ae.ZodCatch}))}describe(t){return new this.constructor(Z(C({},this._def),{description:t}))}pipe(t){return Tl.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const MS=/^c[^\s-]{8,}$/i,AS=/^[a-z][a-z0-9]*$/,RS=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,OS=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|([^-]([a-zA-Z0-9-]*\.)+[a-zA-Z]{2,}))$/;let Mi=class am extends Ve{constructor(){super(...arguments),this._regex=(t,r,n)=>this.refinement(a=>t.test(a),C({validation:r,code:de.invalid_string},Ze.errToObj(n))),this.nonempty=t=>this.min(1,Ze.errToObj(t)),this.trim=()=>new am(Z(C({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==xe.string){const i=this._getOrReturnCtx(t);return je(i,{code:de.invalid_type,expected:xe.string,received:i.parsedType}),Le}const r=new Er;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),je(n,{code:de.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),je(n,{code:de.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?je(n,{code:de.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&je(n,{code:de.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")OS.test(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{validation:"email",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")RS.test(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{validation:"uuid",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")MS.test(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{validation:"cuid",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")AS.test(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{validation:"cuid2",code:de.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch(o){n=this._getOrReturnCtx(t,n),je(n,{validation:"url",code:de.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{validation:"regex",code:de.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),je(n,{code:de.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),je(n,{code:de.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?((a=i).precision?a.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${a.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${a.precision}}Z$`):a.precision===0?a.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):a.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(t.data)||(n=this._getOrReturnCtx(t,n),je(n,{code:de.invalid_string,validation:"datetime",message:i.message}),r.dirty()):rt.assertNever(i);var a;return{status:r.value,value:t.data}}_addCheck(t){return new am(Z(C({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(C({kind:"email"},Ze.errToObj(t)))}url(t){return this._addCheck(C({kind:"url"},Ze.errToObj(t)))}uuid(t){return this._addCheck(C({kind:"uuid"},Ze.errToObj(t)))}cuid(t){return this._addCheck(C({kind:"cuid"},Ze.errToObj(t)))}cuid2(t){return this._addCheck(C({kind:"cuid2"},Ze.errToObj(t)))}datetime(t){var r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck(C({kind:"datetime",precision:(t==null?void 0:t.precision)===void 0?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0&&r},Ze.errToObj(t==null?void 0:t.message)))}regex(t,r){return this._addCheck(C({kind:"regex",regex:t},Ze.errToObj(r)))}startsWith(t,r){return this._addCheck(C({kind:"startsWith",value:t},Ze.errToObj(r)))}endsWith(t,r){return this._addCheck(C({kind:"endsWith",value:t},Ze.errToObj(r)))}min(t,r){return this._addCheck(C({kind:"min",value:t},Ze.errToObj(r)))}max(t,r){return this._addCheck(C({kind:"max",value:t},Ze.errToObj(r)))}length(t,r){return this._addCheck(C({kind:"length",value:t},Ze.errToObj(r)))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};function LS(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n;return parseInt(e.toFixed(a).replace(".",""))%parseInt(t.toFixed(a).replace(".",""))/Math.pow(10,a)}Mi.create=e=>{var t;return new Mi(C({checks:[],typeName:Ae.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0&&t},$e(e)))};let rl=class sm extends Ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==xe.number){const a=this._getOrReturnCtx(t);return je(a,{code:de.invalid_type,expected:xe.number,received:a.parsedType}),Le}let r;const n=new Er;for(const a of this._def.checks)a.kind==="int"?rt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),je(r,{code:de.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),je(r,{code:de.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),je(r,{code:de.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?LS(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),je(r,{code:de.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),je(r,{code:de.not_finite,message:a.message}),n.dirty()):rt.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ze.toString(r))}setLimit(t,r,n,a){return new sm(Z(C({},this._def),{checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ze.toString(a)}]}))}_addCheck(t){return new sm(Z(C({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:Ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ze.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ze.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};rl.create=e=>new rl(C({checks:[],typeName:Ae.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},$e(e)));class nl extends Ve{_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==xe.bigint){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.bigint,received:r.parsedType}),Le}return Jt(t.data)}}nl.create=e=>{var t;return new nl(C({typeName:Ae.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0&&t},$e(e)))};class al extends Ve{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==xe.boolean){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.boolean,received:r.parsedType}),Le}return Jt(t.data)}}al.create=e=>new al(C({typeName:Ae.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},$e(e)));class Is extends Ve{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==xe.date){const a=this._getOrReturnCtx(t);return je(a,{code:de.invalid_type,expected:xe.date,received:a.parsedType}),Le}if(isNaN(t.data.getTime()))return je(this._getOrReturnCtx(t),{code:de.invalid_date}),Le;const r=new Er;let n;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(n=this._getOrReturnCtx(t,n),je(n,{code:de.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(n=this._getOrReturnCtx(t,n),je(n,{code:de.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):rt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Is(Z(C({},this._def),{checks:[...this._def.checks,t]}))}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ze.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ze.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Is.create=e=>new Is(C({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ae.ZodDate},$e(e)));let Mu=class extends Ve{_parse(t){if(this._getType(t)!==xe.symbol){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.symbol,received:r.parsedType}),Le}return Jt(t.data)}};Mu.create=e=>new Mu(C({typeName:Ae.ZodSymbol},$e(e)));class sl extends Ve{_parse(t){if(this._getType(t)!==xe.undefined){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.undefined,received:r.parsedType}),Le}return Jt(t.data)}}sl.create=e=>new sl(C({typeName:Ae.ZodUndefined},$e(e)));let il=class extends Ve{_parse(t){if(this._getType(t)!==xe.null){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.null,received:r.parsedType}),Le}return Jt(t.data)}};il.create=e=>new il(C({typeName:Ae.ZodNull},$e(e)));class Ai extends Ve{constructor(){super(...arguments),this._any=!0}_parse(t){return Jt(t.data)}}Ai.create=e=>new Ai(C({typeName:Ae.ZodAny},$e(e)));class ws extends Ve{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Jt(t.data)}}ws.create=e=>new ws(C({typeName:Ae.ZodUnknown},$e(e)));class na extends Ve{_parse(t){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.never,received:r.parsedType}),Le}}na.create=e=>new na(C({typeName:Ae.ZodNever},$e(e)));class Au extends Ve{_parse(t){if(this._getType(t)!==xe.undefined){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.void,received:r.parsedType}),Le}return Jt(t.data)}}Au.create=e=>new Au(C({typeName:Ae.ZodVoid},$e(e)));class cn extends Ve{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==xe.array)return je(r,{code:de.invalid_type,expected:xe.array,received:r.parsedType}),Le;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(je(r,{code:o?de.too_big:de.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(je(r,{code:de.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(je(r,{code:de.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Rn(r,o,r.path,l)))).then(o=>Er.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Rn(r,o,r.path,l)));return Er.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new cn(Z(C({},this._def),{minLength:{value:t,message:Ze.toString(r)}}))}max(t,r){return new cn(Z(C({},this._def),{maxLength:{value:t,message:Ze.toString(r)}}))}length(t,r){return new cn(Z(C({},this._def),{exactLength:{value:t,message:Ze.toString(r)}}))}nonempty(t){return this.min(1,t)}}var Ru;function Ys(e){if(e instanceof xt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=aa.create(Ys(n))}return new xt(Z(C({},e._def),{shape:()=>t}))}return e instanceof cn?cn.create(Ys(e.element)):e instanceof aa?aa.create(Ys(e.unwrap())):e instanceof As?As.create(Ys(e.unwrap())):e instanceof On?On.create(e.items.map(t=>Ys(t))):e}cn.create=(e,t)=>new cn(C({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray},$e(t))),function(e){e.mergeShapes=(t,r)=>C(C({},t),r)}(Ru||(Ru={}));class xt extends Ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=rt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==xe.object){const c=this._getOrReturnCtx(t);return je(c,{code:de.invalid_type,expected:xe.object,received:c.parsedType}),Le}const{status:r,ctx:n}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof na&&this._def.unknownKeys==="strip"))for(const c in n.data)i.includes(c)||o.push(c);const l=[];for(const c of i){const u=a[c],d=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Rn(n,d,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof na){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(c==="strict")o.length>0&&(je(n,{code:de.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Rn(n,d,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(()=>T(this,null,function*(){const c=[];for(const u of l){const d=yield u.key;c.push({key:d,value:yield u.value,alwaysSet:u.alwaysSet})}return c})).then(c=>Er.mergeObjectSync(r,c)):Er.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return new xt(C(Z(C({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Ze.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}))}strip(){return new xt(Z(C({},this._def),{unknownKeys:"strip"}))}passthrough(){return new xt(Z(C({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new xt(Z(C({},this._def),{shape:()=>C(C({},this._def.shape()),t)}))}merge(t){return new xt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>Ru.mergeShapes(this._def.shape(),t._def.shape()),typeName:Ae.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new xt(Z(C({},this._def),{catchall:t}))}pick(t){const r={};return rt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new xt(Z(C({},this._def),{shape:()=>r}))}omit(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new xt(Z(C({},this._def),{shape:()=>r}))}deepPartial(){return Ys(this)}partial(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new xt(Z(C({},this._def),{shape:()=>r}))}required(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof aa;)a=a._def.innerType;r[n]=a}}),new xt(Z(C({},this._def),{shape:()=>r}))}keyof(){return w1(rt.objectKeys(this.shape))}}xt.create=(e,t)=>new xt(C({shape:()=>e,unknownKeys:"strip",catchall:na.create(),typeName:Ae.ZodObject},$e(t))),xt.strictCreate=(e,t)=>new xt(C({shape:()=>e,unknownKeys:"strict",catchall:na.create(),typeName:Ae.ZodObject},$e(t))),xt.lazycreate=(e,t)=>new xt(C({shape:e,unknownKeys:"strip",catchall:na.create(),typeName:Ae.ZodObject},$e(t)));let ol=class extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;if(r.common.async)return Promise.all(n.map(a=>T(this,null,function*(){const i=Z(C({},r),{common:Z(C({},r.common),{issues:[]}),parent:null});return{result:yield a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}}))).then(function(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(o=>new ra(o.ctx.common.issues));return je(r,{code:de.invalid_union,unionErrors:i}),Le});{let a;const i=[];for(const l of n){const c=Z(C({},r),{common:Z(C({},r.common),{issues:[]}),parent:null}),u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status!=="dirty"||a||(a={result:u,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(l=>new ra(l));return je(r,{code:de.invalid_union,unionErrors:o}),Le}}get options(){return this._def.options}};ol.create=(e,t)=>new ol(C({options:e,typeName:Ae.ZodUnion},$e(t)));const Fc=e=>e instanceof cl?Fc(e.schema):e instanceof sn?Fc(e.innerType()):e instanceof ul?[e.value]:e instanceof Ka?e.options:e instanceof dl?Object.keys(e.enum):e instanceof fl?Fc(e._def.innerType):e instanceof sl?[void 0]:e instanceof il?[null]:null;class ud extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.object)return je(r,{code:de.invalid_type,expected:xe.object,received:r.parsedType}),Le;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(je(r,{code:de.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Le)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=Fc(i.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new ud(C({typeName:Ae.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a},$e(n)))}}function im(e,t){const r=Ea(e),n=Ea(t);if(e===t)return{valid:!0,data:e};if(r===xe.object&&n===xe.object){const a=rt.objectKeys(t),i=rt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o=C(C({},e),t);for(const l of i){const c=im(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}if(r===xe.array&&n===xe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=im(e[i],t[i]);if(!o.valid)return{valid:!1};a.push(o.data)}return{valid:!0,data:a}}return r===xe.date&&n===xe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ll extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(rm(i)||rm(o))return Le;const l=im(i.value,o.value);return l.valid?((nm(i)||nm(o))&&r.dirty(),{status:r.value,value:l.data}):(je(n,{code:de.invalid_intersection_types}),Le)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ll.create=(e,t,r)=>new ll(C({left:e,right:t,typeName:Ae.ZodIntersection},$e(r)));class On extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.array)return je(n,{code:de.invalid_type,expected:xe.array,received:n.parsedType}),Le;if(n.data.length<this._def.items.length)return je(n,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Le;!this._def.rest&&n.data.length>this._def.items.length&&(je(n,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Rn(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>Er.mergeArray(r,i)):Er.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new On(Z(C({},this._def),{rest:t}))}}On.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new On(C({items:e,typeName:Ae.ZodTuple,rest:null},$e(t)))};class dd extends Ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.object)return je(n,{code:de.invalid_type,expected:xe.object,received:n.parsedType}),Le;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Rn(n,l,n.path,l)),value:o._parse(new Rn(n,n.data[l],n.path,l))});return n.common.async?Er.mergeObjectAsync(r,a):Er.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return new dd(r instanceof Ve?C({keyType:t,valueType:r,typeName:Ae.ZodRecord},$e(n)):C({keyType:Mi.create(),valueType:t,typeName:Ae.ZodRecord},$e(r)))}}class Ou extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.map)return je(n,{code:de.invalid_type,expected:xe.map,received:n.parsedType}),Le;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Rn(n,l,n.path,[u,"key"])),value:i._parse(new Rn(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(()=>T(this,null,function*(){for(const c of o){const u=yield c.key,d=yield c.value;if(u.status==="aborted"||d.status==="aborted")return Le;u.status!=="dirty"&&d.status!=="dirty"||r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}))}{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Le;u.status!=="dirty"&&d.status!=="dirty"||r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Ou.create=(e,t,r)=>new Ou(C({valueType:t,keyType:e,typeName:Ae.ZodMap},$e(r)));class Ms extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==xe.set)return je(n,{code:de.invalid_type,expected:xe.set,received:n.parsedType}),Le;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(je(n,{code:de.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(je(n,{code:de.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Le;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Rn(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ms(Z(C({},this._def),{minSize:{value:t,message:Ze.toString(r)}}))}max(t,r){return new Ms(Z(C({},this._def),{maxSize:{value:t,message:Ze.toString(r)}}))}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ms.create=(e,t)=>new Ms(C({valueType:e,minSize:null,maxSize:null,typeName:Ae.ZodSet},$e(t)));class bi extends Ve{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.function)return je(r,{code:de.invalid_type,expected:xe.function,received:r.parsedType}),Le;function n(l,c){return Cu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Tu(),tl].filter(u=>!!u),issueData:{code:de.invalid_arguments,argumentsError:c}})}function a(l,c){return Cu({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Tu(),tl].filter(u=>!!u),issueData:{code:de.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof Ri?Jt((...l)=>T(this,null,function*(){const c=new ra([]),u=yield this._def.args.parseAsync(l,i).catch(f=>{throw c.addIssue(n(l,f)),c}),d=yield o(...u);return yield this._def.returns._def.type.parseAsync(d,i).catch(f=>{throw c.addIssue(a(d,f)),c})})):Jt((...l)=>{const c=this._def.args.safeParse(l,i);if(!c.success)throw new ra([n(l,c.error)]);const u=o(...c.data),d=this._def.returns.safeParse(u,i);if(!d.success)throw new ra([a(u,d.error)]);return d.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new bi(Z(C({},this._def),{args:On.create(t).rest(ws.create())}))}returns(t){return new bi(Z(C({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new bi(C({args:t||On.create([]).rest(ws.create()),returns:r||ws.create(),typeName:Ae.ZodFunction},$e(n)))}}class cl extends Ve{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}cl.create=(e,t)=>new cl(C({getter:e,typeName:Ae.ZodLazy},$e(t)));class ul extends Ve{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return je(r,{received:r.data,code:de.invalid_literal,expected:this._def.value}),Le}return{status:"valid",value:t.data}}get value(){return this._def.value}}function w1(e,t){return new Ka(C({values:e,typeName:Ae.ZodEnum},$e(t)))}ul.create=(e,t)=>new ul(C({value:e,typeName:Ae.ZodLiteral},$e(t)));class Ka extends Ve{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{expected:rt.joinValues(n),received:r.parsedType,code:de.invalid_type}),Le}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return je(r,{received:r.data,code:de.invalid_enum_value,options:n}),Le}return Jt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t){return Ka.create(t)}exclude(t){return Ka.create(this.options.filter(r=>!t.includes(r)))}}Ka.create=w1;class dl extends Ve{_parse(t){const r=rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==xe.string&&n.parsedType!==xe.number){const a=rt.objectValues(r);return je(n,{expected:rt.joinValues(a),received:n.parsedType,code:de.invalid_type}),Le}if(r.indexOf(t.data)===-1){const a=rt.objectValues(r);return je(n,{received:n.data,code:de.invalid_enum_value,options:a}),Le}return Jt(t.data)}get enum(){return this._def.values}}dl.create=(e,t)=>new dl(C({values:e,typeName:Ae.ZodNativeEnum},$e(t)));class Ri extends Ve{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==xe.promise&&r.common.async===!1)return je(r,{code:de.invalid_type,expected:xe.promise,received:r.parsedType}),Le;const n=r.parsedType===xe.promise?r.data:Promise.resolve(r.data);return Jt(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ri.create=(e,t)=>new Ri(C({type:e,typeName:Ae.ZodPromise},$e(t)));class sn extends Ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null;if(a.type==="preprocess"){const o=a.transform(n.data);return n.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}const i={addIssue:o=>{je(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Le:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Le:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform"){if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Pu(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Pu(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o)}rt.assertNever(a)}}sn.create=(e,t,r)=>new sn(C({schema:e,typeName:Ae.ZodEffects,effect:t},$e(r))),sn.createWithPreprocess=(e,t,r)=>new sn(C({schema:t,effect:{type:"preprocess",transform:e},typeName:Ae.ZodEffects},$e(r)));class aa extends Ve{_parse(t){return this._getType(t)===xe.undefined?Jt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}aa.create=(e,t)=>new aa(C({innerType:e,typeName:Ae.ZodOptional},$e(t)));class As extends Ve{_parse(t){return this._getType(t)===xe.null?Jt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}As.create=(e,t)=>new As(C({innerType:e,typeName:Ae.ZodNullable},$e(t)));class fl extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===xe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fl.create=(e,t)=>new fl(C({innerType:e,typeName:Ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},$e(t)));class Lu extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.innerType._parse({data:r.data,path:r.path,parent:Z(C({},r),{common:Z(C({},r.common),{issues:[]})})});return Iu(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue()})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue()}}removeCatch(){return this._def.innerType}}Lu.create=(e,t)=>new Lu(C({innerType:e,typeName:Ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},$e(t)));class Du extends Ve{_parse(t){if(this._getType(t)!==xe.nan){const r=this._getOrReturnCtx(t);return je(r,{code:de.invalid_type,expected:xe.nan,received:r.parsedType}),Le}return{status:"valid",value:t.data}}}Du.create=e=>new Du(C({typeName:Ae.ZodNaN},$e(e)));const DS=Symbol("zod_brand");class N1 extends Ve{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Tl extends Ve{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return T(this,null,function*(){const a=yield this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Le:a.status==="dirty"?(r.dirty(),b1(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})});{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Le:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Tl({in:t,out:r,typeName:Ae.ZodPipeline})}}const k1=(e,t={},r)=>e?Ai.create().superRefine((n,a)=>{if(!e(n)){const i=typeof t=="function"?t(n):t,o=typeof i=="string"?{message:i}:i;a.addIssue(Z(C({code:"custom"},o),{fatal:r}))}}):Ai.create(),zS={object:xt.lazycreate};var Ae;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(Ae||(Ae={}));const $S=(e,t={message:`Input not instance of ${e.name}`})=>k1(r=>r instanceof e,t,!0),ie=Mi.create,Ur=rl.create,US=Du.create,FS=nl.create,ua=al.create,BS=Is.create,HS=Mu.create,WS=sl.create,VS=il.create,KS=Ai.create,GS=ws.create,ZS=na.create,qS=Au.create,kg=cn.create,se=xt.create,YS=xt.strictCreate,QS=ol.create,JS=ud.create,XS=ll.create,eE=On.create,tE=dd.create,rE=Ou.create,nE=Ms.create,aE=bi.create,sE=cl.create,iE=ul.create,oE=Ka.create,lE=dl.create,cE=Ri.create,I0=sn.create,uE=aa.create,dE=As.create,fE=sn.createWithPreprocess,hE=Tl.create,mE=()=>ie().optional(),pE=()=>Ur().optional(),gE=()=>ua().optional(),xE={string:e=>Mi.create(Z(C({},e),{coerce:!0})),number:e=>rl.create(Z(C({},e),{coerce:!0})),boolean:e=>al.create(Z(C({},e),{coerce:!0})),bigint:e=>nl.create(Z(C({},e),{coerce:!0})),date:e=>Is.create(Z(C({},e),{coerce:!0}))},vE=Le;var D=Object.freeze({__proto__:null,defaultErrorMap:tl,setErrorMap:PS,getErrorMap:Tu,makeIssue:Cu,EMPTY_PATH:IS,addIssueToContext:je,ParseStatus:Er,INVALID:Le,DIRTY:b1,OK:Jt,isAborted:rm,isDirty:nm,isValid:Pu,isAsync:Iu,get util(){return rt},ZodParsedType:xe,getParsedType:Ea,ZodType:Ve,ZodString:Mi,ZodNumber:rl,ZodBigInt:nl,ZodBoolean:al,ZodDate:Is,ZodSymbol:Mu,ZodUndefined:sl,ZodNull:il,ZodAny:Ai,ZodUnknown:ws,ZodNever:na,ZodVoid:Au,ZodArray:cn,get objectUtil(){return Ru},ZodObject:xt,ZodUnion:ol,ZodDiscriminatedUnion:ud,ZodIntersection:ll,ZodTuple:On,ZodRecord:dd,ZodMap:Ou,ZodSet:Ms,ZodFunction:bi,ZodLazy:cl,ZodLiteral:ul,ZodEnum:Ka,ZodNativeEnum:dl,ZodPromise:Ri,ZodEffects:sn,ZodTransformer:sn,ZodOptional:aa,ZodNullable:As,ZodDefault:fl,ZodCatch:Lu,ZodNaN:Du,BRAND:DS,ZodBranded:N1,ZodPipeline:Tl,custom:k1,Schema:Ve,ZodSchema:Ve,late:zS,get ZodFirstPartyTypeKind(){return Ae},coerce:xE,any:KS,array:kg,bigint:FS,boolean:ua,date:BS,discriminatedUnion:JS,effect:I0,enum:oE,function:aE,instanceof:$S,intersection:XS,lazy:sE,literal:iE,map:rE,nan:US,nativeEnum:lE,never:ZS,null:VS,nullable:dE,number:Ur,object:se,oboolean:gE,onumber:pE,optional:uE,ostring:mE,pipeline:hE,preprocess:fE,promise:cE,record:tE,set:nE,strictObject:YS,string:ie,symbol:HS,transformer:I0,tuple:eE,undefined:WS,union:QS,unknown:GS,void:qS,NEVER:vE,ZodIssueCode:de,quotelessJson:CS,ZodError:ra}),Nr=function(){function e(){var r,n,a,i,o,l,c,u,d,f,h,p,g,m,y,b,x,v,k,j,M,N,E,A,O,F,G;Kr(this,e),this.initConfig=window.APP_CONFIG;var ne=Ee.isString((r=this.initConfig)===null||r===void 0||(n=r.app)===null||n===void 0?void 0:n.headerColor)&&((a=this.initConfig)===null||a===void 0||(i=a.app)===null||i===void 0||(o=i.headerColor)===null||o===void 0?void 0:o.length)>0?uf:pc;this.hideIOSSafeAreaBottom=!!(!((l=this.initConfig)===null||l===void 0||(c=l.app)===null||c===void 0)&&c.hideIOSSafeAreaBottom),this.hideAndroidBottomNavigationBar=!!(!((u=this.initConfig)===null||u===void 0||(d=u.app)===null||d===void 0)&&d.hideAndroidBottomNavigationBar);var X,J,V=((f=this.initConfig)===null||f===void 0||(h=f.app)===null||h===void 0?void 0:h.leftButton)==="none"||((p=this.initConfig)===null||p===void 0||(g=p.app)===null||g===void 0?void 0:g.leftButton)==="home"?ya.HIDE_BACK:ya.SHOW_BACK,ae=((m=this.initConfig)===null||m===void 0||(y=m.app)===null||y===void 0?void 0:y.leftButton)==="home"||((b=this.initConfig)===null||b===void 0||(x=b.app)===null||x===void 0?void 0:x.leftButton)==="both"?ya.SHOW_HOME:ya.HIDE_HOME,U=new URL(location.href),Y=jS((v=this.initConfig)===null||v===void 0||(k=v.app)===null||k===void 0?void 0:k.statusBar);typeof((j=this.initConfig)===null||j===void 0||(M=j.app)===null||M===void 0?void 0:M.actionBarHidden)=="boolean"&&(ne=!((X=this.initConfig)===null||X===void 0||(J=X.app)===null||J===void 0)&&J.actionBarHidden?pc:uf),this.config={actionbarType:ne,buttonType:V,statusbarType:Y,dataConfig:{backgroundColor:((N=this.initConfig)===null||N===void 0||(E=N.app)===null||E===void 0?void 0:E.headerColor)||K2,textColor:((A=this.initConfig)===null||A===void 0||(O=A.app)===null||O===void 0?void 0:O.textColor)||"",textAlign:((F=this.initConfig)===null||F===void 0||(G=F.app)===null||G===void 0?void 0:G.textAlign)||G2,viewInLeftType:V,confirmToExit:1},homeConfig:{enable:ae,url:"".concat(vg,"/").concat($t,"/").concat(U.search)}}}var t=e.prototype;return t.setNavigationBarTitle=function(r){return S(function(){return _(this,function(n){return[2,new Promise(function(a,i){be("CHANGE_TITLE_HEADER",{title:r},{success:function(){a(),document.title=r},fail:function(o){i(o)}},{timeout:!1})})]})})()},t.setNavigationBarLeftButton=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.config.dataConfig.confirmToExit,a=this;return S(function(){var i,o;return _(this,function(l){return(r===void 0?"undefined":Ii(r))===void 0&&(r===void 0?"undefined":Ii(r))===null||(i=r==="none"||r==="home"?ya.HIDE_BACK:ya.SHOW_BACK,o=r==="home"||r==="both"?ya.SHOW_HOME:ya.HIDE_HOME,a.config.buttonType=i,a.config.dataConfig.viewInLeftType=i,a.config.homeConfig.enable=o),a.config.dataConfig.confirmToExit=n,[2,new Promise(function(c,u){be("CHANGE_ACTIONBAR_LEFTBUTTON_TYPE",ut({},a.config),{success:function(){c()},fail:function(d){u(d)}},{timeout:!1})})]})})()},t.setAndroidBottomNavigationBar=function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this;return S(function(){var a,i,o;return _(this,function(l){return i=r?ju.hide:ju.show,o=(a=bt())===null||a===void 0?void 0:a.platform,[2,new Promise(function(c,u){if(!(o!=null&&o.isAndroid))return c();be("CHANGE_BOTTOMBAR",{bottombarType:i},{success:function(){n.hideAndroidBottomNavigationBar=!!r,window.ANDROID_BOTTOM_NAVIGATION_BAR_HIDDEN=!!r,c()},fail:function(d){u(d)}},{timeout:!1})})]})})()},t.setIOSBottomSafeArea=function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this;return S(function(){var a,i,o;return _(this,function(l){return i=r?_u.hide:_u.show,o=(a=bt())===null||a===void 0?void 0:a.platform,[2,new Promise(function(c,u){if(!(o!=null&&o.isIOS))return c();be("CHANGE_BOTTOMBAR",{bottombarType:i},{success:function(){n.hideIOSSafeAreaBottom=!!r,window.IOS_BOTTOM_SAFE_AREA_HIDDEN=!!r,c()},fail:function(d){u(d)}},{timeout:!1,delay:200})})]})})()},t.configHeader=function(r){var n=this;return S(function(){var a;return _(this,function(i){return a=n.config,Ee.isString(r.headerColor)&&(a.dataConfig.backgroundColor=r.headerColor),Ee.isString(r.headerTextColor)&&(a.dataConfig.textColor=r.headerTextColor),Ee.isString(r.textAlign)&&(r.textAlign==="left"?a.dataConfig.textAlign=Su.left:r.textAlign==="center"&&(a.dataConfig.textAlign=Su.center)),r.hideActionBar===!0?a.actionbarType=pc:r.hideActionBar===!1&&(a.actionbarType=uf),r.statusBarType==="normal"?a.statusbarType=Pn.normal:r.statusBarType==="hidden"?a.statusbarType=Pn.hidden:r.statusBarType==="transparent"&&(a.statusbarType=Pn.transparent),[2,new Promise(function(o,l){be("CHANGE_ACTIONBAR",ut({},a),{success:function(){var c;n.config=ut({},a);var u=(c=bt())===null||c===void 0?void 0:c.platform;window.STATUS_BAR_TYPE=kS(n.config.statusbarType),window.ACTION_BAR_HIDDEN=n.config.actionbarType===pc;var d=document==null?void 0:document.querySelector(":root");if(u!=null&&u.isAndroid){var f=0;if((r.statusBarType==="hidden"||r.statusBarType==="transparent")&&r.hideActionBar){var h=window.ANDROID_STATUS_BAR_HEIGHT;isNaN(h)&&(h=Math.round(ZaloJavaScriptInterface.getStatusBarHeight()/window.devicePixelRatio)),f=h}f?d==null||d.style.setProperty("--zaui-safe-area-inset-top","".concat(f,"px")):d==null||d.style.setProperty("--zaui-safe-area-inset-top","env(safe-area-inset-top, 0px)")}o()},fail:function(c){l(c)}},{timeout:!1})})]})})()},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}().getInstance(),yE=[se({title:ie()}).optional()];function bE(e){return om.apply(this,arguments)}function om(){return om=S(function(e){return _(this,function(t){return[2,W("setNavigationBarTitle",yE,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Nr.setNavigationBarTitle(n.title)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setNavigationBarTitle",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),om.apply(this,arguments)}var wE=[se({color:ie(),textColor:D.enum(["black","white"]).optional(),statusBarColor:ie().optional()}).optional()];function NE(e){return lm.apply(this,arguments)}function lm(){return lm=S(function(e){return _(this,function(t){return[2,W("setNavigationBarColor",wE,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Nr.configHeader({hideActionBar:!(n.color.length>0),headerTextColor:n.textColor,headerColor:n.color.length>0?n.color:n.statusBarColor})]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setNavigationBarColor",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),lm.apply(this,arguments)}var kE=[se({type:D.enum(["none","back","home","both"])}).optional()];function jE(e){return cm.apply(this,arguments)}function cm(){return cm=S(function(e){return _(this,function(t){return[2,W("setNavigationBarLeftButton",kE,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Nr.setNavigationBarLeftButton(n.type)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setNavigationBarLeftButton",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),cm.apply(this,arguments)}function j1(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function _E(e,t){return t.get?t.get.call(e):t.value}function Qe(e,t){var r=j1(e,t,"get");return _E(e,r)}function SE(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ns(e,t,r){SE(e,t),t.set(e,r)}function EE(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function Oi(e,t,r){var n=j1(e,t,"set");return EE(e,n,r),r}var _1=function(){function e(){Kr(this,e)}var t=e.prototype;return t.getSynchronize=function(r){return new Map},t.setSynchronize=function(r){return{errorKeys:[]}},t.getInfoSynchronize=function(){return{currentSize:0,limitSize:0}},t.removeSynchronize=function(r){return{errorKeys:[]}},t.clearSynchronize=function(){},t.getItem=function(r){return this.getSynchronize([r]).get(r)||null},t.setItem=function(r,n){if(this.setSynchronize(e1({},r,n)).errorKeys.length>0)throw new Error("Failed to set item: ".concat(r))},t.removeItem=function(r){this.removeSynchronize([r])},t.clear=function(){this.clearSynchronize()},t.getStorageInfo=function(){return this.getInfoSynchronize()},e}(),os=new WeakMap,en=new WeakMap,Kn=new WeakMap,TE=function(e){Sl(r,e);var t=El(r);function r(a){var i;return Kr(this,r),i=t.call(this),Ns(ur(i),os,{writable:!0,value:localStorage}),Ns(ur(i),en,{writable:!0,value:void 0}),Ns(ur(i),Kn,{writable:!0,value:void 0}),Oi(ur(i),Kn,{keys:new Set,currentSize:0,limitSize:Po}),Oi(ur(i),en,a),i.findAllCurrentDataByApp(a),i}var n=r.prototype;return n.findAllCurrentDataByApp=function(a){try{var i;for(i in Qe(this,os))a&&i.split("_")[0]!==a||Qe(this,Kn).keys.add(i)}catch(o){}},n.get=function(a){var i=this,o=new Map;return a.forEach(function(l){o.set(l,i.getSync(l))}),Promise.resolve(o)},n.getSync=function(a){return Qe(this,en)&&(a="".concat(Qe(this,en),"_").concat(a)),Qe(this,Kn).keys.has(a)?Qe(this,os).getItem(a):null},n.set=function(a){var i=this;return S(function(){return _(this,function(o){return Object.entries(a).forEach(function(l){var c=An(l,2),u=c[0],d=c[1];i.setSync(u,d.replace(/\\"/g,'"'))}),[2,Promise.resolve({errorKeys:[]})]})})()},n.setSync=function(a,i){Qe(this,en)&&(a="".concat(Qe(this,en),"_").concat(a)),Qe(this,os).setItem(a,i),Qe(this,Kn).keys.add(a)},n.getInfo=function(){var a=this;return S(function(){return _(this,function(i){return[2,Promise.resolve(a.getInfoSync())]})})()},n.getInfoSync=function(){var a=wS(Qe(this,os),Qe(this,en));return{currentSize:Ee.isNumber(a)?Number((a/1024).toFixed(2)):0,limitSize:Number((Po/1024).toFixed(2))}},n.remove=function(a){var i=this;return S(function(){return _(this,function(o){return a.forEach(function(l){i.removeSync(l)}),[2,Promise.resolve({errorKeys:[]})]})})()},n.removeSync=function(a){Qe(this,en)&&(a="".concat(Qe(this,en),"_").concat(a)),Qe(this,Kn).keys.has(a)&&(Qe(this,os).removeItem(a),Qe(this,Kn).keys.delete(a))},n.clearAsync=function(){var a=this;return S(function(){return _(this,function(i){return[2,Promise.resolve(a.clearSync())]})})()},n.clearSync=function(){var a=this;Qe(this,Kn).keys.forEach(function(i){Qe(a,en)&&i.indexOf(Qe(a,en))<0||(Qe(a,os).removeItem(i),Qe(a,Kn).keys.delete(i))})},n.setSynchronize=function(a){var i=this;return Object.entries(a).forEach(function(o){var l=An(o,2),c=l[0],u=l[1];i.setSync(c,u)}),{errorKeys:[]}},n.getSynchronize=function(a){var i=this,o=new Map;return a.forEach(function(l){o.set(l,i.getSync(l))}),o},n.getInfoSynchronize=function(){return this.getInfoSync()},n.clearSynchronize=function(){this.clearSync()},r}(_1),Mr=new WeakMap,M0=new WeakMap,CE=function(e){Sl(r,e);var t=El(r);function r(a){var i;return Kr(this,r),i=t.call(this),Ns(ur(i),Mr,{writable:!0,value:void 0}),Ns(ur(i),M0,{writable:!0,value:void 0}),Oi(ur(i),M0,{keys:new Set,currentSize:0,limitSize:Po}),Oi(ur(i),Mr,a),i}var n=r.prototype;return n.get=function(a){var i=this;return S(function(){return _(this,function(o){return[2,new Promise(function(l,c){be("ZBROWSER_MPDS",{mpds_action:"mpds.get",mpds_data:{keys:a},appId:Qe(i,Mr)},{success:function(u){var d=new Map;u&&u.mpds_data&&u.mpds_data.map&&(d=new Map(Object.entries(u.mpds_data.map))),l(d)},fail:function(u){c(u)}},{isMultiCallback:!1})})]})})()},n.getSynchronize=function(a){var i={mpds_action:"mpds.get",mpds_data:{keys:a},appId:Qe(this,Mr)},o=new Map,l=this.handleResult(i);return l&&l.mpds_data&&l.mpds_data.map&&(o=new Map(Object.entries(l.mpds_data.map))),o},n.set=function(a){var i=this;return S(function(){return _(this,function(o){return[2,new Promise(function(l,c){be("ZBROWSER_MPDS",{mpds_action:"mpds.set",mpds_data:{map:a},appId:Qe(i,Mr)},{success:function(u){var d=[];u&&u.mpds_data&&u.mpds_data.error_keys&&(d=u.mpds_data.error_keys),l({errorKeys:d})},fail:function(u){c(u)}},{isMultiCallback:!1})})]})})()},n.setSynchronize=function(a){var i={mpds_action:"mpds.set",mpds_data:{map:a},appId:Qe(this,Mr)},o=[],l=this.handleResult(i);return l&&l.mpds_data&&l.mpds_data.error_keys&&(o=l.mpds_data.error_keys),{errorKeys:o}},n.getInfo=function(){var a=this;return S(function(){return _(this,function(i){return[2,new Promise(function(o,l){be("ZBROWSER_MPDS",{mpds_action:"mpds.get.size",mpds_data:{},appId:Qe(a,Mr)},{success:function(c){var u=0;c&&c.mpds_data&&c.mpds_data.size&&(u=c.mpds_data.size),o({currentSize:Ee.isNumber(u)?Number(Number(u)/1024):0,limitSize:Number(Po/1024)})},fail:function(c){l(c)}},{isMultiCallback:!1})})]})})()},n.getInfoSynchronize=function(){var a={mpds_action:"mpds.get.size",mpds_data:{},appId:Qe(this,Mr)},i=0,o=this.handleResult(a);return o&&o.mpds_data&&o.mpds_data.size&&(i=o.mpds_data.size),{currentSize:Ee.isNumber(i)?Number(Number(i)/1024):0,limitSize:Number(Po/1024)}},n.remove=function(a){var i=this;return S(function(){return _(this,function(o){return[2,new Promise(function(l,c){be("ZBROWSER_MPDS",{mpds_action:"mpds.remove.key",mpds_data:{keys:a},appId:Qe(i,Mr)},{success:function(u){var d=[];u&&u.mpds_data&&u.mpds_data.error_keys&&(d=u.mpds_data.error_keys),l({errorKeys:d})},fail:function(u){c(u)}},{isMultiCallback:!1})})]})})()},n.removeSynchronize=function(a){var i={mpds_action:"mpds.remove.key",mpds_data:{keys:a},appId:Qe(this,Mr)},o=[],l=this.handleResult(i);return l&&l.mpds_data&&l.mpds_data.error_keys&&(o=l.mpds_data.error_keys),{errorKeys:o}},n.clearAsync=function(){var a=this;return S(function(){return _(this,function(i){return[2,new Promise(function(o,l){be("ZBROWSER_MPDS",{mpds_action:"mpds.clear.appData",mpds_data:{},appId:Qe(a,Mr)},{success:function(){o()},fail:function(c){l(c)}},{isMultiCallback:!1})})]})})()},n.clearSynchronize=function(){var a={mpds_action:"mpds.clear.appData",mpds_data:{},appId:Qe(this,Mr)};this.handleResult(a)},n.handleResult=function(a){var i=null;try{var o=ZaloJavaScriptInterface.processActionMPDS(JSON.stringify(a));if(o=JSON.parse(o)){if(o.error_code===0)return o.data;i=a1(o).toJSON()}}catch(l){i=l}finally{if(i!==null)throw i}return{}},r}(_1),mf,pf,S1=function(){function e(){Kr(this,e)}var t=e.prototype;return t.getDataFromStorage=function(r){var n=this;return S(function(){var a,i;return _(this,function(o){switch(o.label){case 0:return[4,n.getInstance().get(r)];case 1:return a=o.sent(),i={},a.forEach(function(l,c){i[c]=i1(l)}),[2,i]}})})()},t.getItem=function(r){return this.getInstance().getItem(r)},t.putDataToStorage=function(r){var n=this;return S(function(){var a,i;return _(this,function(o){switch(o.label){case 0:return a=n.getInstance(),i={},Object.entries(r).forEach(function(l){var c=An(l,2),u=c[0],d=c[1];Ee.isUndefined(d)||Ee.isNull(d)||(i[u]=l1(d))}),[4,a.set(i)];case 1:return[2,o.sent()]}})})()},t.setItem=function(r,n){return this.getInstance().setItem(r,n)},t.removeDataFromStorage=function(r){var n=this;return S(function(){return _(this,function(a){switch(a.label){case 0:return[4,n.getInstance().remove(r)];case 1:return[2,a.sent()]}})})()},t.removeItem=function(r){this.getInstance().removeItem(r)},t.clearStorage=function(){var r=this;return S(function(){return _(this,function(n){switch(n.label){case 0:return[4,r.getInstance().clearAsync()];case 1:return n.sent(),[2]}})})()},t.clearStorageSync=function(){this.getInstance().clear()},t.getStorageInfo=function(){var r=this;return S(function(){return _(this,function(n){switch(n.label){case 0:return[4,r.getInstance().getInfo()];case 1:return[2,n.sent()]}})})()},t.getStorageInfoSync=function(){return this.getInstance().getStorageInfo()},e}(),gf=new WeakMap,PE=function(e){Sl(r,e);var t=El(r);function r(n){var a;return Kr(this,r),a=t.call(this),Ns(ur(a),gf,{writable:!0,value:void 0}),Oi(ur(a),gf,n),a}return r.prototype.getInstance=function(){return new TE(Qe(this,gf))},r}(S1),xf=new WeakMap,IE=function(e){Sl(r,e);var t=El(r);function r(n){var a;return Kr(this,r),a=t.call(this),Ns(ur(a),xf,{writable:!0,value:void 0}),Oi(ur(a),xf,n),a}return r.prototype.getInstance=function(){return new CE(Qe(this,xf))},r}(S1),E1=new PE($t),A0=zs(),ME=((mf=bt())===null||mf===void 0?void 0:mf.platformName)||"unknown";A0>0&&A0>=H2[ME]&&(!((pf=bt())===null||pf===void 0)&&pf.appEnv.isMp)&&(E1=new IE($t));var $n=E1,AE=[se({data:D.record(ie(),D.any())}).optional()];function RE(e){return um.apply(this,arguments)}function um(){return um=S(function(e){return _(this,function(t){return[2,W("setStorage",AE,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp||R.isMpWeb?[4,$n.putDataToStorage(n.data)]:[3,2];case 1:return[2,a.sent()];case 2:return[2,Promise.reject(oe("setStorage",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),um.apply(this,arguments)}var OE=[se({keys:D.array(ie())}).optional()];function LE(e){return dm.apply(this,arguments)}function dm(){return dm=S(function(e){return _(this,function(t){return[2,W("getStorage",OE,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp||R.isMpWeb?[4,$n.getDataFromStorage(n.keys)]:[3,2];case 1:return[2,a.sent()];case 2:return[2,Promise.reject(oe("getStorage",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),dm.apply(this,arguments)}function DE(e){return T1.apply(this,arguments)}function T1(){return(T1=S(function(e){return _(this,function(t){return[2,W("getStorageInfo",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp||R.isMpWeb?[4,$n.getStorageInfo()]:[3,2];case 1:return[2,r.sent()];case 2:return[2,Promise.reject(oe("getStorageInfo",{}))]}})}))]})})).apply(this,arguments)}var zE=[se({keys:D.array(ie())}).optional()];function $E(e){return fm.apply(this,arguments)}function fm(){return fm=S(function(e){return _(this,function(t){return[2,W("removeStorage",zE,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp||R.isMpWeb?[4,$n.removeDataFromStorage(n.keys)]:[3,2];case 1:return[2,a.sent()];case 2:return[2,Promise.reject(oe("removeStorage",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),fm.apply(this,arguments)}var UE=[se({prefix:ie().optional()}).optional()];function FE(e){return C1.apply(this,arguments)}function C1(){return(C1=S(function(e){return _(this,function(t){return[2,W("clearStorage",UE,[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp||R.isMpWeb?[4,$n.clearStorage()]:[3,2];case 1:return[2,r.sent()];case 2:return[2,Promise.reject(oe("clearStorage",{}))]}})}))]})})).apply(this,arguments)}var R0,BE=(R0=S(function(e,t){var r,n,a,i;return _(this,function(o){switch(o.label){case 0:return(n=t)?[3,2]:[4,c1()];case 1:n=!o.sent(),o.label=2;case 2:return r=n,[4,_e.getAccessToken(r)];case 3:return a=o.sent(),i="id,name,user_id_by_oa,is_sensitive",i=e?"".concat(i,",picture.type(").concat(e,")"):"".concat(i,",picture"),[4,fetch("".concat(ca.GET_USER_INFO,"?fields=").concat(i,"&miniapp_id=").concat($t),{headers:{access_token:a||""}}).then(function(){var l=S(function(c){var u,d,f,h,p,g;return _(this,function(m){switch(m.label){case 0:return[4,c.json()];case 1:if(f=m.sent(),(h=f==null?void 0:f.error)!==void 0&&h!==0)throw p=(f==null?void 0:f.message)||Oe.UNKNOWN_ERROR,new Tt(h,p);return g=f==null?void 0:f.user_id_by_oa,[2,{id:f==null?void 0:f.id,name:(f==null?void 0:f.name)||"",avatar:(f==null||(u=f.picture)===null||u===void 0||(d=u.data)===null||d===void 0?void 0:d.url)||"",idByOA:g,followedOA:!!(f!=null&&f.is_follower),isSensitive:f==null?void 0:f.is_sensitive}]}})});return function(c){return l.apply(this,arguments)}}())];case 4:return[2,o.sent()]}})}),function(e,t){return R0.apply(this,arguments)}),HE=[se({avatarType:D.enum(["small","normal","large"]).optional(),autoRequestPermission:D.boolean().default(!1).optional()}).optional()];function WE(e){return hm.apply(this,arguments)}function hm(){return hm=S(function(e){return _(this,function(t){return[2,W("getUserInfo",HE,[e],(r=S(function(n){var a,i,o;return _(this,function(l){switch(l.label){case 0:if(!R.isMp)return[3,4];a=n==null?void 0:n.avatarType,i=n==null?void 0:n.autoRequestPermission,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,BE(a,i)];case 2:return[2,{userInfo:l.sent()}];case 3:return o=l.sent(),[2,Promise.reject(o)];case 4:return R.isMpWeb?[2,Promise.resolve({userInfo:{id:"3368637342326461234",name:"User Name",avatar:"https://h5.zdn.vn/static/images/avatar.png"}})]:[2,Promise.reject(oe("getUserInfo",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),hm.apply(this,arguments)}var ro=function(e){return{NONE:e?-2:0,WIFI:e?0:1,"2G":2,"3G":e?15:2,"4G":e?13:2}},P1=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("WEBVIEW_NETWORKTYPE",{url:window.location.href,featureId:""},{success:function(n){var a,i,o,l=n.network,c=((a=bt())===null||a===void 0||(i=a.platform)===null||i===void 0?void 0:i.isAndroid)||!1;switch(l){case ro(c).NONE:o=fr.none;break;case ro(c).WIFI:o=fr.wifi;break;case ro(c)["2G"]:case ro(c)["3G"]:case ro(c)["4G"]:o=fr.cellular;break;default:o=fr.unknown}t(o)},fail:function(n){r(n)}},{})})]})});function VE(e){return I1.apply(this,arguments)}function I1(){return(I1=S(function(e){return _(this,function(t){return[2,W("getNetworkType",[],[e],S(function(){var r,n;return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,P1()]:[3,2];case 1:return[2,{networkType:a.sent()}];case 2:if(R.isMpWeb){switch(r=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r.effectiveType){case"none":n=fr.none;break;case"4g":n=fr.wifi;break;case"3g":case"2g":n=fr.cellular;break;default:n=fr.unknown}return[2,Promise.resolve({networkType:n})]}return[2,Promise.reject(oe("getNetworkType",{}))]}})}))]})})).apply(this,arguments)}function KE(e){Pt.getInstance().on(st.NetworkChanged,function(t){var r=t==null?void 0:t.state;P1().then(function(n){e({isConnected:r==="CONNECTED",networkType:n})})})}var GE=[D.function().args(se({isConnected:D.boolean(),networkType:D.enum(["none","wifi","cellular","unknown"])})).returns(D.void())];function ZE(e){return W("onNetworkStatusChange",GE,[e],function(t){var r=t;if(R.isMp)KE(r);else if(R.isMpWeb){var n=navigator.connection||navigator.mozConnection||navigator.webkitConnection,a=n.effectiveType;n.addEventListener("change",function(){var i;switch(a){case"none":i=fr.none;break;case"4g":i=fr.wifi;break;case"3g":case"2g":i=fr.cellular;break;default:i=fr.unknown}r({isConnected:!0,networkType:i})})}})}var O0,qE=(O0=S(function(e){var t,r,n,a,i,o;return _(this,function(l){return o={subaction:0,scanning_type:Ee.isNumber(e==null?void 0:e.scanningType)?e.scanningType:0,data:{scan_from_source:Ee.isString(e==null?void 0:e.scanFromSource)?e.scanFromSource:"",expire:Ee.isNumber(e==null?void 0:e.expire)?e.expire:3e3,monitor_interval:Ee.isNumber(e==null?void 0:e.monitorInterval)?e.monitorInterval:60,domain:Ee.isString(e==null?void 0:e.domain)?e.domain:"",scan_config:{scan_time:Ee.isNumber(e==null||(t=e.scanConfig)===null||t===void 0?void 0:t.scanTime)?e.scanConfig.scanTime:15e3,time_between_scan:Ee.isNumber(e==null||(r=e.scanConfig)===null||r===void 0?void 0:r.timeBetweenScan)?e.scanConfig.timeBetweenScan:1e4,beacon_timeout:Ee.isNumber(e==null||(n=e.scanConfig)===null||n===void 0?void 0:n.beaconTimeout)?e.scanConfig.beaconTimeout:3e4,delayCheckConnectedTimeout:Ee.isNumber(e==null||(a=e.scanConfig)===null||a===void 0?void 0:a.delayCheckConnectedTimeout)?e.scanConfig.delayCheckConnectedTimeout:5e3,beaconConnectedTimeout:Ee.isNumber(e==null||(i=e.scanConfig)===null||i===void 0?void 0:i.beaconConnectedTimeout)?e.scanConfig.beaconConnectedTimeout:6e5},items:Array.isArray(e==null?void 0:e.items)?e==null?void 0:e.items:[]}},[2,new Promise(function(c,u){be("SCAN_IBEACON",ut({},o),{success:function(){c(!0)},fail:function(d){u(d)}},{})})]})}),function(e){return O0.apply(this,arguments)}),YE=[se({scanningType:D.number().refine(function(e){return[0,1].includes(e)},{message:"The type must be either 0 or 1"}).default(0).optional(),expire:D.number().optional(),monitorInterval:D.number().optional(),domain:D.string().optional(),scanConfig:se({scanTime:D.number().optional(),timeBetweenScan:D.number().optional(),beaconTimeout:D.number().optional(),delayCheckConnectedTimeout:D.number().optional(),beaconConnectedTimeout:D.number().optional()}).optional(),items:D.array(se({id:D.string().optional(),distance:D.number().optional(),monitor:se({enable:D.boolean().optional(),movingRange:D.number().optional()}).optional()})).optional(),scanFromSource:D.string().optional()}).optional()];function QE(e){return M1.apply(this,arguments)}function M1(){return(M1=S(function(e){return _(this,function(t){return[2,W("startBeaconDiscovery",YE,[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,qE(e)]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve(!0)]:[2,Promise.reject(oe("startBeaconDiscovery",{}))]}})}))]})})).apply(this,arguments)}var JE=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("SCAN_IBEACON",{subaction:2},{success:function(){t(!0)},fail:function(n){r(n)}},{})})]})});function XE(e){return A1.apply(this,arguments)}function A1(){return(A1=S(function(e){return _(this,function(t){return[2,W("stopBeaconDiscovery",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,JE()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve(!0)]:[2,Promise.reject(oe("stopBeaconDiscovery",{}))]}})}))]})})).apply(this,arguments)}var eT=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("SCAN_IBEACON",{subaction:1},{success:function(n){var a={beacons:[]};Array.isArray(n)&&n.forEach(function(i){var o={uuid:i.uuid,major:i.major,minor:i.minor,distance:i.distance,rssi:i.rssi};a.beacons.push(o)}),t(a)},fail:function(n){r(n)}},{isMultiCallback:!0})})]})});function tT(e){return R1.apply(this,arguments)}function R1(){return(R1=S(function(e){return _(this,function(t){return[2,W("getBeacons",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,eT()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({beacons:[]})]:[2,Promise.reject(oe("getBeacons",{}))]}})}))]})})).apply(this,arguments)}var rT=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("WINDOW_CLOSE",{},{success:function(n){t(n)},fail:function(n){r(n)}},{})})]})});function nT(e){return O1.apply(this,arguments)}function O1(){return(O1=S(function(e){return _(this,function(t){return[2,W("closeApp",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,rT()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("closeApp",{}))]}})}))]})})).apply(this,arguments)}var aT=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("OPEN_QR",{skipOpenLink:!0},{success:function(n){t(n)},fail:function(n){r(n)}},{})})]})});function sT(e){return L1.apply(this,arguments)}function L1(){return(L1=S(function(e){return _(this,function(t){return[2,W("scanQRCode",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,aT()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({content:""})]:[2,Promise.reject(oe("scanQRCode",{}))]}})}))]})})).apply(this,arguments)}var L0,jg=(L0=S(function(e,t,r,n){return _(this,function(a){return[2,new Promise(function(i,o){be("OPEN_PROFILE",{uId:e,type:Uh[t],zapp:zn,sourceId:r,sourceIndex:n},{success:function(){i()},fail:function(l){o(l)}},{})})]})}),function(e,t,r,n){return L0.apply(this,arguments)}),iT=[se({id:ie(),type:D.enum(["user","oa","aliasOA"]),sourceId:D.any().optional(),sourceIndex:D.any().optional()}).optional()];function oT(e){return mm.apply(this,arguments)}function mm(){return mm=S(function(e){return _(this,function(t){return[2,W("openProfile",iT,[e],(r=S(function(n){var a,i,o,l;return _(this,function(c){switch(c.label){case 0:return R.isMp?(a=n.id,i=n.type,o=n.sourceId,l=n.sourceIndex,[4,jg(a,i,o,l)]):[3,2];case 1:return[2,c.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openProfile",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),mm.apply(this,arguments)}var D0,lT=(D0=S(function(e,t){var r,n,a,i=arguments;return _(this,function(o){return r=i.length>2&&i[2]!==void 0?i[2]:"",n=i.length>3?i[3]:void 0,a=i.length>4?i[4]:void 0,[2,new Promise(function(l,c){be("OPEN_CHAT",{uId:e,type:Fh[t],msg:r,zapp:zn,sourceId:n,sourceIndex:a},{success:function(){l()},fail:function(u){c(u)}},{})})]})}),function(e,t){return D0.apply(this,arguments)}),cT=[se({id:ie(),type:D.enum(["user","oa"]),sourceId:D.any().optional(),sourceIndex:D.any().optional(),message:ie().optional()}).optional()];function uT(e){return pm.apply(this,arguments)}function pm(){return pm=S(function(e){return _(this,function(t){return[2,W("openChat",cT,[e],(r=S(function(n){var a,i,o,l,c;return _(this,function(u){switch(u.label){case 0:return R.isMp?(a=n.id,i=n.type,o=n.message,l=n.sourceId,c=n.sourceIndex,[4,lT(a,i,o,l,c)]):[3,2];case 1:return[2,u.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openChat",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),pm.apply(this,arguments)}function da(e,t){return t=t!=null?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);a.push.apply(a,i)}return a}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var z0,dT=(z0=S(function(e,t){var r,n;return _(this,function(a){switch(r={},n=e,e){case"image":t!=null&&t.imageUrls?(n="multi_image",r={photoUrl:t==null?void 0:t.imageUrls}):r={photoUrl:t==null?void 0:t.imageUrl};break;case"link":r={link:t==null?void 0:t.link,title:t==null?void 0:t.title,thumb:t==null?void 0:t.thumb,description:t==null?void 0:t.description};break;case"profile":r={avt:t==null?void 0:t.avatar,uid:t==null?void 0:t.id,dpn:t==null?void 0:t.displayName}}return[2,new Promise(function(i,o){be("OPEN_POSTFEED",da(ut({type:Bh[n]},r),{zapp:zn}),{success:function(l){i({status:l==null?void 0:l.status,shareType:l==null?void 0:l.share_type,numberOfUser:l==null?void 0:l.uid_to_size})},fail:function(l){o(l)}},{})})]})}),function(e,t){return z0.apply(this,arguments)}),fT=[D.union([se({type:D.enum(["image"]),data:se({imageUrl:ie().url().optional(),imageUrls:D.array(ie().url()).optional()})}),se({type:D.enum(["link"]),data:se({link:ie().url(),title:ie().max(100).optional(),thumb:ie().url().optional(),description:ie().max(400).default("").optional()})}),se({type:D.enum(["profile"]),data:se({id:ie().optional()})})])];function hT(e){return gm.apply(this,arguments)}function gm(){return gm=S(function(e){return _(this,function(t){return[2,W("openPostFeed",fT,[e],(r=S(function(n){var a,i;return _(this,function(o){switch(o.label){case 0:return R.isMp?(a=n.type,i=n.data,[4,dT(a,i)]):[3,2];case 1:return[2,o.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({status:1,shareType:0,numberOfUser:0})]:[2,Promise.reject(oe("openPostFeed",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),gm.apply(this,arguments)}var $0,mT=($0=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("FOLLOW_OA",{uid:e,showDialogConfirm:!0,forceUpdate:!0,zapp:zn},{success:function(a){r(a)},fail:function(a){n(a)}},{timeout:!1})})]})}),function(e){return $0.apply(this,arguments)}),pT=[se({id:ie(),showDialogConfirm:D.boolean().optional()}).optional()];function gT(e){return xm.apply(this,arguments)}function xm(){return xm=S(function(e){return _(this,function(t){return[2,W("followOA",pT,[e],(r=S(function(n){var a;return _(this,function(i){switch(i.label){case 0:return R.isMp?(a=n.id,[4,mT(a)]):[3,2];case 1:return[2,i.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("followOA",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),xm.apply(this,arguments)}var U0,xT=(U0=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("UNFOLLOW_OA",{uid:e,forceUpdate:!0,zapp:zn},{success:function(){r()},fail:function(a){n(a)}},{})})]})}),function(e){return U0.apply(this,arguments)}),vT=[se({id:ie()}).optional()];function yT(e){return vm.apply(this,arguments)}function vm(){return vm=S(function(e){return _(this,function(t){return[2,W("unfollowOA",vT,[e],(r=S(function(n){var a;return _(this,function(i){switch(i.label){case 0:return R.isMp?(a=n.id,[4,xT(a)]):[3,2];case 1:return[2,i.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("unfollowOA",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),vm.apply(this,arguments)}var F0,D1=(F0=S(function(e,t,r,n,a,i){var o,l,c,u,d,f,h,p;return _(this,function(g){switch(g.label){case 0:return c=new URL(location.href),u=new URLSearchParams,d="".concat(c.pathname.replace(qw,"")).concat(c.search),i&&(d="/".concat(e).concat(i[0]==="/"?"":"/").concat(i)),!(f=new URL("".concat(Zw).concat(d))).searchParams.has("env")&&((o=window.APP_ENV)===null||o===void 0?void 0:o.length)>0&&f.searchParams.set("env",window.APP_ENV),!f.searchParams.has("version")&&((l=window.APP_VERSION)===null||l===void 0?void 0:l.length)>0&&f.searchParams.set("version",window.APP_VERSION),u.append("title",r),u.append("description",n||""),u.append("thumbnail",a||""),u.append("url",f.href),u.append("accessToken",t||""),h={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(ca.CREATE_SHARE_LINK,ut({method:"POST",body:u},h))];case 1:return[4,g.sent().json()];case 2:if(!(p=g.sent())||p.err!==0)throw pt.error.cannotGetShareInfo();return f.search="".concat(f.search,"&zshareId=").concat(p.data.shareId),[2,da(ut({},p.data),{shareableLink:f.href})]}})}),function(e,t,r,n,a,i){return F0.apply(this,arguments)}),B0,bT=(B0=S(function(e,t){var r,n,a,i,o,l,c,u,d,f,h;return _(this,function(p){switch(p.label){case 0:switch(r={},n=e,e){case"text":return[3,1];case"image":return[3,2];case"gif":return[3,3];case"video":return[3,4];case"link":return[3,5];case"oa":return[3,6];case"zmp":return[3,7];case"zmp_deep_link":return[3,10]}return[3,13];case 1:return r={text:t==null?void 0:t.text,desc:(t==null?void 0:t.desc)||(t==null?void 0:t.description),autoParseLink:t!=null&&t.autoParseLink?1:0},[3,14];case 2:return o=[],l=zs(),c=((i=bt())===null||i===void 0?void 0:i.platformName)||"unknown",Number(l)>=B2[c]&&(n="multi_image"),Array.isArray(t==null?void 0:t.imageUrls)&&(t==null?void 0:t.imageUrls.length)>0?o=t==null?void 0:t.imageUrls:o.push(t==null?void 0:t.imageUrl),r={photoUrls:o,photoUrl:t==null?void 0:t.imageUrl,caption:t==null?void 0:t.caption},[3,14];case 3:return r={photoUrl:t==null?void 0:t.imageUrl,gifUrl:t==null?void 0:t.gifUrl,width:t==null?void 0:t.width,height:t==null?void 0:t.height},[3,14];case 4:return r={videoThumb:t==null?void 0:t.videoThumb,videoUrl:t==null?void 0:t.videoUrl,width:t==null?void 0:t.width,height:t==null?void 0:t.height},[3,14];case 5:return r={link:t==null?void 0:t.link,chatOnly:t!=null&&t.chatOnly?1:0},[3,14];case 6:return r={uid:t==null?void 0:t.id},[3,14];case 7:case 10:return[4,_e.getAccessToken()];case 8:case 11:return a=p.sent(),[4,D1($t,a||"",(t==null?void 0:t.title)||"",(t==null?void 0:t.description)||"",(t==null?void 0:t.thumbnail)||"",t==null?void 0:t.path)];case 9:return u=p.sent(),r={data:{ZInstantAPIInfo:{url:"".concat(u.zinstantApi),zinstantdata_id:"templateId=".concat(u.ztemplateId,"&appId=").concat($t,"&shareId=").concat(u.shareId)},previewMsgText:{msg:{en:"Zalo Mini Program",vi:"Chng trnh nh"}},enableReactions:1}},[3,14];case 12:return d=p.sent().shareableLink,f=new URL(d),h=f.searchParams.getAll("zshareId"),f.searchParams.delete("zshareId"),h.length>0&&f.searchParams.append("zshareId",h[0]),r={link:f.href,chatOnly:0},[3,14];case 13:return[3,14];case 14:return[2,new Promise(function(g,m){be("OPEN_SHARESHEET",da(ut({type:Wh[n]},r),{zapp:zn}),{success:function(y){g({status:y==null?void 0:y.status,shareType:y==null?void 0:y.share_type,numberOfUser:y==null?void 0:y.uid_to_size})},fail:function(y){m(y)}},{timeout:!1})})]}})}),function(e,t){return B0.apply(this,arguments)}),wT=[D.union([se({type:D.enum(["text"]),data:se({text:ie(),description:ie().default("").optional(),autoParseLink:D.boolean().default(!1).optional()})}),se({type:D.enum(["image"]),data:se({imageUrl:ie().url().optional(),imageUrls:D.array(ie().url()).max(10).optional()})}),se({type:D.enum(["link"]),data:se({link:ie().url(),chatOnly:D.boolean().optional()})}),se({type:D.enum(["oa"]),data:se({id:ie()})}),se({type:D.enum(["gif"]),data:se({gifUrl:ie().url(),imageUrl:ie().url().optional(),width:Ur().min(0).optional(),height:Ur().min(0).optional()})}),se({type:D.enum(["video"]),data:se({videoThumb:ie().url(),videoUrl:ie().url(),width:Ur().min(0).optional(),height:Ur().min(0).optional()})}),se({type:D.enum(["zmp","zmp_deep_link"]),data:se({title:ie().max(100),thumbnail:ie().url(),path:ie().optional(),description:ie().max(400).default("").optional()})})])];function NT(e){return ym.apply(this,arguments)}function ym(){return ym=S(function(e){return _(this,function(t){return[2,W("openShareSheet",wT,[e],(r=S(function(n){var a,i;return _(this,function(o){switch(o.label){case 0:return R.isMp?(a=n.type,i=n.data,[4,bT(a,i)]):[3,2];case 1:return[2,o.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({status:2,shareType:0,numberOfUser:0})]:[2,Promise.reject(oe("openShareSheet",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),ym.apply(this,arguments)}var kT=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("REQUEST_PERMISSION_CAMERA",{},{success:function(n){var a,i;!((a=bt())===null||a===void 0||(i=a.platform)===null||i===void 0)&&i.isAndroid?t({userAllow:n.error_code===void 0||(n==null?void 0:n.error_code)>=0,message:n.error_code===void 0?"User allowed":n==null?void 0:n.error_message}):t({userAllow:(n==null?void 0:n.error_code)>=0,message:n==null?void 0:n.error_message})},fail:function(n){var a,i;!((a=bt())===null||a===void 0||(i=a.platform)===null||i===void 0)&&i.isAndroid&&typeof(n==null?void 0:n.code)=="number"?t({userAllow:(n==null?void 0:n.code)>=0,message:n==null?void 0:n.message}):r(n)}},{isMultiCallback:!0})})]})});function jT(e){return z1.apply(this,arguments)}function z1(){return(z1=S(function(e){return _(this,function(t){return[2,W("requestCameraPermission",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return[4,kT()];case 1:return[2,r.sent()]}})}))]})})).apply(this,arguments)}var H0,_T=(H0=S(function(e,t,r){return _(this,function(n){return[2,new Promise(function(a,i){be("CREATE_SHORTCUT",{url:e,title:t,iconUrl:r},{success:function(o){a(o)},fail:function(o){i(o)}},{})})]})}),function(e,t,r){return H0.apply(this,arguments)}),_g=S(function(){var e,t,r,n=arguments;return _(this,function(a){switch(a.label){case 0:return e=n.length>0&&n[0]!==void 0?n[0]:$t,t=n.length>1&&n[1]!==void 0?n[1]:0,r=g1(),[4,gS(e,t,r.version)];case 1:return[2,a.sent()]}})}),W0,Sg=(W0=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("OPEN_OUTAPP",{url:e},{success:function(){r()},fail:function(a){n(a)}},{})})]})}),function(e){return W0.apply(this,arguments)}),ST=[se({params:D.record(ie(),ie()).optional()}).optional()];function ET(e){return bm.apply(this,arguments)}function bm(){return bm=S(function(e){return _(this,function(t){return[2,W("createShortcut",ST,[e],(r=S(function(n){var a,i,o,l,c,u,d,f;return _(this,function(h){switch(h.label){case 0:return R.isMp?[4,_g($t,0)]:[3,6];case 1:return o=h.sent(),l=(a=bt())===null||a===void 0||(i=a.platform)===null||i===void 0?void 0:i.isIOS,c=o.logoUrl||o1("og:image:url")||"",u=o.name||document.title,(d=n!=null&&n.params?new URLSearchParams(n==null?void 0:n.params):new URLSearchParams).append("utm_source","zalo-shortcut"),d.append("utm_medium","default"),d.append("utm_campaign","default"),l?(d.append("appId",$t),d.append("appName",u),d.append("appIcon",c),f="https://mini.zalo.me/shortcut.html?".concat(d.toString()),[4,Sg(encodeURI(f))]):[3,3];case 2:return h.sent(),[3,5];case 3:return[4,_T("".concat(Zw,"/").concat($t,"/?").concat(d.toString()),u,c)];case 4:h.sent(),h.label=5;case 5:return[2,pt.success()];case 6:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("createShortcut",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),bm.apply(this,arguments)}var V0,TT=(V0=S(function(e,t,r){return _(this,function(n){return[2,new Promise(function(a,i){be("PROMPT_AUTHENTICATION",{secret_data:e,app_id:zn,ui:{title:t==null?void 0:t.title,sub_title:t==null?void 0:t.subTitle,negative_text:t==null?void 0:t.negativeButtonText},require_fingerprint:r?1:0},{success:function(o){var l,c,u,d;a({code:o==null?void 0:o.error_code,message:o==null?void 0:o.error_message,data:{domain:o==null||(l=o.data)===null||l===void 0?void 0:l.domain,code:o==null||(c=o.data)===null||c===void 0?void 0:c.error_code,message:o==null||(u=o.data)===null||u===void 0?void 0:u.error_message,payToken:o==null||(d=o.data)===null||d===void 0?void 0:d.pay_token}})},fail:function(o){i(o)}},{})})]})}),function(e,t,r){return V0.apply(this,arguments)}),CT=[se({secretData:ie(),ui:se({title:ie().default("Xc thc").optional(),subTitle:ie().default("S dng sinh trc hc ca bn  xc thc").optional(),negativeButtonText:ie().default("ng").optional()}).optional(),requireFingerprint:ua().default(!0).optional()}).optional()];function PT(e){return wm.apply(this,arguments)}function wm(){return wm=S(function(e){return _(this,function(t){return[2,W("openBioAuthentication",CT,[e],(r=S(function(n){var a,i,o;return _(this,function(l){switch(l.label){case 0:return R.isMp?(a=n.secretData,i=n.ui,o=n.requireFingerprint,[4,TT(a,i,o)]):[3,2];case 1:return[2,l.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({code:0,message:"OK",data:{domain:"",code:0,message:"",payToken:""}})]:[2,Promise.reject(oe("openBioAuthentication",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),wm.apply(this,arguments)}var IT=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("PROMPT_AUTHENTICATION_CHECK_STATE",{},{success:function(n){t(n==null?void 0:n.bio_state)},fail:function(n){r(n)}},{actionName:"action.prompt.authentication.check_state"})})]})});function MT(e){return $1.apply(this,arguments)}function $1(){return($1=S(function(e){return _(this,function(t){return[2,W("checkStateBioAuthentication",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,IT()]:[3,2];case 1:return[2,{bioState:r.sent()}];case 2:return R.isMpWeb?[2,Promise.resolve({bioState:""})]:[2,Promise.reject(oe("checkStateBioAuthentication",{}))]}})}))]})})).apply(this,arguments)}var K0,AT=(K0=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("SHOW_TOAST",{toast:e},{success:function(){r()},fail:function(a){n(a)}},{})})]})}),function(e){return K0.apply(this,arguments)}),RT=[se({message:ie()}).optional()];function OT(e){return Nm.apply(this,arguments)}function Nm(){return Nm=S(function(e){return _(this,function(t){return[2,W("showToast",RT,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,AT(n.message)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("showToast",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Nm.apply(this,arguments)}var LT=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("HIDE_KEYBOARD",{},{success:function(){t()},fail:function(n){r(n)}},{})})]})});function DT(e){return U1.apply(this,arguments)}function U1(){return(U1=S(function(e){return _(this,function(t){return[2,W("hideKeyboard",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,LT()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("hideKeyboard",{}))]}})}))]})})).apply(this,arguments)}var G0,zT=(G0=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("OPEN_PHONE",{phoneNum:e,phoneCode:e},{success:function(){r()},fail:function(a){n(a)}},{})})]})}),function(e){return G0.apply(this,arguments)}),$T=[se({phoneNumber:ie()})];function UT(e){return km.apply(this,arguments)}function km(){return km=S(function(e){return _(this,function(t){return[2,W("openPhone",$T,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,zT(n.phoneNumber)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openPhone",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),km.apply(this,arguments)}var Z0,FT=(Z0=S(function(e,t){return _(this,function(r){return[2,new Promise(function(n,a){be("OPEN_SMS",{content:t,phoneCode:e},{success:function(){n()},fail:function(i){a(i)}},{})})]})}),function(e,t){return Z0.apply(this,arguments)}),BT=[se({content:ie(),phoneNumber:ie()})];function HT(e){return jm.apply(this,arguments)}function jm(){return jm=S(function(e){return _(this,function(t){return[2,W("openSMS",BT,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,FT(n.phoneNumber,n.content)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openSMS",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),jm.apply(this,arguments)}var q0,WT=(q0=S(function(e){var t,r=arguments;return _(this,function(n){return t=r.length>1&&r[1]!==void 0?r[1]:"",[2,new Promise(function(a,i){be("VIEW_MYQR",{dpn:t,uid:e,zapp:zn},{success:function(){a()},fail:function(o){i(o)}},{timeout:!1})})]})}),function(e){return q0.apply(this,arguments)}),VT=[se({id:ie(),displayName:ie().default("").optional()})];function KT(e){return _m.apply(this,arguments)}function _m(){return _m=S(function(e){return _(this,function(t){return[2,W("viewOAQr",VT,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,WT(n.id,n.displayName)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("viewOAQr",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),_m.apply(this,arguments)}var Y0,Eg=(Y0=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("KEEP_SCREEN",{data:{keep_screen_on:e?1:0}},{success:function(){r()},fail:function(a){n(a)}},{})})]})}),function(e){return Y0.apply(this,arguments)}),GT=[se({keepScreenOn:ua()})];function ZT(e){return Sm.apply(this,arguments)}function Sm(){return Sm=S(function(e){return _(this,function(t){return[2,W("keepScreen",GT,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Eg(n.keepScreenOn)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("keepScreen",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Sm.apply(this,arguments)}function qT(e){return F1.apply(this,arguments)}function F1(){return(F1=S(function(e){return _(this,function(t){return[2,W("onKeepScreen",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,Eg(!0)]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("onKeepScreen",{}))]}})}))]})})).apply(this,arguments)}function YT(e){return B1.apply(this,arguments)}function B1(){return(B1=S(function(e){return _(this,function(t){return[2,W("offKeepScreen",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,Eg(!1)]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("offKeepScreen",{}))]}})}))]})})).apply(this,arguments)}var Q0,QT=(Q0=S(function(e,t,r){var n;return _(this,function(a){return n={},e?n={imageBase64Data:e}:t&&(n={imageUrl:t}),[2,new Promise(function(i,o){be("SAVE_IMAGE_GALLERY",da(ut({},n),{onProgress:r}),{success:function(){i()},fail:function(l){o(l)}},{})})]})}),function(e,t,r){return Q0.apply(this,arguments)}),JT=[se({imageBase64Data:ie().optional(),imageUrl:ie().url().optional()}).optional()];function XT(e){return Em.apply(this,arguments)}function Em(){return Em=S(function(e){return _(this,function(t){return[2,W("saveImageToGallery",JT,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,QT(n.imageBase64Data,n.imageUrl,n.onProgress)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("saveImageToGallery",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Em.apply(this,arguments)}var J0,eC=(J0=S(function(e,t){var r;return _(this,function(n){return r={videoUrl:e,onProgress:t},[2,new Promise(function(a,i){be("SAVE_VIDEO_GALLERY",ut({},r),{success:function(){a()},fail:function(o){i(o)}},{})})]})}),function(e,t){return J0.apply(this,arguments)}),tC=[se({videoUrl:ie().url()}).optional()];function rC(e){return Tm.apply(this,arguments)}function Tm(){return Tm=S(function(e){return _(this,function(t){return[2,W("saveVideoToGallery",tC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,eC(n.videoUrl,n.onProgress)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("saveVideoToGallery",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Tm.apply(this,arguments)}var X0,nC=(X0=S(function(e){var t,r,n,a,i,o,l=arguments;return _(this,function(c){switch(c.label){case 0:t=l.length>1&&l[1]!==void 0?l[1]:"/",r=l.length>2&&l[2]!==void 0?l[2]:{},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,_g(e,0)];case 2:return n=c.sent(),[3,4];case 3:return c.sent(),[3,4];case 4:a={appId:e},n&&(a.appName=n.name,a.appAvtUrl=n.logoUrl),i="".concat(vg,"/").concat(e).concat(t);try{o=new URL(i),Object.entries(r).forEach(function(u){var d=An(u,2),f=d[0],h=d[1];o.searchParams.append(f,String(h))}),i=o.href}catch(u){}return[2,new Promise(function(u,d){be("OPEN_MP",{mpUrl:i,mpInfo:a},{success:function(){u()},fail:function(f){d(f)}},{})})]}})}),function(e){return X0.apply(this,arguments)}),aC=[se({appId:ie(),path:ie().optional(),params:D.record(ie(),ie()).optional()})];function sC(e){return Cm.apply(this,arguments)}function Cm(){return Cm=S(function(e){return _(this,function(t){return[2,W("openMiniApp",aC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,nC(n.appId,n.path,n.params)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openMiniApp",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Cm.apply(this,arguments)}var iC=S(function(){var e,t,r=arguments;return _(this,function(n){return e=r.length>0&&r[0]!==void 0?r[0]:"oneShot",t=r.length>1?r[1]:void 0,[2,new Promise(function(a,i){be("INTERACTIVE_VIBRATION",{type:Vh[e],vibrate_time:t},{success:function(){a()},fail:function(o){i(o)}},{})})]})}),oC=[se({type:D.enum(["oneShot"]).default("oneShot").optional(),milliseconds:Ur().optional()})];function lC(e){return Pm.apply(this,arguments)}function Pm(){return Pm=S(function(e){return _(this,function(t){return[2,W("vibrate",oC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,iC(n==null?void 0:n.type,n==null?void 0:n.milliseconds)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("vibrate",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Pm.apply(this,arguments)}var ev,H1=(ev=S(function(e,t){var r,n,a,i;return _(this,function(o){return r=new URL(e),n=r.href.includes("vnpay"),a=r.searchParams.get("typeInapp"),i=Ee.isEmpty(t)?void 0:{modal_style:t!=null&&t.style?j0(t==null?void 0:t.style):"bottom_sheet",left_button:t!=null&&t.leftButton?j0(t==null?void 0:t.leftButton):"back"},!n&&Ee.isEmpty(a)&&r.searchParams.set("typeInapp","1"),[2,new Promise(function(l,c){be("OPEN_INAPP",{url:r.href,style:i},{success:function(){l()},fail:function(u){c(u)}},{})})]})}),function(e,t){return ev.apply(this,arguments)}),cC=[se({url:ie(),config:se({style:D.enum(["bottomSheet","normal"]).default("bottomSheet").optional(),leftButton:D.enum(["back","none"]).default("back").optional()}).optional()})];function uC(e){return Im.apply(this,arguments)}function Im(){return Im=S(function(e){return _(this,function(t){return[2,W("openWebview",cC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,H1(n.url,n.config)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openWebview",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Im.apply(this,arguments)}function W1(){var e={},t=window.location.href;try{var r=new URL(t).searchParams.toString();r&&(e=Ba.getParamsAsObject(r))}catch(n){throw new Error("Invalid URL")}return e}function dC(){return W("getRouteParams",[],[],function(){return W1()})}function fC(e){return V1.apply(this,arguments)}function V1(){return(V1=S(function(e){return _(this,function(t){return[2,W("getAppInfo",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,_g()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({description:"",name:"",version:"",appUrl:"",qrCodeUrl:""})]:[2,Promise.reject(oe("getAppInfo",{}))]}})}))]})})).apply(this,arguments)}var tv,hC=(tv=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("WEBVIEW_SET_RESULT",{result:l1(e)},{success:function(){r()},fail:function(a){n(a)}},{})})]})}),function(e){return tv.apply(this,arguments)}),mC=[se({data:D.any()})];function pC(e){return Mm.apply(this,arguments)}function Mm(){return Mm=S(function(e){return _(this,function(t){return[2,W("sendDataToPreviousMiniApp",mC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,hC(n.data)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("sendDataToPreviousMiniApp",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Mm.apply(this,arguments)}var gC=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){var n,a;be("MP_GET_NUMBER",{forceUpdate:!0},{success:function(i){var o={};if(i!=null&&i.token)return o.token=i==null?void 0:i.token,t(o);r(pt.error.clientNotSupport())},fail:function(i){r(i)}},{delay:!((n=bt())===null||n===void 0||(a=n.platform)===null||a===void 0)&&a.isIOS?400:0})})]})});function xC(e){return K1.apply(this,arguments)}function K1(){return(K1=S(function(e){return _(this,function(t){return[2,W("getPhoneNumber",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,gC()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({number:""})]:[2,Promise.reject(oe("getPhoneNumber",{}))]}})}))]})})).apply(this,arguments)}var vC=S(function(){var e,t,r,n=arguments;return _(this,function(a){return e=n.length>0&&n[0]!==void 0?n[0]:1,t=n.length>1?n[1]:void 0,r=n.length>2?n[2]:void 0,[2,new Promise(function(i,o){be("MP_OPEN_PROFILE_PICKER",ut({},t===el.TOOL_DEL_FRIEND?{maxProfile:e,src:t,uids:r,zapp:zn,appId:$t}:{maxProfile:e}),{success:function(l){Array.isArray(l)?i(l.map(function(c){return c.id})):i([])},fail:function(l){o(l)}},{isMultiCallback:!0})})]})}),yC=[se({maxProfile:Ur().optional().default(1),src:D.enum([el.TOOL_DEL_FRIEND]).optional(),uids:kg(ie()).optional()}).superRefine(function(e,t){var r=e.src,n=e.maxProfile;r===el.TOOL_DEL_FRIEND?n<1&&t.addIssue({code:"custom",path:["maxProfile"],message:"maxProfile must be at least 1 when src is 'tool_del_friend'"}):(n<1||n>10)&&t.addIssue({code:"custom",path:["maxProfile"],message:"maxProfile must be between 1 and 10"})})];function bC(e){return Am.apply(this,arguments)}function Am(){return Am=S(function(e){return _(this,function(t){return[2,W("openProfilePicker",yC,[e],(r=S(function(n){var a,i,o,l,c,u,d,f,h,p,g,m;return _(this,function(y){switch(y.label){case 0:return R.isMp?[4,vC(n==null?void 0:n.maxProfile,n==null?void 0:n.src,n==null?void 0:n.uids)]:[3,12];case 1:return a=y.sent(),i=function(b,x){return Array.from({length:Math.ceil(b.length/x)},function(v,k){return b.slice(k*x,k*x+x)})},a.length>0?[4,_e.getAccessToken()]:[3,11];case 2:o=y.sent(),l=i(a,20),c=[],u=!0,d=!1,f=void 0,y.label=3;case 3:y.trys.push([3,8,9,10]),h=function(){var b,x,v,k,j,M,N;return _(this,function(E){switch(E.label){case 0:b=g.value,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,fetch(ca.GET_LIST_USER_INFO,{method:"POST",headers:{"Content-Type":"application/json",access_token:o||""},body:JSON.stringify({fields:"id,name,picture",user_ids:b})})];case 2:return[4,E.sent().json()];case 3:if((x=E.sent()).error!==0||!x.data)throw new Error(x.message);return k=b.map(function(A){var O,F,G,ne,X,J,V,ae,U,Y,H;return{id:((O=x.data[A])===null||O===void 0||(F=O.user_info)===null||F===void 0?void 0:F.user_id_by_app)||"",profile:{name:(G=x.data[A])===null||G===void 0||(ne=G.user_info)===null||ne===void 0?void 0:ne.name,avatar:(X=x.data[A])===null||X===void 0||(J=X.user_info)===null||J===void 0||(V=J.picture)===null||V===void 0||(ae=V.data)===null||ae===void 0?void 0:ae.url},code:((U=x.data[A])===null||U===void 0?void 0:U.error)!==0?-1:0,message:"Get profile: ".concat(Ee.isUndefined((Y=x.data[A])===null||Y===void 0?void 0:Y.message)?"Unknown error":(H=x.data[A])===null||H===void 0?void 0:H.message)}}),(v=c).push.apply(v,Va(k)),[3,5];case 4:return j=E.sent(),N=b.map(function(A){return{id:A,profile:{name:"",avatar:""},code:-1,message:"Can't get profile: ".concat(j.message)}}),(M=c).push.apply(M,Va(N)),[3,5];case 5:return[2]}})},p=l[Symbol.iterator](),y.label=4;case 4:return(u=(g=p.next()).done)?[3,7]:[5,hS(h())];case 5:y.sent(),y.label=6;case 6:return u=!0,[3,4];case 7:return[3,10];case 8:return m=y.sent(),d=!0,f=m,[3,10];case 9:try{u||p.return==null||p.return()}finally{if(d)throw f}return[7];case 10:return[2,{users:c}];case 11:return[2,{users:[]}];case 12:return R.isMpWeb?[2,Promise.resolve({users:[]})]:[2,Promise.reject(oe("openProfilePicker",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Am.apply(this,arguments)}var rv,wC=(rv=S(function(e,t,r){var n;return _(this,function(a){return n=t&&Ee.isString(t)&&t.length>0?"wpa_wpa2":"open",[2,new Promise(function(i,o){be("MP_JOIN_WIFI",{ssid:e,securityType:n,password:t,hiddenSsid:r},{success:function(l){i(l)},fail:function(l){o(l)}},{})})]})}),function(e,t,r){return rv.apply(this,arguments)}),NC=[se({SSID:ie(),password:ie().optional(),hiddenSSID:ua().optional()})];function kC(e){return Rm.apply(this,arguments)}function Rm(){return Rm=S(function(e){return _(this,function(t){return[2,W("connectWifi",NC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,wC(n.SSID,n.password,n.hiddenSSID)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("connectWifi",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Rm.apply(this,arguments)}var nv,jC=(nv=S(function(e,t,r,n,a,i){var o,l;return _(this,function(c){return o={type:0,url:t,max_size:r||U2},l={enable:1,aspect_ratio:"1:1"},[2,new Promise(function(u,d){be("PICK_MEDIA",{media_type:Kh[e],edit_view:ut({},l,n),silent_request:a,upload:o,max_select_items:i},{success:function(f){u(f==null?void 0:f.result_content)},fail:function(f){d(f)}},{isMultiCallback:!0})})]})}),function(e,t,r,n,a,i){return nv.apply(this,arguments)}),_C=[se({type:D.enum(["video","photo","file","zcamera","zcamera_photo","zcamera_video","zcamera_scan"]),serverUploadUrl:ie().url(),maxItemSize:Ur().min(0).optional(),editView:se({enable:ua().optional(),aspectRatio:ie().regex(/^\d+:\d+$/).optional()}).optional(),silentRequest:ua().optional(),maxSelectItem:Ur().min(1).optional()})];function SC(e){return Om.apply(this,arguments)}function Om(){return Om=S(function(e){return _(this,function(t){return[2,W("openMediaPicker",_C,[e],(r=S(function(n){var a,i,o,l,c,u;return _(this,function(d){switch(d.label){case 0:return R.isMp?(l={},Ee.isUndefined((a=n.editView)===null||a===void 0?void 0:a.enable)||!((i=n.editView)===null||i===void 0)&&i.enable?l.enable=1:l.enable=0,l.aspect_ratio=(o=n.editView)===null||o===void 0?void 0:o.aspectRatio,c=n.silentRequest===!0?1:0,u=n.maxSelectItem,[4,jC(n.type,n.serverUploadUrl,n.maxItemSize,l,c,u)]):[3,2];case 1:return[2,{data:d.sent()}];case 2:return R.isMpWeb?[2,Promise.resolve({data:""})]:[2,Promise.reject(oe("openMediaPicker",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Om.apply(this,arguments)}var EC=[se({title:ie().max(100),description:ie().max(400).default(""),thumbnail:ie().url().optional(),path:ie().optional()})];function TC(e){return Lm.apply(this,arguments)}function Lm(){return Lm=S(function(e){return _(this,function(t){return[2,W("getShareableLink",EC,[e],(r=S(function(n){var a;return _(this,function(i){switch(i.label){case 0:return[4,_e.getAccessToken()];case 1:return a=i.sent(),[4,D1(window.APP_ID,a||"",n.title,n.description,n.thumbnail,n.path)];case 2:return[2,i.sent().shareableLink]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Lm.apply(this,arguments)}var av,CC=(av=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("MP_CLOSE_LOADINGVIEW",{at:new Date().getTime(),when:e,url:location.href},{success:function(a){r(a)},fail:function(a){n(a)}},{})})]})}),function(e){return av.apply(this,arguments)});function PC(e){return G1.apply(this,arguments)}function G1(){return(G1=S(function(e){return _(this,function(t){return[2,W("closeLoading",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,CC("user action")]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("closeLoading",{}))]}})}))]})})).apply(this,arguments)}function IC(e){return Z1.apply(this,arguments)}function Z1(){return(Z1=S(function(e){return _(this,function(t){return[2,W("requestUpdateZalo",[],[e],S(function(){var r,n,a;return _(this,function(i){switch(i.label){case 0:return R.isMp?(a=!((r=bt())===null||r===void 0||(n=r.platform)===null||n===void 0)&&n.isIOS?"https://apps.apple.com/vn/app/zalo/id579523206":"https://play.google.com/store/apps/details?id=com.zing.zalo",[4,Sg(a)]):[3,2];case 1:return[2,i.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("requestUpdateZalo",{}))]}})}))]})})).apply(this,arguments)}var hl=Pt.getInstance();hl.addListener=function(e,t,r){var n=e;return hl.addListener(st[n],t,r)};var MC=[D.function()];function AC(e){return W("onConfirmToExit",MC,[e],function(t){var r=t;R.isMp&&(hl.on(st.AppClose,r,'{"handle_h5": 1}'),Nr.setNavigationBarLeftButton(void 0,2))})}function RC(){return W("offConfirmToExit",[],[],function(){R.isMp&&(hl.off(st.AppClose),Nr.setNavigationBarLeftButton(void 0,0))})}function OC(){return W("getDeviceId",[],[],function(){return R.isMp&&_e.getSync(Dt.DEVICE_ID)||""})}function LC(e){return q1.apply(this,arguments)}function q1(){return(q1=S(function(e){return _(this,function(t){return[2,W("getDeviceIdAsync",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,_e.jumpAndGetToken(Dt.DEVICE_ID)]:[3,2];case 1:return[2,r.sent()||""];case 2:return[2,Promise.resolve("")]}})}))]})})).apply(this,arguments)}function DC(){return W("getContext",[],[],function(){if(R.isMp){var e=_e.getSync(Dt.CONTEXT_ID)||"";return{type:_e.getSync(Dt.CONTEXT_TYPE)||"",id:e}}return{type:"",id:""}})}function zC(e){return Y1.apply(this,arguments)}function Y1(){return(Y1=S(function(e){return _(this,function(t){return[2,W("getContextAsync",[],[e],S(function(){var r;return _(this,function(n){switch(n.label){case 0:return R.isMp?[4,_e.jumpAndGetToken(Dt.CONTEXT_ID)]:[3,3];case 1:return r=n.sent()||"",[4,_e.jumpAndGetToken(Dt.CONTEXT_TYPE)];case 2:return[2,{type:n.sent()||"",id:r}];case 3:return[2,Promise.resolve({type:"",id:""})]}})}))]})})).apply(this,arguments)}function $C(e){return Q1.apply(this,arguments)}function Q1(){return(Q1=S(function(e){return _(this,function(t){return[2,W("getAuthCode",[],[e],S(function(){var r,n;return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,_e.jumpAndGetToken(Dt.ZOAUTH,!0)]:[3,4];case 1:return r=a.sent()||"",[4,_e.jumpAndGetToken(Dt.ZOAUTH_VRF)];case 2:return n=a.sent()||"",[4,_e.verifyUserAuthorized()];case 3:if(a.sent())return[2,{authCode:r,authCodeVerify:n}];throw bn([{action:"getAuthCode",error:-104,message:"no user auth",data:{}}]),pt.error.loginFailed("User Authentication Required");case 4:return[2,Promise.resolve({authCode:"",authCodeVerify:""})]}})}))]})})).apply(this,arguments)}function UC(e){return J1.apply(this,arguments)}function J1(){return(J1=S(function(e){return _(this,function(t){return[2,W("getZPIToken",[],[e],S(function(){var r,n,a,i;return _(this,function(o){switch(o.label){case 0:return R.isMp?[4,_e.jumpAndGetToken(Dt.UTOKEN_ZPI)]:[3,5];case 1:return r=o.sent()||"",[4,_e.jumpAndGetToken(Dt.GTOKEN_ZPI)];case 2:return n=o.sent()||"",[4,_e.jumpAndGetToken(Dt.ZPP_ZPI)];case 3:return a=o.sent()||"",[4,_e.jumpAndGetToken(Dt.ZPT_ZPI)];case 4:return i=o.sent()||"",[2,{utoken:r,gtoken:n,zpp:a,zpt:i}];case 5:return[2,Promise.resolve({utoken:"",gtoken:"",zpp:"",zpt:""})]}})}))]})})).apply(this,arguments)}var FC=[ie()];function BC(e){return W("setAccessToken",FC,[e],function(t){var r=t;_e.setAccessToken(r)})}var HC=[se({url:ie().url()})];function WC(e){return Dm.apply(this,arguments)}function Dm(){return Dm=S(function(e){return _(this,function(t){return[2,W("openOutApp",HC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Sg(n.url)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openOutApp",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Dm.apply(this,arguments)}var VC=[se({count:Ur().min(1).optional().default(1),sourceType:D.array(D.enum(["album","camera"])).max(2).default(["album","camera"]).optional(),cameraType:D.enum(["back","front"]).default("front").optional()})];function KC(e){return zm.apply(this,arguments)}function zm(){return zm=S(function(e){return _(this,function(t){return[2,W("chooseImage",VC,[e],(r=S(function(n){var a,i,o,l;return _(this,function(c){return a=n.sourceType||["album","camera"],i=n.cameraType||"front",o=n.count||1,(l=document.createElement("input")).type="file",l.multiple=o>1,l.accept="image/*",l.style.display="none",a.length===1&&a.includes("camera")&&(l.accept=i==="front"?"zcamera/photo-frontfacing":"zcamera/photo-backfacing",l.capture=i==="front"?"user":"environment"),[2,new Promise(function(u,d){l.addEventListener("change",function(f){var h,p=(f==null||(h=f.target)===null||h===void 0?void 0:h.files)||[];if(p.length>o)d(new Error("You are only allowed to choose a maximum of ".concat(o," images at a time")));else{var g={filePaths:[],tempFiles:[]};Array.from(p).forEach(function(m){g.filePaths.push(URL.createObjectURL(m)),g.tempFiles.push({path:URL.createObjectURL(m),size:m.size})}),u(g)}}),document.body.appendChild(l),l.click()})]})}),function(n){return r.apply(this,arguments)}))];var r})}),zm.apply(this,arguments)}var GC=S(function(){var e,t,r=arguments;return _(this,function(n){return e=r.length>0&&r[0]!==void 0&&r[0],t=r.length>1&&r[1]!==void 0?r[1]:"Cho php Zalo truy cp vo v tr ca thit b ny?",[2,new Promise(function(a,i){be("GET_LOCATION",{silent_request:e,permission_description:t,forceUpdate:!0},{success:function(o){var l={};if(o!=null&&o.token)return l.token=o==null?void 0:o.token,a(l);i(pt.error.clientNotSupport())},fail:function(o){i(o)}},{isMultiCallback:!0,timeout:!1})})]})});function ZC(e){return X1.apply(this,arguments)}function X1(){return(X1=S(function(e){return _(this,function(t){return[2,W("getLocation",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,GC()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({token:""})]:[2,Promise.reject(oe("getLocation",{}))]}})}))]})})).apply(this,arguments)}function qC(e){Pt.getInstance().on(st.OnDataCallback,function(t){e({data:t})})}var YC=[D.function().args(se({data:D.any()})).returns(D.void())];function QC(e){return W("onCallbackData",YC,[e],function(){qC(e)})}var sv,eN=(sv=S(function(e){var t,r,n,a,i,o,l,c,u,d,f,h;return _(this,function(p){switch(p.label){case 0:return e||(e=W1()),typeof e=="object"&&((n=e.zmpOrderId||e.orderId)||(r=e.appTransID||e.apptransid||e.transId)),typeof e=="string"&&(a=Ba.getParameterByName("orderId",e),i=Ba.getParameterByName("appTransID",e)||Ba.getParameterByName("apptransid",e),r=a||i),o={headers:{authorization:"Bearer "}},[4,_e.jumpAndGetToken()];case 1:return p.sent(),l=(t=_e.miniProgramConfig)===null||t===void 0?void 0:t.jwt,o.headers.authorization="Bearer ".concat(l),c=new URL(cd.GET_TRANSACTION),u={orderId:n||"",transId:r||""},c.search=new URLSearchParams(u).toString(),[4,fetch(c.toString(),o)];case 2:return[4,p.sent().json()];case 3:if(!(d=p.sent()).data)throw pt.error.badRequest(d.msg);return f=d.data||{},h={err:d.err,msg:d.msg},Object.keys(f).length!==0&&f.constructor===Object&&Object.assign(h,ut({msg:f.resultMessage},f)),[2,h]}})}),function(e){return sv.apply(this,arguments)}),iv,JC=(iv=S(function(e,t,r,n,a,i,o){var l,c,u,d,f,h,p,g,m,y,b,x,v,k,j,M,N,E,A,O,F;return _(this,function(G){switch(G.label){case 0:l=$t,(c=new URLSearchParams).append("amount",e.toString()),c.append("item",encodeURIComponent(JSON.stringify(t))),c.append("mac",n),r&&c.append("desc",encodeURIComponent(r)),a&&(u=a,typeof a=="object"&&(u=JSON.stringify(a)),c.append("extradata",encodeURIComponent(u))),i&&(d=i,typeof i=="object"&&(d=JSON.stringify(i)),c.append("payload",encodeURIComponent(d))),o&&(typeof o=="string"?(c.append("method",o),c.append("isCustom","false")):typeof o=="object"&&(c.append("method",o.id),c.append("isCustom",JSON.stringify(o.isCustom)))),f={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},G.label=1;case 1:return G.trys.push([1,6,,7]),[4,_e.jumpAndGetToken()];case 2:return G.sent(),p=(h=_e.miniProgramConfig)===null||h===void 0?void 0:h.jwt,f.headers.authorization="Bearer ".concat(p),[4,fetch(cd.CREATE_ORDER,da(ut({method:"POST"},f),{body:c}))];case 3:return[4,G.sent().json()];case 4:if(!(g=G.sent()).data||g.err!==0)throw pt.error.badRequest(g.msg);return m=g.data.id,y=g.data.jwt,b=g.data.messageToken||"",x=window.APP_VERSION,v=window.APP_ENV,k={miniAppId:l,orderId:m},j=g.data.method,M=g.data.isCustom,y&&(k.token=y),x&&(k.version=x),v&&(k.env=v),j&&(k.method=j),M&&(k.isCustom=M),N=Ba.encode(k),E=new URL("?".concat(N),W2).toString(),A=zs(),O=wg()&&A<742?"normal":"bottomSheet",Qh.enablePaymentDone=Pt.getInstance().eventNames().includes(st.PaymentDone),[4,H1(E,{style:O}).then(function(){var ne=!1;Pt.getInstance().once(st.WebviewClosed,function(){setTimeout(S(function(){var X;return _(this,function(J){switch(J.label){case 0:return ne?[3,2]:(Pt.getInstance().emit(st.PaymentDone,m,{orderId:m}),[4,eN({zmpOrderId:m})]);case 1:(X=J.sent()).err>=0&&!X.isCustom&&Pt.getInstance().emit(st.PaymentClose,X.err,da(ut({},X),{zmpOrderId:m})),J.label=2;case 2:return[2]}})}),500)}),Pt.getInstance().once(st.OpenApp,function(){ne=!0}),Pt.getInstance().once(st.PaymentDone,function(){ne=!0,Qh.enablePaymentDone=!1})})];case 5:return G.sent(),[2,{orderId:m,messageToken:b}];case 6:throw F=G.sent(),console.log("Internal error"),F;case 7:return[2]}})}),function(e,t,r,n,a,i,o){return iv.apply(this,arguments)}),XC=[se({amount:D.union([ie(),Ur()]),item:D.array(D.record(ie(),D.any())),desc:D.string(),mac:D.string(),extradata:D.any().optional(),payload:D.any().optional(),method:D.union([D.string(),D.object({id:D.string(),isCustom:D.boolean()})]).optional()})];function tN(e){return $m.apply(this,arguments)}function $m(){return $m=S(function(e){return _(this,function(t){return[2,W("createOrder",XC,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,JC(n.amount,n.item,n.desc,n.mac,n.extradata,n.payload,n.method)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({orderId:"",messageToken:""})]:[2,Promise.reject(oe("createOrder",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),$m.apply(this,arguments)}var e4=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("MP_CONFIRM_REQUEST_PAYMENT",{},{success:function(){t()},fail:function(n){r(n)}},{})})]})}),ov,t4=(ov=S(function(e,t,r,n,a){var i,o,l,c,u,d,f,h,p,g,m;return _(this,function(y){switch(y.label){case 0:(i=new URLSearchParams).append("amount",e.toString()),t&&i.append("desc",encodeURIComponent(t)),r&&i.append("method",r),n&&i.append("transId",n),a&&i.append("mac",a),o={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},y.label=1;case 1:return y.trys.push([1,9,,10]),[4,_e.jumpAndGetToken()];case 2:if(y.sent(),u=(l=_e.miniProgramConfig)===null||l===void 0?void 0:l.jwt,o.headers.authorization="Bearer ".concat(u),!(!((c=_e.miniProgramConfig)===null||c===void 0)&&c.showConfirmToPayment))return[3,6];y.label=3;case 3:return y.trys.push([3,5,,6]),[4,e4()];case 4:return y.sent(),[3,6];case 5:throw d=y.sent(),console.error("Failed:",d),d;case 6:return[4,fetch(cd.PURCHASE,da(ut({method:"POST"},o),{body:i}))];case 7:return[4,y.sent().json()];case 8:if(!(f=y.sent()).data||f.err!==0)throw pt.error.badRequest(f.msg);return h=f.data.id,p=f.data.messageToken||"",g=f.data.transId||"",[2,{orderId:h,messageToken:p,transId:g}];case 9:throw m=y.sent(),console.log("Internal error"),m;case 10:return[2]}})}),function(e,t,r,n,a){return ov.apply(this,arguments)}),r4=[se({amount:D.union([D.string(),D.number()]),desc:D.string(),method:D.string(),transId:D.string().optional(),mac:D.string().optional()})];function rN(e){return Um.apply(this,arguments)}function Um(){return Um=S(function(e){return _(this,function(t){return[2,W("purchase",r4,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,t4(n.amount,n.desc,n.method,n==null?void 0:n.transId,n==null?void 0:n.mac)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({orderId:"",messageToken:"",transId:""})]:[2,Promise.reject(oe("purchase",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Um.apply(this,arguments)}var lv,n4=(lv=S(function(e,t){return _(this,function(r){return[2,new Promise(function(n,a){var i=e&&(e==null?void 0:e.length)>0;be("MP_SELECT_PAYMENT_METHOD",{isBinding:i,channels:e,selectedMethod:t,forceUpdate:!0},{success:function(o){console.log(o),n(o)},fail:function(o){a(o)}},{})})]})}),function(e,t){return lv.apply(this,arguments)}),a4=[se({channels:kg(se({method:ie(),subMethod:ie().optional(),subInfo:ie().optional()})).optional(),selectedMethod:se({method:ie(),subMethod:ie().optional()}).optional()}).optional()];function nN(e){return Fm.apply(this,arguments)}function Fm(){return Fm=S(function(e){return _(this,function(t){return[2,W("selectPaymentMethod",a4,[e],(r=S(function(n){var a,i;return _(this,function(o){switch(o.label){case 0:return R.isMp?(a=n.channels,i=n.selectedMethod,[4,n4(a,i)]):[3,2];case 1:return[2,o.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({method:""})]:[2,Promise.reject(oe("selectPaymentMethod",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Fm.apply(this,arguments)}var s4=[se({data:D.union([ie(),D.record(ie(),ie().nullish())])})];function aN(e){return Bm.apply(this,arguments)}function Bm(){return Bm=S(function(e){return _(this,function(t){return[2,W("checkTransaction",s4,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,eN(n.data)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({msg:"Success",orderId:"",resultCode:1,transTime:new Date().getTime().toString(),createdAt:new Date().getTime().toString(),transId:""})]:[2,Promise.reject(oe("checkTransaction",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Bm.apply(this,arguments)}var cv,i4=(cv=S(function(e,t,r,n,a,i){var o,l,c,u,d,f,h,p,g,m,y,b,x,v,k;return _(this,function(j){switch(j.label){case 0:d=$t,(f=new URLSearchParams).append("payType",t||Gh.SUBSCRIPTION),h=Mo.UNKNOW,r===x0.IMMEDIATE_AND_CHARGE_FULL_PRICE&&(h=Mo.IMMEDIATE_AND_CHARGE_FULL_PRICE),r===x0.DEFERRED&&(h=Mo.DEFERRED),f.append("utm",a||"default"),f.append("merchantTransId",i||""),f.append("prorationMode",h.toString()),f.append("appId",d),n&&f.append("method",n),p="",!((o=bt())===null||o===void 0||(l=o.platform)===null||l===void 0)&&l.isIOS?p="ios":!((c=bt())===null||c===void 0||(u=c.platform)===null||u===void 0)&&u.isAndroid&&(p="android"),f.append("os",p),f.append("productId",e),g={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},j.label=1;case 1:return j.trys.push([1,5,,6]),[4,_e.jumpAndGetToken()];case 2:return j.sent(),y=(m=_e.miniProgramConfig)===null||m===void 0?void 0:m.jwt,g.headers.authorization="Bearer ".concat(y),[4,fetch(cd.CREATE_IAP_ORDER,da(ut({method:"POST"},g),{body:f}))];case 3:return[4,j.sent().json()];case 4:if(!(b=j.sent()).data||!b.data.store||b.err!==0)throw pt.error.createIAPOrderFailed(b.err);return x=b.data.store,v=b.data.orderId,[2,new Promise(function(M,N){be("IAP_REQUESTPAYMENT",ut({},x),{success:function(){M({orderId:v})},fail:function(E){N(E)}})})];case 5:throw k=j.sent(),console.log("Internal error"),k;case 6:return[2]}})}),function(e,t,r,n,a,i){return cv.apply(this,arguments)}),o4=[se({productId:ie(),payType:D.enum(["ONETIME","SUBSCRIPTION"]).optional(),prorationMode:D.enum(["DEFERRED","IMMEDIATE_AND_CHARGE_FULL_PRICE"]).default("DEFERRED").optional(),utm:ie().optional(),method:D.enum(["IAP","IAP_SANDBOX"]).optional(),merchantTransId:ie().optional()})];function sN(e){return Hm.apply(this,arguments)}function Hm(){return Hm=S(function(e){return _(this,function(t){return[2,W("createOrderIAP",o4,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,i4(n.productId,n.payType,n.prorationMode,n.method,n.utm,n.merchantTransId)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({orderId:""})]:[2,Promise.reject(oe("createOrderIAP",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Hm.apply(this,arguments)}var l4=[se({hide:ua().default(!1).optional()}).optional()];function c4(e){return Wm.apply(this,arguments)}function Wm(){return Wm=S(function(e){return _(this,function(t){return[2,W("setAndroidBottomNavigationBar",l4,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Nr.setAndroidBottomNavigationBar(n.hide)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setAndroidBottomNavigationBar",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Wm.apply(this,arguments)}var u4=[se({hide:ua().default(!1).optional()}).optional()];function d4(e){return Vm.apply(this,arguments)}function Vm(){return Vm=S(function(e){return _(this,function(t){return[2,W("setIOSBottomSafeArea",u4,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Nr.setIOSBottomSafeArea(n.hide)]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setIOSBottomSafeArea",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Vm.apply(this,arguments)}var f4=[se({type:D.enum(["normal","hidden","transparent"]).default("normal").optional(),color:D.string().optional()}).optional()];function h4(e){return Km.apply(this,arguments)}function Km(){return Km=S(function(e){return _(this,function(t){return[2,W("setStatusBar",f4,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,Nr.configHeader({statusBarType:n.type,headerColor:n.color})]:[3,2];case 1:return[2,a.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("setStatusBar",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Km.apply(this,arguments)}var m4=[se({headerTextColor:D.enum(["black","white"]).optional(),headerColor:D.string().optional(),actionBar:se({hide:D.boolean().optional(),title:D.string().optional(),leftButton:D.enum(["back","none"]).optional(),textAlign:D.enum(["left","center"]).default("left").optional()}).optional(),statusBarType:D.enum(["normal","hidden","transparent"]).optional(),hideAndroidBottomNavigationBar:D.boolean().optional(),hideIOSSafeAreaBottom:D.boolean().optional()})];function p4(e){return Gm.apply(this,arguments)}function Gm(){return Gm=S(function(e){return _(this,function(t){return[2,W("configAppView",m4,[e],(r=S(function(n){var a,i,o,l,c,u,d;return _(this,function(f){switch(f.label){case 0:return R.isMp?Ee.isUndefined((a=n.actionBar)===null||a===void 0?void 0:a.leftButton)?[3,2]:[4,Nr.setNavigationBarLeftButton((u=n.actionBar)===null||u===void 0?void 0:u.leftButton)]:[3,13];case 1:f.sent(),f.label=2;case 2:return Ee.isUndefined((i=n.actionBar)===null||i===void 0?void 0:i.title)||!(!((o=n.actionBar)===null||o===void 0)&&o.title)?[3,4]:[4,Nr.setNavigationBarTitle((d=n.actionBar)===null||d===void 0?void 0:d.title)];case 3:f.sent(),f.label=4;case 4:return[4,Nr.configHeader({hideActionBar:(l=n.actionBar)===null||l===void 0?void 0:l.hide,statusBarType:n.statusBarType,headerTextColor:n.headerTextColor,headerColor:n.headerColor,textAlign:(c=n.actionBar)===null||c===void 0?void 0:c.textAlign})];case 5:f.sent(),f.label=6;case 6:return f.trys.push([6,11,,12]),typeof n.hideAndroidBottomNavigationBar!="boolean"?[3,8]:[4,Nr.setAndroidBottomNavigationBar(n.hideAndroidBottomNavigationBar)];case 7:f.sent(),f.label=8;case 8:return typeof n.hideIOSSafeAreaBottom!="boolean"?[3,10]:[4,Nr.setIOSBottomSafeArea(n.hideIOSSafeAreaBottom)];case 9:f.sent(),f.label=10;case 10:return[3,12];case 11:return f.sent(),[3,12];case 12:return[2];case 13:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("configAppView",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Gm.apply(this,arguments)}var g4=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("MA_MENU_MINIMIZE",{},{success:function(n){t(n)},fail:function(n){r(n)}},{})})]})});function x4(e){return iN.apply(this,arguments)}function iN(){return(iN=S(function(e){return _(this,function(t){return[2,W("minimizeApp",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,g4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("minimizeApp",{}))]}})}))]})})).apply(this,arguments)}var v4=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("MA_MENU_PERMISSION",{},{success:function(n){t(n)},fail:function(n){r(n)}},{}),t()})]})});function y4(e){return oN.apply(this,arguments)}function oN(){return(oN=S(function(e){return _(this,function(t){return[2,W("openPermissionSetting",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,v4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openPermissionSetting",{}))]}})}))]})})).apply(this,arguments)}var b4=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("MP_ADD_MYFAVORITES",{timestamp:new Date().getTime()},{success:function(n){t(n)},fail:function(n){r(n)}},{})})]})});function w4(e){return lN.apply(this,arguments)}function lN(){return(lN=S(function(e){return _(this,function(t){return[2,W("favoriteApp",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,b4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("favoriteApp",{}))]}})}))]})})).apply(this,arguments)}var N4=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("OPEN_GROUPLIST",{},{success:function(n){t(n)},fail:function(n){r(n)}},{})})]})});function k4(e){return cN.apply(this,arguments)}function cN(){return(cN=S(function(e){return _(this,function(t){return[2,W("openGroupList",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,N4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openGroupList",{}))]}})}))]})})).apply(this,arguments)}var j4=S(function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,_e.getAccessToken()];case 1:return e=t.sent(),[2,new Promise(function(r,n){be("MP_SEND_NOTIFICATION",{accessToken:e},{success:function(a){r(a)},fail:function(a){n(a)}},{delay:500})})]}})});function _4(e){return uN.apply(this,arguments)}function uN(){return(uN=S(function(e){return _(this,function(t){return[2,W("requestSendNotification",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,j4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("requestSendNotification",{}))]}})}))]})})).apply(this,arguments)}var S4=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("MP_ADD_RATING",{},{success:function(n){t(n)},fail:function(n){r(n)}},{})})]})});function E4(e){return dN.apply(this,arguments)}function dN(){return(dN=S(function(e){return _(this,function(t){return[2,W("addRating",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,S4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("addRating",{}))]}})}))]})})).apply(this,arguments)}var uv,dv,fN=(uv=S(function(e,t,r){var n,a;return _(this,function(i){switch(i.label){case 0:return(n=new URLSearchParams).append("appId",t),n.append("accessToken",r),n.append("oaId",e),a={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(ca.CHECK_INTERACT_OA,ut({method:"POST",body:n},a))];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()]}})}),function(e,t,r){return uv.apply(this,arguments)}),T4=(dv=S(function(e){return _(this,function(t){return[2,new Promise(function(r,n){be("MP_INTERACT_OA",{oaId:e,forceUpdate:!0},{success:function(a){r(a)},fail:function(a){n(a)}},{})})]})}),function(e){return dv.apply(this,arguments)}),C4=[se({oaId:ie()})];function fv(e){return Zm.apply(this,arguments)}function Zm(){return Zm=S(function(e){return _(this,function(t){return[2,W("interactOA",C4,[e],(r=S(function(n){var a,i,o;return _(this,function(l){switch(l.label){case 0:return R.isMp?(a=n.oaId,[4,_e.getAccessToken()]):[3,5];case 1:return!(i=l.sent())||Ee.isEmpty(i)?[3,3]:[4,fN(a,$t,i)];case 2:if(((o=l.sent())==null?void 0:o.err)===0)return[2,Promise.resolve({})];l.label=3;case 3:return[4,T4(a)];case 4:return[2,l.sent()];case 5:return R.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("interactOA",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Zm.apply(this,arguments)}var P4=[se({oaId:ie()})];function I4(e){return qm.apply(this,arguments)}function qm(){return qm=S(function(e){return _(this,function(t){return[2,W("isAllowedInteractWithOA",P4,[e],(r=S(function(n){var a,i,o;return _(this,function(l){switch(l.label){case 0:return R.isMp?(a=n.oaId,[4,_e.getAccessToken()]):[3,4];case 1:return!(i=l.sent())||Ee.isEmpty(i)?[3,3]:[4,fN(a,$t,i)];case 2:return o=l.sent(),[2,Promise.resolve({status:(o==null?void 0:o.err)===0})];case 3:return[2,Promise.resolve({status:!1})];case 4:return R.isMpWeb?[2,Promise.resolve({status:!1})]:[2,Promise.reject(oe("IsAllowedInteractWithOA",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),qm.apply(this,arguments)}function M4(e){return hN.apply(this,arguments)}function hN(){return(hN=S(function(e){return _(this,function(t){return[2,W("getSetting",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,Ng()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({authSetting:{}})]:[2,Promise.reject(oe("getSetting",{}))]}})}))]})})).apply(this,arguments)}var A4=D.enum(q2),R4=[se({scopes:D.array(A4).max(2).optional()}).optional()];function O4(e){return Ym.apply(this,arguments)}function Ym(){return Ym=S(function(e){return _(this,function(t){return[2,W("authorize",R4,[e],(r=S(function(n){var a;return _(this,function(i){switch(i.label){case 0:return R.isMp?(a=n==null?void 0:n.scopes,ha(724,573)?[4,s1(a!=null?a:void 0)]:[3,2]):[3,3];case 1:return[2,i.sent()];case 2:return[2,Promise.reject(pt.error.clientNotSupport())];case 3:return R.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("authorize",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),Ym.apply(this,arguments)}var L4=S(function(){return _(this,function(e){return[2,new Promise((t=S(function(r,n){var a;return _(this,function(i){switch(i.label){case 0:return Ee.isUndefined(ZaloJavaScriptInterface)||typeof ZaloJavaScriptInterface.checkCameraPermission!="function"?[3,2]:[4,ZaloJavaScriptInterface.checkCameraPermission()];case 1:return a=i.sent(),[2,r({userAllow:a==="grant"})];case 2:return n(pt.error.clientNotSupport()),[2]}})}),function(r,n){return t.apply(this,arguments)}))];var t})});function D4(e){return W("checkZaloCameraPermission",[],[e],S(function(){return _(this,function(t){switch(t.label){case 0:return[4,L4()];case 1:return[2,t.sent()]}})}))}var z4=S(function(){return _(this,function(e){return[2,new Promise((t=S(function(r,n){var a,i,o;return _(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,_e.jumpAndGetToken()];case 1:return l.sent(),i=(a=_e.miniProgramConfig)===null||a===void 0?void 0:a.userId,r(i),[3,3];case 2:return o=l.sent(),n(o),[3,3];case 3:return[2]}})}),function(r,n){return t.apply(this,arguments)}))];var t})});function $4(e){return mN.apply(this,arguments)}function mN(){return(mN=S(function(e){return _(this,function(t){return[2,W("getUserID",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,z4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve(void 0)]:[2,Promise.reject(oe("getUserID",{}))]}})}))]})})).apply(this,arguments)}var U4=S(function(){return _(this,function(e){return[2,new Promise((t=S(function(r,n){var a,i,o;return _(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,_e.jumpAndGetToken()];case 1:return l.sent(),i=(a=_e.miniProgramConfig)===null||a===void 0?void 0:a.idToken,r(i),[3,3];case 2:return o=l.sent(),n(o),[3,3];case 3:return[2]}})}),function(r,n){return t.apply(this,arguments)}))];var t})});function F4(e){return pN.apply(this,arguments)}function pN(){return(pN=S(function(e){return _(this,function(t){return[2,W("getIDToken",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,U4()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve(void 0)]:[2,Promise.reject(oe("getIDToken",{}))]}})}))]})})).apply(this,arguments)}var B4={format:Qo.JPEG,quality:wu.NORMAL},Ks={width:1024,height:768,facingMode:Or.FRONT,mirrored:!1,audio:!1,video:!0},gN=function(){function e(r){var n,a,i,o,l,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=this;Kr(this,e),this._videoEnabled=!0,this._audioEnabled=null,this.tick=function(){if(u.haveVideoStream()&&u._userRequestFrameCallback){var d=u.getCanvas();if(u.drawFrame(),d){var f={data:d.toDataURL(Qo.PNG),width:d.width,height:d.height};Pt.getInstance().emit(Sa.OnFrameCallback,0,f),requestAnimationFrame(u.tick)}}},this._videoElement=r,this._mediaConstraints=c!=null?c:null,this._facingMode=(n=c==null?void 0:c.facingMode)!==null&&n!==void 0?n:Ks.facingMode,this._cameraList=[],this._stream=null,this._selectedDeviceId=(a=c==null?void 0:c.deviceId)!==null&&a!==void 0?a:"",this._canvasElement=null,this._ctx=null,this._hasUserMedia=!1,this._mirror=(i=c==null?void 0:c.mirrored)!==null&&i!==void 0?i:Ks.mirrored,this._userRequestFrameCallback=!1,this._audioEnabled=(o=c==null?void 0:c.audio)!==null&&o!==void 0?o:Ks.audio,this._videoEnabled=(l=c==null?void 0:c.video)!==null&&l!==void 0?l:Ks.video}var t=e.prototype;return t.on=function(r,n){Pt.getInstance().on(r,function(a){n(a)}),r===Sa.OnFrameCallback&&(this._userRequestFrameCallback=!0,this.tick())},t.off=function(r){Pt.getInstance().off(r),r===Sa.OnFrameCallback&&(this._userRequestFrameCallback=!1)},t.getQualityNumber=function(r){switch(r){case"high":return .9;case"normal":default:return .6;case"low":return .2}},t.getFacingMode=function(){return this._facingMode},t.getCameraList=function(){return this._cameraList},t.getCameraCount=function(){return this._cameraList.length},t.getSelectedDeviceId=function(){return this._selectedDeviceId},t.setDeviceId=function(r){var n=this;return S(function(){return _(this,function(a){switch(a.label){case 0:return n._selectedDeviceId=r,n._hasUserMedia?[4,n.stream()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})()},t.getVideoInputs=function(r){var n=this;return this._cameraList=[],r.forEach(function(a){a.kind==="videoinput"&&n._cameraList.push(a)}),this._cameraList},t.updateMediaConstraints=function(r){var n=this;return S(function(){var a,i,o,l,c,u;return _(this,function(d){switch(d.label){case 0:return Ee.isEmpty(r)?[2]:JSON.stringify(r)!==JSON.stringify(n._mediaConstraints)?(n._mediaConstraints=r,n._facingMode=(a=r==null?void 0:r.facingMode)!==null&&a!==void 0?a:n._facingMode,n._selectedDeviceId=(i=r==null?void 0:r.deviceId)!==null&&i!==void 0?i:n._selectedDeviceId,n._mirror=(o=r==null?void 0:r.mirrored)!==null&&o!==void 0?o:n._mirror,n._audioEnabled=(l=r==null?void 0:r.audio)!==null&&l!==void 0?l:n._audioEnabled,n._videoEnabled=(c=r==null?void 0:r.video)!==null&&c!==void 0?c:n._videoEnabled,n._selectedDeviceId=(u=r==null?void 0:r.deviceId)!==null&&u!==void 0?u:n._selectedDeviceId,n._hasUserMedia?[4,n.stream()]:[3,2]):[2];case 1:d.sent(),d.label=2;case 2:return[2]}})})()},t.getCurrentMediaConstraints=function(){var r=this._mediaConstraints,n={};this._videoElement.width=(r==null?void 0:r.width)||this._videoElement.width||Ks.width,this._videoElement.height=(r==null?void 0:r.height)||this._videoElement.height||Ks.height;var a=this._videoEnabled!==!1,i=this._audioEnabled!==!1;return a&&(this._selectedDeviceId==""&&this._facingMode!==null?n.facingMode=this._facingMode:n.deviceId={exact:this._selectedDeviceId},n.width={exact:this._videoElement.width},n.height={exact:this._videoElement.height}),{video:!!a&&n,audio:i}},t.selectCamera=function(){var r=!0,n=!1,a=void 0;try{for(var i,o=this._cameraList[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value;if(this._facingMode==Or.FRONT&&l.label.toLowerCase().includes("front")||this._facingMode==Or.BACK&&l.label.toLowerCase().includes("back")){this._selectedDeviceId=l.deviceId;break}}}catch(c){n=!0,a=c}finally{try{r||o.return==null||o.return()}finally{if(n)throw a}}},t.flip=function(){var r=this;return S(function(){return _(this,function(n){switch(n.label){case 0:return r._facingMode=r._facingMode==Or.FRONT?Or.BACK:Or.FRONT,r._videoElement.style.transform="",r.selectCamera(),r._hasUserMedia?[4,r.stream()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})()},t.start=function(){var r=this;return S(function(){var n,a;return _(this,function(i){return n=Pt.getInstance(),a=function(l){try{r._hasUserMedia&&r.stop()}catch(c){}},n.off(st.AppPaused,a),n.on(st.AppPaused,a),[2,new Promise((o=S(function(l,c){var u;return _(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,r.stream()];case 1:return d.sent(),Pt.getInstance().emit(Sa.OnStartCallback,0),l(r._selectedDeviceId),[3,3];case 2:return u=d.sent(),c(u),[3,3];case 3:return[2]}})}),function(l,c){return o.apply(this,arguments)}))];var o})})()},t.info=function(){var r=this;return S(function(){return _(this,function(n){return[2,new Promise(function(a,i){navigator.mediaDevices.enumerateDevices().then(function(o){r.getVideoInputs(o),a(r._cameraList)}).catch(function(o){i(o)})})]})})()},t.stream=function(){var r=this;return S(function(){return _(this,function(n){return[2,new Promise(function(a,i){try{r._stop();var o=r.getCurrentMediaConstraints();if(o.video===!1&&!o.audio)return void a(r._facingMode);navigator.mediaDevices.getUserMedia(o).then((l=S(function(c){return _(this,function(u){switch(u.label){case 0:return[4,r.info()];case 1:return u.sent(),r.selectCamera(),r.handleUserMedia(null,c),a(r._facingMode),[2]}})}),function(c){return l.apply(this,arguments)})).catch(function(c){r.handleUserMedia(c),i(c)})}catch(c){i(c)}var l})]})})()},t.handleUserMedia=function(r,n){var a=this;if(!r&&n){this._stream=n;try{this._videoElement&&(this._videoElement.srcObject=n,(this._facingMode==Or.FRONT||this._mirror)&&(this._videoElement.style.transform="scale(-1,1)"),this._videoElement.onloadedmetadata=function(){a._userRequestFrameCallback&&a.tick()},this._videoElement.play().then(function(){a._hasUserMedia=!0}).catch(function(i){a._hasUserMedia=!1}))}catch(i){this._hasUserMedia=!1}}else this._hasUserMedia=!1},t.updateTrackEnable=function(r,n){var a=this;return S(function(){return _(this,function(i){switch(i.label){case 0:if(r===Nu.VIDEO){if(a._videoEnabled===n)return[2];a._videoEnabled=n}else{if(a._audioEnabled===n)return[2];a._audioEnabled=n}return[4,a.stream()];case 1:return i.sent(),[2]}})})()},t.pause=function(r){var n=this;return S(function(){return _(this,function(a){switch(a.label){case 0:return[4,n.updateTrackEnable(r,!1)];case 1:return a.sent(),[2]}})})()},t.resume=function(r){var n=this;return S(function(){return _(this,function(a){switch(a.label){case 0:return[4,n.updateTrackEnable(r,!0)];case 1:return a.sent(),[2]}})})()},t.isUsing=function(){return this._hasUserMedia},t.stop=function(){this._stop(),Pt.getInstance().emit(Sa.OnStopCallback,0)},t._stop=function(){e.stopMediaStream(this._stream),this._hasUserMedia=!1},t.setFacingMode=function(r){this._facingMode=r},t.setMirror=function(r){this._mirror=r,this._videoElement&&(this._videoElement.style.transform=r?"scale(-1,1)":"")},t.takePhoto=function(r){if(!this._hasUserMedia)return null;var n=r||{},a=this.getCanvas(n);if(this.drawFrame(n),a){var i=n.format||B4.format;return{data:a.toDataURL(i,this.getQualityNumber(n.quality)),width:a.width,height:a.height}}return null},t.haveVideoStream=function(){var r=this._videoElement;return r&&r.videoHeight>0&&this._hasUserMedia},t.getCanvas=function(r){var n=this._videoElement,a=r||{};if(!this.haveVideoStream())return null;if(!this._ctx){var i=n.videoWidth,o=n.videoHeight;if(!a.useVideoSourceSize){var l=i/o;o=(i=a.minScreenshotWidth||n.clientWidth)/l,a.minScreenshotHeight&&o<a.minScreenshotHeight&&(i=(o=a.minScreenshotHeight)*l)}this._canvasElement=document.createElement("canvas"),this._canvasElement.width=(a==null?void 0:a.width)||i,this._canvasElement.height=(a==null?void 0:a.height)||o,this._ctx=this._canvasElement.getContext("2d")}return this._canvasElement},t.drawFrame=function(r){var n=this._videoElement,a=r||{};if(n&&this._ctx&&this._canvasElement){var i=this._canvasElement,o=this._ctx;i.width=(a==null?void 0:a.width)||i.width,i.height=(a==null?void 0:a.height)||i.height,(a!=null&&a.mirrored||this._mirror||this._facingMode===Or.FRONT)&&(o.translate(i.width,0),o.scale(-1,1)),o.drawImage(n,0,0,i.width,i.height),(a!=null&&a.mirrored||this._mirror||this._facingMode===Or.FRONT)&&(o.scale(-1,1),o.translate(-i.width,0))}},e.stopMediaStream=function(r){r&&(r.getVideoTracks&&r.getAudioTracks?(r.getVideoTracks().map(function(n){r.removeTrack(n),n.stop()}),r.getAudioTracks().map(function(n){r.removeTrack(n),n.stop()})):r.stop())},e}(),H4=se({play:D.function(),pause:D.function()}).refine(function(e){return"play"in e&&"pause"in e},{message:"Invalid HTMLVideoElement"}),W4=[se({videoElement:H4,mediaConstraints:D.object({width:D.number().min(100).optional(),height:D.number().min(100).optional(),facingMode:D.string().optional(),audio:D.boolean().optional(),video:D.boolean().optional(),deviceId:D.string().optional(),mirrored:D.boolean().optional()}).nullish()}).optional()];function V4(e){return W("createCameraContext",W4,[e],function(t){return new gN(t.videoElement,t.mediaConstraints)})}var fd=function(){function e(){var r,n;Kr(this,e),this.sdkLoaded=!1,this.queue=[];var a=window.AdtimaZMA={config:{cateId:(r=window.zmpGlobal)===null||r===void 0||(n=r.appInfo)===null||n===void 0?void 0:n.cateType,appId:window.APP_ID},queue:[],load:function(i,o){a.queue=Va(a.queue).concat([[i,o]])}}}var t=e.prototype;return t.loadSDK=function(){var r=this,n=document.createElement("script");n.src="https://adtima-static.zascdn.me/resource/js/zma/sdk.js?q=".concat(Math.floor(new Date().getTime()/864e5)),n.onload=function(){r.sdkLoaded=!0,r.processQueue()},n.onerror=function(){r.sdkLoaded=!0},document.body.appendChild(n)},t.load=function(r,n){var a;Ee.isFunction((a=window.AdtimaZMA)===null||a===void 0?void 0:a.load)&&window.AdtimaZMA.load(r,n)},t.display=function(r){var n;this.sdkLoaded?Ee.isFunction((n=window.AdtimaZMA)===null||n===void 0?void 0:n.display)&&window.AdtimaZMA.display(r):this.queue.push(this.display.bind(this,r))},t.refresh=function(r){var n;this.sdkLoaded?Ee.isFunction((n=window.AdtimaZMA)===null||n===void 0?void 0:n.refresh)&&window.AdtimaZMA.refresh(r):this.queue.push(this.refresh.bind(this,r))},t.processQueue=function(){for(;this.queue.length>0;){var r=this.queue.shift();r&&r()}},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}();function K4(e){return xN.apply(this,arguments)}function xN(){return(xN=S(function(e){return _(this,function(t){return[2,W("setupAd",[],[e],function(){return fd.getInstance().loadSDK()})]})})).apply(this,arguments)}var G4=[se({ids:D.union([D.string(),D.array(D.string())]),config:se({display:D.boolean().optional(),onClose:D.function().optional()}).optional()})];function Z4(e){return Qm.apply(this,arguments)}function Qm(){return Qm=S(function(e){return _(this,function(t){return[2,W("loadAd",G4,[e],(r=S(function(n){return _(this,function(a){return fd.getInstance().load(n.ids,n.config),[2]})}),function(n){return r.apply(this,arguments)}))];var r})}),Qm.apply(this,arguments)}var q4=[se({id:D.string()})];function Y4(e){return Jm.apply(this,arguments)}function Jm(){return Jm=S(function(e){return _(this,function(t){return[2,W("displayAd",q4,[e],(r=S(function(n){return _(this,function(a){return fd.getInstance().display(n.id),[2]})}),function(n){return r.apply(this,arguments)}))];var r})}),Jm.apply(this,arguments)}var Q4=[se({id:D.string().optional()}).optional()];function J4(e){return Xm.apply(this,arguments)}function Xm(){return Xm=S(function(e){return _(this,function(t){return[2,W("refreshAd",Q4,[e],(r=S(function(n){return _(this,function(a){return fd.getInstance().refresh(n.id),[2]})}),function(n){return r.apply(this,arguments)}))];var r})}),Xm.apply(this,arguments)}var vf,X4=[se({id:ie(),guidingText:ie().optional(),color:ie().optional(),onStatusChange:D.function().optional(),onError:D.function().optional()}).catchall(D.any())];function eP(e){return ep.apply(this,arguments)}function ep(){return ep=S(function(e){return _(this,function(t){return[2,W("showOAWidget",X4,[e],(r=S(function(n){var a,i,o,l,c,u,d,f;return _(this,function(h){if(R.isMp){try{a=document.getElementById(n.id),i=n.onStatusChange,o=n.guidingText,l=n.color,c=Ui(n,["onStatusChange","guidingText","color"]),a&&(u=document.createElement("iframe"),d="ifOAW-".concat(n.id,"-").concat(Date.now()),(f=new URL(_l.OA)).searchParams.set("id",d),f.searchParams.set("appId",window.APP_ID),o&&f.searchParams.set("guidingText",o),l&&f.searchParams.set("color",l),Object.entries(c).forEach(function(p){var g=An(p,2),m=g[0],y=g[1];y&&f.searchParams.set("data-".concat(m),String(y))}),u.id=d,u.src=f.href,u.style.width="100%",u.style.height="100%",u.style.border="none",a.innerHTML=u.outerHTML,window.removeEventListener("message",vf,!1),vf=function(){var p=S(function(g){var m,y,b,x,v,k,j,M;return _(this,function(N){switch(N.label){case 0:return m=g.data,g.origin.startsWith(Cn)?(y=document.getElementById(d),b=m.type,(x=new URL(m.href)).origin!==f.origin||x.pathname!==f.pathname||m.id!==d?[3,3]:b!=="followOA"&&b!=="getOAInfo"?[3,2]:[4,_e.jumpAndGetToken()]):[3,3];case 1:return N.sent(),j=(v=_e.miniProgramConfig)===null||v===void 0?void 0:v.jwt,y==null||(k=y.contentWindow)===null||k===void 0||k.postMessage({type:b,payload:{jwt:j}},Cn),[3,3];case 2:b==="oaInfo"?i==null||i((M=m.payload)===null||M===void 0?void 0:M.followed):b==="openOA"?jg(m.payload.id,"oa"):b==="heightChange"&&(y.style.height="".concat(m.payload,"px")),N.label=3;case 3:return[2]}})});return function(g){return p.apply(this,arguments)}}(),window.addEventListener("message",vf,!1))}catch(p){console.log(p)}return[2,Promise.resolve()]}return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("showOAWidget",{}))]})}),function(n){return r.apply(this,arguments)}))];var r})}),ep.apply(this,arguments)}var yf,tP=[D.object({id:D.string(),type:D.string(),text:D.string(),color:D.string().optional(),disabled:D.boolean().optional(),onDataReceived:D.function().optional(),onError:D.function().optional()}).catchall(D.any())];function rP(e){return tp.apply(this,arguments)}function tp(){return tp=S(function(e){return _(this,function(t){return[2,W("showFunctionButtonWidget",tP,[e],(r=S(function(n){var a,i,o,l,c,u,d;return _(this,function(f){if(R.isMp){try{a=document.getElementById(n.id),i=n.onDataReceived,o=n.onError,l=Ui(n,["onDataReceived","onError"]),a&&(c=document.createElement("iframe"),u="ifFBW-".concat(n.id,"-").concat(Date.now()),(d=new URL(_l.FUNCTION_BUTTON)).searchParams.set("id",u),d.searchParams.set("appId",window.APP_ID),Object.entries(l).forEach(function(h){var p=An(h,2),g=p[0],m=p[1];m&&d.searchParams.set("data-".concat(g),String(m))}),c.id=u,c.src=d.href,c.style.width="100%",c.style.height="100%",c.style.border="none",Object.entries(l).forEach(function(h){var p=An(h,2),g=p[0],m=p[1];m&&c.setAttribute("data-".concat(g),String(m))}),a.innerHTML=c.outerHTML,window.removeEventListener("message",yf,!1),yf=function(){var h=S(function(p){var g,m,y,b,x,v,k,j,M,N,E,A,O;return _(this,function(F){switch(F.label){case 0:return g=p.data,p.origin.startsWith(Cn)?(m=document.getElementById(u),y=g.type,(b=new URL(g.href)).origin!==d.origin||b.pathname!==d.pathname||g.id!==u?[3,4]:y!=="buttonClicked"?[3,3]:[4,_e.jumpAndGetToken()]):[3,4];case 1:return F.sent(),j=(x=_e.miniProgramConfig)===null||x===void 0?void 0:x.jwt,M=(v=_e.miniProgramConfig)===null||v===void 0?void 0:v.encryptKey,[4,m1()];case 2:return N=F.sent(),m==null||(k=m.contentWindow)===null||k===void 0||k.postMessage({type:y,payload:{jwt:j,encryptKey:M,accessToken:N}},Cn),[3,4];case 3:y==="onSuccess"?((E=g.payload)==null?void 0:E.type)===l.type&&(A={callAction:function(G,ne){var X;m==null||(X=m.contentWindow)===null||X===void 0||X.postMessage({type:"context.callAction",payload:{actionName:G,actionData:ne}},Cn)}},i==null||i.apply(void 0,Va(Object.values(E)).concat([A]))):y==="onError"&&((O=g.payload)==null?void 0:O.type)===l.type&&(o==null||o(O==null?void 0:O.data)),F.label=4;case 4:return[2]}})});return function(p){return h.apply(this,arguments)}}(),window.addEventListener("message",yf,!1))}catch(h){console.log(h)}return[2,Promise.resolve()]}return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("showFunctionButtonWidget",{}))]})}),function(n){return r.apply(this,arguments)}))];var r})}),tp.apply(this,arguments)}var hv,nP=(hv=S(function(e,t){var r;return _(this,function(n){return r={},e==="cccd"&&(r={mrz:t==null?void 0:t.mrz}),[2,new Promise(function(a,i){be("SCAN_NFC",{type:Hh[e],data:r},{success:function(o){if(e==="cccd"){var l,c,u,d,f,h,p,g,m,y,b,x,v,k,j,M,N,E,A,O,F,G={dg1:(l=o.dg1)!==null&&l!==void 0?l:"",dg2:(c=o.dg2)!==null&&c!==void 0?c:"",dg3:(u=o.dg3)!==null&&u!==void 0?u:"",dg4:(d=o.dg4)!==null&&d!==void 0?d:"",dg5:(f=o.dg5)!==null&&f!==void 0?f:"",dg6:(h=o.dg6)!==null&&h!==void 0?h:"",dg7:(p=o.dg7)!==null&&p!==void 0?p:"",dg8:(g=o.dg8)!==null&&g!==void 0?g:"",dg9:(m=o.dg9)!==null&&m!==void 0?m:"",dg10:(y=o.dg10)!==null&&y!==void 0?y:"",dg11:(b=o.dg11)!==null&&b!==void 0?b:"",dg12:(x=o.dg12)!==null&&x!==void 0?x:"",dg13:(v=o.dg13)!==null&&v!==void 0?v:"",dg14:(k=o.dg14)!==null&&k!==void 0?k:"",dg15:(j=o.dg15)!==null&&j!==void 0?j:"",dg16:(M=o.dg16)!==null&&M!==void 0?M:"",com:(N=o.com)!==null&&N!==void 0?N:"",sod:(E=o.sod)!==null&&E!==void 0?E:"",challenge:(A=o.challenge)!==null&&A!==void 0?A:"",aAResult:(O=o.aAResult)!==null&&O!==void 0?O:"",eACCAResult:(F=o.eACCAResult)!==null&&F!==void 0?F:""};a(G)}else a({})},fail:function(o){i(o)}},{timeout:!1})})]})}),function(e,t){return hv.apply(this,arguments)}),aP=[se({type:D.enum(["cccd"]),data:se({mrz:ie().max(90)})})];function sP(e){return rp.apply(this,arguments)}function rp(){return rp=S(function(e){return _(this,function(t){return[2,W("scanNFC",aP,[e],(r=S(function(n){var a,i;return _(this,function(o){switch(o.label){case 0:return R.isMp?ha(754,620)?(a=n.type,i=n.data,[4,nP(a,i)]):[3,2]:[3,3];case 1:return[2,o.sent()];case 2:return[2,Promise.reject(pt.error.clientNotSupport())];case 3:return R.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("scanNFC",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),rp.apply(this,arguments)}var iP=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("CHECK_NFC",{},{success:function(n){t(n)},fail:function(n){r(n)}},{timeout:!1})})]})});function oP(e){return vN.apply(this,arguments)}function vN(){return(vN=S(function(e){return _(this,function(t){return[2,W("checkNFC",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?[4,iP()]:[3,2];case 1:return[2,r.sent()];case 2:return R.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("checkNFC",{}))]}})}))]})})).apply(this,arguments)}var lP=[D.string().trim().min(1)];function cP(e){return W("getItem",lP,[e],function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(R.isMp||R.isMpWeb){if(ha(757,625))return $n.getItem(r[0]);throw pt.error.clientNotSupport()}throw oe("getItem",{})})}var uP=[D.string().trim().min(1),D.string().trim()];function dP(e,t){return W("setItem",uP,[e,t],function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];if(R.isMp||R.isMpWeb){if(ha(757,625))return $n.setItem(n[0],n[1]);throw pt.error.clientNotSupport()}throw oe("setItem",{})})}function fP(){return W("clear",[],[],function(){if(R.isMp||R.isMpWeb){if(ha(757,625))return $n.clearStorageSync();throw pt.error.clientNotSupport()}throw oe("clear",{})})}var hP=[D.string().trim().min(1)];function mP(e){return W("removeItem",hP,[e],function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(R.isMp||R.isMpWeb){if(ha(757,625))return $n.removeItem(r[0]);throw pt.error.clientNotSupport()}throw oe("removeItem",{})})}function pP(){return W("getStorageInfoSync",[],[],function(){if(R.isMp||R.isMpWeb){if(ha(757,625))return $n.getStorageInfoSync();throw pt.error.clientNotSupport()}throw oe("getStorageInfoSync",{})})}var gP={getItem:cP,setItem:dP,clear:fP,removeItem:mP,getStorageInfo:pP},yN={purchase:rN,createOrder:tN,checkTransaction:aN,createOrderIAP:sN,selectPaymentMethod:nN},xP=yN,mv,vP=(mv=S(function(e,t){return _(this,function(r){return[2,new Promise(function(n,a){be("SAVE_FILE",{fileUrl:e,onProgress:t},{success:function(i){n()},fail:function(i){a(i)}},{})})]})}),function(e,t){return mv.apply(this,arguments)}),yP=[se({url:D.string().url()}).optional()];function bP(e){return np.apply(this,arguments)}function np(){return np=S(function(e){return _(this,function(t){return[2,W("downloadFile",yP,[e],(r=S(function(n){var a;return _(this,function(i){switch(i.label){case 0:return R.isMp?(a=n.url,[4,vP(a,n.onProgress)]):[3,2];case 1:return[2,i.sent()];case 2:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("downloadFile",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),np.apply(this,arguments)}var wP=D.enum(["APP_INITIALIZING","APP_READY"]),NP=D.any();function kP(e,t){return W("logEvent",[wP,NP],[e,t],function(r,n){if(R.isMp||R.isMpWeb){var a,i,o,l=da(ut({},typeof n=="object"&&n!==null?n:{}),{duration:Math.round(performance.now()),timestamp:Date.now()});return window==null||(a=window.zmpGlobal)===null||a===void 0||(i=a.eventManager)===null||i===void 0||(o=i.logEventForClient)===null||o===void 0||o.call(i,{type:zh.DEV_TRACKING,eventCode:r==="APP_INITIALIZING"?ku.APP_INITIALIZING:ku.APP_READY}),bn([{action:"zmp.app.lifecycle.tracking",error:0,message:"",data:ut({eventType:r},l)}])}throw oe("logEvent",{})})}var jP={logEvent:kP},bf,_P=[se({id:ie(),textColor:D.string().optional(),fontSize:D.string().optional(),buttonHeight:D.string().optional(),buttonColor:D.string().optional(),buttonTextColor:D.string().optional(),buttonRadius:D.string().optional(),buttonText:D.string().optional(),checkboxBGColor:D.string().optional(),checkboxCheckmarkColor:D.string().optional(),onClick:D.function().optional(),onStatusChange:D.function().optional(),onError:D.function().optional()}).catchall(D.any())];function SP(e){return ap.apply(this,arguments)}function ap(){return ap=S(function(e){return _(this,function(t){return[2,W("showCustomOAWidget",_P,[e],(r=S(function(n){var a,i,o,l,c,u,d,f,h,p,g,m,y,b,x,v,k,j,M,N,E;return _(this,function(A){if(R.isMp){try{a=document.getElementById(n.id),i=n.textColor,o=n.fontSize,l=n.buttonHeight,c=n.buttonColor,u=n.buttonTextColor,d=n.buttonRadius,f=n.buttonText,h=n.checkboxBGColor,p=n.checkboxCheckmarkColor,g=n.onStatusChange,m=n.onClick,y=n.onError,b=Ui(n,["textColor","fontSize","buttonHeight","buttonColor","buttonTextColor","buttonRadius","buttonText","checkboxBGColor","checkboxCheckmarkColor","onStatusChange","onClick","onError"]),a&&(x=document.createElement("iframe"),v="ifCOAW-".concat(n.id,"-").concat(Date.now()),k=new URL(_l.CUSTOM_OA),j={id:v,appId:window.APP_ID,textColor:i,fontSize:o,buttonHeight:l,buttonColor:c,buttonTextColor:u,buttonRadius:d,buttonText:f,checkboxBGColor:h,checkboxCheckmarkColor:p},Object.entries(b).forEach(function(O){var F=An(O,2),G=F[0],ne=F[1];ne&&(j["data-".concat(G)]=String(ne))}),M=JSON.stringify(j),N=TS(M),E=encodeURIComponent(N),u1(k.searchParams,"data",E),x.id=v,x.src=k.href,x.style.width="100%",x.style.height="100%",x.style.border="none",a.innerHTML=x.outerHTML,window.removeEventListener("message",bf,!1),bf=function(){var O=S(function(F){var G,ne,X,J,V,ae,U,Y,H;return _(this,function(fe){switch(fe.label){case 0:return G=F.data,F.origin.startsWith(Cn)?(ne=document.getElementById(v),X=G.type,(J=new URL(G.href)).origin!==k.origin||J.pathname!==k.pathname||G.id!==v?[3,3]:X!=="followOA"&&X!=="getOAInfo"?[3,2]:[4,_e.jumpAndGetToken()]):[3,3];case 1:return fe.sent(),U=(V=_e.miniProgramConfig)===null||V===void 0?void 0:V.jwt,ne==null||(ae=ne.contentWindow)===null||ae===void 0||ae.postMessage({type:X,payload:{jwt:U}},Cn),[3,3];case 2:X==="oaInfo"?g==null||g((Y=G.payload)===null||Y===void 0?void 0:Y.followed):X==="openOA"?jg(G.payload.id,"oa"):X==="heightChange"?ne.style.height="".concat(G.payload,"px"):X==="onClick"?m==null||m((H=G.payload)===null||H===void 0?void 0:H.status):X==="onError"&&(y==null||y(G.payload)),fe.label=3;case 3:return[2]}})});return function(F){return O.apply(this,arguments)}}(),window.addEventListener("message",bf,!1))}catch(O){console.log(O)}return[2,Promise.resolve()]}return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("showCustomOAWidget",{}))]})}),function(n){return r.apply(this,arguments)}))];var r})}),ap.apply(this,arguments)}var wf,EP=[se({id:ie(),onMethodChange:D.function().optional()}).catchall(D.any())];function TP(e){return sp.apply(this,arguments)}function sp(){return sp=S(function(e){return _(this,function(t){return[2,W("showWidget",EP,[e],(r=S(function(n){var a,i,o,l,c,u,d,f,h,p,g,m;return _(this,function(y){if(R.isMp){try{a=document.getElementById(n.id),i=n.onMethodChange,o=n.fail,l=Ui(n,["onMethodChange","fail"]),a&&((c=document.getElementById(Xo))&&(c==null||(u=c.parentNode)===null||u===void 0||u.removeChild(c),c=null),c=document.createElement("iframe"),d=Xo,f=new URL(_l.CHECKOUT_KIT),h={id:d,appId:window.APP_ID},Object.entries(l).forEach(function(b){var x=An(b,2),v=x[0],k=x[1];k&&(h["data-".concat(v)]=k)}),p=JSON.stringify(h),g=btoa(p),m=encodeURIComponent(g),u1(f.searchParams,"data",m),c.id=d,c.src=f.href,c.style.width="100%",c.style.height="100%",c.style.border="none",a.innerHTML=c.outerHTML,window.removeEventListener("message",wf,!1),wf=function(){var b=S(function(x){var v,k,j,M,N,E,A,O,F,G;return _(this,function(ne){switch(ne.label){case 0:if(v=x.data,!x.origin.startsWith(Cn))return[3,9];if(k=v.type,j=document.getElementById(d),(M=new URL(v.href)).origin!==f.origin||M.pathname!==f.pathname||v.id!==d)return[3,9];switch(k){case"getInfo":return[3,1];case"getToken":return[3,2];case"heightChange":return[3,4];case"callAction":return[3,5];case"onMethodChange":return[3,6];case"onError":return[3,7]}return[3,8];case 1:return di(j,k,{appId:window.APP_ID,zaloVersion:zs(),appPlatform:(N=bt())===null||N===void 0?void 0:N.platformName}),[3,9];case 2:return[4,_e.jumpAndGetToken()];case 3:return ne.sent(),A=(E=_e.miniProgramConfig)===null||E===void 0?void 0:E.jwt,di(j,k,{jwt:A}),[3,9];case 4:return j.style.height="".concat(v.payload,"px"),[3,9];case 5:return O=v.payload,F=O.actionName,G=O.actionData,String(F).length>0&&be(F,G,{success:function(X){di(j,k,{status:0,actionName:F,data:X})},fail:function(X){di(j,k,{status:-1,actionName:F,data:X})}},{}),[3,9];case 6:return i==null||i.apply(void 0,Va(Object.values(v.payload))),[3,9];case 7:o==null||o(v.payload),ne.label=8;case 8:return[3,9];case 9:return[2]}})});return function(x){return b.apply(this,arguments)}}(),window.addEventListener("message",wf,!1))}catch(b){console.log(b)}return[2,Promise.resolve()]}return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("showWidget",{}))]})}),function(n){return r.apply(this,arguments)}))];var r})}),sp.apply(this,arguments)}var Nf,CP=[se({amount:D.union([D.string(),D.number()]),desc:D.string(),payload:D.object({}).catchall(D.any()).optional()}).catchall(D.any())];function PP(e){return ip.apply(this,arguments)}function ip(){return ip=S(function(e){return _(this,function(t){return[2,W("purchase",CP,[e],(r=S(function(n){return _(this,function(a){return R.isMp?[2,new Promise(function(i,o){var l=document.getElementById(Xo),c=new URL(_l.CHECKOUT_KIT);if(!(l&&Dh(l,HTMLIFrameElement)&&l.src.startsWith(c.origin)&&l.src.includes(c.pathname)))return o(oe("purchase",{message:"Widget not found or not initialized."}));var u=Ui(n,["amount","desc","payload"]),d="purchase";di(l,d,ut({amount:String(n.amount),desc:n.desc,payload:n.payload||{}},u)),window.removeEventListener("message",Nf,!1),Nf=function(){var f=S(function(h){var p,g,m;return _(this,function(y){if(p=h.data,h.origin.startsWith(Cn)&&(g=p.type,(m=new URL(p.href)).origin===c.origin&&m.pathname===c.pathname&&p.id===Xo)){if(g===d)return[2,i(p.payload)];if(g==="onError")return[2,o(p.payload)]}return[2]})});return function(h){return f.apply(this,arguments)}}(),window.addEventListener("message",Nf,!1)})]:R.isMpWeb?[2,Promise.resolve({orderId:"",messageToken:"",transId:""})]:[2,Promise.reject(oe("purchase",{}))]})}),function(n){return r.apply(this,arguments)}))];var r})}),ip.apply(this,arguments)}var IP={showWidget:TP,purchase:PP},pv,MP=(pv=S(function(e){var t,r,n,a,i=arguments;return _(this,function(o){return t=i.length>1&&i[1]!==void 0?i[1]:"",r=i.length>2&&i[2]!==void 0&&i[2],n=i.length>3&&i[3]!==void 0&&i[3],a=i.length>4&&i[4]!==void 0&&i[4],[2,new Promise(function(l,c){be("OPEN_DOCUMENT",{url:e,title:t,share:r,download:n,edit:a},{success:function(u){l()},fail:function(u){c(u)}},{timeout:!1})})]})}),function(e){return pv.apply(this,arguments)}),AP=[se({url:ie(),title:ie().optional(),download:D.boolean().default(!1).optional(),edit:D.boolean().default(!1).optional()})];function RP(e){return op.apply(this,arguments)}function op(){return op=S(function(e){return _(this,function(t){return[2,W("openDocument",AP,[e],(r=S(function(n){return _(this,function(a){switch(a.label){case 0:return R.isMp?ha(842,666)?[4,MP(n.url,n.title,!1,n.download,n.edit)]:[3,2]:[3,3];case 1:return[2,a.sent()];case 2:return[2,Promise.reject(pt.error.clientNotSupport())];case 3:return R.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(oe("openDocument",{}))]}})}),function(n){return r.apply(this,arguments)}))];var r})}),op.apply(this,arguments)}function OP(e){return bN.apply(this,arguments)}function bN(){return(bN=S(function(e){return _(this,function(t){return[2,W("getEntrySource",[],[e],S(function(){var r,n;return _(this,function(a){switch(a.label){case 0:return R.isMp?[4,_e.jumpAndGetToken()]:[3,2];case 1:return a.sent(),n=(r=_e.miniProgramConfig)===null||r===void 0?void 0:r.srcOpen,[2,Promise.resolve({srcOpen:n||""})];case 2:return[2,Promise.resolve({srcOpen:""})]}})}))]})})).apply(this,arguments)}var LP=S(function(){return _(this,function(e){return[2,new Promise(function(t,r){be("GET_DEVICE_INFO",{},{success:function(n){t(n)},fail:function(n){r(n)}},{})})]})});function DP(e){return wN.apply(this,arguments)}function wN(){return(wN=S(function(e){return _(this,function(t){return[2,W("getDeviceInfo",[],[e],S(function(){return _(this,function(r){switch(r.label){case 0:return R.isMp?ha(25102854,674)?[4,LP()]:[3,2]:[3,3];case 1:return[2,r.sent()];case 2:return[2,Promise.reject(pt.error.clientNotSupport())];case 3:return R.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(oe("getDeviceInfo",{}))]}})}))]})})).apply(this,arguments)}window.ZaloMiniAppSDK={getVersion:d1},f1();const NN=Object.freeze(Object.defineProperty({__proto__:null,AppError:Tt,get CameraEvents(){return Sa},CheckoutKit:IP,CheckoutSDK:xP,get EventName(){return st},get Events(){return st},get FacingMode(){return Or},Payment:yN,get PhotoFormat(){return Qo},get PhotoQuality(){return wu},get StreamType(){return Nu},ZMACameraImp:gN,addRating:E4,authorize:O4,checkNFC:oP,checkStateBioAuthentication:MT,checkTransaction:aN,checkZaloCameraPermission:D4,chooseImage:KC,clearStorage:FE,closeApp:nT,closeLoading:PC,configAppView:p4,connectWifi:kC,createCameraContext:V4,createOrder:tN,createOrderIAP:sN,createShortcut:ET,displayAd:Y4,downloadFile:bP,events:hl,favoriteApp:w4,followOA:gT,getAccessToken:m1,getAppInfo:fC,getAuthCode:$C,getBeacons:tT,getContext:DC,getContextAsync:zC,getDeviceId:OC,getDeviceIdAsync:LC,getDeviceInfo:DP,getEntrySource:OP,getIDToken:F4,getLocation:ZC,getNetworkType:VE,getPhoneNumber:xC,getRouteParams:dC,getSetting:M4,getShareableLink:TC,getStorage:LE,getStorageInfo:DE,getSystemInfo:x1,getUserID:$4,getUserInfo:WE,getVersion:d1,getZPIToken:UC,hideKeyboard:DT,interactOA:fv,interactOa:fv,isAllowedInteractWithOA:I4,keepScreen:ZT,loadAd:Z4,login:f1,minimizeApp:x4,nativeStorage:gP,offConfirmToExit:RC,offKeepScreen:YT,onCallbackData:QC,onConfirmToExit:AC,onKeepScreen:qT,onNetworkStatusChange:ZE,openBioAuthentication:PT,openChat:uT,openDocument:RP,openGroupList:k4,openMediaPicker:SC,openMiniApp:sC,openOutApp:WC,openPermissionSetting:y4,openPhone:UT,openPostFeed:hT,openProfile:oT,openProfilePicker:bC,openSMS:HT,openShareSheet:NT,openWebview:uC,purchase:rN,refreshAd:J4,removeStorage:$E,requestCameraPermission:jT,requestSendNotification:_4,requestUpdateZalo:IC,saveImageToGallery:XT,saveVideoToGallery:rC,scanNFC:sP,scanQRCode:sT,selectPaymentMethod:nN,sendDataToPreviousMiniApp:pC,setAccessToken:BC,setAndroidBottomNavigationBar:c4,setIOSBottomSafeArea:d4,setNavigationBarColor:NE,setNavigationBarLeftButton:jE,setNavigationBarTitle:bE,setStatusBar:h4,setStorage:RE,setupAd:K4,showCustomOAWidget:SP,showFunctionButtonWidget:rP,showOAWidget:eP,showToast:OT,startBeaconDiscovery:QE,stopBeaconDiscovery:XE,trackingManager:jP,unfollowOA:yT,vibrate:lC,viewOAQr:KT},Symbol.toStringTag,{value:"Module"}));var kf,gv,pn=Ui(NN,["createOrder","checkTransaction","createOrderIAP","selectPaymentMethod","purchase"]);(gv=(kf=bt())===null||kf===void 0?void 0:kf.appEnv)!=null&&gv.isMp&&(window.ZaloMiniAppSDK={},Object.assign(window.ZaloMiniAppSDK,NN));function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(null,arguments)}function hd(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zP=Ne.createContext(void 0),$P=["theme"],UP=function(t){var r=t.theme,n=r===void 0?"light":r,a=hd(t,$P),i=w.useState(n||"light"),o=i[0],l=i[1];w.useEffect(function(){(o==="dark"||o==="light")&&document.body.setAttribute("zaui-theme",o)},[o]);var c=w.useCallback(function(d){var f=d.mode;f!==o&&(f==="dark"||f==="light")&&l(f)},[o]),u=Ne.useMemo(function(){return{setThemeMode:c,themeMode:o}},[c,o]);return Ne.createElement(zP.Provider,ml({value:u},a))};function kN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=kN(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Ma(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=kN(e))&&(n&&(n+=" "),n+=t);return n}var xv="zaui",Cl=function(t,r){return t?xv+"-"+t:xv};function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function FP(e,t){if(pl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BP(e){var t=FP(e,"string");return pl(t)=="symbol"?t:t+""}function Tg(e,t,r){return(t=BP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HP={zi_add_member:"zi_add_member",zi_add_member_solid:"zi_add_member_solid",zi_add_user:"zi_add_user",zi_add_user_solid:"zi_add_user_solid",zi_admin:"zi_admin",zi_create_group:"zi_create_group",zi_create_group_solid:"zi_create_group_solid",zi_group:"zi_group",zi_group_solid:"zi_group_solid",zi_members:"zi_members",zi_members_solid:"zi_members_solid",zi_stranger:"zi_stranger",zi_stranger_solid:"zi_stranger_solid",zi_switch_users:"zi_switch_users",zi_switch_users_solid:"zi_switch_users_solid",zi_user:"zi_user",zi_user_check:"zi_user_check",zi_user_circle:"zi_user_circle",zi_user_circle_solid:"zi_user_circle_solid",zi_user_search:"zi_user_search",zi_user_search_solid:"zi_user_search_solid",zi_user_settings:"zi_user_settings",zi_user_settings_solid:"zi_user_settings_solid",zi_user_solid:"zi_user_solid",zi_add_photo:"zi_add_photo",zi_camera:"zi_camera",zi_gallery:"zi_gallery",zi_link:"zi_link",zi_livestream:"zi_livestream",zi_pause:"zi_pause",zi_pause_solid:"zi_pause_solid",zi_photo:"zi_photo",zi_photo_search:"zi_photo_search",zi_photo_solid:"zi_photo_solid",zi_play:"zi_play",zi_play_solid:"zi_play_solid",zi_add_story:"zi_add_story",zi_ban:"zi_ban",zi_bullet_solid:"zi_bullet_solid",zi_check:"zi_check",zi_check_circle:"zi_check_circle",zi_check_circle_solid:"zi_check_circle_solid",zi_close:"zi_close",zi_close_circle:"zi_close_circle",zi_close_circle_solid:"zi_close_circle_solid",zi_copy:"zi_copy",zi_delete:"zi_delete",zi_drag_indicator_solid:"zi_drag_indicator_solid",zi_filter:"zi_filter",zi_filter_solid:"zi_filter_solid",zi_home:"zi_home",zi_leave:"zi_leave",zi_leave_solid:"zi_leave_solid",zi_list_1:"zi_list_1",zi_list_2:"zi_list_2",zi_minus_circle:"zi_minus_circle",zi_minus_circle_solid:"zi_minus_circle_solid",zi_more_diamond_solid:"zi_more_diamond_solid",zi_more_grid:"zi_more_grid",zi_more_grid_solid:"zi_more_grid_solid",zi_more_horiz:"zi_more_horiz",zi_more_horiz_solid:"zi_more_horiz_solid",zi_more_vert:"zi_more_vert",zi_plus:"zi_plus",zi_plus_circle:"zi_plus_circle",zi_plus_circle_solid:"zi_plus_circle_solid",zi_radio_checked:"zi_radio_checked",zi_radio_unchecked:"zi_radio_unchecked",zi_save_to_collection:"zi_save_to_collection",zi_search:"zi_search",zi_setting:"zi_setting",zi_tune:"zi_tune",zi_arrow_down:"zi_arrow_down",zi_arrow_left:"zi_arrow_left",zi_arrow_right:"zi_arrow_right",zi_arrow_up:"zi_arrow_up",zi_auto:"zi_auto",zi_auto_solid:"zi_auto_solid",zi_backup_arrow_solid:"zi_backup_arrow_solid",zi_chevron_double_down:"zi_chevron_double_down",zi_chevron_double_up:"zi_chevron_double_up",zi_chevron_down:"zi_chevron_down",zi_chevron_left:"zi_chevron_left",zi_chevron_left_header:"zi_chevron_left_header",zi_chevron_right:"zi_chevron_right",zi_chevron_up:"zi_chevron_up",zi_download:"zi_download",zi_download_solid:"zi_download_solid",zi_reorder_solid:"zi_reorder_solid",zi_reply:"zi_reply",zi_reply_solid:"zi_reply_solid",zi_retry:"zi_retry",zi_retry_solid:"zi_retry_solid",zi_share:"zi_share",zi_share_external_1:"zi_share_external_1",zi_share_external_2:"zi_share_external_2",zi_share_solid:"zi_share_solid",zi_unfold_less:"zi_unfold_less",zi_unfold_more:"zi_unfold_more",zi_upload:"zi_upload",zi_at:"zi_at",zi_bubble_multiselect:"zi_bubble_multiselect",zi_call:"zi_call",zi_call_solid:"zi_call_solid",zi_chat:"zi_chat",zi_chat_solid:"zi_chat_solid",zi_grid_solid:"zi_grid_solid",zi_location:"zi_location",zi_location_solid:"zi_location_solid",zi_mic:"zi_mic",zi_quote:"zi_quote",zi_quote_solid:"zi_quote_solid",zi_recall:"zi_recall",zi_send_solid:"zi_send_solid",zi_user_window_solid:"zi_user_window_solid",zi_video:"zi_video",zi_video_group:"zi_video_group",zi_video_solid:"zi_video_solid",zi_wifi:"zi_wifi",zi_wifi_off:"zi_wifi_off",zi_backup_solid:"zi_backup_solid",zi_backup_success_solid:"zi_backup_success_solid",zi_backup_warning_solid:"zi_backup_warning_solid",zi_bookmark:"zi_bookmark",zi_bookmark_delete:"zi_bookmark_delete",zi_favorite_list:"zi_favorite_list",zi_heart:"zi_heart",zi_heart_solid:"zi_heart_solid",zi_pin:"zi_pin",zi_pin_solid:"zi_pin_solid",zi_star:"zi_star",zi_star_solid:"zi_star_solid",zi_unpin:"zi_unpin",zi_calendar:"zi_calendar",zi_calendar_solid:"zi_calendar_solid",zi_clock_1:"zi_clock_1",zi_clock_1_solid:"zi_clock_1_solid",zi_clock_2:"zi_clock_2",zi_clock_2_solid:"zi_clock_2_solid",zi_memory:"zi_memory",zi_reminder:"zi_reminder",zi_reminder_delete:"zi_reminder_delete",zi_reminder_solid:"zi_reminder_solid",zi_edit:"zi_edit",zi_edit_delete:"zi_edit_delete",zi_edit_delete_solid:"zi_edit_delete_solid",zi_edit_solid:"zi_edit_solid",zi_edit_text:"zi_edit_text",zi_edit_text_solid:"zi_edit_text_solid",zi_post:"zi_post",zi_exclamation:"zi_exclamation",zi_help_circle:"zi_help_circle",zi_info_circle:"zi_info_circle",zi_info_circle_solid:"zi_info_circle_solid",zi_warning:"zi_warning",zi_warning_circle:"zi_warning_circle",zi_warning_circle_solid:"zi_warning_circle_solid",zi_warning_solid:"zi_warning_solid",zi_file:"zi_file",zi_inbox:"zi_inbox",zi_note:"zi_note",zi_note_delete:"zi_note_delete",zi_pcline:"zi_pcline",zi_poll:"zi_poll",zi_poll_solid:"zi_poll_solid",zi_qrline:"zi_qrline",zi_truyen_file:"zi_truyen_file",zi_wallpaper:"zi_wallpaper",zi_hide:"zi_hide",zi_key_solid:"zi_key_solid",zi_lock:"zi_lock",zi_lock_open_solid:"zi_lock_open_solid",zi_lock_solid:"zi_lock_solid",zi_notif:"zi_notif",zi_notif_off:"zi_notif_off",zi_notif_off_solid:"zi_notif_off_solid",zi_notif_ring:"zi_notif_ring",zi_shield_solid:"zi_shield_solid",zi_unhide:"zi_unhide",zi_unlock:"zi_unlock",zi_unlock_solid:"zi_unlock_solid"},WP=["children","size","icon","style","className"];function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ya=Ne.forwardRef(function(e,t){var r,n=e.children,a=e.size,i=e.icon,o=e.style,l=e.className,c=hd(e,WP),u=Cl("icon"),d=function(m){if(typeof m=="string"){var y=m.replace(/-/g,"_"),b=HP[y];return b||null}return null},f={};o&&(f=VP({},o));var h=Ma(u,(r={},r[""+l]=l,r));typeof a=="number"&&(f.fontSize=a+"px");var p=d(i||n);return Ne.createElement("i",ml({ref:t,className:h,style:f},c),p)});function lp(e,t){return lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lp(e,t)}function jN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lp(e,t)}var _N={exports:{}},KP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GP=KP,ZP=GP;function SN(){}function EN(){}EN.resetWarningCache=SN;var qP=function(){function e(n,a,i,o,l,c){if(c!==ZP){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:EN,resetWarningCache:SN};return r.PropTypes=r,r};_N.exports=qP();var TN=_N.exports;function YP(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function QP(e,t){e.classList?e.classList.add(t):YP(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function yv(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function JP(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=yv(e.className,t):e.setAttribute("class",yv(e.className&&e.className.baseVal||"",t))}const bv={disabled:!1},CN=Ne.createContext(null);var PN=function(t){return t.scrollTop},xo="unmounted",ds="exited",fs="entering",Qs="entered",cp="exiting",ma=function(e){jN(t,e);function t(n,a){var i;i=e.call(this,n,a)||this;var o=a,l=o&&!o.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?l?(c=ds,i.appearStatus=fs):c=Qs:n.unmountOnExit||n.mountOnEnter?c=xo:c=ds,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(a,i){var o=a.in;return o&&i.status===xo?{status:ds}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var i=null;if(a!==this.props){var o=this.state.status;this.props.in?o!==fs&&o!==Qs&&(i=fs):(o===fs||o===Qs)&&(i=cp)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,i,o,l;return i=o=l=a,a!=null&&typeof a!="number"&&(i=a.exit,o=a.enter,l=a.appear!==void 0?a.appear:o),{exit:i,enter:o,appear:l}},r.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===fs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:mc.findDOMNode(this);o&&PN(o)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ds&&this.setState({status:xo})},r.performEnter=function(a){var i=this,o=this.props.enter,l=this.context?this.context.isMounting:a,c=this.props.nodeRef?[l]:[mc.findDOMNode(this),l],u=c[0],d=c[1],f=this.getTimeouts(),h=l?f.appear:f.enter;if(!a&&!o||bv.disabled){this.safeSetState({status:Qs},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:fs},function(){i.props.onEntering(u,d),i.onTransitionEnd(h,function(){i.safeSetState({status:Qs},function(){i.props.onEntered(u,d)})})})},r.performExit=function(){var a=this,i=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:mc.findDOMNode(this);if(!i||bv.disabled){this.safeSetState({status:ds},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:cp},function(){a.props.onExiting(l),a.onTransitionEnd(o.exit,function(){a.safeSetState({status:ds},function(){a.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},r.setNextCallback=function(a){var i=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,i.nextCallback=null,a(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(a,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:mc.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=c[0],d=c[1];this.props.addEndListener(u,d)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===xo)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=hd(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ne.createElement(CN.Provider,{value:null},typeof o=="function"?o(a,l):Ne.cloneElement(Ne.Children.only(o),l))},t}(Ne.Component);ma.contextType=CN;ma.propTypes={};function Gs(){}ma.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gs,onEntering:Gs,onEntered:Gs,onExit:Gs,onExiting:Gs,onExited:Gs};ma.UNMOUNTED=xo;ma.EXITED=ds;ma.ENTERING=fs;ma.ENTERED=Qs;ma.EXITING=cp;var XP=function(t,r){return t&&r&&r.split(" ").forEach(function(n){return QP(t,n)})},jf=function(t,r){return t&&r&&r.split(" ").forEach(function(n){return JP(t,n)})},Cg=function(e){jN(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,c){var u=n.resolveArguments(l,c),d=u[0],f=u[1];n.removeClasses(d,"exit"),n.addClass(d,f?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,c)},n.onEntering=function(l,c){var u=n.resolveArguments(l,c),d=u[0],f=u[1],h=f?"appear":"enter";n.addClass(d,h,"active"),n.props.onEntering&&n.props.onEntering(l,c)},n.onEntered=function(l,c){var u=n.resolveArguments(l,c),d=u[0],f=u[1],h=f?"appear":"enter";n.removeClasses(d,h),n.addClass(d,h,"done"),n.props.onEntered&&n.props.onEntered(l,c)},n.onExit=function(l){var c=n.resolveArguments(l),u=c[0];n.removeClasses(u,"appear"),n.removeClasses(u,"enter"),n.addClass(u,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var c=n.resolveArguments(l),u=c[0];n.addClass(u,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var c=n.resolveArguments(l),u=c[0];n.removeClasses(u,"exit"),n.addClass(u,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,c){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,c]},n.getClassNames=function(l){var c=n.props.classNames,u=typeof c=="string",d=u&&c?c+"-":"",f=u?""+d+l:c[l],h=u?f+"-active":c[l+"Active"],p=u?f+"-done":c[l+"Done"];return{baseClassName:f,activeClassName:h,doneClassName:p}},n}var r=t.prototype;return r.addClass=function(a,i,o){var l=this.getClassNames(i)[o+"ClassName"],c=this.getClassNames("enter"),u=c.doneClassName;i==="appear"&&o==="done"&&u&&(l+=" "+u),o==="active"&&a&&PN(a),l&&(this.appliedClasses[i][o]=l,XP(a,l))},r.removeClasses=function(a,i){var o=this.appliedClasses[i],l=o.base,c=o.active,u=o.done;this.appliedClasses[i]={},l&&jf(a,l),c&&jf(a,c),u&&jf(a,u)},r.render=function(){var a=this.props;a.classNames;var i=hd(a,["classNames"]);return Ne.createElement(ma,ml({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Ne.Component);Cg.defaultProps={classNames:""};Cg.propTypes={};var eI=function(t,r){return t<=0||r<=0?0:t>r?100:Math.round(t/r*100*100)/100};function wv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wv(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rI=Ne.forwardRef(function(e,t){var r,n=e.className,a=e.maxCompleted,i=a===void 0?100:a,o=e.completed,l=o===void 0?0:o,c=e.strokeWidth,u=e.strokeColor,d=e.trailColor,f=d===void 0?null:d,h=e.formatLabel,p=e.showLabel,g=Cl("progress"),m={},y={};typeof u=="string"&&(m={background:u}),typeof f=="string"&&(y={background:f});var b=eI(l,i),x=tI({width:b+"%"},m);c&&(y.height=c+"px");var v=null;p&&(v=h?h(l,i):b+"%");var k=Ma(g,(r={},r[g+"-show-label"]=p,r),n);return Ne.createElement("div",{ref:t,className:k},Ne.createElement("div",{className:g+"-outer"},Ne.createElement("div",{className:g+"-inner",style:y},Ne.createElement("div",{className:g+"-completed",style:x}))),Ne.createElement("span",{className:g+"-label"},v))}),zu=function(e){return e.top="top",e.bottom="bottom",e}({}),ht=function(e){return e.default="default",e.success="success",e.info="info",e.error="error",e.warning="warning",e.loading="loading",e.download="download",e.countdown="countdown",e["wifi-connected"]="wifi-connected",e["wifi-disconnected"]="wifi-disconnected",e}({}),Pg=w.createContext(null),Nv=2e3,up=zu.bottom,nI=250,Ig=5e3,aI=2,gn=12,sI=function(){return Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none"},Ne.createElement("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM2.49 12C2.49 17.2522 6.74777 21.51 12 21.51C17.2522 21.51 21.51 17.2522 21.51 12C21.51 6.74777 17.2522 2.49 12 2.49C6.74777 2.49 2.49 6.74777 2.49 12Z",fill:"#FFFFFF",fillOpacity:"1"}),Ne.createElement("path",{d:"M15.6784 1.89361C15.9136 1.24748 16.6317 0.908557 17.25 1.20938C18.2892 1.71497 19.2519 2.369 20.1071 3.15267C21.2689 4.21731 22.2097 5.50037 22.8757 6.92858C23.5417 8.3568 23.9198 9.90221 23.9886 11.4766C24.0392 12.6355 23.9214 13.7933 23.6407 14.9143C23.4737 15.5814 22.7525 15.9136 22.1064 15.6784C21.4603 15.4433 21.1358 14.7295 21.2846 14.0582C21.4641 13.2486 21.5373 12.4172 21.5009 11.5852C21.4465 10.3375 21.1468 9.11276 20.619 7.9809C20.0912 6.84904 19.3456 5.83222 18.4249 4.98849C17.8108 4.42584 17.1269 3.94752 16.3914 3.5646C15.7815 3.24709 15.4433 2.53973 15.6784 1.89361Z",fill:"#52A0FF"}))},iI=function(){return Ne.createElement(Ya,{icon:"zi-wifi"})},oI=function(){return Ne.createElement(Ya,{icon:"zi-wifi-off"})},lI=function(){return Ne.createElement(Ya,{icon:"zi-download-solid"})},cI=function(){return Ne.createElement(Ya,{icon:"zi-close-circle-solid"})},uI=function(){return Ne.createElement(Ya,{icon:"zi-warning-solid"})},dI=function(){return Ne.createElement(Ya,{icon:"zi-info-circle-solid"})},fI=function(){return Ne.createElement(Ya,{icon:"zi-check-circle-solid"})},hI=function(t){switch(t){case ht.download:return Ne.createElement(lI,null);case ht.error:return Ne.createElement(cI,null);case ht.warning:return Ne.createElement(uI,null);case ht.success:return Ne.createElement(fI,null);case ht["wifi-connected"]:return Ne.createElement(iI,null);case ht["wifi-disconnected"]:return Ne.createElement(oI,null);case ht.loading:return Ne.createElement(sI,null);default:return Ne.createElement(dI,null)}},mI=function(t){var r=t.duration,n=r===void 0?Ig:r,a=Cl("snackbar-countdown"),i=n/1e3,o=w.useState(i),l=o[0],c=o[1],u=aI,d=gn-u/2,f=gn*2,h=gn*2,p="0 0 "+f+" "+h,g=d*Math.PI*2,m=l/i*100,y=g-g*m/100;return w.useEffect(function(){var b=setInterval(function(){l>0?c(function(x){return x-1}):clearInterval(b)},1e3);return function(){return clearInterval(b)}},[l]),Ne.createElement("div",{className:a},Ne.createElement("svg",{className:a+"-circle",width:gn*2,height:gn*2,viewBox:p},Ne.createElement("circle",{className:a+"-background",cx:gn,cy:gn,r:d,strokeWidth:u+"px"}),Ne.createElement("circle",{className:a+"-progress",cx:gn,cy:gn,r:d,strokeWidth:u+"px",style:{strokeDasharray:g,strokeDashoffset:y},transform:"rotate(-90)"}),Ne.createElement("text",{className:a+"-counter",x:gn,y:d,dy:".4em",textAnchor:"middle"},l)))};function kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(r),!0).forEach(function(n){Tg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gI=Ne.forwardRef(function(e,t){var r,n,a=e.text,i=e.prefixIcon,o=e.action,l=e.icon,c=e.verticalAction,u=e.style,d=e.className,f=e.type,h=e.position,p=e.downloadProgress,g=p===void 0?0:p,m=e.duration,y=e.zIndex,b=w.useContext(Pg),x=Object.values(zu).includes(h)?h:up,v=Cl("snackbar"),k;f!==ht.default&&f!==ht.countdown&&(k=hI(f)),f===ht.countdown&&(k=Ne.createElement(mI,{duration:m||Ig}));var j=!l&&!k&&!i&&!o,M=Ma(v,d,(r={},r[v+"-vertical-action"]=c,r[v+"-"+x]=x,r[v+"-text-only"]=j,r)),N=i||k||(l?Ne.createElement(Ya,{icon:"zi-info-circle-solid"}):null),E=f===ht.download?Ne.createElement(rI,{className:v+"-progress",maxCompleted:100,completed:g}):null,A=function(ne){ne.preventDefault(),o&&o.close&&b&&(b.closeSnackbar==null||b.closeSnackbar()),o==null||o.onClick==null||o.onClick(ne)},O=Ma(v+"-prefix-icon",(n={},n[v+"-success"]=f===ht.success,n[v+"-error"]=f===ht.error,n[v+"-warning"]=f===ht.warning,n[v+"-info"]=f===ht.info,n[v+"-download"]=f===ht.download,n[v+"-success"]=f===ht.success,n[v+"-wifi-connected"]=f===ht["wifi-connected"],n[v+"-wifi-disconnected"]=f===ht["wifi-disconnected"],n[v+"-loading"]=f===ht.loading,n)),F={};return u&&(F=pI({},u)),y&&(F.zIndex=y),Ne.createElement("div",{className:M,ref:t,style:F},Ne.createElement("div",{className:v+"-content"},Ne.createElement("div",{className:v+"-desc-wrapper"},N&&Ne.createElement("div",{className:O},N),a&&Ne.createElement("div",{className:v+"-desc"},a)),E),o&&Ne.createElement("div",{role:"presentation",className:v+"-action",onClick:A},o.text))}),xI=Ne.forwardRef(function(e,t){var r,n,a,i,o=w.useState(!1),l=o[0],c=o[1],u=w.useState(!1),d=u[0],f=u[1],h=w.useState(null),p=h[0],g=h[1],m=w.useState(""),y=m[0],b=m[1],x=w.useState(!1),v=x[0],k=x[1],j=w.useState(null),M=j[0],N=j[1],E=w.useState(ht.default),A=E[0],O=E[1],F=w.useState(zu.bottom),G=F[0],ne=F[1],X=w.useState(A===ht.countdown?Ig:Nv),J=X[0],V=X[1],ae=w.useRef(),U=w.useState(),Y=U[0],H=U[1],fe=w.useState(),K=fe[0],ue=fe[1],we=w.useState(!1),ke=we[0],te=we[1],B=w.useState(0),q=B[0],Se=B[1];w.useImperativeHandle(t,function(){return ae.current});var pe=w.useCallback(function(tt){var ts=tt.type,Zr=tt.position;b((tt==null?void 0:tt.text)||""),k(!!(tt!=null&&tt.icon)),N(tt==null?void 0:tt.prefixIcon),O(ts||ht.default),V((tt==null?void 0:tt.duration)||Nv),ne(Zr||up),ue(tt==null?void 0:tt.action),te(!!(tt!=null&&tt.verticalAction)),H(function(){return tt==null?void 0:tt.onClose}),Se(0)},[]),De=w.useCallback(function(tt){l===!0?(c(!1),setTimeout(function(){pe(tt),c(!0)},nI)):(pe(tt),c(!0))},[l,pe]),ft=w.useCallback(function(){c(!1)},[]),Ir=w.useCallback(function(tt){Se(tt)},[]),sr=Object.values(zu).includes(G)?G:up,St=Cl("snackbar"),ga=w.useMemo(function(){return{openSnackbar:De,closeSnackbar:ft,setDownloadProgress:Ir}},[De,ft,Ir]),xa=e.children,Bn=e.className,Xa=e.style,es=e.zIndex;return Ne.createElement(Pg.Provider,{value:ga},xa,Ne.createElement(Cg,{in:l,timeout:{enter:100,exit:100,appear:100},mountOnEnter:!0,unmountOnExit:!0,onEntered:function(){return f(!0)},onExited:function(){return f(!1)},onEnter:function(){clearTimeout(p);var ts=A===ht.countdown?J+1e3:J;g(setTimeout(function(){c(!1)},ts))},onExit:function(){Y==null||Y()},classNames:{enter:Ma(St+"-enter",(r={},r[St+"-enter-"+sr]=sr,r)),enterActive:Ma(St+"-enter-active",(n={},n[St+"-enter-active-"+sr]=sr,n)),exitActive:Ma(St+"-exit-active",(a={},a[St+"-exit-active-"+sr]=sr,a))},nodeRef:ae},Ne.createElement(gI,{ref:ae,position:G,text:y,action:K,icon:v,type:A,prefixIcon:M,duration:J,style:Xa,className:Ma(St,Bn,(i={},i[St+"-"+sr+"-visible"]=d,i)),verticalAction:ke,downloadProgress:q,zIndex:es})))}),vI=function(){var t=w.useContext(Pg),r=t||{},n=r.openSnackbar,a=r.closeSnackbar,i=r.setDownloadProgress,o=function(d){n==null||n(d)},l=function(){a==null||a()},c=function(d){i==null||i(d)};return{openSnackbar:o,closeSnackbar:l,setDownloadProgress:c}};const jv=e=>{let t;const r=new Set,n=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=(d!=null?d:typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(p=>p(t,h))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,a,l);return l},yI=e=>e?jv(e):jv,bI=e=>e;function wI(e,t=bI){const r=Ne.useSyncExternalStore(e.subscribe,Ne.useCallback(()=>t(e.getState()),[e,t]),Ne.useCallback(()=>t(e.getInitialState()),[e,t]));return Ne.useDebugValue(r),r}const _v=e=>{const t=yI(e),r=n=>wI(t,n);return Object.assign(r,t),r},Un=e=>e?_v(e):_v,fi=Un(e=>({toasts:[],addToast:(t,r)=>{const n=Date.now().toString();e(a=>({toasts:[...a.toasts,{id:n,type:t,message:r}]}))},removeToast:t=>{e(r=>({toasts:r.toasts.filter(n=>n.id!==t)}))}})),NI=()=>{const{openSnackbar:e}=vI(),t=fi(n=>n.toasts),r=fi(n=>n.removeToast);return w.useEffect(()=>{const n=t[t.length-1];n&&(e({text:n.message,type:n.type,position:"top",duration:3e3}),r(n.id))},[t,e,r]),null};/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IN=e=>{throw TypeError(e)},kI=(e,t,r)=>t.has(e)||IN("Cannot "+r),_f=(e,t,r)=>(kI(e,t,"read from private field"),r?r.call(e):t.get(e)),jI=(e,t,r)=>t.has(e)?IN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Sv="popstate";function _I(e={}){function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return gl("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ln(a)}return EI(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function jt(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(r){}}}function SI(){return Math.random().toString(36).substring(2,10)}function Ev(e,t){return{usr:e.state,key:e.key,idx:t}}function gl(e,t,r=null,n){return Z(C({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qa(t):t),{state:r,key:t&&t.key||n||SI()})}function Ln({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function EI(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState(Z(C({},o.state),{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:m.location,delta:b})}function h(y,b){l="PUSH";let x=gl(m.location,y,b);u=d()+1;let v=Ev(x,u),k=m.createHref(x);try{o.pushState(v,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(k)}i&&c&&c({action:l,location:m.location,delta:1})}function p(y,b){l="REPLACE";let x=gl(m.location,y,b);u=d();let v=Ev(x,u),k=m.createHref(x);o.replaceState(v,"",k),i&&c&&c({action:l,location:m.location,delta:0})}function g(y){return MN(y)}let m={get action(){return l},get location(){return e(a,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Sv,f),c=y,()=>{a.removeEventListener(Sv,f),c=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(y){return o.go(y)}};return m}function MN(e,t=!1){let r="http://localhost";typeof window!="undefined"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),We(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Ln(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var vo,Tv=class{constructor(e){if(jI(this,vo,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(_f(this,vo).has(e))return _f(this,vo).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){_f(this,vo).set(e,t)}};vo=new WeakMap;var TI=new Set(["lazy","caseSensitive","path","id","index","children"]);function CI(e){return TI.has(e)}var PI=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function II(e){return PI.has(e)}function MI(e){return e.index===!0}function xl(e,t,r=[],n={},a=!1){return e.map((i,o)=>{let l=[...r,String(o)],c=typeof i.id=="string"?i.id:l.join("-");if(We(i.index!==!0||!i.children,"Cannot specify children on an index route"),We(a||!n[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),MI(i)){let u=Z(C({},i),{id:c});return n[c]=Cv(u,t(u)),u}else{let u=Z(C({},i),{id:c,children:void 0});return n[c]=Cv(u,t(u)),i.children&&(u.children=xl(i.children,t,l,n,a)),u}})}function Cv(e,t){return Object.assign(e,C(C({},t),typeof t.lazy=="object"&&t.lazy!=null?{lazy:C(C({},e.lazy),t.lazy)}:{}))}function Ta(e,t,r="/"){return yo(e,t,r,!1)}function yo(e,t,r,n){let a=typeof t=="string"?Qa(t):t,i=Wr(a.pathname||"/",r);if(i==null)return null;let o=AN(e);RI(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=VI(i);l=HI(o[c],u,n)}return l}function AI(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function AN(e,t=[],r=[],n="",a=!1){let i=(o,l,c=a,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;We(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=In([n,d.relativePath]),h=r.concat(d);o.children&&o.children.length>0&&(We(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),AN(o.children,t,h,f,c)),!(o.path==null&&!o.index)&&t.push({path:f,score:FI(f,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of RN(o.path))i(o,l,!0,u)}),t}function RN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=RN(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function RI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:BI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var OI=/^:[\w-]+$/,LI=3,DI=2,zI=1,$I=10,UI=-2,Pv=e=>e==="*";function FI(e,t){let r=e.split("/"),n=r.length;return r.some(Pv)&&(n+=UI),t&&(n+=DI),r.filter(a=>!Pv(a)).reduce((a,i)=>a+(OI.test(i)?LI:i===""?zI:$I),n)}function BI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function HI(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=$u({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=$u({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:In([i,f.pathname]),pathnameBase:qI(In([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=In([i,f.pathnameBase]))}return o}function $u(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[h];return f&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function WI(e,t=!1,r=!0){jt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function VI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function KI({basename:e,pathname:t}){return t==="/"?e:In([e,t])}var GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,md=e=>GI.test(e);function ZI(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Qa(e):e,i;if(r)if(md(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),jt(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=Iv(r.substring(1),"/"):i=Iv(r,t)}else i=t;return{pathname:i,search:YI(n),hash:QI(a)}}function Iv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Sf(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ON(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function pd(e){let t=ON(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function gd(e,t,r,n=!1){let a;typeof e=="string"?a=Qa(e):(a=C({},e),We(!a.pathname||!a.pathname.includes("?"),Sf("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),Sf("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),Sf("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=ZI(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var In=e=>e.join("/").replace(/\/\/+/g,"/"),qI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Uu=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function vl(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Mg(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Aa=Symbol("Uninstrumented");function JI(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(i){let o=Object.keys(r);for(let l of o)i[l]&&r[l].push(i[l])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=hi(r.lazy,t.lazy,()=>{});a&&(n.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(i=>{let o=a[i],l=r[`lazy.${i}`];if(typeof o=="function"&&l.length>0){let c=hi(l,o,()=>{});c&&(n.lazy=Object.assign(n.lazy||{},{[i]:c}))}})}return["loader","action"].forEach(a=>{var o;let i=t[a];if(typeof i=="function"&&r[a].length>0){let l=(o=i[Aa])!=null?o:i,c=hi(r[a],l,(...u)=>Mv(u[0]));c&&(c[Aa]=l,n[a]=c)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(a=>{var l;let i=(l=a[Aa])!=null?l:a,o=hi(r.middleware,i,(...c)=>Mv(c[0]));return o?(o[Aa]=i,o):a})),n}function XI(e,t){var n,a;let r={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(o){let l=Object.keys(o);for(let c of l)o[c]&&r[c].push(o[c])}})),r.navigate.length>0){let i=(n=e.navigate[Aa])!=null?n:e.navigate,o=hi(r.navigate,i,(...l)=>{let[c,u]=l;return C({to:typeof c=="number"||typeof c=="string"?c:c?Ln(c):"."},Av(e,u!=null?u:{}))});o&&(o[Aa]=i,e.navigate=o)}if(r.fetch.length>0){let i=(a=e.fetch[Aa])!=null?a:e.fetch,o=hi(r.fetch,i,(...l)=>{let[c,,u,d]=l;return C({href:u!=null?u:".",fetcherKey:c},Av(e,d!=null?d:{}))});o&&(o[Aa]=i,e.fetch=o)}return e}function hi(e,t,r){return e.length===0?null:(...n)=>T(this,null,function*(){let a=yield LN(e,r(...n),()=>t(...n),e.length-1);if(a.type==="error")throw a.value;return a.value})}function LN(e,t,r,n){return T(this,null,function*(){let a=e[n],i;if(a){let o,l=()=>T(this,null,function*(){return o?console.error("You cannot call instrumented handlers more than once"):o=LN(e,t,r,n-1),i=yield o,We(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0}});try{yield a(l,t)}catch(c){console.error("An instrumentation function threw an error:",c)}o||(yield l()),yield o}else try{i={type:"success",value:yield r()}}catch(o){i={type:"error",value:o}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}})}function Mv(e){let{request:t,context:r,params:n,unstable_pattern:a}=e;return{request:eM(t),params:C({},n),unstable_pattern:a,context:tM(r)}}function Av(e,t){return C(C(C(C({currentUrl:Ln(e.state.location)},"formMethod"in t?{formMethod:t.formMethod}:{}),"formEncType"in t?{formEncType:t.formEncType}:{}),"formData"in t?{formData:t.formData}:{}),"body"in t?{body:t.body}:{})}function eM(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function tM(e){if(nM(e)){let t=C({},e);return Object.freeze(t),t}else return{get:t=>e.get(t)}}var rM=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nM(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===rM}var DN=["POST","PUT","PATCH","DELETE"],aM=new Set(DN),sM=["GET",...DN],iM=new Set(sM),oM=new Set([301,302,303,307,308]),lM=new Set([307,308]),Ef={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},no={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uM=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),zN="remix-router-transitions",$N=Symbol("ResetLoaderData");function dM(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,r=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";We(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],a=e.mapRouteProperties||uM,i=a;if(e.unstable_instrumentations){let I=e.unstable_instrumentations;i=L=>C(C({},a(L)),JI(I.map(z=>z.route).filter(Boolean),L))}let o={},l=xl(e.routes,i,void 0,o),c,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let d=e.dataStrategy||gM,f=C({},e.future),h=null,p=new Set,g=null,m=null,y=null,b=e.hydrationData!=null,x=Ta(l,e.history.location,u),v=!1,k=null,j;if(x==null&&!e.patchRoutesOnNavigation){let I=Lr(404,{pathname:e.history.location.pathname}),{matches:L,route:z}=yc(l);j=!0,x=L,k={[z.id]:I}}else if(x&&!e.hydrationData&&Vl(x,l,e.history.location.pathname).active&&(x=null),x)if(x.some(I=>I.route.lazy))j=!1;else if(!x.some(I=>Ag(I.route)))j=!0;else{let I=e.hydrationData?e.hydrationData.loaderData:null,L=e.hydrationData?e.hydrationData.errors:null;if(L){let z=x.findIndex(ee=>L[ee.route.id]!==void 0);j=x.slice(0,z+1).every(ee=>!fp(ee.route,I,L))}else j=x.every(z=>!fp(z.route,I,L))}else{j=!1,x=[];let I=Vl(null,l,e.history.location.pathname);I.active&&I.matches&&(v=!0,x=I.matches)}let M,N={historyAction:e.history.action,location:e.history.location,matches:x,initialized:j,navigation:Ef,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},E="POP",A=!1,O,F=!1,G=new Map,ne=null,X=!1,J=!1,V=new Set,ae=new Map,U=0,Y=-1,H=new Map,fe=new Set,K=new Map,ue=new Map,we=new Set,ke=new Map,te,B=null;function q(){if(h=e.history.listen(({action:I,location:L,delta:z})=>{if(te){te(),te=void 0;return}jt(ke.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=qe({currentLocation:N.location,nextLocation:L,historyAction:I});if(ee&&z!=null){let he=new Promise(Te=>{te=Te});e.history.go(z*-1),le(ee,{state:"blocked",location:L,proceed(){le(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),he.then(()=>e.history.go(z))},reset(){let Te=new Map(N.blockers);Te.set(ee,no),De({blockers:Te})}});return}return St(I,L)}),r){IM(t,G);let I=()=>MM(t,G);t.addEventListener("pagehide",I),ne=()=>t.removeEventListener("pagehide",I)}return N.initialized||St("POP",N.location,{initialHydration:!0}),M}function Se(){h&&h(),ne&&ne(),p.clear(),O&&O.abort(),N.fetchers.forEach((I,L)=>Ki(L)),N.blockers.forEach((I,L)=>Wl(L))}function pe(I){return p.add(I),()=>p.delete(I)}function De(I,L={}){I.matches&&(I.matches=I.matches.map(he=>{let Te=o[he.route.id],Ce=he.route;return Ce.element!==Te.element||Ce.errorElement!==Te.errorElement||Ce.hydrateFallbackElement!==Te.hydrateFallbackElement?Z(C({},he),{route:Te}):he})),N=C(C({},N),I);let z=[],ee=[];N.fetchers.forEach((he,Te)=>{he.state==="idle"&&(we.has(Te)?z.push(Te):ee.push(Te))}),we.forEach(he=>{!N.fetchers.has(he)&&!ae.has(he)&&z.push(he)}),[...p].forEach(he=>he(N,{deletedFetchers:z,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),z.forEach(he=>Ki(he)),ee.forEach(he=>N.fetchers.delete(he))}function ft(I,L,{flushSync:z}={}){var Re,He;let ee=N.actionData!=null&&N.navigation.formMethod!=null&&tr(N.navigation.formMethod)&&N.navigation.state==="loading"&&((Re=I.state)==null?void 0:Re._isRedirect)!==!0,he;L.actionData?Object.keys(L.actionData).length>0?he=L.actionData:he=null:ee?he=N.actionData:he=null;let Te=L.loaderData?Hv(N.loaderData,L.loaderData,L.matches||[],L.errors):N.loaderData,Ce=N.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Ye,Ut)=>Ce.set(Ut,no)));let Ie=X?!1:Xg(I,L.matches||N.matches),Pe=A===!0||N.navigation.formMethod!=null&&tr(N.navigation.formMethod)&&((He=I.state)==null?void 0:He._isRedirect)!==!0;c&&(l=c,c=void 0),X||E==="POP"||(E==="PUSH"?e.history.push(I,I.state):E==="REPLACE"&&e.history.replace(I,I.state));let Be;if(E==="POP"){let Ye=G.get(N.location.pathname);Ye&&Ye.has(I.pathname)?Be={currentLocation:N.location,nextLocation:I}:G.has(I.pathname)&&(Be={currentLocation:I,nextLocation:N.location})}else if(F){let Ye=G.get(N.location.pathname);Ye?Ye.add(I.pathname):(Ye=new Set([I.pathname]),G.set(N.location.pathname,Ye)),Be={currentLocation:N.location,nextLocation:I}}De(Z(C({},L),{actionData:he,loaderData:Te,historyAction:E,location:I,initialized:!0,navigation:Ef,revalidation:"idle",restoreScrollPosition:Ie,preventScrollReset:Pe,blockers:Ce}),{viewTransitionOpts:Be,flushSync:z===!0}),E="POP",A=!1,F=!1,X=!1,J=!1,B==null||B.resolve(),B=null}function Ir(I,L){return T(this,null,function*(){if(typeof I=="number"){e.history.go(I);return}let z=dp(N.location,N.matches,u,I,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:ee,submission:he,error:Te}=Rv(!1,z,L),Ce=N.location,Ie=gl(N.location,ee,L&&L.state);Ie=C(C({},Ie),e.history.encodeLocation(Ie));let Pe=L&&L.replace!=null?L.replace:void 0,Be="PUSH";Pe===!0?Be="REPLACE":Pe===!1||he!=null&&tr(he.formMethod)&&he.formAction===N.location.pathname+N.location.search&&(Be="REPLACE");let Re=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,He=(L&&L.flushSync)===!0,Ye=qe({currentLocation:Ce,nextLocation:Ie,historyAction:Be});if(Ye){le(Ye,{state:"blocked",location:Ie,proceed(){le(Ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),Ir(I,L)},reset(){let Ut=new Map(N.blockers);Ut.set(Ye,no),De({blockers:Ut})}});return}yield St(Be,Ie,{submission:he,pendingError:Te,preventScrollReset:Re,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:He})})}function sr(){B||(B=AM()),Vi(),De({revalidation:"loading"});let I=B.promise;return N.navigation.state==="submitting"?I:N.navigation.state==="idle"?(St(N.historyAction,N.location,{startUninterruptedRevalidation:!0}),I):(St(E||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation,enableViewTransition:F===!0}),I)}function St(I,L,z){return T(this,null,function*(){O&&O.abort(),O=null,E=I,X=(z&&z.startUninterruptedRevalidation)===!0,nj(N.location,N.matches),A=(z&&z.preventScrollReset)===!0,F=(z&&z.enableViewTransition)===!0;let ee=c||l,he=z&&z.overrideNavigation,Te=z!=null&&z.initialHydration&&N.matches&&N.matches.length>0&&!v?N.matches:Ta(ee,L,u),Ce=(z&&z.flushSync)===!0;if(Te&&N.initialized&&!J&&jM(N.location,L)&&!(z&&z.submission&&tr(z.submission.formMethod))){ft(L,{matches:Te},{flushSync:Ce});return}let Ie=Vl(Te,ee,L.pathname);if(Ie.active&&Ie.matches&&(Te=Ie.matches),!Te){let{error:At,notFoundMatches:Ue,route:Fe}=yr(L.pathname);ft(L,{matches:Ue,loaderData:{},errors:{[Fe.id]:At}},{flushSync:Ce});return}O=new AbortController;let Pe=Js(e.history,L,O.signal,z&&z.submission),Be=e.getContext?yield e.getContext():new Tv,Re;if(z&&z.pendingError)Re=[Ca(Te).route.id,{type:"error",error:z.pendingError}];else if(z&&z.submission&&tr(z.submission.formMethod)){let At=yield ga(Pe,L,z.submission,Te,Be,Ie.active,z&&z.initialHydration===!0,{replace:z.replace,flushSync:Ce});if(At.shortCircuited)return;if(At.pendingActionResult){let[Ue,Fe]=At.pendingActionResult;if(wr(Fe)&&vl(Fe.error)&&Fe.error.status===404){O=null,ft(L,{matches:At.matches,loaderData:{},errors:{[Ue]:Fe.error}});return}}Te=At.matches||Te,Re=At.pendingActionResult,he=Tf(L,z.submission),Ce=!1,Ie.active=!1,Pe=Js(e.history,Pe.url,Pe.signal)}let{shortCircuited:He,matches:Ye,loaderData:Ut,errors:Jr}=yield xa(Pe,L,Te,Be,Ie.active,he,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,Ce,Re);He||(O=null,ft(L,Z(C({matches:Ye||Te},Wv(Re)),{loaderData:Ut,errors:Jr})))})}function ga(Pe,Be,Re,He,Ye,Ut,Jr){return T(this,arguments,function*(I,L,z,ee,he,Te,Ce,Ie={}){Vi();let At=CM(L,z);if(De({navigation:At},{flushSync:Ie.flushSync===!0}),Te){let at=yield Kl(ee,L.pathname,I.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){if(at.partialMatches.length===0){let{matches:Xt,route:or}=yc(l);return{matches:Xt,pendingActionResult:[or.id,{type:"error",error:at.error}]}}let ir=Ca(at.partialMatches).route.id;return{matches:at.partialMatches,pendingActionResult:[ir,{type:"error",error:at.error}]}}else if(at.matches)ee=at.matches;else{let{notFoundMatches:ir,error:Xt,route:or}=yr(L.pathname);return{matches:ir,pendingActionResult:[or.id,{type:"error",error:Xt}]}}}let Ue,Fe=Bc(ee,L);if(!Fe.route.action&&!Fe.route.lazy)Ue={type:"error",error:Lr(405,{method:I.method,pathname:L.pathname,routeId:Fe.route.id})};else{let at=wi(i,o,I,ee,Fe,Ce?[]:n,he),ir=yield rs(I,at,he,null);if(Ue=ir[Fe.route.id],!Ue){for(let Xt of ee)if(ir[Xt.route.id]){Ue=ir[Xt.route.id];break}}if(I.signal.aborted)return{shortCircuited:!0}}if(xs(Ue)){let at;return Ie&&Ie.replace!=null?at=Ie.replace:at=Uv(Ue.response.headers.get("Location"),new URL(I.url),u)===N.location.pathname+N.location.search,yield Zr(I,Ue,!0,{submission:z,replace:at}),{shortCircuited:!0}}if(wr(Ue)){let at=Ca(ee,Fe.route.id);return(Ie&&Ie.replace)!==!0&&(E="PUSH"),{matches:ee,pendingActionResult:[at.route.id,Ue,Fe.route.id]}}return{matches:ee,pendingActionResult:[Fe.route.id,Ue]}})}function xa(I,L,z,ee,he,Te,Ce,Ie,Pe,Be,Re,He){return T(this,null,function*(){let Ye=Te||Tf(L,Ce),Ut=Ce||Ie||Kv(Ye),Jr=!X&&!Be;if(he){if(Jr){let Kt=Bn(He);De(C({navigation:Ye},Kt!==void 0?{actionData:Kt}:{}),{flushSync:Re})}let Xe=yield Kl(z,L.pathname,I.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){if(Xe.partialMatches.length===0){let{matches:Hs,route:as}=yc(l);return{matches:Hs,loaderData:{},errors:{[as.id]:Xe.error}}}let Kt=Ca(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[Kt]:Xe.error}}}else if(Xe.matches)z=Xe.matches;else{let{error:Kt,notFoundMatches:Hs,route:as}=yr(L.pathname);return{matches:Hs,loaderData:{},errors:{[as.id]:Kt}}}}let At=c||l,{dsMatches:Ue,revalidatingFetchers:Fe}=Ov(I,ee,i,o,e.history,N,z,Ut,L,Be?[]:n,Be===!0,J,V,we,K,fe,At,u,e.patchRoutesOnNavigation!=null,He);if(Y=++U,!e.dataStrategy&&!Ue.some(Xe=>Xe.shouldLoad)&&!Ue.some(Xe=>Xe.route.middleware&&Xe.route.middleware.length>0)&&Fe.length===0){let Xe=Bl();return ft(L,C(C({matches:z,loaderData:{},errors:He&&wr(He[1])?{[He[0]]:He[1].error}:null},Wv(He)),Xe?{fetchers:new Map(N.fetchers)}:{}),{flushSync:Re}),{shortCircuited:!0}}if(Jr){let Xe={};if(!he){Xe.navigation=Ye;let Kt=Bn(He);Kt!==void 0&&(Xe.actionData=Kt)}Fe.length>0&&(Xe.fetchers=Xa(Fe)),De(Xe,{flushSync:Re})}Fe.forEach(Xe=>{Qr(Xe.key),Xe.controller&&ae.set(Xe.key,Xe.controller)});let at=()=>Fe.forEach(Xe=>Qr(Xe.key));O&&O.signal.addEventListener("abort",at);let{loaderResults:ir,fetcherResults:Xt}=yield $l(Ue,Fe,I,ee);if(I.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",at),Fe.forEach(Xe=>ae.delete(Xe.key));let or=bc(ir);if(or)return yield Zr(I,or.result,!0,{replace:Pe}),{shortCircuited:!0};if(or=bc(Xt),or)return fe.add(or.key),yield Zr(I,or.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Ad,errors:Gi}=Bv(N,z,ir,He,Fe,Xt);Be&&N.errors&&(Gi=C(C({},N.errors),Gi));let ns=Bl(),Gl=Hl(Y),Zl=ns||Gl||Fe.length>0;return C({matches:z,loaderData:Ad,errors:Gi},Zl?{fetchers:new Map(N.fetchers)}:{})})}function Bn(I){if(I&&!wr(I[1]))return{[I[0]]:I[1].data};if(N.actionData)return Object.keys(N.actionData).length===0?null:N.actionData}function Xa(I){return I.forEach(L=>{let z=N.fetchers.get(L.key),ee=ao(void 0,z?z.data:void 0);N.fetchers.set(L.key,ee)}),new Map(N.fetchers)}function es(I,L,z,ee){return T(this,null,function*(){Qr(I);let he=(ee&&ee.flushSync)===!0,Te=c||l,Ce=dp(N.location,N.matches,u,z,L,ee==null?void 0:ee.relative),Ie=Ta(Te,Ce,u),Pe=Vl(Ie,Te,Ce);if(Pe.active&&Pe.matches&&(Ie=Pe.matches),!Ie){Yr(I,L,Lr(404,{pathname:Ce}),{flushSync:he});return}let{path:Be,submission:Re,error:He}=Rv(!0,Ce,ee);if(He){Yr(I,L,He,{flushSync:he});return}let Ye=e.getContext?yield e.getContext():new Tv,Ut=(ee&&ee.preventScrollReset)===!0;if(Re&&tr(Re.formMethod)){yield tt(I,L,Be,Ie,Ye,Pe.active,he,Ut,Re);return}K.set(I,{routeId:L,path:Be}),yield ts(I,L,Be,Ie,Ye,Pe.active,he,Ut,Re)})}function tt(I,L,z,ee,he,Te,Ce,Ie,Pe){return T(this,null,function*(){Vi(),K.delete(I);let Be=N.fetchers.get(I);qr(I,PM(Pe,Be),{flushSync:Ce});let Re=new AbortController,He=Js(e.history,z,Re.signal,Pe);if(Te){let Nt=yield Kl(ee,new URL(He.url).pathname,He.signal,I);if(Nt.type==="aborted")return;if(Nt.type==="error"){Yr(I,L,Nt.error,{flushSync:Ce});return}else if(Nt.matches)ee=Nt.matches;else{Yr(I,L,Lr(404,{pathname:z}),{flushSync:Ce});return}}let Ye=Bc(ee,z);if(!Ye.route.action&&!Ye.route.lazy){let Nt=Lr(405,{method:Pe.formMethod,pathname:z,routeId:L});Yr(I,L,Nt,{flushSync:Ce});return}ae.set(I,Re);let Ut=U,Jr=wi(i,o,He,ee,Ye,n,he),At=yield rs(He,Jr,he,I),Ue=At[Ye.route.id];if(!Ue){for(let Nt of Jr)if(At[Nt.route.id]){Ue=At[Nt.route.id];break}}if(He.signal.aborted){ae.get(I)===Re&&ae.delete(I);return}if(we.has(I)){if(xs(Ue)||wr(Ue)){qr(I,Zn(void 0));return}}else{if(xs(Ue))if(ae.delete(I),Y>Ut){qr(I,Zn(void 0));return}else return fe.add(I),qr(I,ao(Pe)),Zr(He,Ue,!1,{fetcherSubmission:Pe,preventScrollReset:Ie});if(wr(Ue)){Yr(I,L,Ue.error);return}}let Fe=N.navigation.location||N.location,at=Js(e.history,Fe,Re.signal),ir=c||l,Xt=N.navigation.state!=="idle"?Ta(ir,N.navigation.location,u):N.matches;We(Xt,"Didn't find any matches after fetcher action");let or=++U;H.set(I,or);let Ad=ao(Pe,Ue.data);N.fetchers.set(I,Ad);let{dsMatches:Gi,revalidatingFetchers:ns}=Ov(at,he,i,o,e.history,N,Xt,Pe,Fe,n,!1,J,V,we,K,fe,ir,u,e.patchRoutesOnNavigation!=null,[Ye.route.id,Ue]);ns.filter(Nt=>Nt.key!==I).forEach(Nt=>{let ql=Nt.key,tx=N.fetchers.get(ql),ij=ao(void 0,tx?tx.data:void 0);N.fetchers.set(ql,ij),Qr(ql),Nt.controller&&ae.set(ql,Nt.controller)}),De({fetchers:new Map(N.fetchers)});let Gl=()=>ns.forEach(Nt=>Qr(Nt.key));Re.signal.addEventListener("abort",Gl);let{loaderResults:Zl,fetcherResults:Xe}=yield $l(Gi,ns,at,he);if(Re.signal.aborted)return;if(Re.signal.removeEventListener("abort",Gl),H.delete(I),ae.delete(I),ns.forEach(Nt=>ae.delete(Nt.key)),N.fetchers.has(I)){let Nt=Zn(Ue.data);N.fetchers.set(I,Nt)}let Kt=bc(Zl);if(Kt)return Zr(at,Kt.result,!1,{preventScrollReset:Ie});if(Kt=bc(Xe),Kt)return fe.add(Kt.key),Zr(at,Kt.result,!1,{preventScrollReset:Ie});let{loaderData:Hs,errors:as}=Bv(N,Xt,Zl,void 0,ns,Xe);Hl(or),N.navigation.state==="loading"&&or>Y?(We(E,"Expected pending action"),O&&O.abort(),ft(N.navigation.location,{matches:Xt,loaderData:Hs,errors:as,fetchers:new Map(N.fetchers)})):(De({errors:as,loaderData:Hv(N.loaderData,Hs,Xt,as),fetchers:new Map(N.fetchers)}),J=!1)})}function ts(I,L,z,ee,he,Te,Ce,Ie,Pe){return T(this,null,function*(){let Be=N.fetchers.get(I);qr(I,ao(Pe,Be?Be.data:void 0),{flushSync:Ce});let Re=new AbortController,He=Js(e.history,z,Re.signal);if(Te){let Fe=yield Kl(ee,new URL(He.url).pathname,He.signal,I);if(Fe.type==="aborted")return;if(Fe.type==="error"){Yr(I,L,Fe.error,{flushSync:Ce});return}else if(Fe.matches)ee=Fe.matches;else{Yr(I,L,Lr(404,{pathname:z}),{flushSync:Ce});return}}let Ye=Bc(ee,z);ae.set(I,Re);let Ut=U,Jr=wi(i,o,He,ee,Ye,n,he),Ue=(yield rs(He,Jr,he,I))[Ye.route.id];if(ae.get(I)===Re&&ae.delete(I),!He.signal.aborted){if(we.has(I)){qr(I,Zn(void 0));return}if(xs(Ue))if(Y>Ut){qr(I,Zn(void 0));return}else{fe.add(I),yield Zr(He,Ue,!1,{preventScrollReset:Ie});return}if(wr(Ue)){Yr(I,L,Ue.error);return}qr(I,Zn(Ue.data))}})}function Zr(Ie,Pe,Be){return T(this,arguments,function*(I,L,z,{submission:ee,fetcherSubmission:he,preventScrollReset:Te,replace:Ce}={}){L.response.headers.has("X-Remix-Revalidate")&&(J=!0);let Re=L.response.headers.get("Location");We(Re,"Expected a Location header on the redirect Response"),Re=Uv(Re,new URL(I.url),u);let He=gl(N.location,Re,{_isRedirect:!0});if(r){let Fe=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Fe=!0;else if(md(Re)){const at=MN(Re,!0);Fe=at.origin!==t.location.origin||Wr(at.pathname,u)==null}if(Fe){Ce?t.location.replace(Re):t.location.assign(Re);return}}O=null;let Ye=Ce===!0||L.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ut,formAction:Jr,formEncType:At}=N.navigation;!ee&&!he&&Ut&&Jr&&At&&(ee=Kv(N.navigation));let Ue=ee||he;if(lM.has(L.response.status)&&Ue&&tr(Ue.formMethod))yield St(Ye,He,{submission:Z(C({},Ue),{formAction:Re}),preventScrollReset:Te||A,enableViewTransition:z?F:void 0});else{let Fe=Tf(He,ee);yield St(Ye,He,{overrideNavigation:Fe,fetcherSubmission:he,preventScrollReset:Te||A,enableViewTransition:z?F:void 0})}})}function rs(I,L,z,ee){return T(this,null,function*(){let he,Te={};try{he=yield vM(d,I,L,ee,z,!1)}catch(Ce){return L.filter(Ie=>Ie.shouldLoad).forEach(Ie=>{Te[Ie.route.id]={type:"error",error:Ce}}),Te}if(I.signal.aborted)return Te;for(let[Ce,Ie]of Object.entries(he))if(EM(Ie)){let Pe=Ie.result;Te[Ce]={type:"redirect",response:NM(Pe,I,Ce,L,u)}}else Te[Ce]=yield wM(Ie);return Te})}function $l(I,L,z,ee){return T(this,null,function*(){let he=rs(z,I,ee,null),Te=Promise.all(L.map(Pe=>T(this,null,function*(){if(Pe.matches&&Pe.match&&Pe.request&&Pe.controller){let Re=(yield rs(Pe.request,Pe.matches,ee,Pe.key))[Pe.match.route.id];return{[Pe.key]:Re}}else return Promise.resolve({[Pe.key]:{type:"error",error:Lr(404,{pathname:Pe.path})}})}))),Ce=yield he,Ie=(yield Te).reduce((Pe,Be)=>Object.assign(Pe,Be),{});return{loaderResults:Ce,fetcherResults:Ie}})}function Vi(){J=!0,K.forEach((I,L)=>{ae.has(L)&&V.add(L),Qr(L)})}function qr(I,L,z={}){N.fetchers.set(I,L),De({fetchers:new Map(N.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Yr(I,L,z,ee={}){let he=Ca(N.matches,L);Ki(I),De({errors:{[he.route.id]:z},fetchers:new Map(N.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ul(I){return ue.set(I,(ue.get(I)||0)+1),we.has(I)&&we.delete(I),N.fetchers.get(I)||cM}function Pd(I,L){Qr(I,L==null?void 0:L.reason),qr(I,Zn(null))}function Ki(I){let L=N.fetchers.get(I);ae.has(I)&&!(L&&L.state==="loading"&&H.has(I))&&Qr(I),K.delete(I),H.delete(I),fe.delete(I),we.delete(I),V.delete(I),N.fetchers.delete(I)}function Id(I){let L=(ue.get(I)||0)-1;L<=0?(ue.delete(I),we.add(I)):ue.set(I,L),De({fetchers:new Map(N.fetchers)})}function Qr(I,L){let z=ae.get(I);z&&(z.abort(L),ae.delete(I))}function Fl(I){for(let L of I){let z=Ul(L),ee=Zn(z.data);N.fetchers.set(L,ee)}}function Bl(){let I=[],L=!1;for(let z of fe){let ee=N.fetchers.get(z);We(ee,`Expected fetcher: ${z}`),ee.state==="loading"&&(fe.delete(z),I.push(z),L=!0)}return Fl(I),L}function Hl(I){let L=[];for(let[z,ee]of H)if(ee<I){let he=N.fetchers.get(z);We(he,`Expected fetcher: ${z}`),he.state==="loading"&&(Qr(z),H.delete(z),L.push(z))}return Fl(L),L.length>0}function Md(I,L){let z=N.blockers.get(I)||no;return ke.get(I)!==L&&ke.set(I,L),z}function Wl(I){N.blockers.delete(I),ke.delete(I)}function le(I,L){let z=N.blockers.get(I)||no;We(z.state==="unblocked"&&L.state==="blocked"||z.state==="blocked"&&L.state==="blocked"||z.state==="blocked"&&L.state==="proceeding"||z.state==="blocked"&&L.state==="unblocked"||z.state==="proceeding"&&L.state==="unblocked",`Invalid blocker state transition: ${z.state} -> ${L.state}`);let ee=new Map(N.blockers);ee.set(I,L),De({blockers:ee})}function qe({currentLocation:I,nextLocation:L,historyAction:z}){if(ke.size===0)return;ke.size>1&&jt(!1,"A router only supports one blocker at a time");let ee=Array.from(ke.entries()),[he,Te]=ee[ee.length-1],Ce=N.blockers.get(he);if(!(Ce&&Ce.state==="proceeding")&&Te({currentLocation:I,nextLocation:L,historyAction:z}))return he}function yr(I){let L=Lr(404,{pathname:I}),z=c||l,{matches:ee,route:he}=yc(z);return{notFoundMatches:ee,route:he,error:L}}function Hn(I,L,z){if(g=I,y=L,m=z||null,!b&&N.navigation===Ef){b=!0;let ee=Xg(N.location,N.matches);ee!=null&&De({restoreScrollPosition:ee})}return()=>{g=null,y=null,m=null}}function Jg(I,L){return m&&m(I,L.map(ee=>AI(ee,N.loaderData)))||I.key}function nj(I,L){if(g&&y){let z=Jg(I,L);g[z]=y()}}function Xg(I,L){if(g){let z=Jg(I,L),ee=g[z];if(typeof ee=="number")return ee}return null}function Vl(I,L,z){if(e.patchRoutesOnNavigation)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:yo(L,z,u,!0)}}else return{active:!0,matches:yo(L,z,u,!0)||[]};return{active:!1,matches:null}}function Kl(I,L,z,ee){return T(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:I};let he=I;for(;;){let Te=c==null,Ce=c||l,Ie=o;try{yield e.patchRoutesOnNavigation({signal:z,path:L,matches:he,fetcherKey:ee,patch:(Re,He)=>{z.aborted||Lv(Re,He,Ce,Ie,i,!1)}})}catch(Re){return{type:"error",error:Re,partialMatches:he}}finally{Te&&!z.aborted&&(l=[...l])}if(z.aborted)return{type:"aborted"};let Pe=Ta(Ce,L,u),Be=null;if(Pe){if(Object.keys(Pe[0].params).length===0)return{type:"success",matches:Pe};if(Be=yo(Ce,L,u,!0),!(Be&&he.length<Be.length&&ex(he,Be.slice(0,he.length))))return{type:"success",matches:Pe}}if(Be||(Be=yo(Ce,L,u,!0)),!Be||ex(he,Be))return{type:"success",matches:null};he=Be}})}function ex(I,L){return I.length===L.length&&I.every((z,ee)=>z.route.id===L[ee].route.id)}function aj(I){o={},c=xl(I,i,void 0,o)}function sj(I,L,z=!1){let ee=c==null;Lv(I,L,c||l,o,i,z),ee&&(l=[...l],De({}))}return M={get basename(){return u},get future(){return f},get state(){return N},get routes(){return l},get window(){return t},initialize:q,subscribe:pe,enableScrollRestoration:Hn,navigate:Ir,fetch:es,revalidate:sr,createHref:I=>e.history.createHref(I),encodeLocation:I=>e.history.encodeLocation(I),getFetcher:Ul,resetFetcher:Pd,deleteFetcher:Id,dispose:Se,getBlocker:Md,deleteBlocker:Wl,patchRoutes:sj,_internalFetchControllers:ae,_internalSetRoutes:aj,_internalSetStateDoNotUseOrYouWillBreakYourApp(I){De(I)}},e.unstable_instrumentations&&(M=XI(M,e.unstable_instrumentations.map(I=>I.router).filter(Boolean))),M}function fM(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function dp(e,t,r,n,a,i){let o,l;if(a){o=[];for(let u of t)if(o.push(u),u.route.id===a){l=u;break}}else o=t,l=t[t.length-1];let c=gd(n||".",pd(o),Wr(e.pathname,r)||e.pathname,i==="path");if(n==null&&(c.search=e.search,c.hash=e.hash),(n==null||n===""||n===".")&&l){let u=Rg(c.search);if(l.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&u){let d=new URLSearchParams(c.search),f=d.getAll("index");d.delete("index"),f.filter(p=>p).forEach(p=>d.append("index",p));let h=d.toString();c.search=h?`?${h}`:""}}return r!=="/"&&(c.pathname=KI({basename:r,pathname:c.pathname})),Ln(c)}function Rv(e,t,r){if(!r||!fM(r))return{path:t};if(r.formMethod&&!TM(r.formMethod))return{path:t,error:Lr(405,{method:r.formMethod})};let n=()=>({path:t,error:Lr(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),o=VN(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!tr(i))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,[p,g])=>`${h}${p}=${g}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!tr(i))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:o,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch(f){return n()}}}We(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=mp(r.formData),c=r.formData;else if(r.body instanceof FormData)l=mp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Fv(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Fv(l)}catch(f){return n()}let u={formMethod:i,formAction:o,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(tr(u.formMethod))return{path:t,submission:u};let d=Qa(t);return e&&d.search&&Rg(d.search)&&l.append("index",""),d.search=`?${l}`,{path:Ln(d),submission:u}}function Ov(e,t,r,n,a,i,o,l,c,u,d,f,h,p,g,m,y,b,x,v){var X;let k=v?wr(v[1])?v[1].error:v[1].data:void 0,j=a.createURL(i.location),M=a.createURL(c),N;if(d&&i.errors){let J=Object.keys(i.errors)[0];N=o.findIndex(V=>V.route.id===J)}else if(v&&wr(v[1])){let J=v[0];N=o.findIndex(V=>V.route.id===J)-1}let E=v?v[1].statusCode:void 0,A=E&&E>=400,O=Z(C({currentUrl:j,currentParams:((X=i.matches[0])==null?void 0:X.params)||{},nextUrl:M,nextParams:o[0].params},l),{actionResult:k,actionStatus:E}),F=Mg(o.map(J=>J.route.path)),G=o.map((J,V)=>{let{route:ae}=J,U=null;if(N!=null&&V>N?U=!1:ae.lazy?U=!0:Ag(ae)?d?U=fp(ae,i.loaderData,i.errors):hM(i.loaderData,i.matches[V],J)&&(U=!0):U=!1,U!==null)return hp(r,n,e,F,J,u,t,U);let Y=A?!1:f||j.pathname+j.search===M.pathname+M.search||j.search!==M.search||mM(i.matches[V],J),H=Z(C({},O),{defaultShouldRevalidate:Y}),fe=Fu(J,H);return hp(r,n,e,F,J,u,t,fe,H)}),ne=[];return g.forEach((J,V)=>{if(d||!o.some(we=>we.route.id===J.routeId)||p.has(V))return;let ae=i.fetchers.get(V),U=ae&&ae.state!=="idle"&&ae.data===void 0,Y=Ta(y,J.path,b);if(!Y){if(x&&U)return;ne.push({key:V,routeId:J.routeId,path:J.path,matches:null,match:null,request:null,controller:null});return}if(m.has(V))return;let H=Bc(Y,J.path),fe=new AbortController,K=Js(a,J.path,fe.signal),ue=null;if(h.has(V))h.delete(V),ue=wi(r,n,K,Y,H,u,t);else if(U)f&&(ue=wi(r,n,K,Y,H,u,t));else{let we=Z(C({},O),{defaultShouldRevalidate:A?!1:f});Fu(H,we)&&(ue=wi(r,n,K,Y,H,u,t,we))}ue&&ne.push({key:V,routeId:J.routeId,path:J.path,matches:ue,match:H,request:K,controller:fe})}),{dsMatches:G,revalidatingFetchers:ne}}function Ag(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function fp(e,t,r){if(e.lazy)return!0;if(!Ag(e))return!1;let n=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function hM(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function mM(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Fu(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Lv(e,t,r,n,a,i){let o;if(e){let u=n[e];We(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),o=u.children}else o=r;let l=[],c=[];if(t.forEach(u=>{let d=o.find(f=>UN(u,f));d?c.push({existingRoute:d,newRoute:u}):l.push(u)}),l.length>0){let u=xl(l,a,[e||"_","patch",String((o==null?void 0:o.length)||"0")],n);o.push(...u)}if(i&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:d,newRoute:f}=c[u],h=d,[p]=xl([f],a,[],{},!0);Object.assign(h,{element:p.element?p.element:h.element,errorElement:p.errorElement?p.errorElement:h.errorElement,hydrateFallbackElement:p.hydrateFallbackElement?p.hydrateFallbackElement:h.hydrateFallbackElement})}}function UN(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(i=>UN(r,i))}):!1}var Dv=new WeakMap,FN=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(We(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let o=Dv.get(a);o||(o={},Dv.set(a,o));let l=o[e];if(l)return l;let c=T(void 0,null,function*(){let u=CI(e),f=a[e]!==void 0&&e!=="hasErrorBoundary";if(u)jt(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(f)jt(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let h=yield i();h!=null&&(Object.assign(a,{[e]:h}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(h=>h===void 0)&&(a.lazy=void 0))});return o[e]=c,c},zv=new WeakMap;function pM(e,t,r,n,a){let i=r[e.id];if(We(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=zv.get(i);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let f=T(this,null,function*(){We(typeof e.lazy=="function","No lazy route function found");let h=yield e.lazy(),p={};for(let g in h){let m=h[g];if(m===void 0)continue;let y=II(g),x=i[g]!==void 0&&g!=="hasErrorBoundary";y?jt(!y,"Route property "+g+" is not a supported property to be returned from a lazy route function. This property will be ignored."):x?jt(!x,`Route "${i.id}" has a static property "${g}" defined but its lazy function is also returning a value for this property. The lazy route property "${g}" will be ignored.`):p[g]=m}Object.assign(i,p),Object.assign(i,Z(C({},n(i)),{lazy:void 0}))});return zv.set(i,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let o=Object.keys(e.lazy),l=[],c;for(let d of o){if(a&&a.includes(d))continue;let f=FN({key:d,route:e,manifest:r,mapRouteProperties:n});f&&(l.push(f),d===t&&(c=f))}let u=l.length>0?Promise.all(l).then(()=>{}):void 0;return u==null||u.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}function $v(e){return T(this,null,function*(){let t=e.matches.filter(a=>a.shouldLoad),r={};return(yield Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{r[t[i].route.id]=a}),r})}function gM(e){return T(this,null,function*(){return e.matches.some(t=>t.route.middleware)?BN(e,()=>$v(e)):$v(e)})}function BN(e,t){return xM(e,t,n=>n,_M,r);function r(n,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:n}}));{let{matches:o}=e,l=Math.min(Math.max(o.findIndex(u=>u.route.id===a),0),Math.max(o.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=Ca(o,o[l].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:n}})}}}function xM(e,t,r,n,a){return T(this,null,function*(){let{matches:i,request:o,params:l,context:c,unstable_pattern:u}=e,d=i.flatMap(h=>h.route.middleware?h.route.middleware.map(p=>[h.route.id,p]):[]);return yield HN({request:o,params:l,context:c,unstable_pattern:u},d,t,r,n,a)})}function HN(e,t,r,n,a,i,o=0){return T(this,null,function*(){var p;let{request:l}=e;if(l.signal.aborted)throw(p=l.signal.reason)!=null?p:new Error(`Request aborted: ${l.method} ${l.url}`);let c=t[o];if(!c)return yield r();let[u,d]=c,f,h=()=>T(this,null,function*(){if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:yield HN(e,t,r,n,a,i,o+1)},f.value}catch(g){return f={value:yield i(g,u,f)},f.value}});try{let g=yield d(e,h),m=g!=null?n(g):void 0;return a(m)?m:f?m!=null?m:f.value:(f={value:yield h()},f.value)}catch(g){return yield i(g,u,f)}})}function WN(e,t,r,n,a){let i=FN({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),o=pM(n.route,tr(r.method)?"action":"loader",t,e,a);return{middleware:i,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function hp(e,t,r,n,a,i,o,l,c=null){let u=!1,d=WN(e,t,r,a,i);return Z(C({},a),{_lazyPromises:d,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(f){return u=!0,c?typeof f=="boolean"?Fu(a,Z(C({},c),{defaultShouldRevalidate:f})):Fu(a,c):l},resolve(f){let{lazy:h,loader:p,middleware:g}=a.route,m=u||l||f&&!tr(r.method)&&(h||p),y=g&&g.length>0&&!p&&!h;return m&&(tr(r.method)||!y)?yM({request:r,unstable_pattern:n,match:a,lazyHandlerPromise:d==null?void 0:d.handler,lazyRoutePromise:d==null?void 0:d.route,handlerOverride:f,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}})}function wi(e,t,r,n,a,i,o,l=null){return n.map(c=>c.route.id!==a.route.id?Z(C({},c),{shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:WN(e,t,r,c,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}):hp(e,t,r,Mg(n.map(u=>u.route.path)),c,i,o,!0,l))}function vM(e,t,r,n,a,i){return T(this,null,function*(){r.some(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})&&(yield Promise.all(r.map(u=>{var d;return(d=u._lazyPromises)==null?void 0:d.middleware})));let o={request:t,unstable_pattern:Mg(r.map(u=>u.route.path)),params:r[0].params,context:a,matches:r},l=u=>{let d=o;return BN(d,()=>u(Z(C({},d),{fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}})))},c=yield e(Z(C({},o),{fetcherKey:n,runClientMiddleware:l}));try{yield Promise.all(r.flatMap(u=>{var d,f;return[(d=u._lazyPromises)==null?void 0:d.handler,(f=u._lazyPromises)==null?void 0:f.route]}))}catch(u){}return c})}function yM(l){return T(this,arguments,function*({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:o}){let c,u,d=tr(e.method),f=d?"action":"loader",h=p=>{let g,m=new Promise((x,v)=>g=v);u=()=>g(),e.signal.addEventListener("abort",u);let y=x=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${r.route.id}]`)):p({request:e,unstable_pattern:t,params:r.params,context:o},...x!==void 0?[x]:[]),b=T(this,null,function*(){try{return{type:"data",result:yield i?i(v=>y(v)):y()}}catch(x){return{type:"error",result:x}}});return Promise.race([b,m])};try{let p=d?r.route.action:r.route.loader;if(n||a)if(p){let g,[m]=yield Promise.all([h(p).catch(y=>{g=y}),n,a]);if(g!==void 0)throw g;c=m}else{yield n;let g=d?r.route.action:r.route.loader;if(g)[c]=yield Promise.all([h(g),a]);else if(f==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw Lr(405,{method:e.method,pathname:y,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(p)c=yield h(p);else{let g=new URL(e.url),m=g.pathname+g.search;throw Lr(404,{pathname:m})}}catch(p){return{type:"error",result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return c})}function bM(e){return T(this,null,function*(){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()})}function wM(e){return T(this,null,function*(){var n,a,i,o,l,c;let{result:t,type:r}=e;if(KN(t)){let u;try{u=yield bM(t)}catch(d){return{type:"error",error:d}}return r==="error"?{type:"error",error:new Uu(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?Vv(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Uu(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:vl(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:vl(t)?t.status:void 0}:Vv(t)?{type:"data",data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function NM(e,t,r,n,a){let i=e.headers.get("Location");if(We(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!md(i)){let o=n.slice(0,n.findIndex(l=>l.route.id===r)+1);i=dp(new URL(t.url),o,a,i),e.headers.set("Location",i)}return e}function Uv(e,t,r){if(md(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=Wr(a.pathname,r)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Js(e,t,r,n){let a=e.createURL(VN(t)).toString(),i={signal:r};if(n&&tr(n.formMethod)){let{formMethod:o,formEncType:l}=n;i.method=o.toUpperCase(),l==="application/json"?(i.headers=new Headers({"Content-Type":l}),i.body=JSON.stringify(n.json)):l==="text/plain"?i.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?i.body=mp(n.formData):i.body=n.formData}return new Request(a,i)}function mp(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Fv(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function kM(e,t,r,n=!1,a=!1){let i={},o=null,l,c=!1,u={},d=r&&wr(r[1])?r[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let h=f.route.id,p=t[h];if(We(!xs(p),"Cannot handle redirect results in processLoaderData"),wr(p)){let g=p.error;if(d!==void 0&&(g=d,d=void 0),o=o||{},a)o[h]=g;else{let m=Ca(e,h);o[m.route.id]==null&&(o[m.route.id]=g)}n||(i[h]=$N),c||(c=!0,l=vl(p.error)?p.error.status:500),p.headers&&(u[h]=p.headers)}else i[h]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(u[h]=p.headers)}),d!==void 0&&r&&(o={[r[0]]:d},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:o,statusCode:l||200,loaderHeaders:u}}function Bv(e,t,r,n,a,i){let{loaderData:o,errors:l}=kM(t,r,n);return a.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:d,controller:f}=c;if(f&&f.signal.aborted)return;let h=i[u];if(We(h,"Did not find corresponding fetcher result"),wr(h)){let p=Ca(e.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=Z(C({},l),{[p.route.id]:h.error})),e.fetchers.delete(u)}else if(xs(h))We(!1,"Unhandled fetcher revalidation redirect");else{let p=Zn(h.data);e.fetchers.set(u,p)}}),{loaderData:o,errors:l}}function Hv(e,t,r,n){let a=Object.entries(t).filter(([,i])=>i!==$N).reduce((i,[o,l])=>(i[o]=l,i),{});for(let i of r){let o=i.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&i.route.loader&&(a[o]=e[o]),n&&n.hasOwnProperty(o))break}return a}function Wv(e){return e?wr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ca(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function yc(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Lr(e,{pathname:t,routeId:r,method:n,type:a,message:i}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(o="Bad Request",n&&t&&r?l=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(l="Unable to encode submission body")):e===403?(o="Forbidden",l=`Route "${r}" does not match URL "${t}"`):e===404?(o="Not Found",l=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",n&&t&&r?l=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new Uu(e||500,o,new Error(l),!0)}function bc(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(xs(a))return{key:n,result:a}}}function VN(e){let t=typeof e=="string"?Qa(e):e;return Ln(Z(C({},t),{hash:""}))}function jM(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function _M(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&SM(r))}function SM(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function EM(e){return KN(e.result)&&oM.has(e.result.status)}function wr(e){return e.type==="error"}function xs(e){return(e&&e.type)==="redirect"}function Vv(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function KN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function TM(e){return iM.has(e.toUpperCase())}function tr(e){return aM.has(e.toUpperCase())}function Rg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Bc(e,t){let r=typeof t=="string"?Qa(t).search:t.search;if(e[e.length-1].route.index&&Rg(r||""))return e[e.length-1];let n=ON(e);return n[n.length-1]}function Kv(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:i,json:o}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Tf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CM(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ao(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PM(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Zn(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function IM(e,t){try{let r=e.sessionStorage.getItem(zN);if(r){let n=JSON.parse(r);for(let[a,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch(r){}}function MM(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(zN,JSON.stringify(r))}catch(n){jt(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function AM(){let e,t,r=new Promise((n,a)=>{e=i=>T(this,null,function*(){n(i);try{yield r}catch(o){}}),t=i=>T(this,null,function*(){a(i);try{yield r}catch(o){}})});return{promise:r,resolve:e,reject:t}}var $s=w.createContext(null);$s.displayName="DataRouter";var Pl=w.createContext(null);Pl.displayName="DataRouterState";w.createContext(!1);var Og=w.createContext({isTransitioning:!1});Og.displayName="ViewTransition";var GN=w.createContext(new Map);GN.displayName="Fetchers";var RM=w.createContext(null);RM.displayName="Await";var dn=w.createContext(null);dn.displayName="Navigation";var xd=w.createContext(null);xd.displayName="Location";var Gr=w.createContext({outlet:null,matches:[],isDataRoute:!1});Gr.displayName="Route";var Lg=w.createContext(null);Lg.displayName="RouteError";function OM(e,{relative:t}={}){We(Fi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(dn),{hash:a,pathname:i,search:o}=Il(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:In([r,i])),n.createHref({pathname:l,search:o,hash:a})}function Fi(){return w.useContext(xd)!=null}function fn(){return We(Fi(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(xd).location}var ZN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qN(e){w.useContext(dn).static||w.useLayoutEffect(e)}function Ke(){let{isDataRoute:e}=w.useContext(Gr);return e?YM():LM()}function LM(){We(Fi(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext($s),{basename:t,navigator:r}=w.useContext(dn),{matches:n}=w.useContext(Gr),{pathname:a}=fn(),i=JSON.stringify(pd(n)),o=w.useRef(!1);return qN(()=>{o.current=!0}),w.useCallback((c,u={})=>{if(jt(o.current,ZN),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=gd(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:In([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}var DM=w.createContext(null);function zM(e){let t=w.useContext(Gr).outlet;return w.useMemo(()=>t&&w.createElement(DM.Provider,{value:e},t),[t,e])}function Fn(){let{matches:e}=w.useContext(Gr),t=e[e.length-1];return t?t.params:{}}function Il(e,{relative:t}={}){let{matches:r}=w.useContext(Gr),{pathname:n}=fn(),a=JSON.stringify(pd(r));return w.useMemo(()=>gd(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function $M(e,t,r,n,a){We(Fi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(dn),{matches:o}=w.useContext(Gr),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let x=f&&f.path||"";YN(u,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=fn(),p;p=h;let g=p.pathname||"/",m=g;if(d!=="/"){let x=d.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=Ta(e,{pathname:m});return jt(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),jt(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),WM(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:In([d,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:In([d,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,r,n,a)}function UM(){let e=qM(),t=vl(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:a},r):null,o)}var FM=w.createElement(UM,null),BM=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Gr.Provider,{value:this.props.routeContext},w.createElement(Lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HM({routeContext:e,match:t,children:r}){let n=w.useContext($s);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Gr.Provider,{value:e},r)}function WM(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);We(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=r&&n?(d,f)=>{var h,p,g;n(d,{location:r.location,params:(g=(p=(h=r.matches)==null?void 0:h[0])==null?void 0:p.params)!=null?g:{},errorInfo:f})}:void 0;return i.reduceRight((d,f,h)=>{let p,g=!1,m=null,y=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||FM,l&&(c<0&&h===0?(YN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):c===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),x=()=>{let v;return p?v=m:g?v=y:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(HM,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?w.createElement(BM,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):x()},null)}function Dg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VM(e){let t=w.useContext($s);return We(t,Dg(e)),t}function KM(e){let t=w.useContext(Pl);return We(t,Dg(e)),t}function GM(e){let t=w.useContext(Gr);return We(t,Dg(e)),t}function zg(e){let t=GM(e),r=t.matches[t.matches.length-1];return We(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ZM(){return zg("useRouteId")}function qM(){var n;let e=w.useContext(Lg),t=KM("useRouteError"),r=zg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function YM(){let{router:e}=VM("useNavigate"),t=zg("useNavigate"),r=w.useRef(!1);return qN(()=>{r.current=!0}),w.useCallback((o,...l)=>T(this,[o,...l],function*(a,i={}){jt(r.current,ZN),r.current&&(typeof a=="number"?e.navigate(a):yield e.navigate(a,C({fromRouteId:t},i)))}),[e,t])}var Gv={};function YN(e,t,r){!t&&!Gv[e]&&(Gv[e]=!0,jt(!1,r))}var Zv={};function qv(e,t){!e&&!Zv[t]&&(Zv[t]=!0,console.warn(t))}function QM(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:w.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var JM=["HydrateFallback","hydrateFallbackElement"],XM=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function eA({router:e,flushSync:t,unstable_onError:r}){let[n,a]=w.useState(e.state),[i,o]=w.useState(),[l,c]=w.useState({isTransitioning:!1}),[u,d]=w.useState(),[f,h]=w.useState(),[p,g]=w.useState(),m=w.useRef(new Map),y=w.useCallback(j=>{a(M=>(j.errors&&r&&Object.entries(j.errors).forEach(([N,E])=>{var A,O,F;((A=M.errors)==null?void 0:A[N])!==E&&r(E,{location:j.location,params:(F=(O=j.matches[0])==null?void 0:O.params)!=null?F:{}})}),j))},[r]),b=w.useCallback((j,{deletedFetchers:M,flushSync:N,viewTransitionOpts:E})=>{j.fetchers.forEach((O,F)=>{O.data!==void 0&&m.current.set(F,O.data)}),M.forEach(O=>m.current.delete(O)),qv(N===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(qv(E==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!E||!A){t&&N?t(()=>y(j)):w.startTransition(()=>y(j));return}if(t&&N){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:E.currentLocation,nextLocation:E.nextLocation})});let O=e.window.document.startViewTransition(()=>{t(()=>y(j))});O.finished.finally(()=>{t(()=>{d(void 0),h(void 0),o(void 0),c({isTransitioning:!1})})}),t(()=>h(O));return}f?(u&&u.resolve(),f.skipTransition(),g({state:j,currentLocation:E.currentLocation,nextLocation:E.nextLocation})):(o(j),c({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}))},[e.window,t,f,u,y]);w.useLayoutEffect(()=>e.subscribe(b),[e,b]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new XM)},[l]),w.useEffect(()=>{if(u&&i&&e.window){let j=i,M=u.promise,N=e.window.document.startViewTransition(()=>T(this,null,function*(){w.startTransition(()=>y(j)),yield M}));N.finished.finally(()=>{d(void 0),h(void 0),o(void 0),c({isTransitioning:!1})}),h(N)}},[i,u,e.window,y]),w.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,f,n.location,i]),w.useEffect(()=>{!l.isTransitioning&&p&&(o(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]);let x=w.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:j=>e.navigate(j),push:(j,M,N)=>e.navigate(j,{state:M,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(j,M,N)=>e.navigate(j,{replace:!0,state:M,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[e]),v=e.basename||"/",k=w.useMemo(()=>({router:e,navigator:x,static:!1,basename:v,unstable_onError:r}),[e,x,v,r]);return w.createElement(w.Fragment,null,w.createElement($s.Provider,{value:k},w.createElement(Pl.Provider,{value:n},w.createElement(GN.Provider,{value:m.current},w.createElement(Og.Provider,{value:l},w.createElement(aA,{basename:v,location:n.location,navigationType:n.historyAction,navigator:x},w.createElement(tA,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var tA=w.memo(rA);function rA({routes:e,future:t,state:r,unstable_onError:n}){return $M(e,void 0,r,n,t)}function Bu({to:e,replace:t,state:r,relative:n}){We(Fi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(dn);jt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=w.useContext(Gr),{pathname:o}=fn(),l=Ke(),c=gd(e,pd(i),o,n==="path"),u=JSON.stringify(c);return w.useEffect(()=>{l(JSON.parse(u),{replace:t,state:r,relative:n})},[l,u,n,t,r]),null}function nA(e){return zM(e.context)}function aA({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){We(!Fi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Qa(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,p=w.useMemo(()=>{let g=Wr(c,o);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:h},navigationType:n}},[o,c,u,d,f,h,n]);return jt(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:w.createElement(dn.Provider,{value:l},w.createElement(xd.Provider,{children:t,value:p}))}var Hc="get",Wc="application/x-www-form-urlencoded";function vd(e){return e!=null&&typeof e.tagName=="string"}function sA(e){return vd(e)&&e.tagName.toLowerCase()==="button"}function iA(e){return vd(e)&&e.tagName.toLowerCase()==="form"}function oA(e){return vd(e)&&e.tagName.toLowerCase()==="input"}function lA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cA(e,t){return e.button===0&&(!t||t==="_self")&&!lA(e)}var wc=null;function uA(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch(e){wc=!0}return wc}var dA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cf(e){return e!=null&&!dA.has(e)?(jt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):e}function fA(e,t){let r,n,a,i,o;if(iA(e)){let l=e.getAttribute("action");n=l?Wr(l,t):null,r=e.getAttribute("method")||Hc,a=Cf(e.getAttribute("enctype"))||Wc,i=new FormData(e)}else if(sA(e)||oA(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Wr(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Hc,a=Cf(e.getAttribute("formenctype"))||Cf(l.getAttribute("enctype"))||Wc,i=new FormData(l,e),!uA()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(vd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Hc,n=null,a=Wc,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function hA(e,t,r){let n=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Wr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}function mA(e,t){return T(this,null,function*(){if(e.id in t)return t[e.id];try{let r=yield import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function pA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function gA(e,t,r){return T(this,null,function*(){let n=yield Promise.all(e.map(a=>T(this,null,function*(){let i=t.routes[a.route.id];if(i){let o=yield mA(i,r);return o.links?o.links():[]}return[]})));return bA(n.flat(1).filter(pA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?Z(C({},a),{rel:"prefetch",as:"style"}):Z(C({},a),{rel:"prefetch"})))})}function Yv(e,t,r,n,a,i){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function xA(e,t,{includeHydrateFallback:r}={}){return vA(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function vA(e){return[...new Set(e)]}function yA(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function bA(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(yA(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function QN(){let e=w.useContext($s);return $g(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wA(){let e=w.useContext(Pl);return $g(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ug=w.createContext(void 0);Ug.displayName="FrameworkContext";function JN(){let e=w.useContext(Ug);return $g(e,"You must render this element inside a <HydratedRouter> element"),e}function NA(e,t){let r=w.useContext(Ug),[n,a]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=w.useRef(null);w.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let m=b=>{b.forEach(x=>{o(x.isIntersecting)})},y=new IntersectionObserver(m,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[e]),w.useEffect(()=>{if(n){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[n]);let p=()=>{a(!0)},g=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:so(l,p),onBlur:so(c,g),onMouseEnter:so(u,p),onMouseLeave:so(d,g),onTouchStart:so(f,p)}]:[!1,h,{}]}function so(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function kA(r){var n=r,{page:e}=n,t=Wn(n,["page"]);let{router:a}=QN(),i=w.useMemo(()=>Ta(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?w.createElement(_A,C({page:e,matches:i},t)):null}function jA(e){let{manifest:t,routeModules:r}=JN(),[n,a]=w.useState([]);return w.useEffect(()=>{let i=!1;return gA(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function _A(n){var a=n,{page:e,matches:t}=a,r=Wn(a,["page","matches"]);let i=fn(),{manifest:o,routeModules:l}=JN(),{basename:c}=QN(),{loaderData:u,matches:d}=wA(),f=w.useMemo(()=>Yv(e,t,d,o,i,"data"),[e,t,d,o,i]),h=w.useMemo(()=>Yv(e,t,d,o,i,"assets"),[e,t,d,o,i]),p=w.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let y=new Set,b=!1;if(t.forEach(v=>{var j;let k=o.routes[v.route.id];!k||!k.hasLoader||(!f.some(M=>M.route.id===v.route.id)&&v.route.id in u&&((j=l[v.route.id])!=null&&j.shouldRevalidate)||k.hasClientLoader?b=!0:y.add(v.route.id))}),y.size===0)return[];let x=hA(e,c,"data");return b&&y.size>0&&x.searchParams.set("_routes",t.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[x.pathname+x.search]},[c,u,i,o,f,t,e,l]),g=w.useMemo(()=>xA(h,o),[h,o]),m=jA(h);return w.createElement(w.Fragment,null,p.map(y=>w.createElement("link",C({key:y,rel:"prefetch",as:"fetch",href:y},r))),g.map(y=>w.createElement("link",C({key:y,rel:"modulepreload",href:y},r))),m.map(({key:y,link:b})=>w.createElement("link",C({key:y,nonce:r.nonce},b))))}function SA(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var XN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{XN&&(window.__reactRouterVersion="7.9.6")}catch(e){}function EA(e,t){return dM({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:_I({window:t==null?void 0:t.window}),hydrationData:TA(),routes:e,mapRouteProperties:QM,hydrationRouteProperties:JM,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function TA(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=Z(C({},e),{errors:CA(e.errors)})),e}function CA(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new Uu(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let o=new i(a.message);o.stack="",r[n]=o}catch(o){}}if(r[n]==null){let i=new Error(a.message);i.stack="",r[n]=i}}else r[n]=a;return r}var ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tk=w.forwardRef(function(g,p){var m=g,{onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=m,h=Wn(m,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:y}=w.useContext(dn),b=typeof u=="string"&&ek.test(u),x,v=!1;if(typeof u=="string"&&b&&(x=u,XN))try{let F=new URL(window.location.href),G=u.startsWith("//")?new URL(F.protocol+u):new URL(u),ne=Wr(G.pathname,y);G.origin===F.origin&&ne!=null?u=ne+G.search+G.hash:v=!0}catch(F){jt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=OM(u,{relative:a}),[j,M,N]=NA(n,h),E=AA(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function A(F){t&&t(F),F.defaultPrevented||E(F)}let O=w.createElement("a",Z(C(C({},h),N),{href:x||k,onClick:v||i?t:A,ref:SA(p,M),target:c,"data-discover":!b&&r==="render"?"true":void 0}));return j&&!b?w.createElement(w.Fragment,null,O,w.createElement(kA,{page:k})):O});tk.displayName="Link";var PA=w.forwardRef(function(f,d){var h=f,{"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:l,children:c}=h,u=Wn(h,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let p=Il(o,{relative:u.relative}),g=fn(),m=w.useContext(Pl),{navigator:y,basename:b}=w.useContext(dn),x=m!=null&&zA(p)&&l===!0,v=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,k=g.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(k=k.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&b&&(j=Wr(j,b)||j);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=k===v||!a&&k.startsWith(v)&&k.charAt(M)==="/",E=j!=null&&(j===v||!a&&j.startsWith(v)&&j.charAt(v.length)==="/"),A={isActive:N,isPending:E,isTransitioning:x},O=N?t:void 0,F;typeof n=="function"?F=n(A):F=[n,N?"active":null,E?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(A):i;return w.createElement(tk,Z(C({},u),{"aria-current":O,className:F,ref:d,style:G,to:o,viewTransition:l}),typeof c=="function"?c(A):c)});PA.displayName="NavLink";var IA=w.forwardRef((g,p)=>{var m=g,{discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=Hc,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f}=m,h=Wn(m,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let y=LA(),b=DA(l,{relative:u}),x=o.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&ek.test(l),k=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let M=j.nativeEvent.submitter,N=(M==null?void 0:M.getAttribute("formmethod"))||o;y(M||j.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return w.createElement("form",Z(C({ref:p,method:x,action:b,onSubmit:n?c:k},h),{"data-discover":!v&&e==="render"?"true":void 0}))});IA.displayName="Form";function MA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rk(e){let t=w.useContext($s);return We(t,MA(e)),t}function AA(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let l=Ke(),c=fn(),u=Il(e,{relative:i});return w.useCallback(d=>{if(cA(d,t)){d.preventDefault();let f=r!==void 0?r:Ln(c)===Ln(u);l(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,u,r,n,t,e,a,i,o])}var RA=0,OA=()=>`__${String(++RA)}__`;function LA(){let{router:e}=rk("useSubmit"),{basename:t}=w.useContext(dn),r=ZM();return w.useCallback((i,...o)=>T(this,[i,...o],function*(n,a={}){let{action:l,method:c,encType:u,formData:d,body:f}=fA(n,t);if(a.navigate===!1){let h=a.fetcherKey||OA();yield e.fetch(h,r,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else yield e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,r])}function DA(e,{relative:t}={}){let{basename:r}=w.useContext(dn),n=w.useContext(Gr);We(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i=C({},Il(e||".",{relative:t})),o=fn();if(e==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:In([r,i.pathname])),Ln(i)}function zA(e,{relative:t}={}){let r=w.useContext(Og);We(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rk("useViewTransitionState"),a=Il(e,{relative:t});if(!r.isTransitioning)return!1;let i=Wr(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Wr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $u(a.pathname,o)!=null||$u(a.pathname,i)!=null}function $A(e){return w.createElement(eA,C({flushSync:xg.flushSync},e))}function UA(e,t){let r;try{r=e()}catch(a){return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const pp=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return pp(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return pp(n)(r)}}}},FA=(e,t)=>(r,n,a)=>{let i=C({storage:UA(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>C(C({},y),m)},t),o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...m)},n,a);const d=()=>{const m=i.partialize(C({},n()));return u.setItem(i.name,{state:m,version:i.version})},f=a.setState;a.setState=(m,y)=>(f(m,y),d());const h=e((...m)=>(r(...m),d()),n,a);a.getInitialState=()=>h;let p;const g=()=>{var m,y;if(!u)return;o=!1,l.forEach(x=>{var v;return x((v=n())!=null?v:h)});const b=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(m=n())!=null?m:h))||void 0;return pp(u.getItem.bind(u))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const v=i.migrate(x.state,x.version);return v instanceof Promise?v.then(k=>[!0,k]):[!0,v]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var v;const[k,j]=x;if(p=i.merge(j,(v=n())!=null?v:h),r(p,!0),k)return d()}).then(()=>{b==null||b(p,void 0),p=n(),o=!0,c.forEach(x=>x(p))}).catch(x=>{b==null||b(void 0,x)})};return a.persist={setOptions:m=>{i=C(C({},i),m),m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||g(),p||h},Us=FA;function nk(e,t){return function(){return e.apply(t,arguments)}}const{toString:BA}=Object.prototype,{getPrototypeOf:Fg}=Object,{iterator:yd,toStringTag:ak}=Symbol,bd=(e=>t=>{const r=BA.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),hn=e=>(e=e.toLowerCase(),t=>bd(t)===e),wd=e=>t=>typeof t===e,{isArray:Bi}=Array,Li=wd("undefined");function Ml(e){return e!==null&&!Li(e)&&e.constructor!==null&&!Li(e.constructor)&&gr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sk=hn("ArrayBuffer");function HA(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sk(e.buffer),t}const WA=wd("string"),gr=wd("function"),ik=wd("number"),Al=e=>e!==null&&typeof e=="object",VA=e=>e===!0||e===!1,Vc=e=>{if(bd(e)!=="object")return!1;const t=Fg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ak in e)&&!(yd in e)},KA=e=>{if(!Al(e)||Ml(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},GA=hn("Date"),ZA=hn("File"),qA=hn("Blob"),YA=hn("FileList"),QA=e=>Al(e)&&gr(e.pipe),JA=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gr(e.append)&&((t=bd(e))==="formdata"||t==="object"&&gr(e.toString)&&e.toString()==="[object FormData]"))},XA=hn("URLSearchParams"),[e5,t5,r5,n5]=["ReadableStream","Request","Response","Headers"].map(hn),a5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rl(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e=="undefined")return;let n,a;if(typeof e!="object"&&(e=[e]),Bi(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Ml(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function ok(e,t){if(Ml(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const vs=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,lk=e=>!Li(e)&&e!==vs;function gp(){const{caseless:e,skipUndefined:t}=lk(this)&&this||{},r={},n=(a,i)=>{const o=e&&ok(r,i)||i;Vc(r[o])&&Vc(a)?r[o]=gp(r[o],a):Vc(a)?r[o]=gp({},a):Bi(a)?r[o]=a.slice():(!t||!Li(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Rl(arguments[a],n);return r}const s5=(e,t,r,{allOwnKeys:n}={})=>(Rl(t,(a,i)=>{r&&gr(a)?e[i]=nk(a,r):e[i]=a},{allOwnKeys:n}),e),i5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),o5=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},l5=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Fg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},c5=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},u5=e=>{if(!e)return null;if(Bi(e))return e;let t=e.length;if(!ik(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},d5=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&Fg(Uint8Array)),f5=(e,t)=>{const n=(e&&e[yd]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},h5=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},m5=hn("HTMLFormElement"),p5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Qv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),g5=hn("RegExp"),ck=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Rl(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},x5=e=>{ck(e,(t,r)=>{if(gr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(gr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},v5=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Bi(e)?n(e):n(String(e).split(t)),r},y5=()=>{},b5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function w5(e){return!!(e&&gr(e.append)&&e[ak]==="FormData"&&e[yd])}const N5=e=>{const t=new Array(10),r=(n,a)=>{if(Al(n)){if(t.indexOf(n)>=0)return;if(Ml(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Bi(n)?[]:{};return Rl(n,(o,l)=>{const c=r(o,a+1);!Li(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},k5=hn("AsyncFunction"),j5=e=>e&&(Al(e)||gr(e))&&gr(e.then)&&gr(e.catch),uk=((e,t)=>e?setImmediate:t?((r,n)=>(vs.addEventListener("message",({source:a,data:i})=>{a===vs&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),vs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gr(vs.postMessage)),_5=typeof queueMicrotask!="undefined"?queueMicrotask.bind(vs):typeof process!="undefined"&&process.nextTick||uk,S5=e=>e!=null&&gr(e[yd]),$={isArray:Bi,isArrayBuffer:sk,isBuffer:Ml,isFormData:JA,isArrayBufferView:HA,isString:WA,isNumber:ik,isBoolean:VA,isObject:Al,isPlainObject:Vc,isEmptyObject:KA,isReadableStream:e5,isRequest:t5,isResponse:r5,isHeaders:n5,isUndefined:Li,isDate:GA,isFile:ZA,isBlob:qA,isRegExp:g5,isFunction:gr,isStream:QA,isURLSearchParams:XA,isTypedArray:d5,isFileList:YA,forEach:Rl,merge:gp,extend:s5,trim:a5,stripBOM:i5,inherits:o5,toFlatObject:l5,kindOf:bd,kindOfTest:hn,endsWith:c5,toArray:u5,forEachEntry:f5,matchAll:h5,isHTMLForm:m5,hasOwnProperty:Qv,hasOwnProp:Qv,reduceDescriptors:ck,freezeMethods:x5,toObjectSet:v5,toCamelCase:p5,noop:y5,toFiniteNumber:b5,findKey:ok,global:vs,isContextDefined:lk,isSpecCompliantForm:w5,toJSONObject:N5,isAsyncFn:k5,isThenable:j5,setImmediate:uk,asap:_5,isIterable:S5};function ze(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}$.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const dk=ze.prototype,fk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fk[e]={value:e}});Object.defineProperties(ze,fk);Object.defineProperty(dk,"isAxiosError",{value:!0});ze.from=(e,t,r,n,a,i)=>{const o=Object.create(dk);$.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ze.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const E5=null;function xp(e){return $.isPlainObject(e)||$.isArray(e)}function hk(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function Jv(e,t,r){return e?e.concat(t).map(function(a,i){return a=hk(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function T5(e){return $.isArray(e)&&!e.some(xp)}const C5=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Nd(e,t,r){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!$.isUndefined(y[m])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob!="undefined"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if($.isDate(g))return g.toISOString();if($.isBoolean(g))return g.toString();if(!c&&$.isBlob(g))throw new ze("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(g)||$.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,m,y){let b=g;if(g&&!y&&typeof g=="object"){if($.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if($.isArray(g)&&T5(g)||($.isFileList(g)||$.endsWith(m,"[]"))&&(b=$.toArray(g)))return m=hk(m),b.forEach(function(v,k){!($.isUndefined(v)||v===null)&&t.append(o===!0?Jv([m],k,i):o===null?m:m+"[]",u(v))}),!1}return xp(g)?!0:(t.append(Jv(y,m,i),u(g)),!1)}const f=[],h=Object.assign(C5,{defaultVisitor:d,convertValue:u,isVisitable:xp});function p(g,m){if(!$.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),$.forEach(g,function(b,x){(!($.isUndefined(b)||b===null)&&a.call(t,b,$.isString(x)?x.trim():x,m,h))===!0&&p(b,m?m.concat(x):[x])}),f.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Xv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Bg(e,t){this._pairs=[],e&&Nd(e,this,t)}const mk=Bg.prototype;mk.append=function(t,r){this._pairs.push([t,r])};mk.toString=function(t){const r=t?function(n){return t.call(this,n,Xv)}:Xv;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function P5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function pk(e,t,r){if(!t)return e;const n=r&&r.encode||P5;$.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=$.isURLSearchParams(t)?t.toString():new Bg(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ey{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(n){n!==null&&t(n)})}}const gk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I5=typeof URLSearchParams!="undefined"?URLSearchParams:Bg,M5=typeof FormData!="undefined"?FormData:null,A5=typeof Blob!="undefined"?Blob:null,R5={isBrowser:!0,classes:{URLSearchParams:I5,FormData:M5,Blob:A5},protocols:["http","https","file","blob","url","data"]},Hg=typeof window!="undefined"&&typeof document!="undefined",vp=typeof navigator=="object"&&navigator||void 0,O5=Hg&&(!vp||["ReactNative","NativeScript","NS"].indexOf(vp.product)<0),L5=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D5=Hg&&window.location.href||"http://localhost",z5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hg,hasStandardBrowserEnv:O5,hasStandardBrowserWebWorkerEnv:L5,navigator:vp,origin:D5},Symbol.toStringTag,{value:"Module"})),Yt=C(C({},z5),R5);function $5(e,t){return Nd(e,new Yt.classes.URLSearchParams,C({visitor:function(r,n,a,i){return Yt.isNode&&$.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function U5(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function F5(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function xk(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&$.isArray(a)?a.length:o,c?($.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!$.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&$.isArray(a[o])&&(a[o]=F5(a[o])),!l)}if($.isFormData(e)&&$.isFunction(e.entries)){const r={};return $.forEachEntry(e,(n,a)=>{t(U5(n),a,r,0)}),r}return null}function B5(e,t,r){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ol={transitional:gk,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=$.isObject(t);if(i&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return a?JSON.stringify(xk(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $5(t,this.formSerializer).toString();if((l=$.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Nd(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),B5(t)):t}],transformResponse:[function(t){const r=this.transitional||Ol.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?ze.from(l,ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{Ol.headers[e]={}});const H5=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),W5=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&H5[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ty=Symbol("internals");function io(e){return e&&String(e).trim().toLowerCase()}function Kc(e){return e===!1||e==null?e:$.isArray(e)?e.map(Kc):String(e)}function V5(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const K5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pf(e,t,r,n,a){if($.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!$.isString(t)){if($.isString(n))return t.indexOf(n)!==-1;if($.isRegExp(n))return n.test(t)}}function G5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Z5(e,t){const r=$.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let xr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,u){const d=io(c);if(!d)throw new Error("header name must be a non-empty string");const f=$.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Kc(l))}const o=(l,c)=>$.forEach(l,(u,d)=>i(u,d,c));if($.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if($.isString(t)&&(t=t.trim())&&!K5(t))o(W5(t),r);else if($.isObject(t)&&$.isIterable(t)){let l={},c,u;for(const d of t){if(!$.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?$.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=io(t),t){const n=$.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return V5(a);if($.isFunction(r))return r.call(this,a,n);if($.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=io(t),t){const n=$.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Pf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=io(o),o){const l=$.findKey(n,o);l&&(!r||Pf(n,n[l],l,r))&&(delete n[l],a=!0)}}return $.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Pf(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return $.forEach(this,(a,i)=>{const o=$.findKey(n,i);if(o){r[o]=Kc(a),delete r[i];return}const l=t?G5(i):String(i).trim();l!==i&&delete r[i],r[l]=Kc(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return $.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&$.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[ty]=this[ty]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=io(o);n[l]||(Z5(a,o),n[l]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}};xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(xr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});$.freezeMethods(xr);function If(e,t){const r=this||Ol,n=t||r,a=xr.from(n.headers);let i=n.data;return $.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function vk(e){return!!(e&&e.__CANCEL__)}function Hi(e,t,r){ze.call(this,e==null?"canceled":e,ze.ERR_CANCELED,t,r),this.name="CanceledError"}$.inherits(Hi,ze,{__CANCEL__:!0});function yk(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ze("Request failed with status code "+r.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function q5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Y5(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[a]=c,n[a]=u;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function Q5(e,t){let r=0,n=1e3/t,a,i;const o=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const Hu=(e,t,r=3)=>{let n=0;const a=Y5(50,250);return Q5(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},ry=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ny=e=>(...t)=>$.asap(()=>e(...t)),J5=Yt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Yt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,X5=Yt.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document=="undefined")return;const l=[`${e}=${encodeURIComponent(t)}`];$.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),$.isString(n)&&l.push(`path=${n}`),$.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),$.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document=="undefined")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function eR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bk(e,t,r){let n=!eR(t);return e&&(n||r==!1)?tR(e,t):t}const ay=e=>e instanceof xr?C({},e):e;function Rs(e,t){t=t||{};const r={};function n(u,d,f,h){return $.isPlainObject(u)&&$.isPlainObject(d)?$.merge.call({caseless:h},u,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function a(u,d,f,h){if($.isUndefined(d)){if(!$.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!$.isUndefined(d))return n(void 0,d)}function o(u,d){if($.isUndefined(d)){if(!$.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(ay(u),ay(d),f,!0)};return $.forEach(Object.keys(C(C({},e),t)),function(d){const f=c[d]||a,h=f(e[d],t[d],d);$.isUndefined(h)&&f!==l||(r[d]=h)}),r}const wk=e=>{const t=Rs({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=xr.from(o),t.url=pk(bk(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),$.isFormData(r)){if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if($.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(Yt.hasStandardBrowserEnv&&(n&&$.isFunction(n)&&(n=n(t)),n||n!==!1&&J5(t.url))){const c=a&&i&&X5.read(i);c&&o.set(a,c)}return t},rR=typeof XMLHttpRequest!="undefined",nR=rR&&function(e){return new Promise(function(r,n){const a=wk(e);let i=a.data;const o=xr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,p,g;function m(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(a.method.toUpperCase(),a.url,!0),y.timeout=a.timeout;function b(){if(!y)return;const v=xr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};yk(function(N){r(N),m()},function(N){n(N),m()},j),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(n(new ze("Request aborted",ze.ECONNABORTED,e,y)),y=null)},y.onerror=function(k){const j=k&&k.message?k.message:"Network Error",M=new ze(j,ze.ERR_NETWORK,e,y);M.event=k||null,n(M),y=null},y.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||gk;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new ze(k,j.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&$.forEach(o.toJSON(),function(k,j){y.setRequestHeader(j,k)}),$.isUndefined(a.withCredentials)||(y.withCredentials=!!a.withCredentials),l&&l!=="json"&&(y.responseType=a.responseType),u&&([h,g]=Hu(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,p]=Hu(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=v=>{y&&(n(!v||v.type?new Hi(null,e,y):v),y.abort(),y=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=q5(a.url);if(x&&Yt.protocols.indexOf(x)===-1){n(new ze("Unsupported protocol "+x+":",ze.ERR_BAD_REQUEST,e));return}y.send(i||null)})},aR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof ze?d:new Hi(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new ze(`timeout ${t} of ms exceeded`,ze.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>$.asap(l),c}},sR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},iR=function(e,t){return Rd(this,null,function*(){try{for(var r=sx(oR(e)),n,a,i;n=!(a=yield new ss(r.next())).done;n=!1){const o=a.value;yield*Od(sR(o,t))}}catch(a){i=[a]}finally{try{n&&(a=r.return)&&(yield new ss(a.call(r)))}finally{if(i)throw i[0]}}})},oR=function(e){return Rd(this,null,function*(){if(e[Symbol.asyncIterator]){yield*Od(e);return}const t=e.getReader();try{for(;;){const{done:r,value:n}=yield new ss(t.read());if(r)break;yield n}}finally{yield new ss(t.cancel())}})},sy=(e,t,r,n)=>{const a=iR(e,t);let i=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({pull(u){return T(this,null,function*(){try{const{done:d,value:f}=yield a.next();if(d){l(),u.close();return}let h=f.byteLength;if(r){let p=i+=h;r(p)}u.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}})},cancel(u){return l(u),a.return()}},{highWaterMark:2})},iy=64*1024,{isFunction:Nc}=$,lR=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:oy,TextEncoder:ly}=$.global,cy=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},cR=e=>{e=$.merge.call({skipUndefined:!0},lR,e);const{fetch:t,Request:r,Response:n}=e,a=t?Nc(t):typeof fetch=="function",i=Nc(r),o=Nc(n);if(!a)return!1;const l=a&&Nc(oy),c=a&&(typeof ly=="function"?(g=>m=>g.encode(m))(new ly):g=>T(void 0,null,function*(){return new Uint8Array(yield new r(g).arrayBuffer())})),u=i&&l&&cy(()=>{let g=!1;const m=new r(Yt.origin,{body:new oy,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!m}),d=o&&l&&cy(()=>$.isReadableStream(new n("").body)),f={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(m,y)=>{let b=m&&m[g];if(b)return b.call(m);throw new ze(`Response type '${g}' is not supported`,ze.ERR_NOT_SUPPORT,y)})});const h=g=>T(void 0,null,function*(){if(g==null)return 0;if($.isBlob(g))return g.size;if($.isSpecCompliantForm(g))return(yield new r(Yt.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if($.isArrayBufferView(g)||$.isArrayBuffer(g))return g.byteLength;if($.isURLSearchParams(g)&&(g=g+""),$.isString(g))return(yield c(g)).byteLength}),p=(g,m)=>T(void 0,null,function*(){const y=$.toFiniteNumber(g.getContentLength());return y==null?h(m):y});return g=>T(void 0,null,function*(){let{url:m,method:y,data:b,signal:x,cancelToken:v,timeout:k,onDownloadProgress:j,onUploadProgress:M,responseType:N,headers:E,withCredentials:A="same-origin",fetchOptions:O}=wk(g),F=t||fetch;N=N?(N+"").toLowerCase():"text";let G=aR([x,v&&v.toAbortSignal()],k),ne=null;const X=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let J;try{if(M&&u&&y!=="get"&&y!=="head"&&(J=yield p(E,b))!==0){let fe=new r(m,{method:"POST",body:b,duplex:"half"}),K;if($.isFormData(b)&&(K=fe.headers.get("content-type"))&&E.setContentType(K),fe.body){const[ue,we]=ry(J,Hu(ny(M)));b=sy(fe.body,iy,ue,we)}}$.isString(A)||(A=A?"include":"omit");const V=i&&"credentials"in r.prototype,ae=Z(C({},O),{signal:G,method:y.toUpperCase(),headers:E.normalize().toJSON(),body:b,duplex:"half",credentials:V?A:void 0});ne=i&&new r(m,ae);let U=yield i?F(ne,O):F(m,ae);const Y=d&&(N==="stream"||N==="response");if(d&&(j||Y&&X)){const fe={};["status","statusText","headers"].forEach(ke=>{fe[ke]=U[ke]});const K=$.toFiniteNumber(U.headers.get("content-length")),[ue,we]=j&&ry(K,Hu(ny(j),!0))||[];U=new n(sy(U.body,iy,ue,()=>{we&&we(),X&&X()}),fe)}N=N||"text";let H=yield f[$.findKey(f,N)||"text"](U,g);return!Y&&X&&X(),yield new Promise((fe,K)=>{yk(fe,K,{data:H,headers:xr.from(U.headers),status:U.status,statusText:U.statusText,config:g,request:ne})})}catch(V){throw X&&X(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,g,ne),{cause:V.cause||V}):ze.from(V,V&&V.code,g,ne)}})},uR=new Map,Nk=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,c,u,d=uR;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:cR(t)),d=u;return u};Nk();const Wg={http:E5,xhr:nR,fetch:{get:Nk}};$.forEach(Wg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const uy=e=>`- ${e}`,dR=e=>$.isFunction(e)||e===null||e===!1;function fR(e,t){e=$.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!dR(n)&&(a=Wg[(l=String(n)).toLowerCase()],a===void 0))throw new ze(`Unknown adapter '${l}'`);if(a&&($.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(uy).join(`
`):" "+uy(o[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const kk={getAdapter:fR,adapters:Wg};function Mf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hi(null,e)}function dy(e){return Mf(e),e.headers=xr.from(e.headers),e.data=If.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kk.getAdapter(e.adapter||Ol.adapter,e)(e).then(function(n){return Mf(e),n.data=If.call(e,e.transformResponse,n),n.headers=xr.from(n.headers),n},function(n){return vk(n)||(Mf(e),n&&n.response&&(n.response.data=If.call(e,e.transformResponse,n.response),n.response.headers=xr.from(n.response.headers))),Promise.reject(n)})}const jk="1.13.2",kd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kd[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const fy={};kd.transitional=function(t,r,n){function a(i,o){return"[Axios v"+jk+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new ze(a(o," has been removed"+(r?" in "+r:"")),ze.ERR_DEPRECATED);return r&&!fy[o]&&(fy[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};kd.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function hR(e,t,r){if(typeof e!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new ze("option "+i+" must be "+c,ze.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ze("Unknown option "+i,ze.ERR_BAD_OPTION)}}const Gc={assertOptions:hR,validators:kd},xn=Gc.validators;let ks=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ey,response:new ey}}request(t,r){return T(this,null,function*(){try{return yield this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch(o){}}throw n}})}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Rs(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Gc.assertOptions(n,{silentJSONParsing:xn.transitional(xn.boolean),forcedJSONParsing:xn.transitional(xn.boolean),clarifyTimeoutError:xn.transitional(xn.boolean)},!1),a!=null&&($.isFunction(a)?r.paramsSerializer={serialize:a}:Gc.assertOptions(a,{encode:xn.function,serialize:xn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Gc.assertOptions(r,{baseUrl:xn.spelling("baseURL"),withXsrfToken:xn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&$.merge(i.common,i[r.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=xr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,f=0,h;if(!c){const g=[dy.bind(this),void 0];for(g.unshift(...l),g.push(...u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let p=r;for(;f<h;){const g=l[f++],m=l[f++];try{p=g(p)}catch(y){m.call(this,y);break}}try{d=dy.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Rs(this.defaults,t);const r=bk(t.baseURL,t.url,t.allowAbsoluteUrls);return pk(r,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){ks.prototype[t]=function(r,n){return this.request(Rs(n||{},{method:t,url:r,data:(n||{}).data}))}});$.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(Rs(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ks.prototype[t]=r(),ks.prototype[t+"Form"]=r(!0)});let mR=class _k{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new Hi(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new _k(function(a){t=a}),cancel:t}}};function pR(e){return function(r){return e.apply(null,r)}}function gR(e){return $.isObject(e)&&e.isAxiosError===!0}const yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yp).forEach(([e,t])=>{yp[t]=e});function Sk(e){const t=new ks(e),r=nk(ks.prototype.request,t);return $.extend(r,ks.prototype,t,{allOwnKeys:!0}),$.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Sk(Rs(e,a))},r}const _t=Sk(Ol);_t.Axios=ks;_t.CanceledError=Hi;_t.CancelToken=mR;_t.isCancel=vk;_t.VERSION=jk;_t.toFormData=Nd;_t.AxiosError=ze;_t.Cancel=_t.CanceledError;_t.all=function(t){return Promise.all(t)};_t.spread=pR;_t.isAxiosError=gR;_t.mergeConfig=Rs;_t.AxiosHeaders=xr;_t.formToJSON=e=>xk($.isHTMLForm(e)?new FormData(e):e);_t.getAdapter=kk.getAdapter;_t.HttpStatusCode=yp;_t.default=_t;const{Axios:SD,AxiosError:ED,CanceledError:TD,isCancel:CD,CancelToken:PD,VERSION:ID,all:MD,Cancel:AD,isAxiosError:RD,spread:OD,toFormData:LD,AxiosHeaders:DD,HttpStatusCode:zD,formToJSON:$D,getAdapter:UD,mergeConfig:FD}=_t,Ek="https://api.capkeosport.com/api/v1",Ni=_t.create({baseURL:Ek,timeout:1e4,headers:{"Content-Type":"application/json"}}),xR=()=>jd().accessToken,vR=()=>jd().refreshToken,yR=(e,t)=>{Tk(e,t)};Ni.interceptors.request.use(e=>{const t=xR();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error(" Request Error:",e),Promise.reject(e)));let Af=!1,bp=[];const hy=(e,t=null)=>{bp.forEach(r=>{e?r.reject(e):r.resolve(t)}),bp=[]};Ni.interceptors.response.use(e=>e,e=>T(void 0,null,function*(){const t=e.config;if(!e.response)return console.error("Network Error:",e),Promise.reject(e);if(e.response.status===401&&!t._retry){if(Af)return new Promise((n,a)=>{bp.push({resolve:n,reject:a})}).then(n=>(t.headers.Authorization=`Bearer ${n}`,Ni(t))).catch(n=>Promise.reject(n));t._retry=!0,Af=!0;const r=vR();if(!r)return localStorage.removeItem("auth-storage"),window.location.href="/login",Promise.reject(e);try{const n=yield _t.post(`${Ek}/auth/refresh`,{refreshToken:r},{headers:{"Content-Type":"application/json"}});if(n.data.success&&n.data.data){const{user:a,tokens:i}=n.data.data;return yR(i,a),t.headers.Authorization=`Bearer ${i.accessToken}`,hy(null,i.accessToken),Ni(t)}}catch(n){return hy(n,null),localStorage.removeItem("auth-storage"),window.location.href="/login",Promise.reject(n)}finally{Af=!1}}return e.response.status===403?(console.error("Access forbidden:",e),Promise.reject(e)):e.response.status===429?(console.warn("Rate limit exceeded:",e),Promise.reject(e)):(e.response.status>=500&&console.error("Server error:",e),Promise.reject(e))}));const oo=e=>T(void 0,null,function*(){var t,r,n,a,i,o,l,c,u;try{return(yield Ni.request(e)).data}catch(d){throw{success:!1,error:{code:((n=(r=(t=d.response)==null?void 0:t.data)==null?void 0:r.error)==null?void 0:n.code)||"UNKNOWN_ERROR",message:((o=(i=(a=d.response)==null?void 0:a.data)==null?void 0:i.error)==null?void 0:o.message)||d.message||"An unknown error occurred",details:((u=(c=(l=d.response)==null?void 0:l.data)==null?void 0:c.error)==null?void 0:u.details)||[]},timestamp:new Date().toISOString()}}}),me={get:(e,t)=>oo(C({method:"GET",url:e},t)),post:(e,t,r)=>oo(C({method:"POST",url:e,data:t},r)),put:(e,t,r)=>oo(C({method:"PUT",url:e,data:t},r)),patch:(e,t,r)=>oo(C({method:"PATCH",url:e,data:t},r)),delete:(e,t)=>oo(C({method:"DELETE",url:e},t))},Jn=(e,t,r)=>T(void 0,null,function*(){var a,i,o,l,c,u,d,f,h;const n=new FormData;n.append("file",t);try{return(yield Ni.post(e,n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:g=>{if(r&&g.total){const m=Math.round(g.loaded*100/g.total);r(m)}}})).data}catch(p){throw{success:!1,error:{code:((o=(i=(a=p.response)==null?void 0:a.data)==null?void 0:i.error)==null?void 0:o.code)||"UPLOAD_ERROR",message:((u=(c=(l=p.response)==null?void 0:l.data)==null?void 0:c.error)==null?void 0:u.message)||p.message||"Upload failed",details:((h=(f=(d=p.response)==null?void 0:d.data)==null?void 0:f.error)==null?void 0:h.details)||[]},timestamp:new Date().toISOString()}}}),Et=Un()(Us((e,t)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,metadata:{},login:(r,n)=>{e({tokens:r,user:n,isAuthenticated:!0,error:null,metadata:Z(C({},t().metadata),{authTimestamp:Date.now()})})},logout:()=>T(void 0,null,function*(){const{tokens:r}=t();if(r!=null&&r.accessToken)try{yield me.post("/auth/logout")}catch(n){console.error("Logout API call failed:",n)}e({user:null,tokens:null,isAuthenticated:!1,error:null,metadata:{}})}),updateUser:r=>{const n=t().user;n&&e({user:C(C({},n),r)})},clearError:()=>e({error:null}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),setMetadata:r=>e(n=>({metadata:C(C({},n.metadata),r)})),zaloLogin:r=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.post("/auth/zalo-login",r);if(i.success&&i.data){const{user:o,tokens:l}=i.data;e({user:o,tokens:l,isAuthenticated:!0,error:null,metadata:{authMethod:"zalo_oauth",authTimestamp:Date.now()}})}else throw new Error(((n=i.error)==null?void 0:n.message)||"Login failed")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"ng nhp tht bi";throw e({error:o}),i}finally{e({isLoading:!1})}}),zaloThreeStepVerify:r=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.post("/auth/zalo-three-step-verify",r);if(i.success&&i.data){const{user:o,tokens:l}=i.data;e({user:o,tokens:l,isAuthenticated:!0,error:null,metadata:{authMethod:"zalo_three_step",authTimestamp:Date.now(),silentAuthInProgress:!1}})}else throw new Error(((n=i.error)==null?void 0:n.message)||"Verification failed")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Xc thc tht bi";throw e({error:o}),i}finally{e({isLoading:!1})}}),refreshTokens:()=>T(void 0,null,function*(){const{tokens:r}=t();if(!(r!=null&&r.refreshToken))return!1;try{e({isLoading:!0,error:null});const n=yield me.post("/auth/refresh",{refreshToken:r.refreshToken});if(n.success&&n.data){const{user:a,tokens:i}=n.data;return e({user:a,tokens:i,error:null}),!0}else throw new Error("Token refresh failed")}catch(n){return console.error("Token refresh error:",n),e({user:null,tokens:null,isAuthenticated:!1,metadata:{}}),e({error:n.message||"Session expired. Please login again."}),!1}finally{e({isLoading:!1})}}),checkAuth:()=>T(void 0,null,function*(){const{tokens:r}=t();if(!(r!=null&&r.accessToken)){t().logout();return}try{e({isLoading:!0,error:null});const n=yield me.get("/auth/profile");if(n.success&&n.data)e({user:n.data,isAuthenticated:!0,error:null});else throw new Error("Invalid user session")}catch(n){if(console.error("Auth check error:",n),yield t().refreshTokens())try{const i=yield me.get("/auth/profile");i.success&&i.data&&e({user:i.data,isAuthenticated:!0,error:null})}catch(i){console.error("Retry auth check failed:",i),t().logout()}else t().logout()}finally{e({isLoading:!1})}}),getProfile:(r=!1)=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.get("/auth/profile",void 0,r?{noCache:!0}:void 0);if(i.success&&i.data)return e({user:i.data,error:null}),i.data;throw new Error(((n=i.error)==null?void 0:n.message)||"Failed to fetch profile")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th ti thng tin";throw e({error:o}),i}finally{e({isLoading:!1})}}),updateProfile:r=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.put("/auth/profile",r);if(i.success&&i.data)return e({user:i.data,error:null}),i.data;throw new Error(((n=i.error)==null?void 0:n.message)||"Failed to update profile")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th cp nht thng tin";throw e({error:o}),i}finally{e({isLoading:!1})}})}),{name:"auth-storage",partialize:e=>({user:e.user,tokens:e.tokens,isAuthenticated:e.isAuthenticated,metadata:e.metadata})})),Ll=()=>Et(e=>e.user),Vg=()=>{const e=Et();return{login:e.login,logout:e.logout,updateUser:e.updateUser,refreshTokens:e.refreshTokens,checkAuth:e.checkAuth,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,setMetadata:e.setMetadata,zaloLogin:e.zaloLogin,zaloThreeStepVerify:e.zaloThreeStepVerify,getProfile:e.getProfile,updateProfile:e.updateProfile}},jd=()=>{var t,r;const e=Et.getState();return{accessToken:((t=e.tokens)==null?void 0:t.accessToken)||null,refreshToken:((r=e.tokens)==null?void 0:r.refreshToken)||null}},Tk=(e,t)=>{const r=Et.getState();t&&r.updateUser(t),Et.setState({tokens:e})},Ao=()=>{const e=Et.getState(),{tokens:t,metadata:r}=e;if(!(t!=null&&t.accessToken))return!1;if(r.authTimestamp){const n=Date.now()-r.authTimestamp,a=60*60*1e3;if(n>a)return!1}return!0},bR=Object.freeze(Object.defineProperty({__proto__:null,getTokens:jd,hasValidAuth:Ao,updateTokens:Tk,useAuthActions:Vg,useAuthStore:Et,useUser:Ll},Symbol.toStringTag,{value:"Module"}));class wR{constructor(){console.log(" Zalo 3-Step Authentication Service initialized"),console.log(" DEV MODE: Zalo authentication BYPASSED")}getZaloAccessToken(){return T(this,null,function*(){return new Promise((t,r)=>{if(typeof pn=="undefined"||!pn.getAccessToken){console.warn(" Zalo getAccessToken not available"),r(new Error("Zalo access token not available"));return}console.log(" Step 1: Getting Zalo access token..."),pn.getAccessToken({success:n=>{console.log(" Zalo access token received:",{hasAccessToken:!!n,tokenLength:(n==null?void 0:n.length)||0});const a=(n==null?void 0:n.access_token)||(n==null?void 0:n.accessToken)||n;a?t(a):r(new Error("No access token in response"))},fail:n=>{console.error(" Failed to get Zalo access token:",n),r(new Error("Failed to get Zalo access token"))}})})})}getZaloUserId(){return T(this,null,function*(){return new Promise((t,r)=>{if(typeof pn=="undefined"||!pn.getUserID){console.warn(" Zalo getUserID not available"),r(new Error("Zalo user ID not available"));return}console.log(" Step 2: Getting Zalo user ID..."),pn.getUserID({success:n=>{console.log(" Zalo user ID received:",{hasUserId:!!n,userId:n});const a=(n==null?void 0:n.userID)||(n==null?void 0:n.userId)||n;a?t(a.toString()):r(new Error("No user ID in response"))},fail:n=>{console.error(" Failed to get Zalo user ID:",n),r(new Error("Failed to get Zalo user ID"))}})})})}getZaloPhoneNumber(){return T(this,null,function*(){return new Promise((t,r)=>{if(typeof pn=="undefined"||!pn.getPhoneNumber){console.warn(" Zalo getPhoneNumber not available"),r(new Error("Zalo phone number not available"));return}console.log(" Step 3: Getting Zalo phone number..."),pn.getPhoneNumber({success:n=>{console.log(" Zalo phone number received:",{hasNumber:!!(n!=null&&n.number),hasCode:!!(n!=null&&n.code),hasToken:!!(n!=null&&n.token),response:n}),n!=null&&n.token?t(n.token):r(new Error("No phone number, token, or code in response"))},fail:n=>{console.error(" Failed to get Zalo phone number:",n),r(new Error("User denied phone number access"))}})})})}authenticateWithThreeSteps(){return T(this,null,function*(){var t,r;try{console.log(" Starting Zalo 3-Step authentication..."),console.log(" ZMP SDK available:",typeof pn!="undefined");const n=this.mockAuthentication();console.log(" Backend response received:",n.success);const a=((t=n.data)==null?void 0:t.user)||n.user,i=((r=n.data)==null?void 0:r.tokens)||n.tokens;if(n.success&&i&&a){console.log(" Storing authentication data:",{hasTokens:!!i,hasUser:!!a,verificationMethod:a.verificationMethod});const o={accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:"3600"},l={id:a.id,zaloUserId:a.zaloId||a.id,name:a.name,phone:a.phone,avatar:a.avatar||void 0,verificationMethod:a.verificationMethod==="THREE_STEP"?"THREE_STEP":"OAUTH",isActive:!0,createdAt:new Date().toISOString()},c=Et.getState();c.login(o,l),c.setMetadata({silentAuthInProgress:!1}),console.log(" Authentication data stored successfully!")}return n}catch(n){return console.error(" 3-Step authentication failed:",n),{success:!1,error:n instanceof Error?n.message:"Authentication failed",message:"Khng th xc thc ti khon Zalo. Vui lng th li."}}})}hasPhonePermission(){const t=Et.getState(),{metadata:r}=t;return r.authMethod==="zalo_three_step"&&!!r.authTimestamp}attemptSilentAuth(){return T(this,null,function*(){try{console.log(" Attempting silent authentication...");const t=Et.getState(),{metadata:r}=t;if(r.silentAuthInProgress)return console.log(" Silent authentication already in progress..."),{success:!1,error:"Authentication in progress",message:"ang xc thc, vui lng i..."};t.setMetadata({silentAuthInProgress:!0});try{if(Ao()&&r.authMethod==="zalo_three_step"){console.log(" Using valid authentication from store");const a=t.user;if(a)return{success:!0,user:{id:a.id,zaloId:a.zaloUserId||a.id,name:a.name,phone:a.phone,avatar:a.avatar,verified:!0,verificationMethod:"zalo_three_step"}}}if(!(yield this.checkAndRefreshToken()))return console.log(" Token validation failed, need full authentication"),{success:!1,error:"Token expired",message:"Phin ng nhp  ht hn"};if(Ao()){console.log(" Silent authentication successful");const a=t.user;if(a)return{success:!0,user:{id:a.id,zaloId:a.zaloUserId||a.id,name:a.name,phone:a.phone,avatar:a.avatar,verified:!0,verificationMethod:"zalo_three_step"}}}return this.hasPhonePermission()?(console.log(" User has granted permission before, attempting 3-step auth..."),yield this.authenticateWithThreeSteps()):(console.log(" No cached permission, user needs to grant permission first"),{success:!1,error:"Permission not granted",message:"Vui lng cp quyn truy cp s in thoi"})}finally{t.setMetadata({silentAuthInProgress:!1})}}catch(t){return console.error(" Silent authentication failed:",t),Et.getState().setMetadata({silentAuthInProgress:!1}),{success:!1,error:t instanceof Error?t.message:"Silent authentication failed",message:"Khng th xc thc t ng"}}})}checkAndRefreshToken(){return T(this,null,function*(){try{const t=Et.getState(),{metadata:r}=t;if(!r.authTimestamp)return console.log(" No auth timestamp found"),!1;const n=Date.now()-r.authTimestamp,a=55*60*1e3,i=60*60*1e3;if(n>i)return console.log(" Token is expired, clearing auth"),this.logout(),!1;if(n>a){console.log(" Token is approaching expiry, attempting refresh...");try{return(yield t.refreshTokens())?(console.log(" Token refresh successful"),!0):(console.log(" Token refresh failed"),this.logout(),!1)}catch(o){return console.error(" Token refresh error:",o),this.logout(),!1}}return!0}catch(t){return console.error(" Error checking token:",t),!1}})}mockAuthentication(){console.log(" BYPASS: Mock authentication started...");const t={success:!0,data:{user:{id:"181db26b-04d2-467b-a955-7d250ed0b25f",zaloId:"5614378971101698093",name:"Zalo User",phone:"84972809802",avatar:null,verificationMethod:"THREE_STEP"},tokens:{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxODFkYjI2Yi0wNGQyLTQ2N2ItYTk1NS03ZDI1MGVkMGIyNWYiLCJ6YWxvVXNlcklkIjoiNTYxNDM3ODk3MTEwMTY5ODA5MyIsIm5hbWUiOiJaYWxvIFVzZXIiLCJ2ZXJpZmljYXRpb25NZXRob2QiOiJUSFJFRV9TVEVQIiwicGhvbmVWZXJpZmllZCI6dHJ1ZSwibGFzdFZlcmlmaWNhdGlvbkF0IjoiMjAyNi0wMS0wMlQxNjo0OTozNC41MjdaIiwiaWF0IjoxNzY3MzcyNTc0LCJleHAiOjE3NzYwMTI1NzR9.-Ut-6wfnv7XHGdyoowewq4mQVl158Jc13l1BuSTFA04",refreshToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxODFkYjI2Yi0wNGQyLTQ2N2ItYTk1NS03ZDI1MGVkMGIyNWYiLCJ0eXBlIjoicmVmcmVzaCIsInphbG9Vc2VySWQiOiI1NjE0Mzc4OTcxMTAxNjk4MDkzIiwiaWF0IjoxNzY3MTA3MzY5LCJleHAiOjE3Njc3MTIxNjl9.HhcgFtjYEWb709dlFLzCp2n7OhOKBj8FvWl8d5bmANA"},tokenInfo:{accessTokenExpiresAt:"2026-04-12T16:49:34.000Z",refreshTokenExpiresAt:"2026-04-12T16:49:34.000Z",expiresInDays:100},isNewUser:!1}};return console.log(" BYPASS: Mock authentication successful!"),console.log(" User:",t.data.user),console.log(" Token:",t.data.tokens.accessToken.substring(0,20)+"..."),console.log(" Token expires in:",t.data.tokenInfo.expiresInDays,"days"),t}isAuthenticated(){const t=Et.getState(),{metadata:r,tokens:n}=t;return!(n!=null&&n.accessToken)||r.authMethod!=="zalo_three_step"?!1:Ao()}getUserInfo(){const t=Et.getState(),{user:r,metadata:n}=t;return!r||n.authMethod!=="zalo_three_step"?null:Z(C({},r),{authMethod:"zalo_three_step",lastAuth:n.authTimestamp})}logout(){Et.getState().logout()}getAccessToken(){var r;return((r=Et.getState().tokens)==null?void 0:r.accessToken)||null}}const Wu=new wR,NR=()=>s.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),Rf={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},textCenter:{textAlign:"center"},loadingText:{marginTop:"16px",color:"#666",fontSize:"14px"}},wp=document.createElement("style");wp.innerText=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;document.head.querySelector("style[data-spinner]")||(wp.setAttribute("data-spinner","true"),document.head.appendChild(wp));const ot=({children:e})=>{const[t,r]=w.useState("checking");w.useEffect(()=>{n()},[]);const n=()=>T(void 0,null,function*(){console.log(" ProtectedRoute: Checking authentication state...");try{const i=Et.getState().metadata.authMethod;console.log("- Auth method:",i);let o=!1;if(i==="zalo_three_step"){if(o=Wu.isAuthenticated(),console.log("- Current auth valid:",o),!o){console.log("- Attempting silent authentication...");const l=yield Wu.attemptSilentAuth();l.success?(console.log(" Silent authentication successful"),o=!0):console.log(" Silent authentication failed:",l.message)}}else o=Ao(),console.log("- General auth valid:",o);o?(console.log(" User is authenticated"),r("authenticated")):(console.log(" User not authenticated, redirecting to login"),r("need_login"))}catch(a){console.error(" Error in authentication check:",a),r("need_login")}});return t==="checking"?s.jsx("div",{style:Rf.container,children:s.jsxs("div",{style:Rf.textCenter,children:[s.jsx(NR,{}),s.jsx("p",{style:Rf.loadingText,children:"ang kim tra ng nhp..."})]})}):t==="need_login"?s.jsx(Bu,{to:"/login",replace:!0}):s.jsx(s.Fragment,{children:e})},P=({name:e,className:t="",filled:r=!1,size:n})=>{const a={xs:"text-base",sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl","2xl":"text-4xl","3xl":"text-5xl"};return s.jsx("span",{className:`material-icons select-none ${a[n||"lg"]} ${t}`,style:{fontVariationSettings:`'FILL' ${r?1:0}, 'wght' 400, 'GRAD' 0, 'opsz' 24`},children:e})},Kg={sm:"gap-2"},Ck={md:"p-4",lg:"p-6"},kR={lg:"space-y-4"},lr={caption:"text-xs",small:"text-sm",base:"text-base",lg:"text-xl",xl:"text-2xl"},yl={md:"text-lg",lg:"text-xl",xl:"text-2xl"},jR={padding:"px-5"},kc={height:"h-14",padding:"px-4",titleSize:lr.lg,iconButtonSize:"size-9"},Np={md:"rounded-xl",lg:"rounded-2xl"},Of={FIVE:"Sn 5",SEVEN:"Sn 7",ELEVEN:"Sn 11"},Gg=[Of.FIVE,Of.SEVEN,Of.ELEVEN],Pk=["5","7","11"],_d=["Mi chi","Trung bnh","Nghip d","Bn chuyn","Chuyn nghip"],jr={MALE:"Nam",FEMALE:"N",MIXED:"Mixed"},my=e=>e.map(t=>t.replace("Sn ","").trim()),Ik=e=>e.map(t=>`Sn ${t}`),py=e=>e==="MALE"?jr.MALE:e==="FEMALE"?jr.FEMALE:e==="MIXED"?jr.MIXED:e==="Nam"||e==="N"||e==="Mixed"?e:jr.MALE,Mk=e=>e==="Nam"?jr.MALE:e==="N"?jr.FEMALE:jr.MIXED,ce=u=>{var d=u,{children:e,variant:t="primary",fullWidth:r=!1,icon:n,isLoading:a=!1,size:i="md",className:o="",disabled:l}=d,c=Wn(d,["children","variant","fullWidth","icon","isLoading","size","className","disabled"]);const f="rounded-xl font-semibold transition-all active:scale-[0.98] flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed",h={sm:"h-10 px-4 py-2 text-sm",md:"h-11 px-5 py-2.5 text-base",lg:"h-12 px-6 py-3 text-lg"},p={primary:"bg-primary hover:bg-primary-dark text-background-dark shadow-lg shadow-primary/20",secondary:"bg-transparent border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-white/5",ghost:"bg-transparent text-primary hover:bg-primary/10",danger:"bg-red-500/10 text-red-500 hover:bg-red-500/20"};return s.jsxs("button",Z(C({className:`${f} ${h[i]} ${p[t]} ${Kg.sm} ${r?"w-full":""} ${o}`,disabled:l||a},c),{children:[a&&s.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),n&&!a&&s.jsx(P,{name:n,className:yl.md}),e]}))},vr=i=>{var o=i,{label:e,icon:t,error:r,className:n=""}=o,a=Wn(o,["label","icon","error","className"]);return s.jsxs("div",{className:`flex flex-col ${Kg.sm} ${n}`,children:[e&&s.jsx("label",{className:`font-medium text-gray-600 dark:text-text-secondary ml-1 ${lr.small}`,children:e}),s.jsxs("div",{className:"relative flex items-center",children:[t&&s.jsx("div",{className:"absolute left-4 text-gray-400 dark:text-gray-500 pointer-events-none z-10",children:s.jsx(P,{name:t,className:yl.lg})}),s.jsx("input",C({className:`w-full bg-white dark:bg-surface-dark border ${r?"border-red-500":"border-gray-200 dark:border-border-dark"} ${Np.md} h-11 ${t?"pl-12":"pl-4"} pr-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all ${lr.base}`},a))]}),r&&s.jsx("span",{className:`text-red-500 ml-1 ${lr.caption}`,children:r})]})},dt=({title:e,showBack:t=!0,onBack:r,rightAction:n})=>s.jsxs("div",{className:`sticky top-0 z-40 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md ${kc.padding} flex items-center border-b border-gray-200 dark:border-white/5 ${kc.height} safe-area-top`,children:[t&&s.jsx("button",{onClick:r,className:`flex items-center justify-center rounded-full hover:bg-gray-200 dark:hover:bg-white/10 transition-colors -ml-2 ${kc.iconButtonSize}`,children:s.jsx(P,{name:"arrow_back",className:yl.lg})}),s.jsx("h1",{className:`flex-1 font-bold text-center text-slate-900 dark:text-white ${kc.titleSize} ${t&&!n?"pr-8":""}`,children:e}),n&&s.jsx("div",{className:"-mr-2",children:n})]}),_R=[{id:"home",icon:"home",label:"Trang ch"},{id:"schedule",icon:"calendar_month",label:"Lch u"},{id:"match",icon:"sports_soccer",label:"",isFab:!0},{id:"team",icon:"groups",label:"i bng"},{id:"profile",icon:"person",label:"C nhn"}],SR=({activeTab:e,onTabChange:t})=>s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:s.jsx("div",{className:"flex items-stretch justify-around h-[72px] bg-white dark:bg-surface-dark border-t border-gray-200 dark:border-white/5 safe-area-bottom pt-4",children:_R.map(r=>{if(r.isFab)return s.jsx("div",{className:"relative -top-6 flex items-center justify-center",children:s.jsx("button",{onClick:()=>t(r.id),className:"h-[56px] w-[56px] rounded-full bg-primary flex items-center justify-center shadow-lg shadow-primary/40 hover:scale-105 active:scale-95 transition-all text-slate-900 border-4 border-white dark:border-surface-dark",children:s.jsx(P,{name:r.icon,className:"text-[28px]",filled:!0})})},r.id);const n=e===r.id;return s.jsxs("button",{onClick:()=>t(r.id),className:`flex flex-col items-center justify-center flex-1 max-w-[80px] h-full gap-0.5 px-1 ${n?"text-primary":"text-gray-400 dark:text-gray-500"}`,children:[s.jsx(P,{name:r.icon,filled:n,className:"text-[22px]"}),s.jsx("span",{className:"text-[10px] font-medium leading-tight whitespace-nowrap",children:r.label})]},r.id)})})}),ge={login:"/login",onboarding:"/onboarding",dashboard:"/dashboard",profile:"/profile",profileEdit:"/profile/edit",teams:"/teams",teamsCreate:"/teams/create",teamDetail:e=>`/teams/${e}`,teamEdit:e=>`/teams/${e}/edit`,teamMembers:e=>`/teams/${e}/members`,memberAdd:e=>`/teams/${e}/members/add`,memberProfile:(e,t)=>`/teams/${e}/members/${t}`,teamShare:e=>`/teams/${e}/share`,matchFind:"/match/find",matchFound:"/match/found",matchSchedule:"/match/schedule",matchDetail:e=>`/match/${e}`,matchAttendance:e=>`/match/${e}/attendance`,matchUpdateScore:e=>`/match/${e}/update-score`,matchRematch:e=>`/match/${e}/rematch`,matchInvite:"/match/invite",opponentDetail:e=>`/match/opponent/${e}`,matchHistory:"/match/history",notifications:"/notifications",myInvites:"/my-invites",invitesReceived:"/invites/received",swipeHistory:"/swipe/history",swipeReceived:"/swipe/received",swipeStats:"/swipe/stats"},ER=()=>{const e=Ke(),t=fn(),[r,n]=w.useState("home");w.useEffect(()=>{const i=t.pathname;i==="/dashboard"||i==="/"?n("home"):i.startsWith("/teams")?n("team"):i.startsWith("/match")?i.includes("/schedule")?n("schedule"):n("match"):i.startsWith("/profile")&&n("profile")},[t.pathname]);const a=i=>{switch(n(i),i){case"home":e(ge.dashboard,{replace:!0});break;case"schedule":e(ge.matchSchedule,{replace:!0});break;case"match":e(ge.matchFind,{replace:!0});break;case"team":e(ge.teams,{replace:!0});break;case"profile":e(ge.profile,{replace:!0});break}};return s.jsxs(s.Fragment,{children:[s.jsx(nA,{}),s.jsx(SR,{activeTab:r,onTabChange:a})]})},Mt=({src:e,size:t="md",className:r=""})=>{const n={sm:"h-10 w-10",md:"h-14 w-14",lg:"h-20 w-20",xl:"h-24 w-24"};return s.jsx("div",{className:`${n[t]} rounded-full bg-surface-dark border-2 border-gray-200 dark:border-white/10 p-0.5 overflow-hidden ${r}`,children:e?s.jsx("img",{src:e,alt:"Team",className:"w-full h-full object-cover rounded-full"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"T"})})})},Mn=Un()(Us((e,t)=>({activeTab:"home",theme:"system",effectiveTheme:"dark",isModalOpen:!1,modalContent:null,globalLoading:!1,toast:null,isBottomSheetOpen:!1,bottomSheetContent:null,setActiveTab:r=>e({activeTab:r}),setTheme:r=>{e({theme:r}),t().updateEffectiveTheme()},updateEffectiveTheme:()=>{const r=t();let n;if(r.theme==="system"?typeof window!="undefined"?n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":n="light":n=r.theme,typeof document!="undefined"){const a=document.documentElement;n==="dark"?a.classList.add("dark"):a.classList.remove("dark")}e({effectiveTheme:n})},openModal:r=>e({isModalOpen:!0,modalContent:r}),closeModal:()=>e({isModalOpen:!1,modalContent:null}),setGlobalLoading:r=>e({globalLoading:r}),showToast:(r,n="info")=>e({toast:{message:r,type:n}}),hideToast:()=>e({toast:null}),openBottomSheet:r=>e({isBottomSheetOpen:!0,bottomSheetContent:r}),closeBottomSheet:()=>e({isBottomSheetOpen:!1,bottomSheetContent:null})}),{name:"ui-storage",partialize:e=>({theme:e.theme,activeTab:e.activeTab})}));if(typeof window!="undefined"){Mn.getState().updateEffectiveTheme();const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{Mn.getState().theme==="system"&&Mn.getState().updateEffectiveTheme()};e.addEventListener("change",t)}const Ak=w.createContext(void 0),TR=()=>{const e=w.useContext(Ak);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},CR=({children:e})=>{const{theme:t,setTheme:r,effectiveTheme:n}=Mn();return w.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>{Mn.getState().updateEffectiveTheme()};return a.addEventListener("change",i),()=>{a.removeEventListener("change",i)}},[t]),s.jsx(Ak.Provider,{value:{theme:t,setTheme:r,effectiveTheme:n},children:e})},PR=()=>{const{setTheme:e,effectiveTheme:t}=TR(),r=()=>{e(t==="dark"?"light":"dark")};return s.jsxs("div",{onClick:r,className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/5 active:bg-gray-50 dark:active:bg-white/5 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(P,{name:t==="dark"?"dark_mode":"light_mode",className:"text-gray-500"}),s.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:"Ch  hin th"})]}),s.jsx(P,{name:"chevron_right",className:"text-gray-400 text-sm"})]})},Q=r=>{var n=r,{className:e=""}=n,t=Wn(n,["className"]);return s.jsx("div",C({className:`animate-pulse bg-gray-200 dark:bg-gray-700 rounded ${e}`},t))},js=()=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark border-l-4 border-gray-300 dark:border-gray-600 rounded-r-2xl p-4 shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Q,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{className:"h-4 w-48 mb-2"}),s.jsx(Q,{className:"h-5 w-36 mb-1"}),s.jsx(Q,{className:"h-3 w-20"})]})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(Q,{className:"h-9 flex-1 rounded-lg"}),s.jsx(Q,{className:"h-9 flex-1 rounded-lg"}),s.jsx(Q,{className:"h-9 w-9 rounded-full"})]})]}),IR=()=>s.jsxs("div",{className:"rounded-2xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 p-5 shadow-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx(Q,{className:"h-7 w-28 rounded-full"}),s.jsx(Q,{className:"h-10 w-10 rounded-lg"})]}),s.jsxs("div",{className:"flex gap-4 items-start mb-5",children:[s.jsx(Q,{className:"w-16 h-16 rounded-xl"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(Q,{className:"h-6 w-56"}),s.jsx(Q,{className:"h-5 w-40"}),s.jsx(Q,{className:"h-4 w-48"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 dark:border-white/5",children:[s.jsx(Q,{className:"flex-1 h-10 rounded-lg"}),s.jsx(Q,{className:"flex-1 h-10 rounded-lg"})]})]}),Lf=()=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Q,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{className:"h-4 w-32 mb-2"}),s.jsx(Q,{className:"h-6 w-24 rounded-full"})]})]}),s.jsx(Q,{className:"h-16 w-full rounded-lg mb-3"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Q,{className:"flex-1 h-10 rounded-lg"}),s.jsx(Q,{className:"flex-1 h-10 rounded-lg"})]})]}),Df=()=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm animate-pulse",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx(Q,{className:"h-7 w-28 rounded-full"}),s.jsx(Q,{className:"h-5 w-20"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[s.jsx(Q,{className:"h-14 w-14 rounded-full"}),s.jsx(Q,{className:"h-4 w-20"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3",children:[s.jsx(Q,{className:"h-8 w-16"}),s.jsx(Q,{className:"h-4 w-12 mt-1"})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[s.jsx(Q,{className:"h-14 w-14 rounded-full"}),s.jsx(Q,{className:"h-4 w-20"})]})]}),s.jsx(Q,{className:"h-10 w-full rounded-lg"})]}),zf=()=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-0 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden animate-pulse",children:[s.jsx(Q,{className:"h-1.5 w-full"}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between mb-4",children:[s.jsx(Q,{className:"h-4 w-16"}),s.jsx(Q,{className:"h-4 w-24"})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(Q,{className:"h-14 w-14 rounded-full"}),s.jsx(Q,{className:"h-8 w-16"}),s.jsx(Q,{className:"h-14 w-14 rounded-full"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Q,{className:"flex-1 h-9 rounded-lg"}),s.jsx(Q,{className:"flex-1 h-9 rounded-lg"})]})]})]}),$f=()=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm animate-pulse",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(Q,{className:"h-16 w-16 rounded-full shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{className:"h-5 w-40 mb-2 rounded"}),s.jsx(Q,{className:"h-4 w-24 rounded"})]})]}),s.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:s.jsx(Q,{className:"h-16 w-full rounded-lg"})})]}),MR=()=>s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Q,{className:"h-40 w-full"}),s.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:s.jsx(Q,{className:"size-24 rounded-full border-4 border-background-light dark:border-background-dark"})})]}),s.jsxs("div",{className:"mt-12 text-center px-4",children:[s.jsx(Q,{className:"h-8 w-48 mx-auto mb-3 rounded"}),s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx(Q,{className:"h-8 w-20 rounded-full"}),s.jsx(Q,{className:"h-8 w-20 rounded-full"})]})]}),s.jsx("div",{className:"px-4 mt-6",children:s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5 space-y-4 shadow-sm",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Q,{className:"size-8 rounded-full shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{className:"h-3 w-16 mb-2 rounded"}),s.jsx(Q,{className:"h-4 w-48 rounded"})]})]}),s.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Q,{className:"size-8 rounded-full shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{className:"h-3 w-16 mb-2 rounded"}),s.jsx(Q,{className:"h-4 w-32 rounded"})]})]}),s.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Q,{className:"size-8 rounded-full shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Q,{className:"h-3 w-16 mb-2 rounded"}),s.jsx(Q,{className:"h-4 w-full rounded"})]})]})]})}),s.jsxs("div",{className:"px-4 mt-6",children:[s.jsx(Q,{className:"h-6 w-28 mb-3 rounded"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(e=>s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[s.jsx(Q,{className:"size-10 rounded-full"}),s.jsx(Q,{className:"h-3 w-12 rounded"}),s.jsx(Q,{className:"h-6 w-10 rounded"})]},e))})]}),s.jsxs("div",{className:"px-4 mt-6",children:[s.jsx(Q,{className:"h-6 w-40 mb-3 rounded"}),s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3].map(e=>s.jsx(Q,{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark"},e)),s.jsx(Q,{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(Q,{className:"h-4 w-20 mb-1 rounded"}),s.jsx(Q,{className:"h-3 w-24 rounded"})]})]}),s.jsx(Q,{className:"size-8 rounded-full"})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/90 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5 z-40",children:s.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[s.jsx(Q,{className:"flex-1 h-11 rounded-lg"}),s.jsx(Q,{className:"flex-[1.5] h-11 rounded-lg"})]})})]}),gy=()=>s.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-primary/10 to-transparent pointer-events-none z-0"}),s.jsxs("div",{className:"relative z-50 pt-12 pb-2 px-4 flex justify-center shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-md pl-4 pr-5 py-2 rounded-full shadow-lg border border-white/5",children:[s.jsx(Q,{className:"h-6 w-6 rounded-full"}),s.jsx(Q,{className:"h-4 w-32"}),s.jsx(Q,{className:"h-4 w-4"})]}),s.jsx(Q,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full"}),s.jsx(Q,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full"})]}),s.jsxs("div",{className:"flex-1 flex items-center justify-center p-4 z-10 relative overflow-visible",children:[s.jsx(Q,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[calc(50%+8px)] w-[82%] h-[calc(100%-24px)] rounded-[2.5rem] border opacity-40"}),s.jsx(Q,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[calc(50%+4px)] w-[82%] h-[calc(100%-24px)] rounded-[2.5rem] border opacity-70"}),s.jsxs("div",{className:"relative w-full max-w-[360px] h-[72vh] max-h-[660px] bg-surface-light dark:bg-surface-dark rounded-[2.5rem] shadow-2xl border border-gray-200 dark:border-white/10 overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"relative h-[35%] w-full bg-surface-light overflow-hidden shrink-0",children:[s.jsx(Q,{className:"w-full h-full"}),s.jsx("div",{className:"absolute inset-0 bg-surface-light/60 dark:bg-surface-dark/60"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface-light dark:from-surface-dark via-transparent to-transparent"}),s.jsx(Q,{className:"absolute top-4 left-4 h-7 w-24 rounded-lg"})]}),s.jsxs("div",{className:"flex-1 flex flex-col pt-16 px-6 pb-6 items-center bg-surface-light dark:bg-surface-dark",children:[s.jsx("div",{className:"absolute top-[22%] left-1/2 -translate-x-1/2 z-10",children:s.jsx(Q,{className:"w-28 h-28 rounded-full border-4 border-surface-light dark:border-surface-dark"})}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Q,{className:"h-7 w-40"}),s.jsx(Q,{className:"h-6 w-6 rounded-full"})]}),s.jsx(Q,{className:"h-4 w-28 mb-1"}),s.jsx(Q,{className:"h-4 w-32 mb-4"}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-lg bg-primary/10 border border-primary/20",children:[s.jsx(Q,{className:"h-4 w-4 rounded-full"}),s.jsx(Q,{className:"h-4 w-12"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-lg bg-white/5 border border-white/10",children:[s.jsx(Q,{className:"h-4 w-4 rounded-full"}),s.jsx(Q,{className:"h-4 w-20"})]})]}),s.jsx(Q,{className:"h-10 w-full rounded-lg mb-6"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 w-full mb-auto",children:[s.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5",children:[s.jsx(Q,{className:"h-3 w-12 mb-1"}),s.jsx(Q,{className:"h-6 w-8"}),s.jsx(Q,{className:"w-full h-1.5 rounded-full"})]}),s.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5",children:[s.jsx(Q,{className:"h-3 w-12 mb-1"}),s.jsx(Q,{className:"h-6 w-8"}),s.jsx(Q,{className:"w-full h-1.5 rounded-full"})]}),s.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5",children:[s.jsx(Q,{className:"h-3 w-12 mb-1"}),s.jsx(Q,{className:"h-6 w-8"}),s.jsx(Q,{className:"w-full h-1.5 rounded-full"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full mt-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-white/5",children:[s.jsx(Q,{className:"h-5 w-5 rounded-full"}),s.jsxs("div",{className:"flex flex-col items-start gap-1",children:[s.jsx(Q,{className:"h-2 w-12"}),s.jsx(Q,{className:"h-4 w-16"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-white/5",children:[s.jsx(Q,{className:"h-5 w-5 rounded-full"}),s.jsxs("div",{className:"flex flex-col items-start gap-1",children:[s.jsx(Q,{className:"h-2 w-12"}),s.jsx(Q,{className:"h-4 w-16"})]})]})]})]})]}),s.jsx("div",{className:"absolute w-full max-w-[360px] h-[72vh] max-h-[660px] bg-surface-light dark:bg-surface-dark rounded-[2.5rem] shadow-2xl border border-gray-200 dark:border-white/10 scale-95 translate-y-2 opacity-60"})]}),s.jsxs("div",{className:"relative z-20 w-full flex items-center justify-center gap-10 pb-12 pt-4 px-6 shrink-0",children:[s.jsx(Q,{className:"w-[72px] h-[72px] rounded-full"}),s.jsx(Q,{className:"w-[84px] h-[84px] rounded-full"})]})]}),Os=({icon:e="inbox",title:t,description:r,actionLabel:n,onAction:a,className:i=""})=>s.jsxs("div",{className:`flex flex-col items-center justify-center px-6 text-center ${i||"py-12"}`,children:[e&&s.jsx("div",{className:"mb-4 text-gray-400 dark:text-gray-500",children:s.jsx(P,{name:e,className:"text-5xl",filled:!0})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:t}),r&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-text-secondary mb-4 max-w-xs",children:r}),n&&a&&s.jsx("button",{onClick:a,className:"mt-2 px-6 py-2 bg-primary text-white rounded-full text-sm font-semibold hover:bg-primary/90 transition-colors",children:n})]}),AR=({onRefresh:e})=>s.jsx(Os,{icon:"sports_soccer",title:"Cha c trn u no",description:"Hy cp ko vi i khc  c trn u th v",actionLabel:e?"Cp ko ngay":void 0,onAction:e,className:"py-6"}),RR=({onCreateTeam:e})=>s.jsx(Os,{icon:"group_off",title:"Cha c i bng",description:"Hy to i bng u tin ca bn  bt u tm kim i th",actionLabel:e?"To i ngay":void 0,onAction:e}),Wi=({title:e="C li xy ra",message:t,onRetry:r,retryLabel:n="Th li",className:a="",showIcon:i=!0})=>s.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-6 text-center ${a}`,children:[i&&s.jsx("div",{className:"mb-4 text-red-500 dark:text-red-400",children:s.jsx(P,{name:"error_outline",className:"text-5xl"})}),e&&s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:e}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-text-secondary mb-6 max-w-xs",children:t}),r&&s.jsxs(ce,{onClick:r,className:"min-w-[120px]",children:[s.jsx(P,{name:"refresh",className:"mr-2"}),n]})]}),OR=({error:e="Khng th ti d liu",onRetry:t})=>s.jsx("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:s.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:s.jsx(Wi,{title:"Khng th ti trang ch",message:e||"Khng th ti d liu",onRetry:t,retryLabel:"Ti li trang"})})}),LR=({match:e,isAdmin:t=!0,canEditRequest:r=!1,onAccept:n,onDecline:a,onCancel:i,onConfirm:o,onSendRequest:l,onEditRequest:c})=>{const u=Ke(),d=()=>{switch(e.type){case"matched":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-purple-500/10 text-purple-600 dark:text-purple-400 border border-purple-500/20",children:" match"});case"received":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border border-yellow-500/20",children:"Li mi mi"});case"sent":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-gray-500/10 text-gray-500 border border-gray-500/20",children:" gi  Ch phn hi"});case"accepted":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:" ng "});default:return null}},f=()=>{if(!t)return s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[s.jsx(P,{name:"info",size:"sm",className:"text-gray-500"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ch qun tr vin c thc hin thao tc"})]});switch(e.type){case"matched":return s.jsxs("div",{className:"flex gap-3 mt-3",onClick:h=>h.stopPropagation(),children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-xs",icon:"close",onClick:()=>i==null?void 0:i(e.id),children:"B qua"}),s.jsx(ce,{className:"flex-1 h-10 text-xs",icon:"send",onClick:()=>l==null?void 0:l(e.id),children:"Gi li mi"})]});case"received":return s.jsxs("div",{className:"flex gap-3 mt-3",onClick:h=>h.stopPropagation(),children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-xs",icon:"close",onClick:()=>a==null?void 0:a(e.id),children:"T chi"}),s.jsx(ce,{className:"flex-1 h-10 text-xs",icon:"check",onClick:()=>n==null?void 0:n(e.id),children:"Chp nhn"})]});case"sent":return r?s.jsxs("div",{className:"flex gap-3 mt-3",onClick:h=>h.stopPropagation(),children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-xs",icon:"edit",onClick:()=>c==null?void 0:c(e.id),children:"Sa"}),s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-xs border-red-200 text-red-600 hover:bg-red-50 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-900/10",icon:"undo",onClick:()=>i==null?void 0:i(e.id),children:"Hy li mi"})]}):s.jsx("div",{className:"flex gap-3 mt-3",onClick:h=>h.stopPropagation(),children:s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-xs border-red-200 text-red-600 hover:bg-red-50 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-900/10",icon:"undo",onClick:()=>i==null?void 0:i(e.id),children:"Hy li mi"})});case"accepted":return s.jsxs("div",{className:"flex gap-3 mt-3",onClick:h=>h.stopPropagation(),children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-xs",icon:"chat",onClick:()=>{},children:"Nhn tin"}),s.jsx(ce,{className:"flex-1 h-10 text-xs bg-primary text-slate-900 shadow-lg shadow-primary/20",icon:"handshake",onClick:()=>o==null?void 0:o(e.id),children:"Cht ko"})]});default:return null}};return s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm relative overflow-hidden transition-all",onClick:()=>u(ge.matchDetail(e.id)),children:[e.type==="matched"&&s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-purple-500/5 rounded-bl-full -mr-8 -mt-8"}),e.type==="accepted"&&s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-green-500/5 rounded-bl-full -mr-8 -mt-8"}),s.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Mt,{src:e.teamB.logo||"",size:"sm"}),s.jsxs("div",{children:[s.jsxs("h4",{className:"flex align-middle justify-start font-bold text-slate-900 dark:text-white",children:[e.teamB.name,s.jsx("button",{className:"ml-2 size-5 flex items-center justify-center rounded-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 shadow-sm",onClick:h=>{h.stopPropagation(),u(ge.teamDetail(e.teamB.id))},children:s.jsx(P,{name:"info",size:"sm",className:"text-gray-500"})})]}),s.jsx("div",{className:"mt-1",children:d()})]})]}),s.jsx("button",{className:"text-gray-400",onClick:h=>{h.stopPropagation()},children:s.jsx(P,{name:"more_horiz"})})]}),e.type==="matched"?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-500/10 p-3 rounded-lg border border-purple-200 dark:border-purple-500/20",children:[s.jsx(P,{name:"info",size:"sm",className:"shrink-0"}),s.jsx("span",{className:"text-xs font-medium",children:" hp c thnh cng! Hy gi li mi vi y  thng tin thi gian, a im  cht ko."})]}):s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-text-secondary bg-gray-50 dark:bg-white/5 p-3 rounded-lg border border-gray-100 dark:border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx(P,{name:"calendar_today",size:"sm"}),s.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[e.time,"  ",e.date]})]}),s.jsx("div",{className:"w-px h-4 bg-gray-300 dark:bg-white/10 shrink-0"}),s.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[s.jsx(P,{name:"location_on",size:"sm"}),s.jsx("span",{className:"truncate",children:e.location})]})]}),f()]})},DR=({match:e,myTeam:t,isAdmin:r=!0,onFinish:n,onUpdateScore:a,onCancel:i,onConfirmAttendance:o,onAttendanceView:l})=>{const c=Ke(),u=e.status==="live"?"live":e.status==="finished"?"finished":"upcoming",d=()=>{switch(u){case"upcoming":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-blue-500/10 text-blue-600 dark:text-blue-400 border border-blue-500/20",children:"Sp din ra"});case"live":return s.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold px-2 py-0.5 rounded-md bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),"ang "]});case"finished":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-gray-500/10 text-gray-500 border border-gray-500/20",children:"Va kt thc"})}},f=()=>{switch(u){case"upcoming":return s.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-100 dark:border-white/5",onClick:h=>h.stopPropagation(),children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"how_to_reg",onClick:()=>o==null?void 0:o(e.id),children:"im danh"}),s.jsx(ce,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"person_off",onClick:()=>i==null?void 0:i(e.id),children:"Bo bn"}),s.jsx(ce,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"groups",onClick:()=>l==null?void 0:l(e.id),children:"Lc lng"})]});case"live":return s.jsxs("div",{className:"flex gap-3 mt-4",onClick:h=>h.stopPropagation(),children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-xs border-red-200 text-red-600 hover:bg-red-50 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-900/10",icon:"flag",onClick:()=>n==null?void 0:n(e.id),children:"Kt thc"}),s.jsx(ce,{className:"flex-[1.5] h-10 text-xs bg-red-500 text-white hover:bg-red-600 shadow-red-500/30",icon:"scoreboard",onClick:()=>a==null?void 0:a(e.id),children:"Cp nht t s"})]});case"finished":return s.jsxs("div",{className:"flex gap-3 mt-4 pt-3 border-t border-gray-100 dark:border-white/5",onClick:h=>h.stopPropagation(),children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"edit",onClick:()=>a==null?void 0:a(e.id),children:"Sa kt qu"}),s.jsx(ce,{className:"flex-1 h-9 text-xs bg-slate-800 text-white dark:bg-white dark:text-slate-900",icon:"verified",onClick:()=>{},children:"Xc nhn"})]})}};return s.jsxs("div",{onClick:()=>c(ge.matchDetail(e.id)),className:`bg-white dark:bg-surface-dark p-4 rounded-xl border shadow-sm transition-all cursor-pointer hover:border-primary/50 active:scale-[0.99] ${u==="live"?"border-red-500/30 ring-1 ring-red-500/20":"border-gray-100 dark:border-white/5"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d(),s.jsxs("div",{className:"flex items-start gap-1.5",children:[s.jsx("div",{className:"w-5 h-5 bg-gray-100 dark:bg-white/5 rounded-md flex items-center justify-center shrink-0 mt-0.5",children:s.jsx(P,{name:"place",className:"text-primary",size:"xs"})}),s.jsx("div",{className:"flex-1 min-w-0",children:e.locationName?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs font-bold text-slate-900 dark:text-white truncate",children:e.locationName}),s.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 line-clamp-1",children:e.locationAddress}),e.locationMapLink&&s.jsxs("a",{href:e.locationMapLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-0.5 text-[10px] text-primary font-medium mt-0.5 hover:text-primary/80 transition-colors",onClick:h=>h.stopPropagation(),children:[s.jsx(P,{name:"open_in_new",size:"xs"}),"Xem bn "]})]}):s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.location})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[s.jsx(Mt,{src:t.logo||"",size:"sm"}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:t.name})]}),s.jsx("div",{className:"flex flex-col items-center justify-center w-1/3",children:u==="upcoming"?s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-2xl font-bold text-slate-900 dark:text-white block",children:e.time}),s.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:e.date})]}):s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:`text-3xl font-extrabold font-mono block ${u==="live"?"text-red-500":"text-slate-900 dark:text-white"}`,children:e.scoreA!==void 0&&e.scoreB!==void 0?`${e.scoreA} - ${e.scoreB}`:"VS"}),u==="live"&&s.jsx("span",{className:"text-xs text-red-500 font-bold animate-pulse",children:e.time})]})}),s.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[s.jsx(Mt,{src:e.teamB.logo||"",size:"sm"}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:e.teamB.name})]})]}),f()]})},zR=({match:e,myTeam:t,isAdmin:r=!0,onViewDetail:n,onRematch:a})=>{const i=Ke(),l=e.scoreA===void 0||e.scoreB===void 0?"D":e.scoreA>e.scoreB?"W":e.scoreA<e.scoreB?"L":"D",c=e.scoreA!==void 0&&e.scoreB!==void 0?`${e.scoreA} - ${e.scoreB}`:"VS",u=()=>{switch(l){case"W":return"bg-green-500";case"L":return"bg-red-500";case"D":return"bg-gray-400"}},d=()=>{switch(l){case"W":return"THNG";case"L":return"THUA";case"D":return"HA"}},f=()=>{switch(l){case"W":return"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400";case"L":return"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400";case"D":return"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-300"}};return s.jsxs("div",{onClick:()=>i(ge.matchDetail(e.id)),className:"bg-white dark:bg-surface-dark p-0 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden cursor-pointer hover:border-primary/50 active:scale-[0.99] transition-all",children:[s.jsx("div",{className:`h-1.5 w-full ${u()}`}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs text-gray-500 font-medium",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(P,{name:"calendar_today",className:"text-xs"}),e.date]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(P,{name:"location_on",className:"text-xs"}),e.location]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[s.jsx(Mt,{src:t.logo||"",size:"sm"}),s.jsx("span",{className:"text-xs font-bold text-center truncate w-full",children:t.name})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3",children:[s.jsx("div",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-widest",children:c}),s.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full mt-1 ${f()}`,children:d()})]}),s.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[s.jsx(Mt,{src:e.teamB.logo||"",size:"sm"}),s.jsx("span",{className:"text-xs font-bold text-center truncate w-full",children:e.teamB.name})]})]}),s.jsx("div",{className:"flex gap-3 pt-3 border-t border-gray-100 dark:border-white/5",onClick:h=>h.stopPropagation(),children:r?s.jsxs(s.Fragment,{children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"info",onClick:()=>n==null?void 0:n(e.id),children:"Chi tit"}),s.jsx(ce,{className:"flex-1 h-9 text-xs",icon:"replay",onClick:()=>a==null?void 0:a(e.id),children:" li"})]}):s.jsxs("div",{className:"flex items-center justify-center gap-2 w-full",children:[s.jsx(P,{name:"info",size:"sm",className:"text-gray-500"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ch qun tr vin c thc hin thao tc"})]})})]})]})},xy={lat:10.7769,lng:106.7009},$R=e=>{if(!e)return jr.MALE;const t=e.toUpperCase();return t==="MALE"?jr.MALE:t==="FEMALE"?jr.FEMALE:jr.MIXED},Vu=(e,t)=>({center:{lat:xy.lat,lng:xy.lng},radius:15,level:e?[e]:_d.slice(0,3),gender:t?[$R(t)]:Object.values(jr),activeOnly:!0,sortBy:"distance",sortOrder:"ASC"}),Ku=Un()(Us((e,t)=>({filters:Vu(),teams:[],currentIndex:0,totalAvailable:0,isLoading:!1,isRefreshing:!1,error:null,matchedTeam:null,matchedMatch:null,stats:null,statsLoading:!1,_fetchedStats:!1,setFilters:r=>e(n=>({filters:C(C({},n.filters),r)})),resetFilters:(r,n)=>e({filters:Vu(r,n)}),setTeams:(r,n)=>e({teams:r,totalAvailable:n,currentIndex:0}),setCurrentIndex:r=>e({currentIndex:r}),nextCard:()=>e(r=>({currentIndex:r.currentIndex+1})),setMatchedTeam:r=>e({matchedTeam:r}),setMatchedMatch:r=>e({matchedMatch:r}),setLoading:r=>e({isLoading:r}),setRefreshing:r=>e({isRefreshing:r}),setError:r=>e({error:r}),clearError:()=>e({error:null}),setStats:r=>e({stats:r}),discoverTeams:r=>T(void 0,null,function*(){var n,a;try{const i=t(),o=r||{center:i.filters.center,radius:i.filters.radius,level:i.filters.level,gender:i.filters.gender,minRating:i.filters.minRating,minPlayers:i.filters.minPlayers,maxPlayers:i.filters.maxPlayers,activeOnly:i.filters.activeOnly,excludeIds:i.filters.excludeIds,sortBy:i.filters.sortBy,sortOrder:i.filters.sortOrder};e({isLoading:!0,error:null});const l=yield me.post("/discovery",o);if(l.success&&l.data)return e({teams:l.data.teams,totalAvailable:l.data.total,currentIndex:0,error:null}),l.data.teams;throw new Error(((n=l.error)==null?void 0:n.message)||"Failed to discover teams")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th tm kim i";throw e({error:o,isLoading:!1}),i}finally{e({isLoading:!1})}}),getStats:(r=!1)=>T(void 0,null,function*(){var n,a;try{const i=t();if(i.statsLoading||!r&&i._fetchedStats&&i.stats)return i.stats;e({statsLoading:!0,error:null});const o=yield me.get("/discovery/stats");if(o.success&&o.data)return e({stats:o.data,_fetchedStats:!0,error:null}),o.data;throw new Error(((n=o.error)==null?void 0:n.message)||"Failed to fetch stats")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th ti thng k";throw e({error:o,statsLoading:!1}),i}finally{e({statsLoading:!1})}}),getRecommendations:()=>T(void 0,null,function*(){var r,n;try{e({isLoading:!0,error:null});const a=yield me.get("/discovery/recommendations");if(a.success&&a.data)return t().setFilters(a.data),a.data;throw new Error(((r=a.error)==null?void 0:r.message)||"Failed to get recommendations")}catch(a){const i=((n=a.error)==null?void 0:n.message)||a.message||"Khng th ly gi ";throw e({error:i,isLoading:!1}),a}finally{e({isLoading:!1})}})}),{name:"discovery-storage",partialize:e=>({filters:e.filters})})),UR="modulepreload",FR=function(e,t){return new URL(e,t).href},vy={},Yn=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(u=>{if(u=FR(u,n),u in vy)return;vy[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let g=o.length-1;g>=0;g--){const m=o[g];if(m.href===u&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":UR,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((g,m)=>{p.addEventListener("load",g),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Uf=()=>{var e;return(e=Et.getState().user)==null?void 0:e.id},Rk=e=>e?e.userRole==="admin":!1,Zc=e=>e==="admin",Ff=(e,t)=>{var n;const r=e.userRole||"member";return{id:e.id,name:e.name,logo:e.logo||e.avatar||"",level:e.level,gender:e.gender,description:e.description,memberCount:e.membersCount||((n=e.members)==null?void 0:n.length)||0,isCaptain:t?e.createdBy===t:!1,userRole:r}},Bf=e=>{var t,r,n;return{id:e.id,name:((t=e.user)==null?void 0:t.name)||e.name||"Unknown",avatar:((r=e.user)==null?void 0:r.avatar)||e.avatar||"",role:((n=e.role)==null?void 0:n.toLowerCase())||"player",number:e.jerseyNumber||e.number}},Vr=Un()(Us((e,t)=>({myTeams:[],selectedTeam:null,teamMembers:[],teamDetailsCache:{},sentInvites:[],receivedInvites:[],inviteToken:null,isLoading:!1,error:null,setMyTeams:r=>e({myTeams:r}),setSelectedTeam:r=>e({selectedTeam:r}),setTeamMembers:r=>e({teamMembers:r}),setSentInvites:r=>e({sentInvites:r}),setReceivedInvites:r=>e({receivedInvites:r}),setInviteToken:r=>e({inviteToken:r}),addTeam:r=>e(n=>({myTeams:[...n.myTeams,r]})),updateTeam:(r,n)=>e(a=>{var i;return{myTeams:a.myTeams.map(o=>o.id===r?C(C({},o),n):o),selectedTeam:((i=a.selectedTeam)==null?void 0:i.id)===r?C(C({},a.selectedTeam),n):a.selectedTeam}}),removeTeam:r=>e(n=>{var a;return{myTeams:n.myTeams.filter(i=>i.id!==r),selectedTeam:((a=n.selectedTeam)==null?void 0:a.id)===r?null:n.selectedTeam}}),addMember:r=>e(n=>({teamMembers:[...n.teamMembers,r]})),removeMember:r=>e(n=>({teamMembers:n.teamMembers.filter(a=>a.id!==r)})),updateMember:(r,n)=>e(a=>({teamMembers:a.teamMembers.map(i=>i.id===r?C(C({},i),n):i)})),clearError:()=>e({error:null}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),fetchMyTeams:(r=!1)=>T(void 0,null,function*(){try{const n=t();if(n.isLoading){console.log("[TeamStore] Skipping fetchMyTeams - already loading");return}if(!r&&n.myTeams.length>0){console.log("[TeamStore] Skipping fetchMyTeams - already has teams (use forceRefresh=true to refresh)");return}e({isLoading:!0,error:null});const a=yield me.get("/teams/my-teams");if(a.success&&a.data){const i=Array.isArray(a.data)?a.data:[],o=Uf(),l=i.map(u=>Ff(u,o));e({myTeams:l,error:null}),!t().selectedTeam&&l.length>0&&e({selectedTeam:l[0]})}}catch(n){console.error("[TeamStore] Fetch my teams error:",n),e({error:n.message||"Khng th ti danh sch i"})}finally{e({isLoading:!1})}}),getTeamById:r=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.get(`/teams/${r}`);if(i.success&&i.data)return e(o=>({teamDetailsCache:Z(C({},o.teamDetailsCache),{[r]:i.data}),isLoading:!1})),i.data;throw new Error(((n=i.error)==null?void 0:n.message)||"Failed to fetch team")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th ti thng tin i";throw e({error:o,isLoading:!1}),i}}),createTeam:r=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.post("/teams",r);if(i.success&&i.data){const o=Ff(i.data,Uf());return e(l=>({myTeams:[...l.myTeams,o],error:null})),o}else throw new Error(((n=i.error)==null?void 0:n.message)||"Failed to create team")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th to i";throw e({error:o,isLoading:!1}),i}finally{e({isLoading:!1})}}),updateTeamById:(r,n)=>T(void 0,null,function*(){var a,i;try{e({isLoading:!0,error:null});const o=yield me.patch(`/teams/${r}`,n);if(o.success&&o.data){const l=Ff(o.data,Uf());t().updateTeam(r,l),e(c=>({teamDetailsCache:Z(C({},c.teamDetailsCache),{[r]:o.data}),error:null}))}else throw new Error(((a=o.error)==null?void 0:a.message)||"Failed to update team")}catch(o){const l=((i=o.error)==null?void 0:i.message)||o.message||"Khng th cp nht i";throw e({error:l,isLoading:!1}),o}finally{e({isLoading:!1})}}),deleteTeam:r=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.delete(`/teams/${r}`);if(i.success)t().removeTeam(r),e(o=>{const l=C({},o.teamDetailsCache);return delete l[r],{teamDetailsCache:l}});else throw new Error(((n=i.error)==null?void 0:n.message)||"Failed to delete team")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th xa i";throw e({error:o,isLoading:!1}),i}finally{e({isLoading:!1})}}),getTeamMembers:r=>T(void 0,null,function*(){var n,a;try{e({isLoading:!0,error:null});const i=yield me.get(`/teams/${r}/members`);if(i.success&&i.data){const l=(Array.isArray(i.data)?i.data:[]).map(c=>Bf(c));return e({teamMembers:l,error:null}),l}else throw new Error(((n=i.error)==null?void 0:n.message)||"Failed to fetch team members")}catch(i){const o=((a=i.error)==null?void 0:a.message)||i.message||"Khng th ti danh sch thnh vin";throw e({error:o,isLoading:!1}),i}finally{e({isLoading:!1})}}),addMemberToTeam:(r,n)=>T(void 0,null,function*(){var a,i;try{e({isLoading:!0,error:null});const o=yield me.post(`/teams/${r}/members`,n);if(o.success&&o.data){const l=Bf(o.data);t().addMember(l)}else throw new Error(((a=o.error)==null?void 0:a.message)||"Failed to add member")}catch(o){const l=((i=o.error)==null?void 0:i.message)||o.message||"Khng th thm thnh vin";throw e({error:l,isLoading:!1}),o}finally{e({isLoading:!1})}}),removeMemberFromTeam:(r,n)=>T(void 0,null,function*(){var a,i;try{e({isLoading:!0,error:null});const o=yield me.delete(`/teams/${r}/members/${n}`);if(o.success)t().removeMember(n);else throw new Error(((a=o.error)==null?void 0:a.message)||"Failed to remove member")}catch(o){const l=((i=o.error)==null?void 0:i.message)||o.message||"Khng th xa thnh vin";throw e({error:l,isLoading:!1}),o}finally{e({isLoading:!1})}}),updateMemberRole:(r,n,a)=>T(void 0,null,function*(){var i,o;try{e({isLoading:!0,error:null});const l=yield me.patch(`/teams/${r}/members/${n}`,{role:a});if(l.success&&l.data){const c=Bf(l.data);t().updateMember(n,c)}else throw new Error(((i=l.error)==null?void 0:i.message)||"Failed to update member role")}catch(l){const c=((o=l.error)==null?void 0:o.message)||l.message||"Khng th cp nht vai tr";throw e({error:c,isLoading:!1}),l}finally{e({isLoading:!1})}}),updateMemberAdminRole:(r,n,a)=>T(void 0,null,function*(){try{(yield(yield Yn(()=>Promise.resolve().then(()=>GR),[],import.meta.url)).TeamService.updateMemberAdminRole(r,n,a)).success&&(yield t().getTeamMembers(r))}catch(i){throw console.error("Failed to update member admin role:",i),i}}),fetchSentInvites:(r,n)=>T(void 0,null,function*(){try{e({isLoading:!0,error:null});const o=yield(yield Yn(()=>Promise.resolve().then(()=>qs),void 0,import.meta.url)).default.getSentInvites(r,n);o.success&&o.data&&e({sentInvites:o.data.invitations,isLoading:!1})}catch(a){console.error("[TeamStore] Fetch sent invites error:",a),e({error:a.message||"Khng th ti li mi  gi",isLoading:!1})}}),fetchReceivedInvites:r=>T(void 0,null,function*(){try{e({isLoading:!0,error:null});const i=yield(yield Yn(()=>Promise.resolve().then(()=>qs),void 0,import.meta.url)).default.getMyInvites(r);i.success&&i.data&&e({receivedInvites:i.data.invitations,isLoading:!1})}catch(n){console.error("[TeamStore] Fetch received invites error:",n),e({error:n.message||"Khng th ti li mi",isLoading:!1})}}),respondInvite:(r,n,a)=>T(void 0,null,function*(){try{e({isLoading:!0,error:null}),(yield(yield Yn(()=>Promise.resolve().then(()=>qs),void 0,import.meta.url)).default.respondToInvite({inviteId:r,action:n,declineMessage:a})).success&&(yield t().fetchReceivedInvites())}catch(i){throw console.error("[TeamStore] Respond invite error:",i),e({error:i.message||"Khng th phn hi li mi",isLoading:!1}),i}finally{e({isLoading:!1})}}),cancelInvite:r=>T(void 0,null,function*(){var n;try{if(e({isLoading:!0,error:null}),(yield(yield Yn(()=>Promise.resolve().then(()=>qs),void 0,import.meta.url)).default.cancelInvite(r)).success){const l=t();(n=l.selectedTeam)!=null&&n.id&&(yield t().fetchSentInvites(l.selectedTeam.id))}}catch(a){throw console.error("[TeamStore] Cancel invite error:",a),e({error:a.message||"Khng th hy li mi",isLoading:!1}),a}finally{e({isLoading:!1})}}),resendInvite:r=>T(void 0,null,function*(){var n;try{if(e({isLoading:!0,error:null}),(yield(yield Yn(()=>Promise.resolve().then(()=>qs),void 0,import.meta.url)).default.resendInvite(r)).success){const l=t();(n=l.selectedTeam)!=null&&n.id&&(yield t().fetchSentInvites(l.selectedTeam.id))}}catch(a){throw console.error("[TeamStore] Resend invite error:",a),e({error:a.message||"Khng th gi li li mi",isLoading:!1}),a}finally{e({isLoading:!1})}}),createInviteToken:(r,n)=>T(void 0,null,function*(){try{e({isLoading:!0,error:null});const o=yield(yield Yn(()=>Promise.resolve().then(()=>qs),void 0,import.meta.url)).default.createInviteToken(r,n);if(o.success&&o.data)return e({inviteToken:o.data,isLoading:!1}),o.data;e({isLoading:!1})}catch(a){throw console.error("[TeamStore] Create invite token error:",a),e({error:a.message||"Khng th to m mi",isLoading:!1}),a}})}),{name:"team-storage",partialize:e=>({myTeams:e.myTeams,selectedTeam:e.selectedTeam})})),Fs=()=>Vr(e=>e.myTeams),pa=()=>Vr(e=>e.selectedTeam),Ok=()=>Vr(e=>e.sentInvites),Lk=()=>Vr(e=>e.receivedInvites),Bs=()=>{const e=Vr();return{setMyTeams:e.setMyTeams,setSelectedTeam:e.setSelectedTeam,setTeamMembers:e.setTeamMembers,setSentInvites:e.setSentInvites,setReceivedInvites:e.setReceivedInvites,setInviteToken:e.setInviteToken,addTeam:e.addTeam,updateTeam:e.updateTeam,removeTeam:e.removeTeam,addMember:e.addMember,removeMember:e.removeMember,updateMember:e.updateMember,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,fetchMyTeams:e.fetchMyTeams,getTeamById:e.getTeamById,createTeam:e.createTeam,updateTeamById:e.updateTeamById,deleteTeam:e.deleteTeam,getTeamMembers:e.getTeamMembers,addMemberToTeam:e.addMemberToTeam,removeMemberFromTeam:e.removeMemberFromTeam,updateMemberRole:e.updateMemberRole,updateMemberAdminRole:e.updateMemberAdminRole,fetchSentInvites:e.fetchSentInvites,fetchReceivedInvites:e.fetchReceivedInvites,respondInvite:e.respondInvite,cancelInvite:e.cancelInvite,resendInvite:e.resendInvite,createInviteToken:e.createInviteToken}},BR=Object.freeze(Object.defineProperty({__proto__:null,hasAdminPermission:Zc,isAdmin:Rk,useMyTeams:Fs,useReceivedInvites:Lk,useSelectedTeam:pa,useSentInvites:Ok,useTeamActions:Bs,useTeamStore:Vr},Symbol.toStringTag,{value:"Module"})),yy=({isOpen:e,onClose:t,onApply:r})=>{console.log("FilterBottomSheet render, isOpen:",e);const{filters:n,setFilters:a,resetFilters:i}=Ku(),o=pa();w.useEffect(()=>{console.log("FilterBottomSheet isOpen:",e)},[e]);const[l,c]=w.useState(n.radius),[u,d]=w.useState(n.level),[f,h]=w.useState(n.gender),[p,g]=w.useState(n.sortBy);w.useEffect(()=>{e&&(c(n.radius),d(n.level),h(n.gender),g(n.sortBy))},[e,n]);const m=()=>{const v=Vu(o==null?void 0:o.level,o==null?void 0:o.gender);c(v.radius),d(v.level),h(v.gender),g(v.sortBy)},y=()=>{a({radius:l,level:u,gender:f,sortBy:p}),r(),t()},b=v=>{u.includes(v)?u.length>1&&d(u.filter(k=>k!==v)):d([...u,v])},x=v=>{f.includes(v)?f.length>1&&h(f.filter(k=>k!==v)):h([...f,v])};return e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[85vh] overflow-y-auto",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"B lc"}),s.jsx("button",{onClick:t,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(P,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Bn knh tm kim"}),s.jsxs("span",{className:"text-sm font-bold text-primary",children:[l,"km"]})]}),s.jsx("input",{type:"range",min:"5",max:"50",step:"5",value:l,onChange:v=>c(Number(v.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[s.jsx("span",{children:"5km"}),s.jsx("span",{children:"50km"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3 block",children:"Trnh "}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_d.map(v=>{const k=u.includes(v);return s.jsx("button",{onClick:()=>b(v),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${k?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:v},v)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3 block",children:"Gii tnh"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.values(jr).map(v=>{const k=f.includes(v);return s.jsx("button",{onClick:()=>x(v),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${k?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:v},v)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3 block",children:"Sp xp theo"}),s.jsx("div",{className:"flex gap-2",children:[{value:"distance",label:"Khong cch"},{value:"quality",label:"Cht lng"},{value:"activity",label:"Hot ng"}].map(v=>{const k=p===v.value;return s.jsx("button",{onClick:()=>g(v.value),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${k?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:v.label},v.value)})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(ce,{variant:"secondary",className:"flex-1",onClick:m,children:"Reset"}),s.jsx(ce,{className:"flex-1",onClick:y,children:"p dng"})]})]})]})]}):null},gt={getMatches:e=>T(void 0,null,function*(){const t=e!=null&&e.statuses?Z(C({},e),{statuses:Array.isArray(e.statuses)?e.statuses.join(","):e.statuses}):e;return me.get("/matches",{params:t})}),getMatchById:e=>T(void 0,null,function*(){return me.get(`/matches/${e}`)}),sendInvitation:(e,t)=>T(void 0,null,function*(){return me.post(`/matches/${e}/invite`,t)}),sendMatchRequest:(e,t)=>T(void 0,null,function*(){return me.post(`/matches/${e}/request`,t)}),updateMatchRequest:(e,t)=>T(void 0,null,function*(){return me.patch(`/matches/${e}/request`,t)}),acceptMatchRequest:e=>T(void 0,null,function*(){return me.post(`/matches/${e}/accept`)}),declineMatchRequest:e=>T(void 0,null,function*(){return me.post(`/matches/${e}/decline`)}),confirmMatch:(e,t)=>T(void 0,null,function*(){return me.post(`/matches/${e}/confirm`,t)}),finishMatch:(e,t)=>T(void 0,null,function*(){return me.post(`/matches/${e}/finish`,t)}),cancelMatch:(e,t)=>T(void 0,null,function*(){return me.post(`/matches/${e}/cancel`,t)}),rematch:(e,t)=>T(void 0,null,function*(){return me.post(`/matches/${e}/rematch`,t)}),getMatchHistory:e=>T(void 0,null,function*(){return me.get("/matches",{params:Z(C({},e),{status:"FINISHED"})})}),getMatchAttendance:e=>T(void 0,null,function*(){return me.get(`/matches/${e}/attendance`)}),getMyAttendance:e=>T(void 0,null,function*(){return me.get(`/matches/${e}/attendance/my`)}),updateAttendance:(e,t)=>T(void 0,null,function*(){return me.post(`/matches/${e}/attendance`,t)})},HR=e=>{switch(e){case"MATCHED":case"REQUESTED":case"ACCEPTED":return"pending";case"CONFIRMED":return"upcoming";case"FINISHED":case"CANCELLED":return"finished";default:return"pending"}},WR=(e,t)=>{try{let r=e;if(e.includes("/")){const[u,d,f]=e.split("/");r=`${f}-${d}-${u}`}const n=new Date(`${r}T${t}`),a=new Date,i=n.getTime(),o=a.getTime(),l=2*60*60*1e3,c=i+l;return o<i?"upcoming":o>=i&&o<c?"live":"finished"}catch(r){return console.error("[getMatchStage] Error parsing date/time:",r),"upcoming"}},Zs=(e,t)=>{var o,l,c,u,d,f,h,p,g,m,y,b,x,v;let r;switch(e.status){case"MATCHED":r="matched";break;case"REQUESTED":e.requestedByTeam===t?r="sent":r="received";break;case"ACCEPTED":r="accepted";break;case"CONFIRMED":case"FINISHED":case"CANCELLED":r=void 0;break;default:r=void 0}const n=e.date||e.proposedDate||"",a=e.time||e.proposedTime||"";let i=HR(e.status);if(e.status==="CONFIRMED"){const k=WR(n,a);k==="live"?i="live":k==="finished"&&(i="finished")}return{id:e.id,teamA:{id:((o=e.teamA)==null?void 0:o.id)||e.teamAId||"",name:((l=e.teamA)==null?void 0:l.name)||"Team A",logo:(c=e.teamA)==null?void 0:c.logo,level:(u=e.teamA)==null?void 0:u.level},teamB:{id:((d=e.teamB)==null?void 0:d.id)||e.teamBId||"",name:((f=e.teamB)==null?void 0:f.name)||"Team B",logo:(h=e.teamB)==null?void 0:h.logo,level:(p=e.teamB)==null?void 0:p.level},scoreA:(g=e.score)==null?void 0:g.teamA,scoreB:(m=e.score)==null?void 0:m.teamB,time:a||"TBD",date:n||"TBD",location:((y=e.location)==null?void 0:y.address)||e.proposedPitch||"TBD",locationName:(b=e.location)==null?void 0:b.name,locationAddress:(x=e.location)==null?void 0:x.address,locationMapLink:(v=e.location)==null?void 0:v.mapLink,status:i,type:r,requestedByTeam:e.requestedByTeam,acceptedByTeam:e.acceptedByTeam,notes:e.notes}},Sd=Un()(Us((e,t)=>({pendingMatches:[],upcomingMatches:[],liveMatches:[],historyMatches:[],selectedMatch:null,isLoading:!1,error:null,pagination:{pending:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},upcoming:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},history:{page:1,limit:20,total:0,totalPages:0,hasMore:!0}},isLoadingMore:{pending:!1,upcoming:!1,history:!1},_fetchedTabs:{},setPendingMatches:r=>e({pendingMatches:r}),setUpcomingMatches:r=>e({upcomingMatches:r}),setLiveMatches:r=>e({liveMatches:r}),setHistoryMatches:r=>e({historyMatches:r}),setSelectedMatch:r=>e({selectedMatch:r}),clearAllData:()=>e({pendingMatches:[],upcomingMatches:[],historyMatches:[],_fetchedTabs:{},pagination:{pending:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},upcoming:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},history:{page:1,limit:20,total:0,totalPages:0,hasMore:!0}}}),updatePagination:(r,n)=>e(a=>({pagination:Z(C({},a.pagination),{[r]:C(C({},a.pagination[r]),n)})})),addMatch:(r,n)=>e(a=>({[r]:[...a[r],n]})),updateMatch:(r,n)=>e(a=>{var i;return{pendingMatches:a.pendingMatches.map(o=>o.id===r?C(C({},o),n):o),upcomingMatches:a.upcomingMatches.map(o=>o.id===r?C(C({},o),n):o),liveMatches:a.liveMatches.map(o=>o.id===r?C(C({},o),n):o),historyMatches:a.historyMatches.map(o=>o.id===r?C(C({},o),n):o),selectedMatch:((i=a.selectedMatch)==null?void 0:i.id)===r?C(C({},a.selectedMatch),n):a.selectedMatch}}),removeMatch:r=>e(n=>{var a;return{pendingMatches:n.pendingMatches.filter(i=>i.id!==r),upcomingMatches:n.upcomingMatches.filter(i=>i.id!==r),liveMatches:n.liveMatches.filter(i=>i.id!==r),historyMatches:n.historyMatches.filter(i=>i.id!==r),selectedMatch:((a=n.selectedMatch)==null?void 0:a.id)===r?null:n.selectedMatch}}),clearError:()=>e({error:null}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),fetchUpcomingMatches:(r,n=1,a=!1)=>T(void 0,null,function*(){var i;try{const o=t();if(n===1&&o.isLoading){console.log("[MatchStore] Skipping fetchUpcomingMatches - already loading");return}if(n>1&&o.isLoadingMore.upcoming){console.log("[MatchStore] Skipping fetchUpcomingMatches - already loading more");return}if(!a&&n===1&&((i=o._fetchedTabs[r||""])==null?void 0:i.upcoming)&&o.upcomingMatches.length>0){console.log("[MatchStore] Skipping fetchUpcomingMatches - already has data for team:",r);return}e(n===1?{isLoading:!0,error:null}:c=>({isLoadingMore:Z(C({},c.isLoadingMore),{upcoming:!0})}));const l=yield gt.getMatches({statuses:["CONFIRMED"],teamId:r,page:n,limit:20});if(l.success&&l.data){const u=(Array.isArray(l.data.matches)?l.data.matches:[]).map(d=>Zs(d,r));e(d=>{var f,h,p,g,m,y;return{upcomingMatches:n===1||a?u:[...d.upcomingMatches,...u],liveMatches:u.filter(b=>b.status==="live"),_fetchedTabs:r?Z(C({},d._fetchedTabs),{[r]:Z(C({},d._fetchedTabs[r||""]),{upcoming:!0})}):d._fetchedTabs,pagination:Z(C({},d.pagination),{upcoming:{page:((f=l.data.pagination)==null?void 0:f.page)||n,limit:((h=l.data.pagination)==null?void 0:h.limit)||20,total:((p=l.data.pagination)==null?void 0:p.total)||0,totalPages:((g=l.data.pagination)==null?void 0:g.totalPages)||1,hasMore:(((m=l.data.pagination)==null?void 0:m.page)||n)<(((y=l.data.pagination)==null?void 0:y.totalPages)||1)}}),error:null}}),console.log("[MatchStore] Successfully fetched upcoming matches (page",n,"):",u.length)}}catch(o){console.error("[MatchStore] Fetch upcoming matches error:",o),e({error:o.message||"Khng th ti trn u sp ti"})}finally{e(n===1?{isLoading:!1}:o=>({isLoadingMore:Z(C({},o.isLoadingMore),{upcoming:!1})}))}}),fetchPendingMatches:(r,n=1,a=!1)=>T(void 0,null,function*(){var i;try{const o=t();if(n===1&&o.isLoading){console.log("[MatchStore] Skipping fetchPendingMatches - already loading");return}if(n>1&&o.isLoadingMore.pending){console.log("[MatchStore] Skipping fetchPendingMatches - already loading more");return}if(!a&&n===1&&((i=o._fetchedTabs[r||""])==null?void 0:i.pending)&&o.pendingMatches.length>0){console.log("[MatchStore] Skipping fetchPendingMatches - already has data for team:",r);return}e(n===1?{isLoading:!0,error:null}:c=>({isLoadingMore:Z(C({},c.isLoadingMore),{pending:!0})}));const l=yield gt.getMatches({statuses:["MATCHED","REQUESTED","ACCEPTED"],teamId:r,page:n,limit:20});if(l.success&&l.data){const u=(Array.isArray(l.data.matches)?l.data.matches:[]).map(d=>Zs(d,r));e(d=>{var f,h,p,g,m,y;return{pendingMatches:n===1||a?u:[...d.pendingMatches,...u],_fetchedTabs:r?Z(C({},d._fetchedTabs),{[r]:Z(C({},d._fetchedTabs[r||""]),{pending:!0})}):d._fetchedTabs,pagination:Z(C({},d.pagination),{pending:{page:((f=l.data.pagination)==null?void 0:f.page)||n,limit:((h=l.data.pagination)==null?void 0:h.limit)||20,total:((p=l.data.pagination)==null?void 0:p.total)||0,totalPages:((g=l.data.pagination)==null?void 0:g.totalPages)||1,hasMore:(((m=l.data.pagination)==null?void 0:m.page)||n)<(((y=l.data.pagination)==null?void 0:y.totalPages)||1)}}),error:null}}),console.log("[MatchStore] Successfully fetched pending matches (page",n,"):",u.length)}}catch(o){console.error("[MatchStore] Fetch pending matches error:",o),e({error:o.message||"Khng th ti li mi trn u"})}finally{e(n===1?{isLoading:!1}:o=>({isLoadingMore:Z(C({},o.isLoadingMore),{pending:!1})}))}}),fetchHistoryMatches:(r,n=1,a=!1)=>T(void 0,null,function*(){var i;try{const o=t();if(n===1&&o.isLoading){console.log("[MatchStore] Skipping fetchHistoryMatches - already loading");return}if(n>1&&o.isLoadingMore.history){console.log("[MatchStore] Skipping fetchHistoryMatches - already loading more");return}if(!a&&n===1&&((i=o._fetchedTabs[r||""])==null?void 0:i.history)&&o.historyMatches.length>0){console.log("[MatchStore] Skipping fetchHistoryMatches - already has data for team:",r);return}e(n===1?{isLoading:!0,error:null}:c=>({isLoadingMore:Z(C({},c.isLoadingMore),{history:!0})}));const l=yield gt.getMatches({statuses:["FINISHED"],teamId:r,page:n,limit:20});if(l.success&&l.data){const u=(Array.isArray(l.data.matches)?l.data.matches:[]).map(d=>Zs(d,r));e(d=>{var f,h,p,g,m,y;return{historyMatches:n===1||a?u:[...d.historyMatches,...u],_fetchedTabs:r?Z(C({},d._fetchedTabs),{[r]:Z(C({},d._fetchedTabs[r||""]),{history:!0})}):d._fetchedTabs,pagination:Z(C({},d.pagination),{history:{page:((f=l.data.pagination)==null?void 0:f.page)||n,limit:((h=l.data.pagination)==null?void 0:h.limit)||20,total:((p=l.data.pagination)==null?void 0:p.total)||0,totalPages:((g=l.data.pagination)==null?void 0:g.totalPages)||1,hasMore:(((m=l.data.pagination)==null?void 0:m.page)||n)<(((y=l.data.pagination)==null?void 0:y.totalPages)||1)}}),error:null}}),console.log("[MatchStore] Successfully fetched history matches (page",n,"):",u.length)}}catch(o){console.error("[MatchStore] Fetch history matches error:",o),e({error:o.message||"Khng th ti lch s trn u"})}finally{e(n===1?{isLoading:!1}:o=>({isLoadingMore:Z(C({},o.isLoadingMore),{history:!1})}))}}),acceptMatch:r=>T(void 0,null,function*(){try{(yield gt.acceptMatchRequest(r)).success&&e(a=>({pendingMatches:a.pendingMatches.filter(i=>i.id!==r)}))}catch(n){throw n}}),declineMatch:r=>T(void 0,null,function*(){try{(yield gt.declineMatchRequest(r)).success&&e(a=>({pendingMatches:a.pendingMatches.filter(i=>i.id!==r)}))}catch(n){throw n}}),confirmMatch:(r,n)=>T(void 0,null,function*(){try{(yield gt.confirmMatch(r,n)).success}catch(a){throw a}}),sendMatchRequest:(r,n)=>T(void 0,null,function*(){try{const a=yield gt.sendMatchRequest(r,n);if(a.success&&a.data){const i=t().currentTeamId;e(o=>({pendingMatches:o.pendingMatches.map(l=>l.id===r?Zs(a.data,i):l)}))}}catch(a){throw a}}),updateMatchRequest:(r,n)=>T(void 0,null,function*(){try{const a=yield gt.updateMatchRequest(r,n);if(a.success&&a.data){const i=t().currentTeamId;e(o=>({pendingMatches:o.pendingMatches.map(l=>l.id===r?Zs(a.data,i):l)}))}}catch(a){throw a}}),finishMatch:(r,n)=>T(void 0,null,function*(){try{(yield gt.finishMatch(r,n)).success&&e(i=>({upcomingMatches:i.upcomingMatches.filter(o=>o.id!==r)}))}catch(a){throw a}}),cancelMatch:(r,n)=>T(void 0,null,function*(){try{(yield gt.cancelMatch(r,n)).success&&e(i=>({pendingMatches:i.pendingMatches.filter(o=>o.id!==r),upcomingMatches:i.upcomingMatches.filter(o=>o.id!==r)}))}catch(a){throw a}}),rematch:(r,n)=>T(void 0,null,function*(){try{const a=yield gt.rematch(r,n);if(a.success&&a.data){const i=Zs(a.data);e(o=>({pendingMatches:[...o.pendingMatches,i]}))}}catch(a){throw a}})}),{name:"match-storage",partialize:e=>({selectedMatch:e.selectedMatch})})),VR=()=>Sd(e=>e.upcomingMatches),Dl=()=>{const e=Sd();return{setPendingMatches:e.setPendingMatches,setUpcomingMatches:e.setUpcomingMatches,setLiveMatches:e.setLiveMatches,setHistoryMatches:e.setHistoryMatches,setSelectedMatch:e.setSelectedMatch,addMatch:e.addMatch,updateMatch:e.updateMatch,removeMatch:e.removeMatch,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,clearAllData:e.clearAllData,updatePagination:e.updatePagination,fetchUpcomingMatches:e.fetchUpcomingMatches,fetchPendingMatches:e.fetchPendingMatches,fetchHistoryMatches:e.fetchHistoryMatches,acceptMatch:e.acceptMatch,declineMatch:e.declineMatch,sendMatchRequest:e.sendMatchRequest,updateMatchRequest:e.updateMatchRequest,confirmMatch:e.confirmMatch,finishMatch:e.finishMatch,cancelMatch:e.cancelMatch,rematch:e.rematch}},Dk=({isOpen:e,mode:t,matchId:r,myTeam:n,opponentTeam:a,initialData:i,onClose:o,onSuccess:l})=>{const c=Dl(),[u,d]=w.useState(""),[f,h]=w.useState(""),[p,g]=w.useState(""),[m,y]=w.useState(""),[b,x]=w.useState(!1),[v,k]=w.useState(null);w.useEffect(()=>{t==="edit"&&i?(d(i.proposedDate||""),h(i.proposedTime||""),g(i.proposedPitch||""),y(i.notes||"")):(d(""),h(""),g(""),y(""))},[t,i,e]);const j=()=>T(void 0,null,function*(){if(!u||!f||!p){k("Vui lng in y  thng tin ngy, gi v sn d kin");return}x(!0),k(null);try{if(t==="send"){const N={proposedDate:u,proposedTime:f,proposedPitch:p,notes:m||void 0};yield c.sendMatchRequest(r,N)}else{const N={proposedDate:u,proposedTime:f,proposedPitch:p,notes:m||void 0};yield c.updateMatchRequest(r,N)}l()}catch(N){console.error("Match request error:",N),k(N.message||"C li xy ra, vui lng th li")}finally{x(!1)}}),M=()=>{b||o()};return e?s.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:M}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[90vh] overflow-y-auto",children:[b&&s.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm rounded-t-3xl",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:t==="send"?"ang gi li mi...":"ang cp nht..."})]}),s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:t==="send"?"Gi li mi giao lu":"Cp nht li mi"}),s.jsx("button",{onClick:M,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(P,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx(Mt,{src:n.logo||"",size:"md"}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:n.name})]}),s.jsx("div",{className:"flex flex-col items-center justify-center px-4",children:s.jsx("div",{className:"text-2xl font-black text-primary",children:"VS"})}),s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx(Mt,{src:a.logo||"",size:"md"}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:a.name})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(vr,{label:"Ngy d kin",type:"date",value:u,onChange:N=>d(N.target.value),className:"flex-1",required:!0}),s.jsx(vr,{label:"Gi d kin",type:"time",value:f,onChange:N=>h(N.target.value),className:"flex-1",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1 mb-2 block",children:["Loi sn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Gg.map(N=>s.jsx("button",{type:"button",onClick:()=>g(N),className:`py-2.5 px-3 rounded-xl text-sm font-medium transition-all ${p===N?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:N},N))})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ghi ch (Ty chn)"}),s.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-3 text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none",placeholder:"Nhn tin cho i bn v o u, ko nc...",value:m,onChange:N=>y(N.target.value),maxLength:200}),s.jsxs("p",{className:"text-xs text-gray-400 text-right",children:[m.length,"/200"]})]})]}),v&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:v})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ce,{className:"w-full py-3.5",onClick:j,disabled:b,children:b?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"refresh",className:"animate-spin"}),t==="send"?"ang gi...":"ang cp nht..."]}):s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"send"}),t==="send"?"Gi li mi":"Cp nht"]})}),s.jsx("button",{onClick:M,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hy"})]}),t==="send"&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(P,{name:"info",className:"text-blue-500 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Gi li mi cht ko"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi gi li mi, i th s nhn c thng bo v c th chp nhn  ln lch u."})]})]})})]})]}):null},by=["#11d473","#facc15","#3b82f6","#ef4444","#ffffff","#fbbf24","#10b981"],KR=()=>Array.from({length:30},(e,t)=>({id:t,color:by[Math.floor(Math.random()*by.length)],size:Math.random()*10+6,left:`${Math.random()*100}%`,delay:`${Math.random()*.6}s`,drift:`${(Math.random()-.5)*200}px`})),wy=({isOpen:e,matchedTeam:t,myTeamLogo:r,myTeamName:n,myTeamId:a,matchId:i,onKeepSwiping:o})=>{var b;const[l,c]=w.useState(!1),[u,d]=w.useState([]);if(w.useEffect(()=>{e?(d(KR()),navigator.vibrate&&navigator.vibrate([80,40,80,40,120])):setTimeout(()=>d([]),500)},[e]),!e||!t)return null;const f={id:t.id,name:t.name,logo:t.logo,level:t.level},h={id:a||"",name:n||"i ca bn",logo:r},p=i||t.id,g=()=>{c(!0)},m=()=>{c(!1),o()},y=()=>{c(!1)};return s.jsxs("div",{className:"match-modal-overlay",children:[s.jsx("div",{className:"match-modal-backdrop"}),s.jsxs("div",{className:"match-modal-content",children:[s.jsx("div",{className:"football-field-bg"}),s.jsx("div",{className:"energy-ring"}),s.jsx("div",{className:"energy-ring"}),s.jsx("div",{className:"energy-ring"}),[...Array(12)].map((x,v)=>s.jsx("div",{className:"sparkle",style:{left:`${20+v*6}%`,top:`${20+v%4*20}%`,animationDelay:`${v*.2}s`}},`sparkle-${v}`)),s.jsx("div",{className:"confetti-container",children:u.map(x=>s.jsx("div",{className:"confetti-particle",style:{"--drift":x.drift,left:x.left,width:`${x.size}px`,height:`${x.size}px`,backgroundColor:x.color,animationDelay:x.delay}},x.id))}),s.jsxs("div",{className:"match-header",children:[s.jsx("div",{className:"match-badge",children:s.jsx(P,{name:"sports_soccer",className:"match-icon",filled:!0})}),s.jsx("h2",{className:"match-title",children:"MATCH KO!"}),s.jsxs("p",{className:"match-subtitle",children:[s.jsx("span",{className:"team-names",children:n})," v ",s.jsx("span",{className:"team-names",children:t.name}),"  tm thy nhau!"]})]}),s.jsxs("div",{className:"scoreboard",children:[s.jsxs("div",{className:"team-score team-score-left",children:[s.jsxs("div",{className:"team-avatar-container",children:[s.jsx("div",{className:"team-avatar",children:r?s.jsx("img",{src:r,alt:n,className:"team-avatar-image"}):s.jsx("div",{className:"team-avatar-placeholder team-avatar-placeholder-my",children:(n==null?void 0:n.charAt(0))||"T"})}),s.jsx("div",{className:"team-avatar-glow"})]}),s.jsx("p",{className:"team-name",children:n||"i ca bn"})]}),s.jsxs("div",{className:"vs-section",children:[s.jsx("div",{className:"vs-badge",children:s.jsx("span",{className:"vs-text",children:"VS"})}),s.jsx("span",{className:"match-label",children:"I TH"})]}),s.jsxs("div",{className:"team-score team-score-right",children:[s.jsxs("div",{className:"team-avatar-container",children:[s.jsx("div",{className:"team-avatar",children:t.logo?s.jsx("img",{src:t.logo,alt:t.name,className:"team-avatar-image"}):s.jsx("div",{className:"team-avatar-placeholder team-avatar-placeholder-opponent",children:((b=t.name)==null?void 0:b.charAt(0))||"T"})}),s.jsx("div",{className:"team-avatar-glow"})]}),s.jsx("p",{className:"team-name",children:t.name})]})]}),s.jsxs("div",{className:`actions-section${l?" actions-section-hidden":""}`,children:[s.jsxs("button",{onClick:g,className:"action-button action-button-primary",children:[s.jsx("span",{className:"button-icon",children:s.jsx(P,{name:"send",filled:!0})}),s.jsx("span",{className:"button-text",children:"Gi li mi giao lu"})]}),s.jsxs("button",{onClick:o,className:"action-button action-button-secondary",children:[s.jsx("span",{className:"button-icon",children:s.jsx(P,{name:"refresh"})}),s.jsx("span",{className:"button-text",children:"Tip tc tm ko"})]})]}),l&&s.jsx("div",{className:"match-dim-overlay"}),l&&s.jsx("div",{className:"match-request-modal-wrapper",children:s.jsx(Dk,{isOpen:l,mode:"send",matchId:p,myTeam:h,opponentTeam:f,onClose:y,onSuccess:m})})]})]})},_n={createTeam:e=>T(void 0,null,function*(){return me.post("/teams",e)}),getMyTeams:()=>T(void 0,null,function*(){return me.get("/teams/my-teams")}),getTeamById:(e,t)=>T(void 0,null,function*(){const r=t!=null&&t.includeRecentMatches?{includeRecentMatches:"true"}:void 0;return me.get(`/teams/${e}`,r?{params:r}:void 0)}),updateTeam:(e,t)=>T(void 0,null,function*(){return me.patch(`/teams/${e}`,t)}),deleteTeam:e=>T(void 0,null,function*(){return me.delete(`/teams/${e}`)}),getTeamMembers:e=>T(void 0,null,function*(){return me.get(`/teams/${e}/members`)}),addMember:(e,t)=>T(void 0,null,function*(){return me.post(`/teams/${e}/members`,t)}),removeMember:(e,t)=>T(void 0,null,function*(){return me.delete(`/teams/${e}/members/${t}`)}),updateMemberRole:(e,t,r)=>T(void 0,null,function*(){return me.patch(`/teams/${e}/members/${t}`,r)}),updateMemberAdminRole:(e,t,r)=>T(void 0,null,function*(){return me.put(`/teams/${e}/members/${t}/role`,{role:r})}),archiveTeam:e=>T(void 0,null,function*(){return me.patch(`/teams/${e}/archive`)})},GR=Object.freeze(Object.defineProperty({__proto__:null,TeamService:_n},Symbol.toStringTag,{value:"Module"})),ZR={MALE:"Nam",FEMALE:"N",MIXED:"Mixed",Nam:"Nam",N:"N",Mixed:"Mixed"},qR={discoverTeams:e=>T(void 0,null,function*(){var r;const t=Z(C({},e),{gender:(r=e.gender)==null?void 0:r.map(n=>ZR[n]||n)});return me.post("/discovery",t)}),getStats:()=>T(void 0,null,function*(){return me.get("/discovery/stats")}),getRecommendations:()=>T(void 0,null,function*(){return me.get("/discovery/recommendations")})},YR={getNotifications:e=>T(void 0,null,function*(){return me.get("/notifications",{params:e})}),markAsRead:e=>T(void 0,null,function*(){return me.patch(`/notifications/${e}/read`)}),markAllAsRead:()=>T(void 0,null,function*(){return me.post("/notifications/read-all")}),getNotificationStats:()=>T(void 0,null,function*(){return me.get("/notifications/stats")})},Ny={uploadFile:(e,t)=>T(void 0,null,function*(){const r=new FormData;return r.append("file",e.file),e.fileType&&r.append("fileType",e.fileType),me.post("/files/upload",r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n=>{if(t&&n.total){const a=Math.round(n.loaded*100/n.total);t(a)}}})}),uploadTeamLogo:(e,t,r)=>T(void 0,null,function*(){return Jn(`/files/team/${e}/logo`,t,r)}),uploadTeamBanner:(e,t,r)=>T(void 0,null,function*(){return Jn(`/files/team/${e}/banners`,t,r)}),uploadUserAvatar:(e,t)=>T(void 0,null,function*(){return Jn("/files/user/avatar",e,t)}),uploadUserBanner:(e,t)=>T(void 0,null,function*(){return Jn("/files/user/banner",e,t)}),getEntityFiles:(e,t,r)=>T(void 0,null,function*(){const n=r?{fileType:r}:{};return me.get(`/files/entity/${e}/${t}`,{params:n})}),deleteFile:e=>T(void 0,null,function*(){return me.delete(`/files/${e}`)})},bo={createSwipe:e=>T(void 0,null,function*(){return me.post("/swipes",e)}),getSwipeHistory:(e,t)=>T(void 0,null,function*(){return me.get(`/swipes/team/${e}`,{params:t})}),getReceivedSwipes:(e,t)=>T(void 0,null,function*(){return me.get(`/swipes/team/${e}/received`,{params:t})}),getSwipeStats:e=>T(void 0,null,function*(){return me.get(`/swipes/team/${e}/stats`)}),checkSwipeEligibility:(e,t)=>T(void 0,null,function*(){return me.post(`/swipes/check/${e}/${t}`)}),undoSwipe:e=>T(void 0,null,function*(){return me.post(`/swipes/${e}/undo`)})};class QR{constructor(){this.basePath="/phone-invites"}getMyInvites(){return T(this,null,function*(){var t,r,n,a,i,o;try{return yield me.get(`${this.basePath}/my-invites`)}catch(l){return{success:!1,error:{code:((r=(t=l.response)==null?void 0:t.data)==null?void 0:r.code)||"GET_MY_INVITES_ERROR",message:((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Khng th ti li mi",details:(o=(i=l.response)==null?void 0:i.data)==null?void 0:o.details}}}})}respondInvite(t,r){return T(this,null,function*(){var n,a,i,o,l,c;try{return yield me.post(`${this.basePath}/${t}/respond`,{action:r})}catch(u){return{success:!1,error:{code:((a=(n=u.response)==null?void 0:n.data)==null?void 0:a.code)||"RESPOND_INVITE_ERROR",message:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.message)||"Khng th phn hi li mi",details:(c=(l=u.response)==null?void 0:l.data)==null?void 0:c.details}}}})}sendPhoneInvite(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.post(`${this.basePath}/send`,t)}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"SEND_PHONE_INVITE_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th gi li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}getInviteDetails(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.get(`${this.basePath}/${t}`)}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"GET_INVITE_DETAILS_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th ti thng tin li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}cancelInvite(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.delete(`${this.basePath}/${t}`)}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"CANCEL_INVITE_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th hy li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}resendInvite(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.post(`${this.basePath}/${t}/resend`)}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"RESEND_INVITE_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th gi li li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}}const ky=new QR;class JR{constructor(){this.basePath="/team-invites",this.teamsPath="/teams"}createInviteToken(t,r){return T(this,null,function*(){var n,a,i,o,l,c;try{return yield me.post(`${this.teamsPath}/${t}/invite-token`,r)}catch(u){return{success:!1,error:{code:((a=(n=u.response)==null?void 0:n.data)==null?void 0:a.code)||"CREATE_INVITE_TOKEN_ERROR",message:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.message)||"Khng th to m mi",details:(c=(l=u.response)==null?void 0:l.data)==null?void 0:c.details}}}})}inviteByPhone(t,r){return T(this,null,function*(){var n,a,i,o,l,c;try{return yield me.post(`${this.basePath}/teams/${t}/invite-by-phone`,r)}catch(u){return{success:!1,error:{code:((a=(n=u.response)==null?void 0:n.data)==null?void 0:a.code)||"INVITE_BY_PHONE_ERROR",message:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.message)||"Khng th gi li mi",details:(c=(l=u.response)==null?void 0:l.data)==null?void 0:c.details}}}})}getMyInvites(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.get(`${this.basePath}/my-invites`,{params:t})}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"GET_MY_INVITES_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th ti li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}getSentInvites(t,r){return T(this,null,function*(){var n,a,i,o,l,c;try{return yield me.get(`${this.basePath}/teams/${t}/sent-invites`,{params:r})}catch(u){return{success:!1,error:{code:((a=(n=u.response)==null?void 0:n.data)==null?void 0:a.code)||"GET_SENT_INVITES_ERROR",message:((o=(i=u.response)==null?void 0:i.data)==null?void 0:o.message)||"Khng th ti li mi  gi",details:(c=(l=u.response)==null?void 0:l.data)==null?void 0:c.details}}}})}respondToInvite(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.post(`${this.basePath}/respond`,t)}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"RESPOND_INVITE_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th phn hi li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}cancelInvite(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.delete(`${this.basePath}/${t}/cancel`)}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"CANCEL_INVITE_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th hy li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}resendInvite(t){return T(this,null,function*(){var r,n,a,i,o,l;try{return yield me.post(`${this.basePath}/${t}/resend`)}catch(c){return{success:!1,error:{code:((n=(r=c.response)==null?void 0:r.data)==null?void 0:n.code)||"RESEND_INVITE_ERROR",message:((i=(a=c.response)==null?void 0:a.data)==null?void 0:i.message)||"Khng th gi li li mi",details:(l=(o=c.response)==null?void 0:o.data)==null?void 0:l.details}}}})}}const zk=new JR,qs=Object.freeze(Object.defineProperty({__proto__:null,default:zk},Symbol.toStringTag,{value:"Module"})),XR=({isOpen:e,matchId:t,myTeam:r,onClose:n,onSuccess:a})=>{var g;const i=Ke(),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(null),h=()=>T(void 0,null,function*(){var m;u(!0),f(null);try{const y=yield gt.sendInvitation(t,{message:o||"Cho i th, hy cng ln lch u nh!"});y.success?(a(),i(ge.matchDetail(t))):f(((m=y.error)==null?void 0:m.message)||"Gi li mi tht bi")}catch(y){console.error("Send invitation error:",y),f(y.message||"C li xy ra, vui lng th li")}finally{u(!1)}}),p=()=>{n(),i(ge.matchDetail(t))};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:n}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mi i u"}),s.jsx("button",{onClick:n,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(P,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"size-16 rounded-full border-2 border-primary overflow-hidden bg-surface-dark",children:r.logo?s.jsx("img",{src:r.logo,alt:r.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-xl",children:((g=r.name)==null?void 0:g.charAt(0))||"T"})}),s.jsx("span",{className:"text-xs font-medium text-primary mt-1",children:"i ca bn"})]}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsx("div",{className:"size-10 rounded-full bg-surface-dark border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-gray-500",children:"VS"})})}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"size-16 rounded-full border-2 border-primary overflow-hidden bg-surface-dark",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white font-bold text-xl",children:"?"})}),s.jsx("span",{className:"text-xs font-medium text-primary mt-1",children:"i th"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Li nhn (ty chn)"}),s.jsx("textarea",{value:o,onChange:m=>l(m.target.value),placeholder:"Nhp li nhn cho i th...",rows:3,maxLength:200,className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[o.length,"/200"]})]}),d&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:d})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ce,{className:"w-full py-3.5",onClick:h,disabled:c,children:c?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"refresh",className:"animate-spin"}),"ang gi..."]}):s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"send"}),"Gi li mi"]})}),s.jsx("button",{onClick:p,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Xem chi tit ko"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(P,{name:"info",className:"text-blue-500 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Gi li mi cht ko"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi gi li mi, i th s nhn c thng bo v c th chp nhn  ln lch u."})]})]})})]})]}):null},e3=({isOpen:e,onClose:t,teamId:r,onAddByPhone:n})=>{const a=Ke();if(!e)return null;const i=()=>{t(),r&&a(ge.teamShare(r))},o=()=>{t(),n?n():r&&a(ge.memberAdd(r))};return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Thm thnh vin"}),s.jsx("button",{onClick:t,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(P,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("button",{onClick:i,className:"w-full flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-98 transition-all border border-gray-100 dark:border-white/5",children:[s.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:s.jsx(P,{name:"qr_code_2",className:"text-xl"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"Chia s QR Code"}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:" thnh vin qut tham gia i"})]}),s.jsx(P,{name:"arrow_forward_ios",className:"text-gray-400 text-sm"})]}),s.jsxs("button",{onClick:o,className:"w-full flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-98 transition-all border border-gray-100 dark:border-white/5",children:[s.jsx("div",{className:"size-12 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500",children:s.jsx(P,{name:"add_ic_call",className:"text-xl"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"Thm bng s in thoi"}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Nhp ST  mi thnh vin"})]}),s.jsx(P,{name:"arrow_forward_ios",className:"text-gray-400 text-sm"})]})]}),s.jsx("button",{onClick:t,className:"w-full mt-4 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-semibold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hu"})]})]})},t3=({options:e,selected:t,onChange:r,className:n=""})=>s.jsx("div",{className:`sticky top-0 z-10 bg-background-light dark:bg-background-dark border-b border-gray-200 dark:border-white/5 ${n}`,children:s.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-2 px-4 py-3",children:e.map(a=>s.jsx("button",{onClick:()=>r(a),className:`shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${t===a?"bg-primary text-white shadow-sm":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:a},a))})}),r3=({invite:e,onAccept:t,onDecline:r,onViewTeam:n,isLoading:a=!1})=>{const i=Ke(),o=d=>{switch(d){case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"accepted":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"declined":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"expired":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";case"cancelled":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";default:return"bg-gray-100 text-gray-600"}},l=d=>{switch(d){case"pending":return"Ch x l";case"accepted":return" chp nhn";case"declined":return" t chi";case"expired":return"Ht hn";case"cancelled":return" hy";default:return d}},c=e.status==="pending",u=e.status==="accepted";return s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 cursor-pointer",onClick:()=>i(ge.teamDetail(e.teamId)),children:[s.jsx(Mt,{src:e.teamLogo,size:"lg",className:"shadow-sm"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:e.teamName}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium shrink-0 ${o(e.status)}`,children:l(e.status)})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[e.inviterName,"  mi bn tham gia"]}),e.teamLevel&&s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[e.teamLevel," ",e.teamGender&&` ${e.teamGender==="MALE"?"Nam":e.teamGender==="FEMALE"?"N":"Mixed"}`]})]})]}),(e.position||e.role||e.customMessage)&&s.jsxs("div",{className:"space-y-1 mb-3 px-2",children:[e.role&&s.jsxs("p",{className:"text-xs text-gray-500",children:[s.jsx("span",{className:"font-medium",children:"Vai tr:"})," ",e.role==="admin"?"Qun tr vin":"Thnh vin"]}),e.position&&s.jsxs("p",{className:"text-xs text-gray-500",children:[s.jsx("span",{className:"font-medium",children:"V tr:"})," ",e.position]}),e.jerseyNumber&&s.jsxs("p",{className:"text-xs text-gray-500",children:[s.jsx("span",{className:"font-medium",children:"S o:"})," ",e.jerseyNumber]}),e.customMessage&&s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 italic mt-2",children:['"',e.customMessage,'"']})]}),c&&!a&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ce,{variant:"secondary",size:"sm",fullWidth:!0,onClick:r,className:"flex-1",children:"T chi"}),s.jsx(ce,{variant:"primary",size:"sm",fullWidth:!0,onClick:t,className:"flex-1",children:"Chp nhn"})]}),c&&a&&s.jsx("div",{className:"flex items-center justify-center py-2",children:s.jsx("div",{className:"animate-pulse text-gray-400 text-sm",children:"ang x l..."})}),u&&s.jsx("button",{onClick:()=>i(ge.teamDetail(e.teamId)),className:"w-full text-center text-sm text-primary font-medium py-2 rounded-xl border border-primary/20 hover:bg-primary/5 transition-colors",children:"Xem i"}),e.expiresAt&&c&&s.jsxs("p",{className:"text-xs text-gray-400 text-center mt-2",children:["Ht hn: ",new Date(e.expiresAt).toLocaleString("vi-VN")]})]})},n3=({invite:e,onCancel:t,onResend:r,isLoading:n=!1})=>{const a=d=>{switch(d){case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"accepted":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"declined":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"expired":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";case"cancelled":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";default:return"bg-gray-100 text-gray-600"}},i=d=>{switch(d){case"pending":return"Ch x l";case"accepted":return" chp nhn";case"declined":return" t chi";case"expired":return"Ht hn";case"cancelled":return" hy";default:return d}},o=e.status==="pending",l=o,c=e.status==="expired"||e.status==="declined",u=()=>{if(!e.expiresAt)return null;const d=new Date(e.expiresAt).getTime()-Date.now();if(d<=0)return" ht hn";const f=Math.floor(d/6e4),h=Math.floor(f/60);return h>0?`${h}h ${f%60}p`:`${f}p`};return s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5",children:[s.jsx("div",{className:"flex items-start justify-between mb-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${a(e.status)}`,children:i(e.status)}),e.expiresAt&&o&&s.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[s.jsx(P,{name:"schedule",className:"text-sm"}),u()]})]}),s.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:e.invitedPhone||"Ngi dng"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[e.position&&`V tr: ${e.position}`,e.position&&e.role&&"  ",e.role&&`${e.role==="admin"?"Qun tr vin":"Thnh vin"}`]})]})}),e.customMessage&&s.jsx("div",{className:"mb-3 px-3 py-2 bg-gray-50 dark:bg-white/5 rounded-xl",children:s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 italic",children:['"',e.customMessage,'"']})}),s.jsxs("div",{className:"flex gap-2",children:[l&&!n&&s.jsx(ce,{variant:"secondary",size:"sm",fullWidth:!0,onClick:t,className:"flex-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Hy li mi"}),c&&!n&&s.jsx(ce,{variant:"secondary",size:"sm",fullWidth:!0,onClick:r,className:"flex-1",children:"Gi li"}),n&&s.jsx("div",{className:"flex-1 text-center text-sm text-gray-400 py-2",children:"ang x l..."})]}),s.jsxs("p",{className:"text-xs text-gray-400 text-center mt-3",children:["Gi: ",new Date(e.createdAt).toLocaleString("vi-VN")]})]})},a3=({isOpen:e,onClose:t,onConfirm:r,isLoading:n=!1})=>{const[a,i]=w.useState("");if(!e)return null;const o=()=>{r(a.trim()||void 0),i("")},l=()=>{n||(i(""),t())};return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:l}),s.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-2xl animate-slide-up",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"size-16 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mx-auto mb-3",children:s.jsx(P,{name:"close",className:"text-3xl text-red-500"})}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"T chi li mi?"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Bn c th nhp l do (ty chn)"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("textarea",{value:a,onChange:c=>i(c.target.value),placeholder:"VD:  tham gia i khc, bn rn...",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-3 min-h-[100px] text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none",maxLength:200,disabled:n}),s.jsxs("p",{className:"text-xs text-gray-400 text-right mt-1",children:[a.length,"/200"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:l,disabled:n,className:"flex-1 py-3 rounded-xl border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400 font-semibold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors disabled:opacity-50",children:"Hy"}),s.jsx("button",{onClick:o,disabled:n,className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-semibold hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"ang x l..."]}):"T chi"})]})]})]})},s3=({isOpen:e,onClose:t,type:r,title:n,description:a,icon:i,iconColor:o="text-red-500",inputPlaceholder:l="Nhp l do (ty chn)...",inputMaxLength:c=200,primaryButtonText:u,onPrimaryAction:d,secondaryButtonText:f="Hy",isLoading:h=!1})=>{const[p,g]=w.useState("");if(w.useEffect(()=>{e&&g("")},[e]),w.useEffect(()=>{const x=v=>{v.key==="Escape"&&e&&!h&&t()};return e&&window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x)}},[e,h,t]),!e)return null;const m=()=>{r==="input"?d(p.trim()):d()},y=()=>{h||(g(""),t())},b=()=>o.includes("red")?"bg-red-100 dark:bg-red-900/30":o.includes("orange")?"bg-orange-100 dark:bg-orange-900/30":o.includes("green")?"bg-green-100 dark:bg-green-900/30":"bg-gray-100 dark:bg-white/5";return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:y}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[85vh] overflow-y-auto",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"text-center mb-4",children:[i&&s.jsx("div",{className:`size-16 rounded-full ${b()} flex items-center justify-center mx-auto mb-3`,children:s.jsx(P,{name:i,className:`text-3xl ${o}`})}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:n}),a&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:a})]}),r==="input"&&s.jsxs("div",{className:"mb-4",children:[s.jsx("textarea",{value:p,onChange:x=>g(x.target.value),placeholder:l,className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-3 min-h-[100px] text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",maxLength:c,disabled:h,autoFocus:!0}),s.jsxs("p",{className:"text-xs text-gray-400 text-right mt-1",children:[p.length,"/",c]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:y,disabled:h,className:"flex-1 py-3 rounded-xl border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400 font-semibold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors disabled:opacity-50",children:f}),s.jsx("button",{onClick:m,disabled:h,className:`flex-1 py-3 rounded-xl font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${o.includes("red")?"bg-red-500 text-white hover:bg-red-600":o.includes("orange")?"bg-orange-500 text-white hover:bg-orange-600":"bg-primary text-slate-900 hover:bg-primary/90"}`,children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"ang x l..."]}):u})]})]})]})},i3=({isOpen:e,onClose:t,matchId:r,onAttendanceUpdate:n})=>{const a=Et(E=>E.user),i=Mn(E=>E.showToast),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(null),[h,p]=w.useState("A"),[g,m]=w.useState(!1),y=w.useCallback(()=>T(void 0,null,function*(){if(r)try{l(!0);const[E,A]=yield Promise.all([gt.getMatchAttendance(r),gt.getMyAttendance(r)]);E.success&&E.data&&u(E.data),A.success&&f(A.data)}catch(E){console.error("Failed to fetch attendance:",E),i(E.message||"Khng th ti danh sch im danh","error")}finally{l(!1)}}),[r,i]);w.useEffect(()=>{e&&y()},[e,y]);const b=(E,A)=>T(void 0,null,function*(){if(r)try{m(!0);const O=yield gt.updateAttendance(r,{status:E,reason:A});O.success&&O.data&&(f(O.data),i({PENDING:" hy xc nhn",CONFIRMED:" xc nhn tham gia!",DECLINED:" bo bn"}[E],"success"),yield y(),n==null||n())}catch(O){console.error("Failed to update attendance:",O),i(O.message||"Khng th cp nht im danh","error")}finally{m(!1)}}),x=()=>{b("CONFIRMED")},v=()=>{const E=prompt("L do bo bn:");E&&b("DECLINED",E)},k=()=>{b("PENDING")},j=(E,A)=>{switch(E){case"PENDING":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-gray-500/10 text-gray-500 border border-gray-500/20",children:"Cha phn hi"});case"CONFIRMED":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:"C mt"});case"DECLINED":return s.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20",children:["Bn ",A&&`(${A})`]})}},M=()=>{if(!d)return null;const E=d.status;return s.jsxs("div",{className:"flex gap-3",children:[E==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:g,onClick:v,children:"Bo bn"}),s.jsx(ce,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:g,onClick:x,children:"S tham gia"})]}),E==="CONFIRMED"&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:g,onClick:v,children:"Bo bn"}),s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:g,onClick:k,children:"Cha xc nhn"})]}),E==="DECLINED"&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:g,onClick:x,children:"S tham gia"}),s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:g,onClick:k,children:"Cha xc nhn"})]})]})};if(w.useEffect(()=>{const E=A=>{A.key==="Escape"&&e&&!g&&t()};return e&&window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)}},[e,g,t]),!e)return null;const N=h==="A"?c==null?void 0:c.teamA:c==null?void 0:c.teamB;return s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>!g&&t()}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[85vh] overflow-y-auto",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsx("div",{className:"text-center mb-4",children:s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Lc lng im danh"})}),o?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):!c||!N?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(P,{name:"event_busy",className:"text-5xl text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Khng th ti thng tin im danh"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl flex",children:[s.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${h==="A"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>p("A"),children:(c==null?void 0:c.teamA.name)||"i nh"}),s.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${h==="B"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>p("B"),children:(c==null?void 0:c.teamB.name)||"i khch"})]})}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Tnh trng im danh"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:N.summary.confirmed}),s.jsxs("span",{className:"text-gray-500",children:["/",N.summary.total]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${N.summary.confirmedPercentage}%`}})}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["C mt: ",N.summary.confirmed]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Bn: ",N.summary.declined]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Cha tr li: ",N.summary.pending]})]})]})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-base mb-3",children:"Danh sch thnh vin"}),N.attendance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(P,{name:"person_off",className:"text-4xl text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Cha c d liu im danh"})]}):s.jsx("div",{className:"space-y-2",children:N.attendance.map(E=>{const A=a&&E.userId===a.id;return s.jsxs("div",{className:`bg-white dark:bg-[#1A2C23] rounded-xl p-3 shadow-sm border border-gray-100 dark:border-gray-800/50 flex items-center gap-3 ${A?"ring-2 ring-primary/20":""}`,children:[s.jsx("div",{className:"relative",children:E.avatar?s.jsx("img",{src:E.avatar,alt:E.fullName,className:"w-12 h-12 rounded-full object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:s.jsx(P,{name:"person",className:"text-gray-500"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-sm truncate",children:E.fullName}),A&&s.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded bg-primary/20 text-primary",children:"Bn"})]}),E.phone&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:E.phone})]}),s.jsx("div",{children:j(E.status,E.reason)})]},E.id)})})]}),d&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-3 mb-3 border border-gray-100 dark:border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(P,{name:"person",className:"text-primary"}),s.jsx("p",{className:"font-medium text-sm",children:"Trng thi ca bn"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[j(d.status,d.reason),d.responseTime&&s.jsx("span",{className:"text-xs text-gray-500",children:new Date(d.responseTime).toLocaleString("vi-VN")})]})]}),M()]})]})]})]})},o3=({isOpen:e,onClose:t,matchId:r,myTeam:n,opponentTeam:a,onSuccess:i})=>{const o=Dl(),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,h]=w.useState(""),[p,g]=w.useState(""),[m,y]=w.useState(!1),[b,x]=w.useState(null),v=()=>T(void 0,null,function*(){if(!l||!u||!f){x("Vui lng in y  thng tin ngy, gi v sn d kin");return}y(!0),x(null);try{yield o.rematch(r,{proposedDate:l,proposedTime:u,proposedPitch:f,notes:p||void 0}),i()}catch(j){console.error("Rematch error:",j),x(j.message||"C li xy ra, vui lng th li")}finally{y(!1)}}),k=()=>{m||t()};return e?s.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:k}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[90vh] overflow-y-auto",children:[m&&s.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm rounded-t-3xl",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"ang gi li mi..."})]}),s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:" li"}),s.jsx("button",{onClick:k,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(P,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx(Mt,{src:n.logo||"",size:"md"}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:n.name}),s.jsx("span",{className:"text-[10px] text-primary",children:"i ca bn"})]}),s.jsx("div",{className:"flex flex-col items-center justify-center px-4",children:s.jsx("div",{className:"text-2xl font-black text-primary",children:"VS"})}),s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{src:a.logo||"",size:"md"}),s.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-orange-500 text-white text-[8px] font-bold rounded-full",children:"C"})]}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:a.name}),a.level&&s.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:a.level})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Ngy d kin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:l,onChange:j=>c(j.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Gi d kin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"time",value:u,onChange:j=>d(j.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Loi sn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Gg.map(j=>s.jsx("button",{type:"button",onClick:()=>h(j),className:`py-2.5 px-3 rounded-xl text-sm font-medium transition-all ${f===j?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:j},j))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Ghi ch ",s.jsx("span",{className:"text-gray-400",children:"(Ty chn)"})]}),s.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-xl p-3 text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none",placeholder:"Nhn tin cho i bn v o u, ko nc...",value:p,onChange:j=>g(j.target.value),maxLength:200}),s.jsxs("p",{className:"text-xs text-gray-400 text-right mt-1",children:[p.length,"/200"]})]})]}),b&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:b})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ce,{className:"w-full py-3.5",onClick:v,disabled:m,children:m?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"refresh",className:"animate-spin"}),"ang gi..."]}):s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"replay"}),"Gi li mi"]})}),s.jsx("button",{onClick:k,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hy"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(P,{name:"info",className:"text-blue-500 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Gi li mi ti u"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi gi li mi, i th c s nhn c thng bo v c th chp nhn  ln lch u."})]})]})})]})]}):null},jy=[{name:"Sn Thanh a",address:"ng in Bin Ph, Q.Bnh Thnh",lat:10.8031,lng:106.7081},{name:"Sn TH (Thng Nht)",address:"ng in Bin Ph, Q.1",lat:10.785,lng:106.695},{name:"Sn Rch Kim",address:"ng CMT8, Q.3",lat:10.7791,lng:106.6818},{name:"Sn Ph M",address:"ng Ph M, Q.7",lat:10.7564,lng:106.7091},{name:"Sn Ph Th",address:"ng L Dun, Q.1",lat:10.7729,lng:106.6946},{name:"Sn Yt Kiu",address:"ng H B Kin, Q.1",lat:10.7698,lng:106.6835}],l3=({value:e,onChange:t,error:r})=>{const[n,a]=w.useState((e==null?void 0:e.name)||""),[i,o]=w.useState((e==null?void 0:e.address)||""),[l,c]=w.useState((e==null?void 0:e.lat)||0),[u,d]=w.useState((e==null?void 0:e.lng)||0),[f,h]=w.useState((e==null?void 0:e.mapLink)||""),[p,g]=w.useState(!1),m=E=>{a(E.name),o(E.address),c(E.lat),d(E.lng);const A=`https://www.google.com/maps?q=${E.lat},${E.lng}`;h(A),t({name:E.name,address:E.address,lat:E.lat,lng:E.lng,mapLink:A})},y=E=>{m(E),g(!1)},b=E=>{a(E),l&&u&&t({name:E,address:i,lat:l,lng:u,mapLink:f})},x=E=>{o(E),l&&u&&t({name:n,address:E,lat:l,lng:u,mapLink:f})},v=E=>{const A=parseFloat(E);if(c(isNaN(A)?0:A),!isNaN(A)&&u){const O=f||`https://www.google.com/maps?q=${A},${u}`;h(O),t({name:n,address:i,lat:A,lng:u,mapLink:O})}},k=E=>{const A=parseFloat(E);if(d(isNaN(A)?0:A),l&&!isNaN(A)){const O=f||`https://www.google.com/maps?q=${l},${A}`;h(O),t({name:n,address:i,lat:l,lng:A,mapLink:O})}},j=()=>{window.open("https://www.google.com/maps","_blank")},M=l!==0&&u!==0,N=!jy.find(E=>E.name===n&&E.lat===l);return s.jsxs("div",{className:"flex flex-col gap-4",children:[!p&&!M&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-3",children:"Chn sn ph bin"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:jy.map(E=>s.jsx("button",{type:"button",onClick:()=>y(E),className:"p-3 bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-xl text-left hover:border-primary dark:hover:border-primary transition-colors active:scale-[0.98]",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(P,{name:"place",className:"text-primary shrink-0 mt-0.5"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:E.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:E.address})]})]})},E.name))}),s.jsx("button",{type:"button",onClick:()=>g(!0),className:"mt-3 w-full py-3 text-sm font-medium text-primary border border-dashed border-primary/30 rounded-xl hover:bg-primary/5 transition-colors",children:"+ Nhp sn khc"})]}),M&&!p&&s.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-2xl border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center shrink-0",children:s.jsx(P,{name:"place",className:"text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-green-900 dark:text-green-100",children:n}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 truncate",children:i}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[l.toFixed(6),", ",u.toFixed(6)]})]})]}),s.jsx("button",{type:"button",onClick:()=>g(!0),className:"px-3 py-1.5 text-xs font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900/30 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors shrink-0",children:"i"})]})}),p&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white",children:"Nhp thng tin sn"}),s.jsx("button",{type:"button",onClick:()=>{g(!1),N&&(a(""),o(""),c(0),d(0),h(""))},className:"text-xs text-primary",children:" Chn sn c sn"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Tn sn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",placeholder:"VD: Sn Thanh a",value:n,onChange:E=>b(E.target.value),className:"w-full px-4 py-3.5 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white placeholder:text-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["a ch ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",placeholder:"VD: 123 ng ABC, Qun 1",value:i,onChange:E=>x(E.target.value),className:"w-full px-4 py-3.5 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white placeholder:text-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white",children:["Ta  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("button",{type:"button",onClick:j,className:"text-xs text-primary flex items-center gap-1",children:[s.jsx(P,{name:"open_in_new",size:"xs"}),"M Google Maps"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",step:"any",placeholder:"Latitude",value:l||"",onChange:E=>v(E.target.value),className:"w-full px-3 py-3.5 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white placeholder:text-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})}),s.jsx("div",{className:"flex-1",children:s.jsx("input",{type:"number",step:"any",placeholder:"Longitude",value:u||"",onChange:E=>k(E.target.value),className:"w-full px-3 py-3.5 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white placeholder:text-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:" M Google Maps  Click phi vo v tr  Copy ta "})]}),f&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Link Google Maps"}),s.jsx("input",{type:"url",value:f,onChange:E=>{h(E.target.value),l&&u&&t({name:n,address:i,lat:l,lng:u,mapLink:E.target.value})},className:"w-full px-4 py-3.5 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white placeholder:text-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),r&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[s.jsx(P,{name:"error",className:"text-red-500 shrink-0"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r})]})]})},c3=({isOpen:e,onClose:t,matchId:r,myTeam:n,opponentTeam:a,onSuccess:i})=>{const o=Dl(),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,h]=w.useState({name:"",address:"",lat:0,lng:0,mapLink:""}),[p,g]=w.useState(!1),[m,y]=w.useState(null),b=()=>T(void 0,null,function*(){if(!l||!u){y("Vui lng chn ngy v gi thi u");return}if(!f.name||!f.address||f.lat===0||f.lng===0){y("Vui lng chn y  thng tin a im (tn, a ch, v tr trn bn )");return}g(!0),y(null);try{yield o.confirmMatch(r,{date:l,time:u,location:{name:f.name,address:f.address,lat:f.lat,lng:f.lng,mapLink:f.mapLink}}),i()}catch(v){console.error("Confirm match error:",v),y(v.message||"C li xy ra, vui lng th li")}finally{g(!1)}}),x=()=>{p||t()};return e?s.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:x}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[90vh] overflow-y-auto",children:[p&&s.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm rounded-t-3xl",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"ang cht ko..."})]}),s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Cht ko"}),s.jsx("button",{onClick:x,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(P,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx(Mt,{src:n.logo||"",size:"md"}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:n.name})]}),s.jsx("div",{className:"flex flex-col items-center justify-center px-4",children:s.jsx("div",{className:"text-2xl font-black text-primary",children:"VS"})}),s.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[s.jsx(Mt,{src:a.logo||"",size:"md"}),s.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:a.name}),a.level&&s.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:a.level})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Ngy thi u ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Gi thi u ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"time",value:u,onChange:v=>d(v.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["a im thi u ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(l3,{value:f,onChange:h,error:m&&(!f.name||!f.address||f.lat===0||f.lng===0)?"Vui lng chn a im":void 0})]})]}),m&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:m})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(ce,{className:"w-full py-3.5",onClick:b,disabled:p,children:p?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"refresh",className:"animate-spin"}),"ang cht..."]}):s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(P,{name:"handshake"}),"Xc nhn cht ko"]})}),s.jsx("button",{onClick:x,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hy"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(P,{name:"info",className:"text-blue-500 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Cht ko trn u"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi cht ko, thng tin trn u s c gi n i th v trn u s chuyn sang trng thi Lch u."})]})]})})]})]}):null},u3=3,d3=1e3;class f3{constructor(){this.isInitialized=!1}initialize(t=0){return T(this,null,function*(){try{if(!this.hasValidToken())return{success:!0,shouldNavigate:!0,navigateTo:"login"};const n=yield Promise.all([this.loadUserProfile(),this.loadMyTeams()]),a=n[0],i=n[1];return a.success?i.success?(this.isInitialized=!0,{success:!0,shouldNavigate:!0,navigateTo:"dashboard"}):{success:!1,shouldNavigate:!1,error:i.error}:{success:!1,shouldNavigate:!1,error:a.error}}catch(r){return console.error("Launching error:",r),{success:!1,shouldNavigate:!1,error:r.message||"Khng th ti d liu. Vui lng th li."}}})}retry(t){return T(this,null,function*(){return t>=u3?{success:!1,shouldNavigate:!1,error:" vt qu s ln th li. Vui lng ng nhp li."}:(yield new Promise(r=>setTimeout(r,d3)),this.initialize(t))})}hasValidToken(){try{const{accessToken:t}=jd();return!!t}catch(t){return console.error("Error checking token:",t),!1}}loadUserProfile(){return T(this,null,function*(){try{const{useAuthStore:t}=yield Yn(()=>T(this,null,function*(){const{useAuthStore:n}=yield Promise.resolve().then(()=>bR);return{useAuthStore:n}}),void 0,import.meta.url);return{success:!0,data:yield t.getState().getProfile()}}catch(t){return console.error("Error loading profile:",t),{success:!1,error:t.message||"Li kt ni khi ti thng tin ngi dng"}}})}loadMyTeams(){return T(this,null,function*(){try{const{useTeamStore:t}=yield Yn(()=>T(this,null,function*(){const{useTeamStore:r}=yield Promise.resolve().then(()=>BR);return{useTeamStore:r}}),void 0,import.meta.url);return yield t.getState().fetchMyTeams(),{success:!0}}catch(t){return console.error("Error loading teams:",t),{success:!1,error:t.message||"Li kt ni khi ti danh sch i"}}})}loadFonts(){return T(this,null,function*(){return new Promise(t=>{"fonts"in document?T(this,null,function*(){try{yield Promise.all([document.fonts.load("24px Material Icons"),document.fonts.load("24px Material Symbols Outlined")]),document.body.classList.add("material-icons-loaded"),t(!0)}catch(n){console.warn("Font loading failed:",n),document.body.classList.add("material-icons-loaded"),t(!0)}}):setTimeout(()=>{document.body.classList.add("material-icons-loaded"),t(!0)},500)})})}reset(){this.isInitialized=!1}}const Hf=new f3,_y={status:"idle",error:null,retryCount:0,profileLoaded:!1,teamsLoaded:!1,fontsLoaded:!1,profile:null,teams:null},$k=Un(e=>Z(C({},_y),{setStatus:t=>e({status:t}),setError:t=>e({error:t,status:t?"error":"idle"}),incrementRetry:()=>e(t=>({retryCount:t.retryCount+1})),resetRetry:()=>e({retryCount:0}),reset:()=>e(_y),setProfileLoaded:t=>e({profileLoaded:!0,profile:t,status:"loading_data"}),setTeamsLoaded:t=>e({teamsLoaded:!0,teams:t,status:"ready"}),setFontsLoaded:()=>e({fontsLoaded:!0})})),h3=()=>{const e=$k();return{setStatus:e.setStatus,setError:e.setError,incrementRetry:e.incrementRetry,resetRetry:e.resetRetry,reset:e.reset,setProfileLoaded:e.setProfileLoaded,setTeamsLoaded:e.setTeamsLoaded,setFontsLoaded:e.setFontsLoaded}},Sy=["sports_tennis","table_tennis","sports_volleyball","sports_tennis"];function m3(){const e=Ke(),{status:t,error:r,retryCount:n}=$k(),{setStatus:a,setError:i,incrementRetry:o,setFontsLoaded:l}=h3(),[c,u]=w.useState(0);w.useEffect(()=>{const g=setInterval(()=>{u(m=>(m+1)%Sy.length)},800);return()=>clearInterval(g)},[]),w.useEffect(()=>{let g=!0;return T(this,null,function*(){try{if(a("loading"),yield Hf.loadFonts(),!g)return;l(),a("auth_checking");const y=yield Hf.initialize(n);if(!g)return;y.success?y.shouldNavigate?y.navigateTo==="login"?e("/login",{replace:!0}):y.navigateTo==="dashboard"&&e("/dashboard",{replace:!0}):a("ready"):i(y.error||"Khng th ti d liu")}catch(y){if(!g)return;i(y.message||"C li xy ra")}}),()=>{g=!1}},[n]);const d=()=>{i(null),o()},f=()=>{Hf.reset(),e("/login",{replace:!0})},h=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white",children:[s.jsx("div",{className:"flex gap-3 mb-8",children:Sy.map((g,m)=>s.jsx("div",{className:`material-icons text-4xl transition-all duration-300 ${m===c?"scale-125 text-[#11d473]":"scale-100 text-gray-500"}`,style:{transform:m===c?"translateY(-8px)":"translateY(0)"},children:g},g))}),s.jsx("h1",{className:"text-3xl font-bold mb-4 tracking-wide",children:"CP KO SPORT"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-[#11d473] rounded-full animate-pulse"}),s.jsx("p",{className:"text-gray-400 animate-pulse",children:"ang ti..."})]})]}),p=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white px-8",children:[s.jsx("div",{className:"material-icons text-red-500 text-6xl mb-6",children:"error_outline"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Khng th ti d liu"}),s.jsx("p",{className:"text-gray-400 text-center mb-8",children:r}),s.jsx("p",{className:"text-gray-500 text-sm mb-8 text-center",children:"Kim tra kt ni mng v th li"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:d,className:"px-6 py-3 bg-[#11d473] hover:bg-[#0ea65e] text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[s.jsx("span",{className:"material-icons text-xl",children:"refresh"}),"Th li"]}),s.jsxs("button",{onClick:f,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[s.jsx("span",{className:"material-icons text-xl",children:"login"}),"ng nhp li"]})]})]});return t==="error"?p():h()}const p3=()=>{const e=Ke(),[t,r]=w.useState(!1),[n,a]=w.useState(null),i=()=>T(void 0,null,function*(){try{r(!0),a(null),console.log("Starting Zalo 3-Step authentication...");const o=yield Wu.authenticateWithThreeSteps();if(o.success)e("/dashboard");else throw new Error(o.error||o.message||"Authentication failed")}catch(o){console.error("Login error:",o),a(o instanceof Error?o.message:"Khng th ng nhp. Vui lng th li.")}finally{r(!1)}});return s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-5 bg-background-light dark:bg-background-dark",children:s.jsxs("div",{className:`bg-white dark:bg-surface-dark ${Np.lg} ${Ck.lg} w-full max-w-[400px] shadow-lg ${kR.lg}`,children:[s.jsx("h1",{className:`font-bold text-center mb-2.5 text-slate-900 dark:text-white ${lr.xl}`,children:"Cho mng!"}),s.jsx("p",{className:`text-center text-gray-600 dark:text-gray-400 ${lr.small}`,children:"Kt ni vi ti khon Zalo ca bn"}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:s.jsx("p",{className:`text-blue-600 dark:text-blue-400 leading-relaxed text-center ${lr.caption}`,children:" bt u s dng SportHub, vui lng cho php truy cp thng tin Zalo ca bn."})}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4",children:s.jsx("p",{className:`text-blue-600 dark:text-blue-400 leading-relaxed text-center ${lr.caption}`,children:" Bo mt: Chng ti s dng phng thc xc thc 3 bc an ton ca Zalo."})}),n&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:s.jsxs("p",{className:`text-red-600 dark:text-red-400 text-center ${lr.caption}`,children:[" ",n]})}),s.jsx("button",{onClick:i,disabled:t,className:`w-full ${Np.md} py-4 ${lr.base} font-semibold text-white ${t?"bg-gray-400 cursor-not-allowed opacity-70":"bg-[#0066cc]"}`,children:t?"ang ng nhp...":"ng nhp vi Zalo"}),s.jsx("p",{className:`text-center text-gray-500 dark:text-gray-400 ${lr.caption}`,children:"Bng vic nhn nt trn, bn ng  vi iu khon s dng v Chnh sch bo mt."})]})})},Je={success:e=>fi.getState().addToast("success",e),error:e=>fi.getState().addToast("error",e),warning:e=>fi.getState().addToast("warning",e),info:e=>fi.getState().addToast("info",e)},lo=[{id:1,title:"Tm ko cc nhanh",desc:"Ch cn qut tri, qut phi! H thng t ng ghp ko 'bt cp' da trn trnh , khu vc v thi gian rnh ca i bn.",icon:"flash_on",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuCeKRp8PNX06N8qLy6aBysvvgnzY-M6lgYIfjhgqTodyPAi2wEW2ob_i9EdMrg8MfmRcDkKx4X1otwpwsJuurICNxkC_6NKoRY36WfdJ2kDRuocVwGO1wPOFcfF1ylENUtxowUKtSAjmJSMgVAVR05f7ZjvDYTy67BitLR1YGQHDW26ppWzT6L3bGi3pAN6Ywt84Rl87aEm2sulKC-OEey-aMiAqZFBuNCeqdpuKa6C_mCcF6VXAvavSend-1KFuh3Iqg6Ft1dnFLRE",color:"text-red-500",bgColor:"bg-red-500/10"},{id:2,title:"Qun l i bng",desc:"im danh, thu qu, sp xp i hnh d dng. Mi thng tin thnh vin v ch s k nng u c s ha chuyn nghip.",icon:"groups",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuDgMiy1WmLO4CLqqm08LykjhNM_VUb8V7nJx8NNcKoNfLzmRWdsXEY_yV2U8cG0uLrYD5laTf2l7i5hxH15lGifO4dHiHKSnIBF8xOwAetdY2Ph1wP9lUYUr_y8p5zqgbC1osTFvvawVoHAHSc4TnIGOasCaFPaLTNNT0RG42RZc638OH_blB4k8j2K5Wy6oshulBAF96Y0pK-ZEtM8PzpbYc6wAcqMfliTLkZ87SXPQrX6d-idB1W5RkrQMu7ekYTrs0E0UJARtEq9",color:"text-blue-500",bgColor:"bg-blue-500/10"},{id:3,title:"Lu gi k nim",desc:'Ghi li t s, khonh khc bn thng p v lch s i u. Xy dng profile thnh tch  i bng ngy cng "ngu" hn.',icon:"emoji_events",image:"https://lh3.googleusercontent.com/aida-public/AB6AXuAgxBAaJQou-skfFZH5ACWZ-qpEWdiR7OC1Ed1HCHOREyVUCtHmKYJGQoYC_UPMXGDEoSsU1p4tKlT0V4O1ROjwVxJaHO-xN6R7H-6b9U5j_4n47evOpJOrLBTseQ-vBpPT1DoR5gIISwy_i5KqGzMuHbLw5yuB5wSsdt0hkXXz32EfnKqFH933RZnWk5JsZ9Shpst4HVWLru7fZ_PKYR4qvSBh3_fOxfHYyHSzrOMtfQtTbuV4gR064mquc2XNzjS07DUl8OA1r18W",color:"text-yellow-500",bgColor:"bg-yellow-500/10"}],g3=()=>{const e=Ke(),[t,r]=w.useState(0),[n,a]=w.useState(!1),i=()=>{t<lo.length-1?r(u=>u+1):o()},o=()=>{e(ge.dashboard)},l=()=>T(void 0,null,function*(){a(!0);try{const u=yield Wu.authenticateWithThreeSteps();u.success?e(ge.dashboard):(console.error("Login failed:",u.error),Je.error(u.error||"ng nhp tht bi"))}catch(u){console.error("Zalo login error:",u),Je.error("C li xy ra, vui lng th li")}finally{a(!1)}}),c=lo[t];return s.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark relative overflow-hidden transition-all duration-300",children:[s.jsx("div",{className:"absolute top-4 right-4 z-50",children:s.jsx("button",{onClick:o,className:`px-4 py-2 font-bold text-gray-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors ${lr.small}`,children:"B qua"})}),s.jsxs("div",{className:`flex-1 flex flex-col items-center justify-center ${jR.padding} text-center mt-8`,children:[s.jsxs("div",{className:"relative mb-12 w-full max-w-xs aspect-square flex items-center justify-center",children:[s.jsx("div",{className:`absolute inset-0 rounded-full blur-3xl opacity-30 animate-pulse ${c.bgColor.replace("/10","/30")}`}),s.jsxs("div",{className:"relative w-64 h-64",children:[s.jsx("div",{className:`absolute -top-4 -right-4 size-20 rounded-full ${c.bgColor} flex items-center justify-center animate-bounce delay-100`,children:s.jsx(P,{name:c.icon,className:`${yl.xl} ${c.color}`})}),s.jsx("div",{className:"absolute -bottom-4 -left-4 size-14 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center animate-bounce delay-300",children:s.jsx(P,{name:"star",className:`${yl.lg} text-yellow-400`,filled:!0})}),s.jsx("div",{className:"w-full h-full rounded-[2rem] overflow-hidden border-4 border-white dark:border-white/10 shadow-2xl rotate-3 transition-transform duration-500 ease-out hover:rotate-0",children:s.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover"})})]})]}),s.jsxs("div",{className:"max-w-xs mx-auto animate-fade-in",children:[s.jsx("h2",{className:`font-extrabold text-slate-900 dark:text-white mb-4 leading-tight ${lr.xl}`,children:c.title}),s.jsx("p",{className:`text-gray-500 dark:text-gray-400 leading-relaxed ${lr.base}`,children:c.desc})]},t)]}),s.jsxs("div",{className:`${Ck.md} pb-safe w-full`,children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsx("div",{className:`flex ${Kg.sm}`,children:lo.map((u,d)=>s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d===t?"w-8 bg-primary":"w-2 bg-gray-300 dark:bg-gray-700"}`},d))})}),s.jsx("button",{onClick:l,disabled:n,className:"w-full flex items-center justify-center gap-3 bg-[#0068FF] hover:bg-[#0056CC] text-white h-14 rounded-xl font-bold text-base shadow-lg transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed mb-3",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"ang ng nhp..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm2.59-11.41L12 10l-2.59 1.41L8 11l2.59-1.41L12 8l1.41 1.59L16 11l-2.59 1.41L12 14l-1.41-1.59L8 13l2.59-1.41L12 10z"})}),s.jsx("span",{children:"ng nhp bng Zalo"})]})}),s.jsx(ce,{fullWidth:!0,onClick:i,className:"h-14 text-lg shadow-xl shadow-primary/20",variant:"secondary",icon:t===lo.length-1?"rocket_launch":"arrow_forward",children:t===lo.length-1?"Khm ph ngay":"B qua"})]}),s.jsx("style",{children:`
        .animate-fade-in {
          animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},x3=5*60*1e3,v3=Un()(Us((e,t)=>({pendingInvitations:[],nearbyTeams:[],lastFetched:0,setHomeData:r=>{e(Z(C({},r),{lastFetched:Date.now()}))},clearHomeData:()=>{e({pendingInvitations:[],nearbyTeams:[],lastFetched:0})},isDataStale:(r=x3)=>{const{lastFetched:n}=t();return n===0?!0:Date.now()-n>r}}),{name:"home-storage"})),Ey={lat:10.7769,lng:106.7009},y3=()=>{const{setUpcomingMatches:e}=Sd(),{showToast:t}=Mn(),r=v3(),[n,a]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState(!0),[f,h]=w.useState(!0),[p,g]=w.useState(!1),[m,y]=w.useState(null),b=w.useRef(!0),x=w.useRef(!1),v=w.useCallback(()=>new Promise(M=>{if(!navigator.geolocation){console.warn("Geolocation not supported, using default location"),M(Ey);return}navigator.geolocation.getCurrentPosition(N=>{M({lat:N.coords.latitude,lng:N.coords.longitude})},N=>{console.warn("Geolocation error, using default location:",N.message),M(Ey)},{timeout:5e3,enableHighAccuracy:!1})}),[]),k=w.useCallback((M=!1)=>T(void 0,null,function*(){var N,E,A;if(!M&&x.current&&!r.isDataStale()){a(r.pendingInvitations),o([]),c(!1),d(!1),h(!1);return}g(!0),c(!0),d(!0),h(!0),y(null);try{yield v();const O=YR.getNotifications({type:"team_invitation",unreadOnly:!0}).then(ae=>{if(ae.success){const U=ae.data||[];return a(U),{success:!0,data:U}}return{success:!1,error:"Failed to load invitations"}}).catch(ae=>({success:!1,error:ae})).then(ae=>(c(!1),ae)),F=gt.getMatches({status:"CONFIRMED"}).then(ae=>{if(ae.success){const U=Array.isArray(ae.data)?ae.data:[];return e(U),{success:!0}}return{success:!1,error:"Failed to load matches"}}).catch(ae=>({success:!1,error:ae})).then(ae=>(h(!1),ae)),G=yield Promise.all([O,F]);d(!1);const ne=[];let X=[];const J=G[0];"data"in J&&J.data?X=J.data:ne.push("Khng th ti li mi"),G[1].success||ne.push("Khng th ti trn u"),ne.length>0&&M&&t(ne.join(". "),"error"),ne.length===2&&y("Khng th ti d liu. Vui lng th li."),ne.length<2&&X.length>0&&r.setHomeData({pendingInvitations:X,nearbyTeams:[]}),x.current=!0}catch(O){console.error("Home data fetch error:",O);const F=((A=(E=(N=O==null?void 0:O.response)==null?void 0:N.data)==null?void 0:E.error)==null?void 0:A.message)||(O==null?void 0:O.message)||"C li xy ra";y(F),M&&t(F,"error")}finally{b.current&&g(!1)}}),[v,e,t,r]),j=w.useCallback(()=>T(void 0,null,function*(){yield k(!0)}),[k]);return w.useEffect(()=>(k(!1),()=>{b.current=!1}),[]),{pendingInvitations:n,nearbyTeams:i,isLoadingInvitations:l,isLoadingTeams:u,isLoadingMatches:f,isRefreshing:p,error:m,refresh:j}},Uk=6e4,Fk=36e5,jc=43200,Ty=1440,Cy=Symbol.for("constructDateFrom");function Ed(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Cy in e?e[Cy](t):e instanceof Date?new e.constructor(t):new Date(t)}function Dn(e,t){return Ed(e,e)}let b3={};function w3(){return b3}function Py(e){const t=Dn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Zg(e,...t){const r=Ed.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function qc(e,t){const r=+Dn(e)-+Dn(t);return r<0?-1:r>0?1:r}function N3(e){return Ed(e,Date.now())}function k3(e,t,r){const[n,a]=Zg(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function j3(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function _3(e,t){return+Dn(e)-+Dn(t)}function S3(e,t){const r=Dn(e);return r.setHours(23,59,59,999),r}function E3(e,t){const r=Dn(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function T3(e,t){const r=Dn(e);return+S3(r)==+E3(r)}function C3(e,t,r){const[n,a,i]=Zg(r==null?void 0:r.in,e,e,t),o=qc(a,i),l=Math.abs(k3(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*l);let c=qc(a,i)===-o;T3(n)&&l===1&&qc(n,i)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function P3(e,t,r){const n=_3(e,t)/1e3;return j3(r==null?void 0:r.roundingMethod)(n)}const I3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M3=(e,t,r)=>{let n;const a=I3[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ki(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const A3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},R3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},O3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L3={date:ki({formats:A3,defaultWidth:"full"}),time:ki({formats:R3,defaultWidth:"full"}),dateTime:ki({formats:O3,defaultWidth:"full"})},D3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z3=(e,t,r,n)=>D3[e];function Nn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const $3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},U3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},F3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},H3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},V3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},K3={ordinalNumber:V3,era:Nn({values:$3,defaultWidth:"wide"}),quarter:Nn({values:U3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nn({values:F3,defaultWidth:"wide"}),day:Nn({values:B3,defaultWidth:"wide"}),dayPeriod:Nn({values:H3,defaultWidth:"wide",formattingValues:W3,defaultFormattingWidth:"wide"})};function kn(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Z3(l,f=>f.test(o)):G3(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function G3(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Z3(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Bk(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const q3=/^(\d+)(th|st|nd|rd)?/i,Y3=/\d+/i,Q3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J3={any:[/^b/i,/^(a|c)/i]},X3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eO={any:[/1/i,/2/i,/3/i,/4/i]},tO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oO={ordinalNumber:Bk({matchPattern:q3,parsePattern:Y3,valueCallback:e=>parseInt(e,10)}),era:kn({matchPatterns:Q3,defaultMatchWidth:"wide",parsePatterns:J3,defaultParseWidth:"any"}),quarter:kn({matchPatterns:X3,defaultMatchWidth:"wide",parsePatterns:eO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kn({matchPatterns:tO,defaultMatchWidth:"wide",parsePatterns:rO,defaultParseWidth:"any"}),day:kn({matchPatterns:nO,defaultMatchWidth:"wide",parsePatterns:aO,defaultParseWidth:"any"}),dayPeriod:kn({matchPatterns:sO,defaultMatchWidth:"any",parsePatterns:iO,defaultParseWidth:"any"})},lO={code:"en-US",formatDistance:M3,formatLong:L3,formatRelative:z3,localize:K3,match:oO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cO(e,t,r){var g,m;const n=w3(),a=(m=(g=r==null?void 0:r.locale)!=null?g:n.locale)!=null?m:lO,i=2520,o=qc(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,u]=Zg(r==null?void 0:r.in,...o>0?[t,e]:[e,t]),d=P3(u,c),f=(Py(u)-Py(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<Ty){const y=Math.round(h/60);return a.formatDistance("aboutXHours",y,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<jc){const y=Math.round(h/Ty);return a.formatDistance("xDays",y,l)}else if(h<jc*2)return p=Math.round(h/jc),a.formatDistance("aboutXMonths",p,l)}if(p=C3(u,c),p<12){const y=Math.round(h/jc);return a.formatDistance("xMonths",y,l)}else{const y=p%12,b=Math.trunc(p/12);return y<3?a.formatDistance("aboutXYears",b,l):y<9?a.formatDistance("overXYears",b,l):a.formatDistance("almostXYears",b+1,l)}}function uO(e,t){return cO(e,N3(e),t)}function dO(e,t){const r=()=>Ed(t==null?void 0:t.in,NaN),a=pO(e);let i;if(a.date){const u=gO(a.date,2);i=xO(u.restDateString,u.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(a.time&&(l=vO(a.time),isNaN(l)))return r();if(a.timezone){if(c=yO(a.timezone),isNaN(c))return r()}else{const u=new Date(o+l),d=Dn(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Dn(o+l+c)}const _c={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pO(e){const t={},r=e.split(_c.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],_c.timeZoneDelimiter.test(t.date)&&(t.date=e.split(_c.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=_c.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function gO(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function xO(e,t){if(t===null)return new Date(NaN);const r=e.match(fO);if(!r)return new Date(NaN);const n=!!r[4],a=co(r[1]),i=co(r[2])-1,o=co(r[3]),l=co(r[4]),c=co(r[5])-1;if(n)return jO(t,l,c)?bO(t,l,c):new Date(NaN);{const u=new Date(0);return!NO(t,i,o)||!kO(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function co(e){return e?parseInt(e):1}function vO(e){const t=e.match(hO);if(!t)return NaN;const r=Wf(t[1]),n=Wf(t[2]),a=Wf(t[3]);return _O(r,n,a)?r*Fk+n*Uk+a*1e3:NaN}function Wf(e){return e&&parseFloat(e.replace(",","."))||0}function yO(e){if(e==="Z")return 0;const t=e.match(mO);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return SO(n,a)?r*(n*Fk+a*Uk):NaN}function bO(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const wO=[31,null,31,30,31,30,31,31,30,31,30,31];function Hk(e){return e%400===0||e%4===0&&e%100!==0}function NO(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(wO[t]||(Hk(e)?29:28))}function kO(e,t){return t>=1&&t<=(Hk(e)?366:365)}function jO(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function _O(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function SO(e,t){return t>=0&&t<=59}const EO={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},TO=(e,t,r)=>{let n;const a=EO[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" na":n+" trc":n},CO={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},PO={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},IO={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},MO={date:ki({formats:CO,defaultWidth:"full"}),time:ki({formats:PO,defaultWidth:"full"}),dateTime:ki({formats:IO,defaultWidth:"full"})},AO={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},RO=(e,t,r,n)=>AO[e],OO={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},LO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},DO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},zO={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},$O={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},UO={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},FO={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},BO={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},HO=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(n==="quarter")switch(r){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(n==="day")switch(r){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(n==="week")return r===1?"th nht":"th "+r;if(n==="dayOfYear")return r===1?"u tin":"th "+r}return String(r)},WO={ordinalNumber:HO,era:Nn({values:OO,defaultWidth:"wide"}),quarter:Nn({values:LO,defaultWidth:"wide",formattingValues:DO,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:Nn({values:zO,defaultWidth:"wide",formattingValues:$O,defaultFormattingWidth:"wide"}),day:Nn({values:UO,defaultWidth:"wide"}),dayPeriod:Nn({values:FO,defaultWidth:"wide",formattingValues:BO,defaultFormattingWidth:"wide"})},VO=/^(\d+)/i,KO=/\d+/i,GO={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},ZO={any:[/^t/i,/^s/i]},qO={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},YO={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},QO={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},JO={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},XO={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},eL={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},tL={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},rL={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},nL={ordinalNumber:Bk({matchPattern:VO,parsePattern:KO,valueCallback:e=>parseInt(e,10)}),era:kn({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:ZO,defaultParseWidth:"any"}),quarter:kn({matchPatterns:qO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:kn({matchPatterns:QO,defaultMatchWidth:"wide",parsePatterns:JO,defaultParseWidth:"wide"}),day:kn({matchPatterns:XO,defaultMatchWidth:"wide",parsePatterns:eL,defaultParseWidth:"wide"}),dayPeriod:kn({matchPatterns:tL,defaultMatchWidth:"wide",parsePatterns:rL,defaultParseWidth:"any"})},aL={code:"vi",formatDistance:TO,formatLong:MO,formatRelative:RO,localize:WO,match:nL,options:{weekStartsOn:1,firstWeekContainsDate:1}},sL=()=>{var v;const e=Ke(),t=Ll(),r=VR(),{pendingInvitations:n,isLoadingInvitations:a,isLoadingMatches:i,isRefreshing:o,error:l,refresh:c}=y3(),[u,d]=w.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),f=w.useRef(0),h=w.useRef(0),p=k=>{f.current=k.touches[0].clientY,h.current=k.currentTarget.scrollTop},g=k=>{if(h.current>0)return;const M=k.touches[0].clientY-f.current;M>0&&d({isPulling:!0,pullDistance:Math.min(M*.5,120),shouldRefresh:M>100})},m=()=>T(void 0,null,function*(){u.shouldRefresh&&(yield c()),d({isPulling:!1,pullDistance:0,shouldRefresh:!1})});if(l&&!t)return s.jsx(OR,{error:l,onRetry:c});const y=k=>T(void 0,null,function*(){try{yield ky.respondInvite(k,"decline"),c()}catch(j){console.error("Reject invitation error:",j)}}),b=k=>T(void 0,null,function*(){var j;try{const M=yield ky.respondInvite(k,"accept");M.success&&((j=M.data)!=null&&j.team)&&e(ge.teamDetail(M.data.team.id))}catch(M){console.error("Accept invitation error:",M)}}),x=k=>{try{return uO(dO(k),{addSuffix:!0,locale:aL})}catch(j){return"va xong"}};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[u.isPulling&&s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-primary/10 pointer-events-none transition-all",style:{height:`${u.pullDistance}px`},children:s.jsx("div",{className:"transform -translate-y-1/2",children:s.jsx(P,{name:"refresh",className:`text-2xl text-primary ${u.shouldRefresh?"animate-spin":""}`})})}),o&&s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-primary/10 py-2 text-center text-xs text-primary font-medium",children:"ang lm mi..."}),s.jsxs("div",{className:"flex flex-col gap-6 pb-safe-with-nav overflow-y-auto",onTouchStart:p,onTouchMove:g,onTouchEnd:m,children:[s.jsxs("header",{className:"px-5 flex items-start justify-between bg-gradient-to-b from-green-900/20 to-transparent safe-area-top",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[10px] font-bold tracking-widest text-text-secondary uppercase mb-1",children:"Trang qun l"}),s.jsxs("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white leading-tight",children:["Xin cho, ",(t==null?void 0:t.name)||"Bn"," ",s.jsx("span",{className:"inline-block animate-bounce",children:""})]}),s.jsx("p",{className:"text-sm font-normal text-gray-500 dark:text-text-secondary mt-1",children:"Sn sng tm ko hm nay?"})]}),s.jsxs("button",{className:"relative group",onClick:()=>e(ge.profile),children:[s.jsx("div",{className:"h-11 w-11 rounded-full border-2 border-white dark:border-border-dark overflow-hidden shadow-lg",children:t!=null&&t.avatar?s.jsx("img",{alt:"User",className:"h-full w-full object-cover",src:t.avatar}):s.jsx("div",{className:"h-full w-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-lg",children:((v=t==null?void 0:t.name)==null?void 0:v.charAt(0).toUpperCase())||"U"})}),s.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-primary rounded-full border-2 border-white dark:border-background-dark"})]})]}),(a||n.length>0)&&s.jsxs("section",{className:"px-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"size-2 rounded-full bg-red-500 animate-pulse"}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Li mi tham gia"})]}),s.jsx("button",{onClick:()=>e(ge.myInvites),className:"text-xs font-semibold text-primary py-1 px-3 rounded-full hover:bg-primary/10 transition-colors",children:"Xem tt c"})]}),a?s.jsx(js,{}):n.map(k=>{var F,G,ne,X;const j="teamName"in k&&"inviterName"in k,M=j?k.teamLogo:(F=k.data)==null?void 0:F.teamLogo,N=j?k.teamName:(G=k.data)==null?void 0:G.teamName,E=j?k.inviterName:(ne=k.data)==null?void 0:ne.inviterName,A=j?k.teamId:(X=k.data)==null?void 0:X.teamId,O=k.createdAt;return s.jsxs("div",{className:"bg-white dark:bg-surface-dark border-l-4 border-primary rounded-r-2xl p-4 shadow-md flex flex-col gap-3 relative overflow-hidden mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[M?s.jsx(Mt,{src:M,size:"md"}):s.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-lg border-2 border-white dark:border-white/10",children:(N==null?void 0:N.charAt(0).toUpperCase())||"T"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-xs text-gray-500 mb-0.5",children:[s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:E||"Ngi dng"})," "," mi bn vo:"]}),s.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white leading-none",children:N||"i bng"}),s.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:O&&x(O)})]})]}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(ce,{className:"h-9 flex-1 text-xs",onClick:()=>b(k.id),children:"Chp nhn"}),s.jsx(ce,{variant:"secondary",className:"h-9 flex-1 text-xs bg-gray-50 dark:bg-white/5",onClick:()=>y(k.id),children:"T chi"}),s.jsx(ce,{variant:"ghost",className:"h-9 w-9 p-0 rounded-full",onClick:()=>e(ge.teamDetail(A||"")),children:s.jsx(P,{name:"visibility"})})]})]},k.id)})]}),s.jsxs("section",{className:"px-5 flex flex-col gap-4",children:[s.jsxs("button",{onClick:()=>e(ge.matchFind,{state:{openTeamSelector:!0}}),className:"relative w-full group overflow-hidden rounded-2xl bg-primary text-[#102219] shadow-[0_8px_20px_rgba(17,212,115,0.25)] transition-all hover:shadow-[0_12px_24px_rgba(17,212,115,0.35)] active:scale-[0.98] text-left",children:[s.jsx("div",{className:"absolute -right-6 -bottom-6 opacity-10 rotate-12 transition-transform group-hover:rotate-6 group-hover:scale-110",children:s.jsx(P,{name:"sports_soccer",className:"text-[140px] leading-none"})}),s.jsxs("div",{className:"relative z-10 flex items-center justify-between p-5",children:[s.jsxs("div",{className:"flex flex-col items-start gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{name:"bolt",filled:!0,className:"text-2xl"}),s.jsx("h2",{className:"text-xl font-bold leading-tight",children:"Cp ko ngay"})]}),s.jsx("p",{className:"text-sm font-medium opacity-80",children:"Tm i th ph hp gn bn"})]}),s.jsx("div",{className:"h-10 w-10 bg-black/10 rounded-full flex items-center justify-center backdrop-blur-sm",children:s.jsx(P,{name:"arrow_forward"})})]})]}),s.jsxs("button",{onClick:()=>e(ge.teamsCreate),className:"w-full group flex items-center justify-between p-5 rounded-2xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm active:scale-[0.98] transition-all",children:[s.jsxs("div",{className:"flex flex-col items-start gap-1",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight",children:"To i bng"})}),s.jsx("p",{className:"text-gray-500 dark:text-text-secondary text-sm font-normal",children:"Lp i mi & qun l thnh vin"})]}),s.jsx("div",{className:"h-10 w-10 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center text-primary",children:s.jsx(P,{name:"add"})})]})]}),s.jsxs("section",{className:"px-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Ko ca ti"}),s.jsx("button",{onClick:()=>e(ge.matchHistory),className:"text-xs font-semibold text-primary py-1 px-3 rounded-full hover:bg-primary/10 transition-colors",children:"Xem tt c"})]}),i?s.jsx(IR,{}):r&&r.length>0?r.slice(0,1).map(k=>{var j,M,N,E,A;return s.jsxs("div",{onClick:()=>e(ge.matchDetail(k.id)),className:"group relative rounded-2xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 p-5 shadow-lg overflow-hidden cursor-pointer active:scale-[0.99] transition-transform mb-3",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-green-500/10 px-3 py-1 rounded-full border border-green-500/20",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),s.jsx("span",{className:"text-[11px] font-bold text-primary uppercase tracking-wide",children:"Sp din ra"})]}),s.jsx("div",{className:"bg-gray-100 dark:bg-white/5 p-1.5 rounded-lg",children:s.jsx(P,{name:"notifications_active",className:"text-gray-500 dark:text-text-secondary text-lg"})})]}),s.jsxs("div",{className:"flex gap-4 items-start mb-5",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden shrink-0 border dark:border-white/5",children:(j=k.teamA)!=null&&j.logo?s.jsx("img",{alt:"Team Logo",className:"w-full h-full object-cover",src:k.teamA.logo}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-xl",children:((N=(M=k.teamA)==null?void 0:M.name)==null?void 0:N.charAt(0))||"A"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("h4",{className:"text-slate-900 dark:text-white font-bold text-xl leading-tight mb-1",children:[((E=k.teamA)==null?void 0:E.name)||"i nh"," vs ",((A=k.teamB)==null?void 0:A.name)||"i khch"]}),s.jsxs("div",{className:"flex items-center gap-1 text-primary mb-1",children:[s.jsx(P,{name:"schedule",className:"text-lg"}),s.jsxs("span",{className:"text-base font-bold",children:[k.time,"  ",k.date]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-text-secondary",children:[s.jsx(P,{name:"location_on",className:"text-sm"}),s.jsx("span",{className:"text-xs font-normal truncate max-w-[180px]",children:k.location||"a im cha xc nh"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 dark:border-white/5",children:[s.jsx(ce,{className:"flex-1 h-10",variant:"primary",children:"im danh"}),s.jsx(ce,{className:"flex-1 h-10",variant:"secondary",children:"Chi tit"})]})]},k.id)}):s.jsx(AR,{onRefresh:c})]})]})]})},iL=()=>{const e=Ke(),t=Fs(),r=Vr(),{fetchMyTeams:n}=Bs(),[a,i]=w.useState(null),[o,l]=w.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),c=w.useRef(0),u=w.useRef(0),d=w.useRef(!0);w.useEffect(()=>(T(void 0,null,function*(){if(t.length===0&&!r.isLoading)try{i(null),yield n()}catch(y){const b=y instanceof Error?y.message:"Khng th ti danh sch i";i(b)}}),()=>{d.current=!1}),[]);const f=m=>{c.current=m.touches[0].clientY,u.current=m.currentTarget.scrollTop},h=m=>{if(u.current>0)return;const b=m.touches[0].clientY-c.current;b>0&&l({isPulling:!0,pullDistance:Math.min(b*.5,120),shouldRefresh:b>100})},p=()=>T(void 0,null,function*(){o.shouldRefresh&&(yield g()),l({isPulling:!1,pullDistance:0,shouldRefresh:!1})}),g=()=>T(void 0,null,function*(){try{i(null),yield n(!0)}catch(m){const y=m instanceof Error?m.message:"Khng th ti danh sch i";i(y)}});return r.isLoading&&t.length===0?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[s.jsx(dt,{title:"i bng ca ti",showBack:!1,rightAction:s.jsx("button",{onClick:()=>e(ge.teamsCreate),className:"p-2 text-primary",children:s.jsx(P,{name:"add_circle",className:"text-2xl"})})}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch i..."})]})})]}):s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[s.jsx(dt,{title:"i bng ca ti",showBack:!1,rightAction:s.jsx("button",{onClick:()=>e(ge.teamsCreate),className:"p-2 text-primary",children:s.jsx(P,{name:"add_circle",className:"text-2xl"})})}),o.isPulling&&s.jsx("div",{className:"flex items-center justify-center transition-all duration-150 overflow-hidden",style:{height:o.pullDistance,opacity:o.pullDistance/120},children:s.jsx(P,{name:"refresh",className:`text-primary ${o.shouldRefresh?"animate-spin":""}`})}),r.isLoading&&!o.isPulling&&s.jsxs("div",{className:"flex items-center justify-center py-2",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"ang ti..."})]}),a&&t.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-10 px-4",children:[s.jsx(P,{name:"error",className:"text-4xl mb-2 text-red-500"}),s.jsx("p",{className:"text-sm text-red-500 text-center mb-4",children:a}),s.jsx(ce,{variant:"ghost",onClick:g,children:"Th li"})]}),!r.isLoading&&t.length===0&&!a&&s.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:s.jsx(RR,{onCreateTeam:()=>e(ge.teamsCreate)})}),s.jsx("div",{className:"p-4 space-y-6 flex-1 overflow-y-auto no-scrollbar",onTouchStart:f,onTouchMove:h,onTouchEnd:p,children:r.isLoading&&t.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide ml-1",children:"Danh sch i"}),s.jsx($f,{}),s.jsx($f,{}),s.jsx($f,{})]}):t.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide ml-1",children:["Danh sch i (",t.length,")"]}),t.map(m=>{const y=m;return s.jsxs("div",{onClick:()=>e(ge.teamDetail(m.id)),className:"group bg-white dark:bg-surface-dark rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm active:scale-[0.98] transition-all cursor-pointer relative overflow-hidden",children:[s.jsx("div",{className:`absolute top-0 right-0 px-3 py-1 rounded-bl-xl text-[10px] font-bold uppercase tracking-wider ${m.userRole==="admin"?"bg-primary/10 text-primary":"bg-gray-100 dark:bg-white/10 text-gray-500"}`,children:m.userRole==="admin"?"Qun tr vin":"Thnh vin"}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(Mt,{src:m.logo,size:"lg",className:"shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white leading-tight",children:m.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-gray-500 dark:text-text-secondary text-sm",children:[s.jsx(P,{name:"groups",className:"text-sm"}),s.jsxs("span",{children:[m.memberCount," thnh vin"]})]})]})]}),y.stats&&s.jsxs("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Thng"}),s.jsx("span",{className:"font-bold text-green-500",children:y.stats.wins})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Ha"}),s.jsx("span",{className:"font-bold text-gray-500",children:y.stats.draws})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Thua"}),s.jsx("span",{className:"font-bold text-red-500",children:y.stats.losses})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-2 pt-2 border-t border-gray-100",children:[s.jsx("span",{className:"text-gray-500",children:"T l thng"}),s.jsxs("span",{className:"font-bold text-primary",children:[y.stats.winRate,"%"]})]})]}),y.nextMatch&&s.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:s.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-background-dark p-2 rounded-lg",children:[s.jsx("div",{className:"size-8 rounded-lg bg-green-500/10 flex items-center justify-center text-green-500 shrink-0",children:s.jsx(P,{name:"calendar_today",className:"text-sm",filled:!0})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Trn tip theo"}),s.jsxs("p",{className:"text-sm font-semibold truncate text-slate-900 dark:text-white",children:["vs ",y.nextMatch.opponent,"  ",y.nextMatch.time]})]})]})}),!y.nextMatch&&!y.stats&&s.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-gray-400 italic",children:"Cha c lch thi u"}),m.userRole==="admin"&&s.jsx("button",{onClick:b=>{b.stopPropagation(),e(ge.matchFind)},className:"text-xs font-bold text-primary hover:underline",children:"Tm ko ngay"})]})})]},m.id)}),s.jsxs("button",{onClick:()=>e(ge.teamsCreate),className:"w-full py-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-2xl flex items-center justify-center gap-2 text-gray-500 hover:text-primary hover:border-primary hover:bg-primary/5 transition-all group",children:[s.jsx("div",{className:"size-8 rounded-full bg-gray-200 dark:bg-white/10 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:s.jsx(P,{name:"add",className:"text-lg"})}),s.jsx("span",{className:"font-semibold",children:"To i bng mi"})]})]}):null})]})},oL=()=>{var g;const e=Ke(),t=Ll(),{getProfile:r}=Vg(),n=Et(),[a,i]=w.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),o=w.useRef(0),l=w.useRef(0),c=m=>{o.current=m.touches[0].clientY,l.current=m.currentTarget.scrollTop},u=m=>{if(l.current>0)return;const b=m.touches[0].clientY-o.current;b>0&&i({isPulling:!0,pullDistance:Math.min(b*.5,120),shouldRefresh:b>100})},d=()=>T(void 0,null,function*(){a.shouldRefresh&&(yield f()),i({isPulling:!1,pullDistance:0,shouldRefresh:!1})}),f=()=>T(void 0,null,function*(){try{yield r(!0)}catch(m){console.error("Failed to refresh profile:",m)}}),h={attack:7.5,defense:7,technique:7.5},p=t!=null&&t.playerStats?{attack:t.playerStats.attack/10,defense:t.playerStats.defense/10,technique:t.playerStats.technique/10}:h;return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[s.jsx(dt,{title:"H s c nhn",showBack:!1}),a.isPulling&&s.jsx("div",{className:"flex items-center justify-center transition-all duration-150 overflow-hidden",style:{height:a.pullDistance,opacity:a.pullDistance/120},children:s.jsx(P,{name:"refresh",className:`text-primary ${a.shouldRefresh?"animate-spin":""}`})}),n.isLoading&&!a.isPulling&&t&&s.jsxs("div",{className:"flex items-center justify-center py-2",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"ang ti..."})]}),s.jsxs("div",{className:"p-4 overflow-y-auto pb-safe-with-nav",onTouchStart:c,onTouchMove:u,onTouchEnd:d,children:[s.jsxs("div",{className:"mb-6",children:[t!=null&&t.banner?s.jsxs("div",{className:"relative -mx-4 -mt-4 mb-16 h-48 overflow-hidden",children:[s.jsx("img",{src:t.banner,alt:"Banner",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-transparent"})]}):s.jsx("div",{className:"relative -mx-4 -mt-4 mb-16 h-32 bg-gradient-to-r from-primary to-green-600"}),s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsxs("div",{className:"relative -mt-20 mb-3",children:[s.jsx("div",{className:"size-28 rounded-full border-4 border-white dark:border-surface-dark shadow-xl overflow-hidden bg-gray-200 dark:bg-white/5",children:t!=null&&t.avatar?s.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",alt:t.name}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-3xl",children:((g=t==null?void 0:t.name)==null?void 0:g.charAt(0).toUpperCase())||"U"})}),s.jsx("div",{className:"absolute bottom-0 right-1 bg-green-500 size-6 rounded-full border-4 border-background-light dark:border-background-dark"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:(t==null?void 0:t.name)||"Ngi dng"}),s.jsx("button",{onClick:()=>e(ge.profileEdit),className:"p-1 text-primary hover:bg-primary/10 rounded-full transition-colors",children:s.jsx(P,{name:"edit",className:"text-lg"})})]}),s.jsx("p",{className:"text-gray-500 dark:text-text-secondary font-medium",children:(t==null?void 0:t.phone)||"Cha cp nht s in thoi"}),((t==null?void 0:t.position)||(t==null?void 0:t.jerseyNumber))&&s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm",children:[t.position&&s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-full font-medium",children:[s.jsx(P,{name:"sports_soccer",className:"text-sm"}),t.position]}),t.jerseyNumber&&s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-blue-500/10 text-blue-500 rounded-full font-bold",children:[s.jsx(P,{name:"tag",className:"text-sm"}),"#",t.jerseyNumber]})]}),(t==null?void 0:t.bio)&&s.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-text-secondary text-center max-w-md px-4",children:t.bio})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-3",children:"Ch s c nhn"}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm space-y-5",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-bold text-sm",children:[s.jsx("div",{className:"p-1 bg-red-500/10 rounded",children:s.jsx(P,{name:"flash_on",className:"text-sm"})}),"Tn cng"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:p.attack})]}),s.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 rounded-full shadow-[0_0_10px_rgba(239,68,68,0.5)]",style:{width:`${p.attack*10}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-500 font-bold text-sm",children:[s.jsx("div",{className:"p-1 bg-blue-500/10 rounded",children:s.jsx(P,{name:"shield",className:"text-sm"})}),"Phng th"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:p.defense})]}),s.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full shadow-[0_0_10px_rgba(59,130,246,0.5)]",style:{width:`${p.defense*10}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-sm",children:[s.jsx("div",{className:"p-1 bg-primary/10 rounded",children:s.jsx(P,{name:"sports_soccer",className:"text-sm"})}),"K thut"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:p.technique})]}),s.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full shadow-[0_0_10px_rgba(17,212,115,0.5)]",style:{width:`${p.technique*10}%`}})})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl border border-gray-100 dark:border-white/5 overflow-hidden",children:[s.jsx(PR,{}),[{icon:"notifications",label:"Thng bo",badge:"3",action:()=>e(ge.notifications)},{icon:"help",label:"Tr gip & H tr"}].map((m,y)=>s.jsxs("div",{onClick:m.action,className:`flex items-center justify-between p-4 ${y!==1?"border-b border-gray-100 dark:border-white/5":""} active:bg-gray-50 dark:active:bg-white/5 cursor-pointer`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(P,{name:m.icon,className:m.color||"text-gray-500"}),s.jsx("span",{className:`font-medium ${m.color||"text-slate-900 dark:text-white"}`,children:m.label})]}),m.badge&&s.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:m.badge}),!m.badge&&s.jsx(P,{name:"chevron_right",className:"text-gray-400 text-sm"})]},y))]})]})]})},lL=e=>{const t=Sd(),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),h=w.useRef(!0),p=w.useCallback((k,j=1,M=!1)=>T(void 0,null,function*(){var E,A,O;if(!e){console.warn("[useScheduleData] No team selected, skipping fetch");return}console.log(`[useScheduleData] Fetching ${k} matches (page ${j}) for teamId: ${e}, forceRefresh: ${M}`);const N=F=>{k==="pending"&&n(F),k==="upcoming"&&i(F),k==="history"&&l(F)};j===1&&(M?u(!0):N(!0)),f(null);try{k==="pending"?yield t.fetchPendingMatches(e,j,M):k==="upcoming"?yield t.fetchUpcomingMatches(e,j,M):k==="history"&&(yield t.fetchHistoryMatches(e,j,M)),console.log(`[useScheduleData] Successfully fetched ${k} matches`)}catch(F){console.error(`[useScheduleData] Error fetching ${k} matches:`,F);const G=((O=(A=(E=F==null?void 0:F.response)==null?void 0:E.data)==null?void 0:A.error)==null?void 0:O.message)||(F==null?void 0:F.message)||"C li xy ra";f(G)}finally{h.current&&j===1&&(N(!1),u(!1))}}),[e,t]),g=w.useCallback((k,j=!1)=>T(void 0,null,function*(){var M;if(e){if(!j&&((M=t._fetchedTabs[e])==null?void 0:M[k])){console.log(`[useScheduleData] Skipping fetchTabOnDemand for ${k} - already has data`);return}yield p(k,1,j)}}),[e,t._fetchedTabs,p]),m=w.useCallback(k=>T(void 0,null,function*(){const j=t.pagination[k];if(!j.hasMore||t.isLoadingMore[k]){console.log(`[useScheduleData] Skipping loadMore for ${k} - hasMore: ${j.hasMore}, isLoadingMore: ${t.isLoadingMore[k]}`);return}const M=j.page+1;console.log(`[useScheduleData] Loading more for ${k}, page: ${M}`),yield p(k,M,!1)}),[t.pagination,t.isLoadingMore,p]),y=w.useCallback(k=>T(void 0,null,function*(){console.log(`[useScheduleData] Refreshing ${k} tab`),yield p(k,1,!0)}),[p]),b=w.useCallback(()=>T(void 0,null,function*(){if(e){u(!0),f(null);try{yield Promise.all([p("pending",1,!0),p("upcoming",1,!0),p("history",1,!0)])}catch(k){console.error("Refresh all error:",k)}finally{h.current&&u(!1)}}}),[e,p]),x=w.useCallback(()=>{console.log("[useScheduleData] Resetting all data"),t.clearAllData()},[t]),v=w.useCallback(k=>t.pagination[k].hasMore,[t.pagination]);return w.useEffect(()=>()=>{h.current=!1},[]),{pendingMatches:t.pendingMatches,upcomingMatches:t.upcomingMatches,historyMatches:t.historyMatches,isLoadingPending:r,isLoadingUpcoming:a,isLoadingHistory:o,isRefreshing:c,isLoadingMore:t.isLoadingMore,pagination:t.pagination,error:d,fetchTabOnDemand:g,loadMore:m,refreshTab:y,refreshAll:b,resetAll:x,hasMore:v}},cL=()=>{const e=Ke(),[t,r]=w.useState("pending"),[n,a]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState("send"),[f,h]=w.useState({isOpen:!1,type:"input",matchId:null,action:"cancel_request",title:"",description:"",icon:"",primaryButtonText:""}),[p,g]=w.useState(!1),[m,y]=w.useState(null),[b,x]=w.useState(null),[v,k]=w.useState({isOpen:!1,matchId:""}),[j,M]=w.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),N=Fs(),E=Vr(),A=pa(),{setSelectedTeam:O}=Bs(),F=le=>le.requestedByTeam===(A==null?void 0:A.id),{pendingMatches:G,upcomingMatches:ne,historyMatches:X,isLoadingPending:J,isLoadingUpcoming:V,isLoadingHistory:ae,isRefreshing:U,isLoadingMore:Y,error:H,fetchTabOnDemand:fe,loadMore:K,refreshTab:ue,resetAll:we,hasMore:ke}=lL(A==null?void 0:A.id),te=w.useRef(null),B=w.useRef(null),q=w.useRef(0),Se=w.useRef(0),pe=Dl(),De=[{id:"pending",label:"Ch ko"},{id:"upcoming",label:"Lch u"},{id:"history",label:"Lch s"}],ft=le=>{r(le),fe(le)};w.useEffect(()=>{A!=null&&A.id&&(we(),r("pending"),fe("pending"))},[A==null?void 0:A.id]),w.useEffect(()=>{var yr;if((yr=B.current)==null||yr.disconnect(),!ke(t))return;const le=new IntersectionObserver(Hn=>{Hn[0].isIntersecting&&ke(t)&&K(t)},{threshold:.1,rootMargin:"100px"}),qe=te.current;return qe&&(le.observe(qe),B.current=le),()=>{le.disconnect()}},[t,ke,K]);const Ir=le=>{q.current=le.touches[0].clientY,Se.current=le.currentTarget.scrollTop},sr=le=>{if(Se.current>0)return;const yr=le.touches[0].clientY-q.current;yr>0&&M({isPulling:!0,pullDistance:Math.min(yr*.5,120),shouldRefresh:yr>100})},St=()=>T(void 0,null,function*(){j.shouldRefresh&&(yield ue(t)),M({isPulling:!1,pullDistance:0,shouldRefresh:!1})});if(E.isLoading&&N.length===0)return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[s.jsx("div",{className:"pt-6 px-4 pb-2",children:s.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:"Lch thi u"})}),s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch i..."})]})]});if(N.length===0)return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[s.jsx("div",{className:"pt-6 px-4 pb-2",children:s.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:"Lch thi u"})}),s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-4",children:[s.jsx(P,{name:"sports_soccer",className:"text-6xl text-gray-400 mb-4"}),s.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Cha c i bng"}),s.jsx("p",{className:"text-sm text-gray-500 text-center mb-6",children:"Bn cn to i bng trc khi xem lch thi u"}),s.jsx(ce,{className:"w-full max-w-xs",icon:"add",onClick:()=>e(ge.teamsCreate),children:"To i bng ngay"})]})]});const ga=le=>T(void 0,null,function*(){try{yield pe.acceptMatch(le),yield Promise.all([ue("pending"),ue("upcoming")]),Je.success(" chp nhn li mi")}catch(qe){Je.error(qe.message||"Khng th chp nhn li mi")}}),xa=le=>T(void 0,null,function*(){try{yield pe.declineMatch(le),yield ue("pending"),Je.success(" t chi li mi")}catch(qe){Je.error(qe.message||"Khng th t chi li mi")}}),Bn=(le,qe)=>{const Hn={cancel_invite:{title:"Hy li mi?",description:"Nhp l do hy (ty chn)",icon:"undo",primaryButtonText:"Hy li mi"},cancel_request:{title:"Hy yu cu?",description:"Nhp l do hy (ty chn)",icon:"close",primaryButtonText:"Hy yu cu"},report_busy:{title:"Bo bn",description:"Nhp l do bo bn ca bn",icon:"event_busy",primaryButtonText:"Bo bn",iconColor:"text-orange-500"}}[qe];h({isOpen:!0,type:"input",matchId:le,action:qe,title:Hn.title,description:Hn.description,icon:Hn.icon,iconColor:Hn.iconColor,primaryButtonText:Hn.primaryButtonText})},Xa=le=>T(void 0,null,function*(){if(f.matchId){g(!0);try{const qe=(le==null?void 0:le.trim())||"";switch(f.action){case"cancel_invite":yield pe.cancelMatch(f.matchId,{reason:qe}),yield ue("pending"),Je.success(" hy li mi");break;case"cancel_request":yield pe.declineMatch(f.matchId),yield ue("pending"),Je.success(" hy yu cu");break;case"report_busy":yield gt.updateAttendance(f.matchId,{status:"DECLINED",reason:qe}),yield ue("upcoming"),Je.success(" bo bn");break;default:break}h(yr=>Z(C({},yr),{isOpen:!1}))}catch(qe){Je.error(qe.message||"Khng th thc hin thao tc")}finally{g(!1)}}}),es=le=>{x(le)},tt=()=>{x(null)},ts=()=>T(void 0,null,function*(){x(null),yield Promise.all([ue("pending"),ue("upcoming")]),Je.success(" cht ko thnh cng")}),Zr=le=>{d("send"),c(le)},rs=()=>{o(null)},$l=()=>T(void 0,null,function*(){o(null),yield Promise.all([ue("pending"),ue("upcoming")]),Je.success(" gi li mi")}),Vi=le=>{d("edit"),c(le)},qr=()=>{c(null)},Yr=()=>T(void 0,null,function*(){c(null),yield ue("pending"),Je.success(u==="send"?" gi li mi":" cp nht li mi")}),Ul=le=>T(void 0,null,function*(){try{e(ge.matchUpdateScore(le))}catch(qe){Je.error(qe.message||"Khng th kt thc trn u")}}),Pd=le=>T(void 0,null,function*(){try{e(ge.matchUpdateScore(le))}catch(qe){Je.error(qe.message||"Khng th cp nht t s")}}),Ki=le=>{y(le)},Id=()=>{y(null)},Qr=()=>T(void 0,null,function*(){y(null),yield Promise.all([ue("pending"),ue("history")]),Je.success(" gi li mi ti u")}),Fl=le=>T(void 0,null,function*(){e(ge.matchDetail(le))}),Bl=le=>T(void 0,null,function*(){try{(yield gt.updateAttendance(le,{status:"CONFIRMED"})).success&&(Je.success(" xc nhn tham gia!"),v.isOpen&&v.matchId)}catch(qe){Je.error(qe.message||"Khng th cp nht im danh")}}),Hl=le=>{k({isOpen:!0,matchId:le})},Md=()=>T(void 0,null,function*(){yield ue("upcoming")}),Wl=()=>{k({isOpen:!1,matchId:""})};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[s.jsxs("div",{className:"pt-6 px-4 pb-2 flex items-center justify-between bg-background-light dark:bg-background-dark sticky top-0 z-30 safe-area-top",children:[s.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:"Lch thi u"}),s.jsxs("div",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 px-3 py-1.5 rounded-full shadow-sm cursor-pointer active:scale-95 transition-transform",children:[s.jsx(Mt,{src:(A==null?void 0:A.logo)||"",size:"sm",className:"w-6 h-6"}),s.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white max-w-[100px] truncate",children:(A==null?void 0:A.name)||"Chn i"}),s.jsx(P,{name:"expand_more",className:"text-gray-400 text-sm"})]})]}),s.jsx("div",{className:"px-4 pt-2",children:s.jsx("div",{className:"flex p-1 bg-gray-200 dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-white/5",children:De.map(le=>s.jsx("button",{onClick:()=>ft(le.id),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t===le.id?"bg-white dark:bg-background-dark text-primary shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white"}`,children:le.label},le.id))})}),j.isPulling&&s.jsx("div",{className:"flex items-center justify-center transition-all duration-150 overflow-hidden",style:{height:j.pullDistance,opacity:j.pullDistance/120},children:s.jsx(P,{name:"refresh",className:`text-primary ${j.shouldRefresh?"animate-spin":""}`})}),U&&!j.isPulling&&s.jsxs("div",{className:"flex items-center justify-center py-2",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"ang ti..."})]}),s.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto no-scrollbar",onTouchStart:Ir,onTouchMove:sr,onTouchEnd:St,children:[t==="pending"&&s.jsxs("div",{className:"space-y-4 animate-fade-in",children:[J?s.jsxs(s.Fragment,{children:[s.jsx(Lf,{}),s.jsx(Lf,{}),s.jsx(Lf,{})]}):H?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[s.jsx(P,{name:"error",className:"text-4xl mb-2 text-red-500"}),s.jsx("p",{className:"text-sm text-red-500",children:H}),s.jsx(ce,{variant:"ghost",className:"mt-2",onClick:()=>ue("pending"),children:"Th li"})]}):G.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[s.jsx(P,{name:"inbox",className:"text-4xl mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Khng c li mi no"}),s.jsx(ce,{variant:"ghost",className:"mt-2 text-primary",onClick:()=>e(ge.matchFind),children:"Tm ko ngay"})]}):G.map(le=>s.jsx(LR,{match:le,isAdmin:Zc(A==null?void 0:A.userRole),canEditRequest:F(le),onAccept:ga,onDecline:xa,onCancel:qe=>Bn(qe,"cancel_request"),onConfirm:es,onSendRequest:Zr,onEditRequest:Vi},le.id)),G.length>0&&s.jsx("div",{ref:te,className:"h-1"}),Y.pending&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(P,{name:"refresh",className:"animate-spin text-primary"})}),!ke("pending")&&G.length>0&&s.jsx("div",{className:"text-center text-xs text-gray-400 py-4",children:" ti ht"})]}),t==="upcoming"&&s.jsxs("div",{className:"space-y-4 animate-fade-in",children:[V?s.jsxs(s.Fragment,{children:[s.jsx(Df,{}),s.jsx(Df,{}),s.jsx(Df,{})]}):H?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[s.jsx(P,{name:"error",className:"text-4xl mb-2 text-red-500"}),s.jsx("p",{className:"text-sm text-red-500",children:H}),s.jsx(ce,{variant:"ghost",className:"mt-2",onClick:()=>ue("upcoming"),children:"Th li"})]}):ne.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[s.jsx(P,{name:"event_busy",className:"text-4xl mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Khng c lch thi u no"}),s.jsx(ce,{variant:"ghost",className:"mt-2 text-primary",onClick:()=>e(ge.matchFind),children:"Tm ko ngay"})]}):ne.map(le=>s.jsx(DR,{match:le,myTeam:A||{id:"",name:"",logo:""},isAdmin:Zc(A==null?void 0:A.userRole),onFinish:Ul,onUpdateScore:Pd,onCancel:qe=>Bn(qe,"report_busy"),onConfirmAttendance:Bl,onAttendanceView:Hl},le.id)),ne.length>0&&s.jsx("div",{ref:te,className:"h-1"}),Y.upcoming&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(P,{name:"refresh",className:"animate-spin text-primary"})}),!ke("upcoming")&&ne.length>0&&s.jsx("div",{className:"text-center text-xs text-gray-400 py-4",children:" ti ht"})]}),t==="history"&&s.jsxs("div",{className:"space-y-4 animate-fade-in",children:[ae?s.jsxs(s.Fragment,{children:[s.jsx(zf,{}),s.jsx(zf,{}),s.jsx(zf,{})]}):H?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[s.jsx(P,{name:"error",className:"text-4xl mb-2 text-red-500"}),s.jsx("p",{className:"text-sm text-red-500",children:H}),s.jsx(ce,{variant:"ghost",className:"mt-2",onClick:()=>ue("history"),children:"Th li"})]}):X.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[s.jsx(P,{name:"history",className:"text-4xl mb-2 text-gray-400"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Cha c lch s trn u"})]}):X.map(le=>s.jsx(zR,{match:le,myTeam:A||{id:"",name:"",logo:""},isAdmin:Zc(A==null?void 0:A.userRole),onViewDetail:Fl,onRematch:Ki},le.id)),X.length>0&&s.jsx("div",{ref:te,className:"h-1"}),Y.history&&s.jsx("div",{className:"flex justify-center py-4",children:s.jsx(P,{name:"refresh",className:"animate-spin text-primary"})}),!ke("history")&&X.length>0&&s.jsx("div",{className:"text-center text-xs text-gray-400 py-4",children:" ti ht"})]})]}),n&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>a(!1)}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe-with-nav animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Xem lch thi u ca"}),s.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto no-scrollbar",children:[N.map(le=>s.jsxs("button",{onClick:()=>{O(le),a(!1)},className:`w-full flex items-center gap-4 p-3 rounded-2xl border transition-all active:scale-[0.98] ${(A==null?void 0:A.id)===le.id?"bg-primary/10 border-primary":"bg-gray-50 dark:bg-white/5 border-transparent hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[s.jsx(Mt,{src:le.logo}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:`font-bold ${(A==null?void 0:A.id)===le.id?"text-primary":"text-slate-900 dark:text-white"}`,children:le.name}),s.jsx("p",{className:"text-xs text-gray-500",children:le.userRole==="admin"?"Qun tr vin":"Thnh vin"})]}),(A==null?void 0:A.id)===le.id&&s.jsx("div",{className:"size-6 bg-primary rounded-full flex items-center justify-center text-black",children:s.jsx(P,{name:"check",className:"text-sm"})})]},le.id)),s.jsxs("button",{onClick:()=>{a(!1),e(ge.teamsCreate)},className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-primary hover:border-primary transition-colors",children:[s.jsx(P,{name:"add"}),s.jsx("span",{className:"font-medium",children:"To i mi"})]})]})]})]}),i&&s.jsx(XR,{isOpen:!!i,matchId:i,myTeam:A||{id:"",name:"",logo:""},onClose:rs,onSuccess:$l}),l&&(()=>{const le=G.find(qe=>qe.id===l);return le?s.jsx(Dk,{isOpen:!!l,mode:u,matchId:l,myTeam:A||{id:"",name:"",logo:""},opponentTeam:le.teamB||{id:"",name:""},initialData:u==="edit"?{proposedDate:le.date,proposedTime:le.time,proposedPitch:le.location,notes:le.notes}:void 0,onClose:qr,onSuccess:Yr}):null})(),s.jsx(s3,{isOpen:f.isOpen,onClose:()=>h(le=>Z(C({},le),{isOpen:!1})),type:f.type,title:f.title,description:f.description,icon:f.icon,iconColor:f.iconColor,inputPlaceholder:"Nhp l do (ty chn)...",inputMaxLength:200,primaryButtonText:f.primaryButtonText,secondaryButtonText:"Hy",onPrimaryAction:Xa,isLoading:p}),m&&(()=>{const le=X.find(qe=>qe.id===m);return le?s.jsx(o3,{isOpen:!!m,matchId:m,myTeam:A||{id:"",name:"",logo:""},opponentTeam:le.teamB||{id:"",name:"",logo:""},onClose:Id,onSuccess:Qr}):null})(),(()=>{if(!b)return null;const le=G.find(qe=>qe.id===b);return le?s.jsx(c3,{isOpen:!!b,matchId:b,myTeam:A||{id:"",name:"",logo:""},opponentTeam:le.teamB||{id:"",name:"",logo:""},onClose:tt,onSuccess:ts}):null})(),s.jsx(i3,{isOpen:v.isOpen,onClose:Wl,matchId:v.matchId,onAttendanceUpdate:Md})]})},Sc={lat:10.7769,lng:106.7009},uL=()=>{const e=Ke(),{showToast:t}=Mn(),r=pa();Fs();const{filters:n,teams:a,currentIndex:i,totalAvailable:o,isLoading:l,isRefreshing:c,error:u,matchedTeam:d,matchedMatch:f,setFilters:h,resetFilters:p,setTeams:g,setCurrentIndex:m,nextCard:y,setMatchedTeam:b,setMatchedMatch:x,setLoading:v,setRefreshing:k,setError:j,clearError:M}=Ku(),N=w.useRef(!0),E=w.useRef(!1),A=w.useRef(Date.now());w.useEffect(()=>{A.current=Date.now()},[i]);const O=w.useCallback(()=>new Promise(Y=>{if(!navigator.geolocation){console.warn("Geolocation not supported, using default location"),Y(Sc);return}navigator.geolocation.getCurrentPosition(H=>{Y({lat:H.coords.latitude,lng:H.coords.longitude})},H=>{console.warn("Geolocation error, using default location:",H.message),Y(Sc)},{timeout:5e3,enableHighAccuracy:!1})}),[]);w.useEffect(()=>{var Y,H,fe,K;if(!E.current&&r){const ue=Vu(r.level,r.gender),we=Ku.getState().filters;((H=(Y=we.center)==null?void 0:Y.lat)!=null?H:Sc.lat)===ue.center.lat&&((K=(fe=we.center)==null?void 0:fe.lng)!=null?K:Sc.lng)===ue.center.lng&&we.radius===ue.radius&&p(r.level,r.gender)}},[r,p]);const F=w.useCallback((Y=!1)=>T(void 0,null,function*(){if(!(l&&!Y)){v(!0),Y&&k(!0),j(null);try{const H=yield O();h({center:{lat:H.lat,lng:H.lng}});const fe={lat:H.lat,lng:H.lng,radius:n.radius,level:n.level,gender:n.gender,sortBy:n.sortBy==="rating"?"quality":n.sortBy==="createdAt"||n.sortBy==="lastActive"?"activity":n.sortBy,sortOrder:n.sortOrder,limit:50};r!=null&&r.id&&(fe.teamId=r.id);const K=yield qR.discoverTeams(fe);if(K.success&&K.data){const we=(K.data.teams||[]).map(ke=>Z(C({},ke),{logo:ke.logo||"",isActive:!0,isArchived:!1,createdBy:"",createdAt:ke.lastActive||new Date().toISOString()}));g(we,K.data.total||0),E.current=!0}else j("Khng th ti danh sch i")}catch(H){console.error("Discovery fetch error:",H);const fe=(H==null?void 0:H.message)||"Khng th ti danh sch i. Vui lng th li.";j(fe),Y&&t(fe,"error")}finally{N.current&&(v(!1),k(!1))}}}),[n,r,l,O,h,g,v,k,j,t]),G=w.useCallback(Y=>T(void 0,null,function*(){var K;const H=a[i];if(!H||!r)return;const fe=Y==="right"?"like":"pass";try{const ue=yield bo.createSwipe({swiperTeamId:r.id,targetTeamId:H.id,action:fe,swipeMetadata:{timeSpentViewing:Date.now()-A.current,locationPreferenceMatch:H.distance<=15,levelPreferenceMatch:r.level===H.level,genderPreferenceMatch:r.gender===H.gender}});ue.success&&((K=ue.data)!=null&&K.isMatch)&&(b(H),ue.data.newMatch&&x(ue.data.newMatch)),y()}catch(ue){console.error("Swipe error:",ue);const we=(ue==null?void 0:ue.message)||"Khng th thc hin hnh ng. Vui lng th li.";t(we,"error")}}),[a,i,r,y,b,t]),ne=w.useCallback(()=>{},[]),X=w.useCallback(()=>{b(null),x(null)},[b,x]),J=w.useCallback(Y=>{X(),Y&&e(ge.matchDetail(Y))},[X,e]),V=w.useCallback(()=>T(void 0,null,function*(){yield F(!0)}),[F]);w.useEffect(()=>(F(!1),()=>{N.current=!1}),[]);const ae=a[i]||null,U=i<a.length;return{currentTeam:ae,allTeams:a,currentIndex:i,hasMoreCards:U,matchedTeam:d,matchedMatch:f,isLoading:l,isRefreshing:c,error:u,fetchTeams:F,handleSwipe:G,nextCard:y,openFilters:ne,closeMatchModal:X,goToMatchDetail:J,refresh:V}},dL=()=>{const e=Ke(),{currentTeam:t,allTeams:r,currentIndex:n,hasMoreCards:a,matchedTeam:i,matchedMatch:o,isLoading:l,isRefreshing:c,error:u,handleSwipe:d,refresh:f,closeMatchModal:h}=uL(),p=Ku(q=>q.filters),g=Fs(),m=pa(),{setSelectedTeam:y}=Bs(),b=g.filter(q=>q.userRole==="admin"),[x,v]=w.useState(!1),[k,j]=w.useState(!1),[M,N]=w.useState(null),[E,A]=w.useState(null),[O,F]=w.useState({x:0,y:0}),[G,ne]=w.useState(!1),X=w.useRef(null),J=w.useMemo(()=>g.length===0?"no-teams":b.length===0?"has-teams-not-admin":b.length===1?"single-admin-team":"multiple-admin-teams",[g.length,b.length]);w.useEffect(()=>{J==="multiple-admin-teams"&&!m&&(console.log("[FindMatch] Auto-selecting first admin team"),y(b[0]))},[J,m,b,y]);const V=q=>{const Se=b.find(pe=>pe.id===q);Se&&(y(Se),v(!1),f())},ae=q=>T(void 0,null,function*(){!t||(m==null?void 0:m.userRole)!=="admin"||(N(q),setTimeout(()=>T(void 0,null,function*(){yield d(q),N(null),F({x:0,y:0})}),300))}),U=q=>{const Se="touches"in q?q.touches[0].clientX:q.clientX,pe="touches"in q?q.touches[0].clientY:q.clientY;A({x:Se,y:pe}),ne(!0)},Y=q=>{if(!E)return;const Se="touches"in q?q.touches[0].clientX:q.clientX,pe="touches"in q?q.touches[0].clientY:q.clientY;F({x:Se-E.x,y:pe-E.y})},H=()=>{if(!E)return;if(ne(!1),!((m==null?void 0:m.userRole)==="admin")){F({x:0,y:0}),A(null);return}O.x>120?ae("right"):O.x<-120?ae("left"):F({x:0,y:0}),A(null)},fe=()=>{t&&Math.abs(O.x)<5&&Math.abs(O.y)<5&&e(ge.opponentDetail(t==null?void 0:t.id),{state:{team:t,sortBy:p.sortBy,compatibilityScore:Math.round((t.compatibilityScore||0)*100),qualityScore:Math.round((t.qualityScore||0)*100),activityScore:Math.round((t.activityScore||0)*100)}})},K=q=>{if(n+q>=r.length)return{zIndex:0,opacity:0};if(q===0){const pe=O.x*.05,De=M?0:1;return{transform:`translate(${M==="left"?-500:M==="right"?500:O.x}px, ${O.y*.2}px) rotate(${pe}deg)`,transition:G?"none":"transform 0.3s ease, opacity 0.3s ease",opacity:De,zIndex:10}}else if(q===1)return{transform:`scale(${.95+Math.min(Math.abs(O.x),100)/100*.05}) translateY(10px)`,zIndex:9,opacity:1,transition:"transform 0.1s ease"};return{zIndex:0,opacity:0}},ue=Math.max(0,Math.min(O.x/100,1)),we=Math.max(0,Math.min(-O.x/100,1)),ke=q=>q<1?`${Math.round(q*1e3)}m`:`${q.toFixed(1)}km`,{isLoading:te}=Vr();if(te)return console.log("[FindMatch] Loading skeleton: isTeamsLoading =",te),s.jsx(gy,{});if(l&&!t&&!c)return console.log("[FindMatch] Loading skeleton: isLoading =",l,", currentTeam =",t,", isRefreshing =",c),s.jsx(gy,{});if(u&&!t)return s.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark items-center justify-center p-6 text-center",children:[s.jsx("div",{className:"size-24 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mb-4",children:s.jsx(P,{name:"error",className:"text-4xl text-red-500"})}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"C li xy ra"}),s.jsx("p",{className:"text-gray-500 mb-6",children:u}),s.jsx("button",{onClick:f,className:"px-6 py-3 rounded-xl bg-primary text-background-dark font-bold",children:"Th li"})]});const B=(m==null?void 0:m.userRole)==="admin"&&!l&&!c;return!a&&B&&r.length===0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark items-center justify-center p-6 text-center",children:[s.jsxs("div",{className:"flex flex-col items-center text-center max-w-[280px] gap-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-surface-light dark:bg-surface-dark flex items-center justify-center mb-2",children:s.jsx(P,{name:"search_off",className:"text-text-secondary text-4xl"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Ht ko ph hp"}),s.jsx("p",{className:"text-text-secondary text-sm mt-2 leading-relaxed",children:"Hy th m rng bn knh tm kim hoc iu chnh b lc trnh ."})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[s.jsx("button",{onClick:()=>v(!0),className:"px-6 py-3 rounded-xl bg-primary text-background-dark font-bold shadow-lg",children:"Chn i khc"}),s.jsx("button",{onClick:()=>j(!0),className:"px-6 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold",children:"iu chnh b lc"}),s.jsx("button",{onClick:()=>e(ge.dashboard),className:"px-6 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold",children:"Quay v trang ch"})]})]}),s.jsx(yy,{isOpen:k,onClose:()=>j(!1),onApply:f}),x&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>v(!1)}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:'Chn i i "cp ko"'}),s.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto no-scrollbar",children:[b.map(q=>s.jsxs("button",{onClick:()=>V(q.id),className:`w-full flex items-center gap-4 p-3 rounded-2xl border transition-all active:scale-[0.98] ${(m==null?void 0:m.id)===q.id?"bg-primary/10 border-primary":"bg-gray-50 dark:bg-white/5 border-transparent hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[s.jsx(Mt,{src:q.logo}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:`font-bold ${(m==null?void 0:m.id)===q.id?"text-primary":"text-slate-900 dark:text-white"}`,children:q.name}),s.jsx("p",{className:"text-xs text-gray-500",children:"Qun tr vin"})]}),(m==null?void 0:m.id)===q.id&&s.jsx("div",{className:"size-6 bg-primary rounded-full flex items-center justify-center text-black",children:s.jsx(P,{name:"check",className:"text-sm"})})]},q.id)),s.jsxs("button",{onClick:()=>{v(!1),e(ge.teamsCreate)},className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-primary hover:border-primary transition-colors",children:[s.jsx(P,{name:"add"}),s.jsx("span",{className:"font-medium",children:"To i mi"})]})]})]})]}),s.jsx(wy,{isOpen:!!i,matchedTeam:i,myTeamLogo:m==null?void 0:m.logo,myTeamName:m==null?void 0:m.name,myTeamId:m==null?void 0:m.id,matchId:o==null?void 0:o.id,onKeepSwiping:h})]}):J==="no-teams"?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[s.jsxs("div",{className:"pt-12 pb-2 px-4 flex items-center",children:[s.jsx("button",{onClick:()=>e(ge.dashboard),className:"size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors mr-4",children:s.jsx(P,{name:"arrow_back"})}),s.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Tm ko"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:s.jsx(P,{name:"groups",className:"text-primary text-5xl"})}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Cha c i bng"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6 max-w-sm",children:"Bn cn to i  tm ko u. Hy to i mi ca bn v bt u kt ni vi cc i bng khc."}),s.jsx(ce,{icon:"add",onClick:()=>e(ge.teamsCreate),children:"To i ngay"})]})]}):J==="has-teams-not-admin"?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[s.jsxs("div",{className:"pt-12 pb-2 px-4 flex items-center",children:[s.jsx("button",{onClick:()=>e(ge.dashboard),className:"size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors mr-4",children:s.jsx(P,{name:"arrow_back"})}),s.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Tm ko"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-6",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-amber-500/10 flex items-center justify-center mb-6",children:s.jsx(P,{name:"admin_panel_settings",className:"text-amber-500 text-5xl"})}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Cn quyn qun tr vin"}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6 max-w-sm",children:["Bn ang tham gia ",g.length," i nhng cha l qun tr vin ca i no. Hy to i mi hoc lin h qun tr vin  c cp quyn tm ko."]}),s.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[s.jsx(ce,{icon:"add",onClick:()=>e(ge.teamsCreate),children:"To i mi"}),s.jsx("button",{onClick:()=>e(ge.teams),className:"px-6 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold",children:"Xem i ca ti"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-primary/10 to-transparent pointer-events-none z-0"}),c&&s.jsx("div",{className:"fixed top-4 left-0 right-0 z-50 bg-primary/10 py-2 text-center text-xs text-primary font-medium safe-area-top",children:"ang lm mi..."}),s.jsxs("div",{className:"relative z-50 pt-12 pb-2 px-4 flex justify-center shrink-0",children:[s.jsxs("div",{onClick:()=>v(!0),className:"flex items-center gap-2 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-md pl-4 pr-5 py-2 rounded-full shadow-lg border border-white/5 cursor-pointer hover:bg-surface-light hover:dark:bg-surface-dark transition-colors group",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center group-hover:bg-primary/30 transition-colors",children:s.jsx(P,{name:"groups",className:"text-primary text-[16px]"})}),s.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-medium leading-normal",children:m?s.jsxs(s.Fragment,{children:["i ca bn: ",s.jsx("span",{className:"text-primary font-bold",children:m.name})]}):s.jsx("span",{className:"text-primary font-bold",children:"Chn i  tm ko"})}),s.jsx(P,{name:"expand_more",className:"text-text-secondary text-[16px] ml-1"})]}),s.jsx("button",{onClick:()=>e(ge.dashboard),className:"absolute left-4 top-1/2 -translate-y-1/2 size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors",children:s.jsx(P,{name:"arrow_back"})}),s.jsx("button",{onClick:()=>{j(!0)},className:"absolute right-4 top-1/2 -translate-y-1/2 size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors",children:s.jsx(P,{name:"tune"})})]}),s.jsxs("div",{className:"flex-1 relative w-full flex flex-col items-center justify-center p-4 z-10 overflow-visible",children:[s.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 -translate-y-1/2 -translate-y-2 w-[82%] h-[calc(100%-24px)] bg-surface-light/40 dark:bg-surface-dark/40 rounded-[2.5rem] border border-white/5 z-0 pointer-events-none"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 -translate-y-1 w-[82%] h-[calc(100%-24px)] bg-surface-light/70 dark:bg-surface-dark/70 rounded-[2.5rem] border border-white/5 z-10 shadow-lg backdrop-blur-sm pointer-events-none"}),c&&t&&s.jsx("div",{className:"absolute w-full max-w-[360px] h-[72vh] max-h-[660px] bg-surface-light/90 dark:bg-surface-dark/90 rounded-[2.5rem] z-50 flex flex-col items-center justify-center backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-primary/30 border-t-primary animate-spin"}),s.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:"ang tm ko mi..."}),s.jsx("p",{className:"text-xs text-gray-500",children:"ang p dng b lc"})]})}),Array.from({length:Math.min(2,r.length-n)}).map((q,Se)=>{var De,ft,Ir,sr,St,ga,xa;const pe=r[n+Se];return pe?s.jsxs("div",{ref:Se===0?X:null,style:K(Se),className:"absolute w-full max-w-[360px] h-[65vh] sm:h-[72vh] max-h-[600px] sm:max-h-[660px] bg-surface-light dark:bg-surface-dark rounded-[2.5rem] shadow-card flex flex-col overflow-hidden border border-gray-200 dark:border-white/10 group cursor-grab active:cursor-grabbing select-none",onTouchStart:Se===0?U:void 0,onTouchMove:Se===0?Y:void 0,onTouchEnd:Se===0?H:void 0,onMouseDown:Se===0?U:void 0,onMouseMove:Se===0?Y:void 0,onMouseUp:Se===0?H:void 0,onMouseLeave:Se===0?H:void 0,children:[Se===0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-8 left-8 z-30 border-4 border-green-500 rounded-lg px-4 py-1 transform -rotate-12 pointer-events-none transition-opacity",style:{opacity:ue},children:s.jsx("span",{className:"text-4xl font-black text-green-500 uppercase tracking-widest",children:"LIKE"})}),s.jsx("div",{className:"absolute top-8 right-8 z-30 border-4 border-red-500 rounded-lg px-4 py-1 transform rotate-12 pointer-events-none transition-opacity",style:{opacity:we},children:s.jsx("span",{className:"text-4xl font-black text-red-500 uppercase tracking-widest",children:"NOPE"})})]}),s.jsxs("div",{className:"relative h-[35%] w-full bg-surface-light overflow-hidden shrink-0",children:[pe.logo?s.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${pe.logo}')`}}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-6xl font-bold",children:((De=pe.name)==null?void 0:De.charAt(0))||"T"})}),s.jsx("div",{className:"absolute inset-0 bg-surface-light/60 dark:bg-surface-dark/60 backdrop-blur-[2px]"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface-light dark:from-surface-dark via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-4 left-4 flex flex-col gap-1 items-start",children:s.jsxs("div",{className:"px-3 py-1 bg-primary/20 backdrop-blur-md border border-primary/30 rounded-lg flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),s.jsxs("span",{className:"text-slate-900 dark:text-white text-xs font-bold uppercase tracking-wide",children:[Math.round((pe.qualityScore||0)*100),"% Hp c"]})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col pt-16 px-4 sm:px-6 pb-24 items-center text-center bg-surface-light dark:bg-surface-dark w-full overflow-y-auto no-scrollbar",onClick:fe,children:[s.jsx("div",{className:"absolute top-[22%] left-1/2 -translate-x-1/2 z-10",children:s.jsx("div",{className:"w-24 sm:w-28 h-24 sm:h-28 rounded-full p-1.5 bg-surface-light dark:bg-surface-dark shadow-2xl",children:s.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-surface-light border border-gray-200 dark:border-white/10 relative",children:pe.logo?s.jsx("img",{src:pe.logo,className:"w-full h-full object-cover",alt:"logo"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-2xl",children:((ft=pe.name)==null?void 0:ft.charAt(0))||"T"})})})}),s.jsxs("div",{className:"flex flex-col items-center gap-1 mb-2",children:[s.jsxs("h2",{className:"text-slate-900 dark:text-white text-2xl font-display font-bold tracking-tight flex items-center gap-2",children:[pe.name,(pe.qualityScore||0)>=.8&&s.jsx(P,{name:"verified",className:"text-primary text-[22px]"})]}),s.jsx("div",{className:"flex items-center gap-1.5",children:pe.lastActive&&(()=>{const Bn=Date.now(),Xa=new Date(pe.lastActive).getTime(),es=(Bn-Xa)/(1e3*60*60),tt=new Date(pe.lastActive).toDateString()===new Date().toDateString();return es<1?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),s.jsx("span",{className:"text-emerald-400 text-xs font-medium",children:"ang hot ng"})]}):tt?s.jsxs("span",{className:"text-text-secondary text-xs font-medium",children:["Hot ng ",new Date(pe.lastActive).toLocaleDateString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}):null})()}),s.jsx("span",{className:"text-text-secondary text-sm font-medium",children:((Ir=pe.location)==null?void 0:Ir.address)||"..."})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-4",children:[s.jsxs("div",{className:"px-3 py-1 rounded-lg bg-primary/10 border border-primary/20 flex items-center gap-1.5",children:[s.jsx(P,{name:"military_tech",className:"text-primary text-[16px]"}),s.jsx("span",{className:"text-primary text-xs font-bold uppercase tracking-wide",children:pe.level||"-"})]}),s.jsxs("div",{className:"px-3 py-1 rounded-lg bg-white/5 border border-white/10 flex items-center gap-1.5",children:[s.jsx(P,{name:"groups",className:"text-text-secondary text-[16px]"}),s.jsxs("span",{className:"text-text-secondary text-xs font-bold",children:[pe.membersCount||0," Thnh vin"]})]})]}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-2 px-2 mb-6",children:pe.description?pe.description:`Tham gia CapKeoSport t ${new Date(pe.createdAt||"").toLocaleDateString("vi-VN",{month:"long",year:"numeric"})}`}),s.jsxs("div",{className:"w-full grid grid-cols-3 gap-2 sm:gap-3 mb-auto",children:[((sr=pe.stats)==null?void 0:sr.attack)&&s.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-2 sm:p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5 shadow-inner-light",children:[s.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold tracking-wider",children:"Tn cng"}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-white",children:pe.stats.attack}),s.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-emerald-400 rounded-full",style:{width:`${pe.stats.attack}%`}})})]}),((St=pe.stats)==null?void 0:St.defense)&&s.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-2 sm:p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5 shadow-inner-light",children:[s.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold tracking-wider",children:"Phng th"}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-white",children:pe.stats.defense}),s.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-400 rounded-full",style:{width:`${pe.stats.defense}%`}})})]}),((ga=pe.stats)==null?void 0:ga.technique)&&s.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-2 sm:p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5 shadow-inner-light",children:[s.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold tracking-wider",children:"K thut"}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-white",children:pe.stats.technique}),s.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full mt-1 overflow-hidden",children:s.jsx("div",{className:"h-full bg-purple-400 rounded-full",style:{width:`${pe.stats.technique}%`}})})]})]}),s.jsxs("div",{className:"w-full grid grid-cols-2 gap-2 sm:gap-3 mt-3 sm:mt-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 sm:py-3 px-3 sm:px-4 rounded-xl bg-surface-light dark:bg-surface-dark border border-gray-200 dark:border-white/5",children:[s.jsx(P,{name:"sports_soccer",className:"text-primary text-[18px] sm:text-[20px]"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold",children:"Sn bng"}),s.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-900 dark:text-white",children:((xa=pe.pitch)==null?void 0:xa.join(" & "))||"Sn 5 & 7"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 sm:py-3 px-3 sm:px-4 rounded-xl bg-surface-light dark:bg-surface-dark border border-gray-200 dark:border-white/5",children:[s.jsx(P,{name:"near_me",className:"text-primary text-[18px] sm:text-[20px]"}),s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold",children:"Cch xa"}),s.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-900 dark:text-white",children:ke(pe.distance)})]})]})]})]})]},pe.id):null})]}),s.jsxs("div",{className:"relative z-20 w-full flex items-center justify-center gap-10 pb-12 pt-4 px-6 shrink-0",children:[s.jsx("button",{onClick:()=>ae("left"),disabled:!t||(m==null?void 0:m.userRole)!=="admin",className:"group flex items-center justify-center w-[72px] h-[72px] rounded-full bg-surface-light dark:bg-surface-dark text-text-secondary shadow-lg border border-gray-200 dark:border-white/5 hover:bg-gray-200 dark:hover:bg-surface-light hover:text-slate-900 dark:hover:text-white transition-all duration-300 active:scale-90 disabled:opacity-50",children:s.jsx(P,{name:"close",className:"text-[32px] group-hover:rotate-12 transition-transform duration-300"})}),s.jsx("button",{onClick:()=>ae("right"),disabled:!t||(m==null?void 0:m.userRole)!=="admin",className:"group flex items-center justify-center w-[84px] h-[84px] rounded-full bg-primary text-background-dark shadow-glow shadow-primary/40 hover:shadow-primary/60 hover:scale-105 transition-all duration-300 active:scale-95 border-4 border-background-light dark:border-background-dark disabled:opacity-50",children:s.jsx(P,{name:"favorite",className:"text-[40px] filled group-hover:scale-110 transition-transform duration-200"})})]}),m&&m.userRole!=="admin"&&s.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 mx-6 max-w-sm shadow-2xl text-center animate-fade-in",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-500/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(P,{name:"admin_panel_settings",className:"text-amber-500 text-3xl"})}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Cn quyn qun tr vin"}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 leading-relaxed",children:["Bn khng phi l qun tr vin ca i ",s.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:m.name}),". Ch qun tr vin mi c th tm ko u."]}),s.jsx(ce,{icon:"groups",onClick:()=>v(!0),className:"w-full",children:"Chn i khc"})]})}),x&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>v(!1)}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:'Chn i i "cp ko"'}),s.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto no-scrollbar",children:[b.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4 text-center",children:[s.jsx(P,{name:"admin_panel_settings",className:"text-4xl text-gray-400 mb-3"}),s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Bn cha l qun tr vin ca i no"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Hy to i mi hoc lin h qun tr vin  cp quyn"})]}):b.map(q=>s.jsxs("button",{onClick:()=>V(q.id),className:`w-full flex items-center gap-4 p-3 rounded-2xl border transition-all active:scale-[0.98] ${(m==null?void 0:m.id)===q.id?"bg-primary/10 border-primary":"bg-gray-50 dark:bg-white/5 border-transparent hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[s.jsx(Mt,{src:q.logo}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:`font-bold ${(m==null?void 0:m.id)===q.id?"text-primary":"text-slate-900 dark:text-white"}`,children:q.name}),s.jsx("p",{className:"text-xs text-gray-500",children:"Qun tr vin"})]}),(m==null?void 0:m.id)===q.id&&s.jsx("div",{className:"size-6 bg-primary rounded-full flex items-center justify-center text-black",children:s.jsx(P,{name:"check",className:"text-sm"})})]},q.id)),s.jsxs("button",{onClick:()=>{v(!1),e(ge.teamsCreate)},className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-primary hover:border-primary transition-colors",children:[s.jsx(P,{name:"add"}),s.jsx("span",{className:"font-medium",children:"To i mi"})]})]})]})]})]}),s.jsx(yy,{isOpen:k,onClose:()=>j(!1),onApply:f}),s.jsx(wy,{isOpen:!!i,matchedTeam:i,myTeamLogo:m==null?void 0:m.logo,myTeamName:m==null?void 0:m.name,myTeamId:m==null?void 0:m.id,matchId:o==null?void 0:o.id,onKeepSwiping:h})]})},fL={lat:10.7769,lng:106.7009},hL=()=>{const e=Ke(),[t,r]=w.useState(""),[n,a]=w.useState("Mi chi"),[i,o]=w.useState("Nam"),[l,c]=w.useState(["5"]),[u,d]=w.useState({attack:7,defense:6.5,technique:8}),[f,h]=w.useState(""),[p,g]=w.useState(""),[m,y]=w.useState(null),[b,x]=w.useState(void 0),[v,k]=w.useState(!1),[j,M]=w.useState(null),[N,E]=w.useState(void 0),[A,O]=w.useState(!1),[F,G]=w.useState(0),[ne,X]=w.useState(""),[J,V]=w.useState(!1),[ae,U]=w.useState(null),Y=w.useRef(null),H=w.useRef(null),fe=B=>{c(q=>q.includes(B)?q.filter(Se=>Se!==B):[...q,B])},K=(B,q)=>{d(Se=>Z(C({},Se),{[B]:q}))},ue=B=>T(void 0,null,function*(){var Se;const q=(Se=B.target.files)==null?void 0:Se[0];if(q){if(!q.type.startsWith("image/")){U("Logo phi l file nh (JPG, PNG, WEBP)");return}if(q.size>5*1024*1024){U("Logo khng c vt qu 5MB");return}U(null);const pe=new FileReader;pe.onloadend=()=>y(pe.result),pe.readAsDataURL(q),k(!0);try{const De=yield Ny.uploadFile({file:q,fileType:"logo"},ft=>{console.log(`Logo upload progress: ${ft}%`)});De.success&&De.data?(x(De.data.publicUrl),console.log("Logo uploaded successfully:",De.data.publicUrl)):U("Khng th ti ln logo. Vui lng th li.")}catch(De){console.error("Logo upload error:",De),U("Khng th ti ln logo. Vui lng th li.")}finally{k(!1)}}}),we=B=>T(void 0,null,function*(){var Se;const q=(Se=B.target.files)==null?void 0:Se[0];if(q){if(!q.type.startsWith("image/")){U("Banner phi l file nh (JPG, PNG, WEBP)");return}if(q.size>5*1024*1024){U("Banner khng c vt qu 5MB");return}U(null);const pe=new FileReader;pe.onloadend=()=>M(pe.result),pe.readAsDataURL(q),O(!0);try{const De=yield Ny.uploadFile({file:q,fileType:"banner"},ft=>{console.log(`Banner upload progress: ${ft}%`)});De.success&&De.data?(E(De.data.publicUrl),console.log("Banner uploaded successfully:",De.data.publicUrl)):U("Khng th ti ln nh ba. Vui lng th li.")}catch(De){console.error("Banner upload error:",De),U("Khng th ti ln nh ba. Vui lng th li.")}finally{O(!1)}}}),ke=()=>t.trim()?t.length<3||t.length>100?"Tn i bng phi t 3-100 k t":f.trim()?f.length<5?"a ch phi t 5 k t tr ln":null:"Vui lng nhp khu vc hot ng":"Vui lng nhp tn i bng",te=()=>T(void 0,null,function*(){var q;const B=ke();if(B){U(B);return}if(v||A){U("Vui lng i ti ln nh hon tt.");return}V(!0),U(null),G(0),X("ang to i bng...");try{const Se={attack:Math.round(u.attack*10),defense:Math.round(u.defense*10),technique:Math.round(u.technique*10)},pe=Ik(l),De={name:t.trim(),gender:Mk(i),level:n,location:Z(C({},fL),{address:f.trim()}),stats:Se,pitch:pe.length>0?pe:void 0,description:p.trim()||void 0,logo:b,banner:N},ft=yield _n.createTeam(De);if(!ft.success||!ft.data)throw new Error(((q=ft.error)==null?void 0:q.message)||"Khng th to i bng");const Ir=ft.data;G(100),X("Hon tt!"),setTimeout(()=>{e(ge.teamDetail(Ir.id))},500)}catch(Se){console.error("Create team error:",Se),U(Se.message||"C li xy ra. Vui lng th li."),G(0),X("")}finally{V(!1)}});return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"To i bng mi",onBack:()=>e(ge.teams)}),ae&&s.jsx("div",{className:"mx-4 mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:ae})}),J&&ne&&s.jsxs("div",{className:"mx-4 mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl",children:[s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2",children:ne}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${F}%`}})})]}),s.jsxs("div",{className:"p-4 flex flex-col gap-6 overflow-y-auto pb-24",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative w-full h-36 rounded-xl bg-gray-100 dark:bg-surface-dark border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-white/5 transition-colors group overflow-hidden",onClick:()=>{var B;return!J&&!A&&((B=H.current)==null?void 0:B.click())},children:[j?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:j,alt:"Banner",className:"w-full h-full object-cover"}),A&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin block mx-auto mb-2"}),s.jsx("p",{className:"text-white text-xs font-bold",children:"ang ti ln..."})]})}),N&&!A&&s.jsx("div",{className:"absolute top-2 right-2 bg-green-500 rounded-full p-1",children:s.jsx(P,{name:"check",className:"text-white text-sm"})})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400 group-hover:text-primary transition-colors",children:[s.jsx(P,{name:"add_photo_alternate",className:"text-3xl"}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"nh ba (Banner)"})]}),s.jsx("input",{ref:H,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:we,disabled:J||A})]}),s.jsxs("div",{className:"flex items-center gap-4 px-2",children:[s.jsxs("div",{className:"relative size-24 rounded-full bg-gray-100 dark:bg-surface-dark border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-white/5 transition-colors group shrink-0 overflow-hidden",onClick:()=>{var B;return!J&&!v&&((B=Y.current)==null?void 0:B.click())},children:[m?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:m,alt:"Logo",className:"w-full h-full object-cover"}),v&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin block mx-auto"})})}),b&&!v&&s.jsx("div",{className:"absolute top-1 right-1 bg-green-500 rounded-full p-1",children:s.jsx(P,{name:"check",className:"text-white text-xs"})})]}):s.jsx(P,{name:"add_a_photo",className:"text-2xl text-gray-400 group-hover:text-primary transition-colors"}),s.jsx("input",{ref:Y,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:ue,disabled:J||v}),!v&&s.jsx("div",{className:"absolute bottom-0 right-0 bg-primary rounded-full p-1.5 shadow-lg border-2 border-background-light dark:border-background-dark",children:s.jsx(P,{name:"edit",className:"text-white text-xs"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Logo i bng"}),s.jsx("p",{className:"text-xs text-gray-500",children:v?"ang ti ln...":"Nn dng nh vung, ti a 5MB"})]})]})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsx(vr,{label:"Tn i bng",placeholder:"VD: FC Si Gn",icon:"groups",value:t,onChange:B=>r(B.target.value),disabled:J}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Trnh "}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:_d.map(B=>s.jsx("button",{onClick:()=>!J&&a(B),disabled:J,className:`py-3 px-4 rounded-xl border text-sm font-semibold transition-all ${n===B?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:B},B))})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii tnh"}),s.jsx("div",{className:"flex gap-3",children:[{label:"Nam",icon:"male"},{label:"N",icon:"female"},{label:"Mixed",icon:"wc"}].map(B=>s.jsxs("button",{onClick:()=>!J&&o(B.label),disabled:J,className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex items-center justify-center gap-2 ${i===B.label?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[s.jsx(P,{name:B.icon,className:"text-lg"}),B.label]},B.label))})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Loi sn thng "}),s.jsx("div",{className:"flex gap-3",children:Pk.map(B=>s.jsxs("button",{onClick:()=>!J&&fe(B),disabled:J,className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex flex-col items-center gap-1 ${l.includes(B)?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[s.jsx(P,{name:"sports_soccer",className:"text-lg",filled:l.includes(B)}),s.jsxs("span",{children:["Sn ",B]})]},B))})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ch s i bng (Thang 10)"}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[s.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg",children:s.jsx(P,{name:"flash_on",className:"text-lg"})}),s.jsx("span",{className:"font-bold text-sm",children:"Tn cng"})]}),s.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:u.attack})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:u.attack,onChange:B=>K("attack",parseFloat(B.target.value)),disabled:J,className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[s.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-lg",children:s.jsx(P,{name:"shield",className:"text-lg"})}),s.jsx("span",{className:"font-bold text-sm",children:"Phng th"})]}),s.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:u.defense})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:u.defense,onChange:B=>K("defense",parseFloat(B.target.value)),disabled:J,className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:s.jsx(P,{name:"sports_soccer",className:"text-lg"})}),s.jsx("span",{className:"font-bold text-sm",children:"K thut"})]}),s.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:u.technique})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:u.technique,onChange:B=>K("technique",parseFloat(B.target.value)),disabled:J,className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),s.jsx(vr,{label:"Khu vc hot ng",placeholder:"VD: Qun 7, TP.HCM",icon:"location_on",value:f,onChange:B=>h(B.target.value),disabled:J}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii thiu ngn"}),s.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none disabled:opacity-50",placeholder:"M t v i bng, tiu ch giao lu...",value:p,onChange:B=>g(B.target.value),disabled:J})]})]})]}),s.jsx("div",{className:"mt-auto p-4 border-t border-gray-200 dark:border-white/5 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur z-20",children:s.jsx(ce,{fullWidth:!0,onClick:te,disabled:J,children:J?"ANG TO...":"TO I BNG"})})]})},Wk=({isOpen:e,onClose:t,teamId:r})=>{const[n,a]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,h]=w.useState(null);Ne.useEffect(()=>{e&&(a(""),o(""),h(null))},[e]);const p=m=>{let y=m.replace(/\s/g,"");return y.startsWith("0")?y="84"+y.slice(1):y.startsWith("+84")&&(y=y.slice(1)),"+"+y},g=()=>T(void 0,null,function*(){var m;if(!n||n.length<9){h("Vui lng nhp s in thoi hp l");return}if(r){c(!0),h(null);try{const y=yield zk.inviteByPhone(r,{phone:p(n),customMessage:i.trim()||void 0});y.success?(d(!0),setTimeout(()=>{d(!1),t()},1500),a(""),o("")):h(((m=y.error)==null?void 0:m.message)||"Khng th gi li mi")}catch(y){h("Khng th gi li mi. Vui lng th li.")}finally{c(!1)}}});return e?s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mi tham gia i"}),s.jsx("button",{onClick:t,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:s.jsx(P,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),f&&s.jsx("div",{className:"mb-4 p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 text-sm",children:f}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"S in thoi"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("input",{value:n,onChange:m=>a(m.target.value),type:"tel",placeholder:"Nhp ST...",className:"flex-1 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl h-12 px-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",autoFocus:!0})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Li nhn (ty chn)"}),s.jsx("textarea",{value:i,onChange:m=>o(m.target.value),placeholder:"VD: Gia nhp i chng ti nh!",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-3 h-24 text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",maxLength:100}),s.jsxs("p",{className:"text-xs text-gray-400 text-right",children:[i.length,"/100"]})]})]}),s.jsx("button",{onClick:g,disabled:l||!n,className:"w-full mt-6 py-3 rounded-xl bg-primary text-white font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"ang gi..."]}):"Gi li mi"}),u&&s.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-slate-900/90 text-white px-4 py-2 rounded-full shadow-xl flex items-center gap-2 text-sm font-medium animate-fade-in",children:[s.jsx(P,{name:"check_circle",className:"text-green-500"})," gi li mi thnh cng!"]})]})]}):null},mL=()=>{var k,j,M;const e=Ke(),{teamId:t}=Fn(),[r,n]=w.useState(null),[a,i]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(!1),p=Fs().find(N=>N.id===t),m=Rk(p);w.useEffect(()=>{T(void 0,null,function*(){if(t)try{i(!0),l(null);const E=yield _n.getTeamById(t);E.success&&E.data?n(E.data):l("Khng th ti thng tin i")}catch(E){console.error("Failed to fetch team detail:",E),l((E==null?void 0:E.message)||"C li xy ra")}finally{i(!1)}})},[t]);const y=N=>N==="MALE"||N==="Nam"?"Nam":N==="FEMALE"||N==="N"?"N":"Mixed",b=N=>N==="MALE"||N==="Nam"?"male":N==="FEMALE"||N==="N"?"female":"wc";if(a)return s.jsxs(s.Fragment,{children:[s.jsx(dt,{title:"Chi tit i bng",onBack:()=>e(-1)}),s.jsx(MR,{})]});if(o||!r)return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[s.jsx(dt,{title:"Chi tit i bng",onBack:()=>e(-1)}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(P,{name:"error",className:"text-4xl mb-2 text-red-500"}),s.jsx("p",{className:"text-sm text-red-500 mb-4",children:o||"Khng tm thy i bng"}),s.jsx(ce,{variant:"ghost",onClick:()=>e(-1),children:"Quay li"})]})})]});const x=((k=r.members)==null?void 0:k.slice(0,3).map(N=>{var E;return(E=N.user)==null?void 0:E.avatar}).filter(Boolean))||[],v=Math.max(0,(r.membersCount||0)-(((j=r.members)==null?void 0:j.length)||0));return s.jsxs("div",{className:`flex flex-col min-h-screen bg-background-light dark:bg-background-dark ${m?"pb-24":""}`,children:[s.jsx(dt,{title:"Chi tit i bng",onBack:()=>e(-1)}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-40 w-full overflow-hidden",children:r.banner?s.jsx("img",{src:r.banner,className:"w-full h-full object-cover",alt:"Team Banner"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-green-600/20"})}),s.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:s.jsx("div",{className:"size-24 rounded-full border-4 border-background-light dark:border-background-dark bg-surface-dark overflow-hidden shadow-lg",children:r.logo?s.jsx("img",{className:"w-full h-full object-cover",src:r.logo,alt:r.name}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-2xl",children:r.name.charAt(0)})})})]}),s.jsxs("div",{className:"mt-12 text-center px-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.name}),m&&s.jsx("button",{onClick:()=>e(ge.teamEdit(t),{state:{team:r}}),className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/10 active:bg-gray-200 dark:active:bg-white/20 transition-colors",children:s.jsx(P,{name:"edit",className:"text-lg text-gray-600 dark:text-gray-300"})})]}),s.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[s.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-200 dark:bg-white/10 text-xs font-medium flex items-center gap-1",children:[s.jsx(P,{name:b(r.gender),className:"text-sm"})," ",y(r.gender)]}),s.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-200 dark:bg-white/10 text-xs font-medium flex items-center gap-1",children:[s.jsx(P,{name:"hotel_class",className:"text-sm"})," ",r.level]})]})]}),s.jsx("div",{className:"px-4 mt-6",children:s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5 space-y-4 shadow-sm",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary shrink-0",children:s.jsx(P,{name:"location_on",className:"text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Khu vc"}),s.jsx("p",{className:"text-sm font-medium",children:((M=r.location)==null?void 0:M.address)||"Cha cp nht"})]})]}),r.pitch&&r.pitch.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary shrink-0",children:s.jsx(P,{name:"sports_soccer",className:"text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Loi sn"}),s.jsx("p",{className:"text-sm font-medium",children:r.pitch.map(N=>`Sn ${N}`).join("  ")})]})]})]}),r.description&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary shrink-0",children:s.jsx(P,{name:"info",className:"text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Gii thiu"}),s.jsx("p",{className:"text-sm font-normal text-gray-600 dark:text-gray-300",children:r.description})]})]})]})]})}),r.stats&&(r.stats.attack||r.stats.defense||r.stats.technique)&&s.jsxs("div",{className:"px-4 mt-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsx("h3",{className:"font-bold text-lg",children:"Ch s i"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[r.stats.attack!==void 0&&s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[s.jsx("div",{className:"size-10 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center",children:s.jsx(P,{name:"flash_on"})}),s.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Tn cng"}),s.jsx("span",{className:"font-bold text-lg",children:(r.stats.attack/10).toFixed(1)})]}),r.stats.defense!==void 0&&s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[s.jsx("div",{className:"size-10 bg-blue-500/10 text-blue-500 rounded-full flex items-center justify-center",children:s.jsx(P,{name:"shield"})}),s.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Phng th"}),s.jsx("span",{className:"font-bold text-lg",children:(r.stats.defense/10).toFixed(1)})]}),r.stats.technique!==void 0&&s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[s.jsx("div",{className:"size-10 bg-primary/10 text-primary rounded-full flex items-center justify-center",children:s.jsx(P,{name:"sports_soccer"})}),s.jsx("span",{className:"text-xs font-medium text-gray-500",children:"K thut"}),s.jsx("span",{className:"font-bold text-lg",children:(r.stats.technique/10).toFixed(1)})]})]})]}),s.jsxs("div",{className:"px-4 mt-6 pb-32",children:[s.jsxs("h3",{className:"font-bold text-lg mb-3",children:["Thnh vin (",r.membersCount||0,")"]}),s.jsxs("div",{onClick:()=>t&&e(ge.teamMembers(t)),className:"flex items-center justify-between p-4 rounded-xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm active:bg-gray-50 dark:active:bg-white/5 cursor-pointer transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex -space-x-3",children:[x.map((N,E)=>s.jsx("div",{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark overflow-hidden bg-gray-200",children:N?s.jsx("img",{src:N,className:"w-full h-full object-cover",alt:`Member ${E+1}`}):s.jsx("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center",children:s.jsx(P,{name:"person",className:"text-gray-400"})})},E)),v>0&&s.jsxs("div",{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark bg-gray-100 dark:bg-white/10 flex items-center justify-center text-xs font-bold text-gray-500",children:["+",v]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-bold text-sm text-slate-900 dark:text-white",children:"Xem tt c"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Qun l thnh vin"})]})]}),s.jsx("div",{className:"size-8 rounded-full bg-gray-100 dark:bg-white/5 flex items-center justify-center",children:s.jsx(P,{name:"arrow_forward",className:"text-gray-400 text-lg"})})]})]}),m&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/90 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5 z-40",children:s.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[s.jsx(ce,{variant:"secondary",className:"flex-1",icon:"person_add",onClick:()=>u(!0),children:"Thm TV"}),s.jsx(ce,{variant:"primary",className:"flex-[1.2]",icon:"sports",onClick:()=>e(ge.matchFind),children:"Cp ko"})]})}),s.jsx(e3,{isOpen:c,onClose:()=>u(!1),teamId:t,onAddByPhone:()=>{u(!1),f(!0)}}),s.jsx(Wk,{isOpen:d,onClose:()=>f(!1),teamId:t})]})},pL=()=>{var ue,we,ke;const e=Ke(),{teamId:t}=Fn(),[r,n]=w.useState([]),[a,i]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(null),[d,f]=w.useState(!1),[h,p]=w.useState(!1),[g,m]=w.useState("players"),[y,b]=w.useState([]),[x,v]=w.useState(!1),[k,j]=w.useState(!1),M=Ok(),{fetchSentInvites:N,cancelInvite:E}=Bs(),A=Ll(),F=Fs().find(te=>te.id===t),G=(F==null?void 0:F.userRole)==="admin";w.useEffect(()=>{g==="pending"&&t&&ne()},[g,t]);const ne=()=>T(void 0,null,function*(){if(t){v(!0);try{yield N(t,{status:"pending"});const te=M.filter(B=>B.status==="pending");b(te)}catch(te){console.error("Failed to load pending invites:",te)}finally{v(!1)}}});w.useEffect(()=>{T(void 0,null,function*(){if(t)try{i(!0),l(null);const B=yield _n.getTeamMembers(t);B.success&&B.data?n(B.data):l("Khng th ti danh sch thnh vin")}catch(B){console.error("Failed to fetch team members:",B),l(B instanceof Error?B.message:"C li xy ra")}finally{i(!1)}})},[t]);const X=(te,B)=>{te.stopPropagation(),u(B),f(!0)},J=()=>{f(!1),setTimeout(()=>u(null),300)},V=()=>T(void 0,null,function*(){var te,B;if(!(!c||!t||!F)){if(!G){Je.error("Ch admin mi c quyn xa thnh vin");return}if(c.userId===(A==null?void 0:A.id)){Je.error("Khng th xa chnh mnh. Hy dng tnh nng ri i.");return}if(confirm(`Bn c chc mun xa ${(te=c.user)==null?void 0:te.name} khi i?`))try{const q=yield _n.removeMember(t,c.id);q.success?(Je.success(" xa thnh vin khi i"),n(Se=>Se.filter(pe=>pe.id!==c.id)),J()):Je.error(((B=q.error)==null?void 0:B.message)||"Khng th xa thnh vin")}catch(q){console.error("Failed to remove member:",q),Je.error("C li xy ra")}}}),ae=()=>T(void 0,null,function*(){var te;if(!(!c||!t||!F)){if(!G){Je.error("Ch admin mi c quyn thng cp");return}if(K(c)){Je.error("Thnh vin ny  l admin ri");return}try{yield Vr.getState().updateMemberAdminRole(t,c.id,"admin"),Je.success(` thng ${(te=c.user)==null?void 0:te.name} lm admin`),J();const q=yield _n.getTeamMembers(t);q.success&&q.data&&n(q.data)}catch(B){console.error("Failed to promote member:",B),Je.error("Khng th thng cp thnh vin")}}}),U=()=>T(void 0,null,function*(){var te,B;if(!(!c||!t||!F)){if(!G){Je.error("Ch admin mi c quyn h cp");return}if(!K(c)){Je.error("Ch c th h cp admin");return}if(confirm(`Bn c chc mun h cp ${(te=c.user)==null?void 0:te.name} xung thnh vin?`))try{yield Vr.getState().updateMemberAdminRole(t,c.id,"member"),Je.success(` h cp ${(B=c.user)==null?void 0:B.name} xung thnh vin`),J();const Se=yield _n.getTeamMembers(t);Se.success&&Se.data&&n(Se.data)}catch(q){console.error("Failed to demote member:",q),Je.error("Khng th h cp thnh vin")}}}),Y=te=>T(void 0,null,function*(){if(confirm("Bn c chc mun hy li mi ny?")){j(!0);try{yield E(te),yield ne()}catch(B){console.error("Failed to cancel invite:",B)}finally{j(!1)}}}),H=te=>{var B;if((B=te.user)!=null&&B.position)return te.user.position;if(te.position)return te.position;switch(te.role){case"admin":return"Cu th";case"PLAYER":return"Cu th";case"member":return"Cu th";case"SUBSTITUTE":return"D b";default:return"Thnh vin"}},fe=te=>{var B,q,Se,pe;return te.role==="admin"?"Qun tr vin":te.position==="Captain"||((q=(B=te.user)==null?void 0:B.position)==null?void 0:q.toLowerCase())==="i trng"||((pe=(Se=te.user)==null?void 0:Se.position)==null?void 0:pe.toLowerCase())==="captain"?"i trng":"Thnh vin"},K=te=>{var B,q,Se,pe;return te.role==="admin"||te.position==="Captain"||((q=(B=te.user)==null?void 0:B.position)==null?void 0:q.toLowerCase())==="i trng"||((pe=(Se=te.user)==null?void 0:Se.position)==null?void 0:pe.toLowerCase())==="captain"};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Thnh vin",onBack:()=>e(-1)}),G&&s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-white/10 bg-white dark:bg-surface-dark",children:[s.jsxs("button",{className:`flex-1 py-3 text-center font-medium transition-colors ${g==="players"?"text-primary border-b-2 border-primary":"text-gray-500 dark:text-gray-400"}`,onClick:()=>m("players"),children:["Cu th (",r.length,")"]}),s.jsxs("button",{className:`flex-1 py-3 text-center font-medium transition-colors ${g==="pending"?"text-primary border-b-2 border-primary":"text-gray-500 dark:text-gray-400"}`,onClick:()=>m("pending"),children:["ang mi (",y.length,")"]})]}),!G||g==="players"?s.jsxs(s.Fragment,{children:[a&&s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch thnh vin..."})]})}),!a&&o&&s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsx(Wi,{message:o,onRetry:()=>window.location.reload()})}),!a&&!o&&r.length===0&&s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsx(Os,{icon:"group_off",title:"Cha c thnh vin no",description:"Team ny cha c thnh vin. Hy mi thm thnh vin!"})}),!a&&!o&&r.length>0&&s.jsx("div",{className:"p-4 space-y-3 overflow-y-auto pb-24",children:r.map(te=>{var B,q,Se;return s.jsxs("div",{onClick:()=>e(ge.memberProfile(t||"",te.id),{state:{member:te,team:F}}),className:"flex items-center gap-3 bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm active:scale-[0.99] transition-transform cursor-pointer",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"size-12 rounded-full overflow-hidden bg-gray-200 dark:bg-white/10",children:(B=te.user)!=null&&B.avatar?s.jsx("img",{src:te.user.avatar,alt:(q=te.user)==null?void 0:q.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(P,{name:"person",className:"text-gray-400"})})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm truncate",children:((Se=te.user)==null?void 0:Se.name)||"Thnh vin"})}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-text-secondary",children:H(te)}),s.jsx("span",{className:"text-[10px] text-gray-300",children:""}),s.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${K(te)?"bg-yellow-500/10 text-yellow-600 dark:text-yellow-500":"bg-gray-100 dark:bg-white/5 text-gray-500"}`,children:fe(te)})]})]}),G&&s.jsx("button",{onClick:pe=>X(pe,te),className:"size-8 flex items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5 active:bg-gray-200",children:s.jsx(P,{name:"more_vert"})})]},te.id)})})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex-1 p-4 overflow-y-auto pb-24",children:x?s.jsxs("div",{className:"space-y-3",children:[s.jsx(js,{}),s.jsx(js,{}),s.jsx(js,{})]}):y.length===0?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Os,{icon:"send",title:"Cha c li mi no",description:"Khng c li mi ang ch x l"})}):s.jsx("div",{className:"space-y-3",children:y.map(te=>s.jsx(n3,{invite:te,onCancel:G?()=>Y(te.id):void 0,isLoading:k},te.id))})})}),G&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background-light dark:from-background-dark via-background-light/80 dark:via-background-dark/80 to-transparent z-10 pointer-events-none flex justify-center pb-8",children:s.jsxs("button",{onClick:()=>p(!0),className:"pointer-events-auto h-12 px-6 rounded-full bg-primary text-black font-bold shadow-lg shadow-primary/30 flex items-center gap-2 active:scale-95 transition-transform",children:[s.jsx(P,{name:"person_add"}),"Thm thnh vin"]})}),d&&c&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:J}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsxs("div",{className:"flex flex-col items-center mb-6",children:[s.jsx("div",{className:"size-16 rounded-full overflow-hidden mb-3 border-2 border-white dark:border-white/10 shadow-sm",children:(ue=c.user)!=null&&ue.avatar?s.jsx("img",{src:c.user.avatar,className:"w-full h-full object-cover",alt:(we=c.user)==null?void 0:we.name}):s.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:s.jsx(P,{name:"person",className:"text-gray-400"})})}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:((ke=c.user)==null?void 0:ke.name)||"Thnh vin"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500",children:H(c)}),s.jsx("span",{className:"text-xs text-gray-300",children:""}),s.jsx("span",{className:`text-xs font-bold ${K(c)?"text-yellow-600":"text-gray-500"}`,children:fe(c)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>{e(ge.memberProfile(t||"",c.id),{state:{member:c,team:F}}),J()},className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[s.jsx("div",{className:"size-10 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-gray-600 dark:text-gray-300",children:s.jsx(P,{name:"person"})}),s.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Xem chi tit"})]}),!K(c)&&s.jsxs("button",{onClick:ae,className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[s.jsx("div",{className:"size-10 rounded-full bg-yellow-500/10 flex items-center justify-center text-yellow-600",children:s.jsx(P,{name:"security"})}),s.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Thng lm i trng"})]}),K(c)&&c.userId!==(A==null?void 0:A.id)&&s.jsxs("button",{onClick:U,className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[s.jsx("div",{className:"size-10 rounded-full bg-orange-500/10 flex items-center justify-center text-orange-600",children:s.jsx(P,{name:"arrow_downward"})}),s.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"H cp xung thnh vin"})]}),s.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/5 my-2"}),s.jsxs("button",{onClick:V,className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group",children:[s.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center text-red-500 group-hover:bg-red-200 dark:group-hover:bg-red-900/40",children:s.jsx(P,{name:"person_remove"})}),s.jsx("span",{className:"font-semibold text-red-500",children:"Xa khi i"})]})]})]})]}),h&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>p(!1)}),s.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[s.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6",children:"Thm thnh vin mi"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("button",{onClick:()=>{p(!1),e(ge.memberAdd(t||""))},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-gray-200 dark:border-white/10 hover:border-primary/50 hover:bg-primary/5 transition-all group",children:[s.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center text-primary group-hover:scale-110 transition-transform",children:s.jsx(P,{name:"dialpad",className:"text-2xl"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Thm bng s in thoi"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tm kim v mi trc tip"})]}),s.jsx(P,{name:"chevron_right",className:"ml-auto text-gray-400"})]}),s.jsxs("button",{onClick:()=>{p(!1),e(ge.teamShare(t||""))},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-gray-200 dark:border-white/10 hover:border-blue-500/50 hover:bg-blue-500/5 transition-all group",children:[s.jsx("div",{className:"size-12 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500 group-hover:scale-110 transition-transform",children:s.jsx(P,{name:"share",className:"text-2xl"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Chia s lin kt"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Mi qua Zalo, Messenger..."})]}),s.jsx(P,{name:"chevron_right",className:"ml-auto text-gray-400"})]})]})]})]}),s.jsx("style",{children:`
        .animate-fade-in {
          animation: fadeIn 0.2s ease-out forwards;
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        .animate-slide-up {
          animation: slideUp 0.3s ease-out forwards;
        }
        @keyframes slideUp {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
      `})]})},gL=()=>{const e=Ke(),r=fn().state,{teamId:n}=Fn(),[a,i]=w.useState(null),[o,l]=w.useState(!0),[c,u]=w.useState(!1),[d,f]=w.useState(null),[h,p]=w.useState(""),[g,m]=w.useState("Mi chi"),[y,b]=w.useState("Nam"),[x,v]=w.useState(["5","7"]),[k,j]=w.useState({attack:7.5,defense:6,technique:8.5}),[M,N]=w.useState(""),[E,A]=w.useState(""),[O,F]=w.useState(!1);w.useEffect(()=>{T(void 0,null,function*(){var ae,U,Y,H,fe,K,ue,we;if(n){if(r!=null&&r.team){const ke=r.team;i(ke),p(ke.name),m(ke.level),b(py(ke.gender)),v(my(ke.pitch||[])),j({attack:(((ae=ke.stats)==null?void 0:ae.attack)||75)/10,defense:(((U=ke.stats)==null?void 0:U.defense)||70)/10,technique:(((Y=ke.stats)==null?void 0:Y.technique)||72)/10}),N(((H=ke.location)==null?void 0:H.address)||""),A(ke.description||""),l(!1);return}try{l(!0);const ke=yield _n.getTeamById(n);if(ke.success&&ke.data){const te=ke.data;i(te),p(te.name),m(te.level),b(py(te.gender)),v(my(te.pitch||[])),j({attack:(((fe=te.stats)==null?void 0:fe.attack)||75)/10,defense:(((K=te.stats)==null?void 0:K.defense)||70)/10,technique:(((ue=te.stats)==null?void 0:ue.technique)||72)/10}),N(((we=te.location)==null?void 0:we.address)||""),A(te.description||"")}else f("Khng th ti thng tin i")}catch(ke){console.error("Failed to fetch team:",ke),f(ke instanceof Error?ke.message:"C li xy ra")}finally{l(!1)}}})},[n,r]);const G=V=>{v(ae=>ae.includes(V)?ae.filter(U=>U!==V):[...ae,V])},ne=(V,ae)=>{j(U=>Z(C({},U),{[V]:ae}))},X=()=>{F(!0),setTimeout(()=>{j({attack:8.2,defense:7.1,technique:7.9}),F(!1)},1e3)},J=()=>T(void 0,null,function*(){if(n)try{u(!0),f(null);const V={name:h,gender:Mk(y),level:g,pitch:Ik(x),stats:{attack:Math.round(k.attack*10),defense:Math.round(k.defense*10),technique:Math.round(k.technique*10)},description:E||void 0,location:a!=null&&a.location?Z(C({},a.location),{address:M}):void 0};(yield _n.updateTeam(n,V)).success?e(ge.teamDetail(n)):f("Khng th cp nht thng tin i")}catch(V){console.error("Failed to update team:",V),f((V==null?void 0:V.message)||"C li xy ra")}finally{u(!1)}});return o?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Chnh sa thng tin i",onBack:()=>e(-1)}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin i..."})]})})]}):d&&!a?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Chnh sa thng tin i",onBack:()=>e(-1)}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(P,{name:"error",className:"text-4xl mb-2 text-red-500"}),s.jsx("p",{className:"text-sm text-red-500 mb-4",children:d}),s.jsx(ce,{variant:"ghost",onClick:()=>e(-1),children:"Quay li"})]})})]}):s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Chnh sa thng tin i",onBack:()=>e(-1)}),s.jsxs("div",{className:"p-4 flex flex-col gap-6 overflow-y-auto pb-24",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"relative w-full h-36 rounded-xl overflow-hidden bg-gray-800 border-2 border-gray-300 dark:border-gray-600 cursor-pointer group",children:[a!=null&&a.banner?s.jsx("img",{src:a.banner,className:"w-full h-full object-cover opacity-75 group-hover:opacity-50 transition-opacity",alt:"Banner"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-green-600/20"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"bg-black/50 p-2 rounded-full border border-white/20",children:s.jsx(P,{name:"add_photo_alternate",className:"text-white text-xl"})})})]}),s.jsxs("div",{className:"flex items-center gap-4 px-2 -mt-10 relative z-10",children:[s.jsxs("div",{className:"relative size-24 rounded-full bg-surface-dark border-4 border-background-light dark:border-background-dark shadow-xl overflow-hidden group cursor-pointer",children:[a!=null&&a.logo?s.jsx("img",{src:a.logo,className:"w-full h-full object-cover",alt:"Logo"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-2xl",children:h.charAt(0)}),s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(P,{name:"edit",className:"text-white text-lg"})})]}),s.jsxs("div",{className:"pt-6",children:[s.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Logo i bng"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Chm  thay i"})]})]})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsx(vr,{label:"Tn i bng",value:h,onChange:V=>p(V.target.value),icon:"groups"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Trnh "}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:_d.map(V=>s.jsx("button",{onClick:()=>m(V),className:`py-3 px-4 rounded-xl border text-sm font-semibold transition-all ${g===V?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:V},V))})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii tnh"}),s.jsx("div",{className:"flex gap-3",children:[{label:"Nam",icon:"male"},{label:"N",icon:"female"},{label:"Mixed",icon:"wc"}].map(V=>s.jsxs("button",{onClick:()=>b(V.label),className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex items-center justify-center gap-2 ${y===V.label?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[s.jsx(P,{name:V.icon,className:"text-lg"}),V.label]},V.label))})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Loi sn thng "}),s.jsx("div",{className:"flex gap-3",children:Pk.map(V=>s.jsxs("button",{onClick:()=>G(V),className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex flex-col items-center gap-1 ${x.includes(V)?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[s.jsx(P,{name:"sports_soccer",className:"text-lg",filled:x.includes(V)}),s.jsxs("span",{children:["Sn ",V]})]},V))})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ch s i bng (Thang 10)"}),s.jsxs("button",{onClick:X,disabled:O,className:"flex items-center gap-1.5 px-3 py-1.5 bg-primary/10 hover:bg-primary/20 active:bg-primary/30 text-primary rounded-lg text-xs font-bold transition-all disabled:opacity-50",children:[O?s.jsx("span",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsx(P,{name:"auto_awesome",className:"text-xs"}),O?"ang tnh...":"Tnh t thnh vin"]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[s.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg",children:s.jsx(P,{name:"flash_on",className:"text-lg"})}),s.jsx("span",{className:"font-bold text-sm",children:"Tn cng"})]}),s.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white transition-all",children:k.attack})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.1",value:k.attack,onChange:V=>ne("attack",parseFloat(V.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[s.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-lg",children:s.jsx(P,{name:"shield",className:"text-lg"})}),s.jsx("span",{className:"font-bold text-sm",children:"Phng th"})]}),s.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white transition-all",children:k.defense})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.1",value:k.defense,onChange:V=>ne("defense",parseFloat(V.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:s.jsx(P,{name:"sports_soccer",className:"text-lg"})}),s.jsx("span",{className:"font-bold text-sm",children:"K thut"})]}),s.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white transition-all",children:k.technique})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.1",value:k.technique,onChange:V=>ne("technique",parseFloat(V.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),s.jsx(vr,{label:"Khu vc hot ng",value:M,onChange:V=>N(V.target.value),icon:"location_on"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii thiu ngn"}),s.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none",placeholder:"M t v i bng, tiu ch giao lu...",value:E,onChange:V=>A(V.target.value)})]})]})]}),s.jsxs("div",{className:"mt-auto p-4 border-t border-gray-200 dark:border-white/5 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur z-20",children:[d&&s.jsx("div",{className:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:d})}),s.jsx(ce,{fullWidth:!0,onClick:J,disabled:c,children:c?"ang lu...":"LU THAY I"})]})]})},xL=()=>{var c,u,d,f,h,p,g,m,y,b,x,v,k,j,M;const e=Ke(),{teamId:t,memberId:r}=Fn(),n=fn(),[a,i]=w.useState(null),o=(c=n.state)==null?void 0:c.member;(u=n.state)==null||u.team,w.useEffect(()=>{o||i("Khng tm thy thng tin thnh vin")},[o]);const l=N=>N.role==="admin";return a||!o?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[s.jsx(dt,{title:"Thng tin thnh vin",onBack:()=>e(-1)}),s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsx(Wi,{title:a?"C li xy ra":"Khng tm thy thnh vin",message:a||"Thnh vin ny khng tn ti",onRetry:()=>e(-1),retryLabel:"Quay li"})})]}):s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[s.jsx(dt,{title:"Thng tin thnh vin",onBack:()=>e(-1),rightAction:s.jsx("button",{className:"p-2 text-gray-500 hover:text-slate-900 dark:hover:text-white",children:s.jsx(P,{name:"more_vert"})})}),s.jsxs("div",{className:"overflow-y-auto",children:[((d=o.user)==null?void 0:d.banner)&&s.jsx("div",{className:"h-40 w-full overflow-hidden",children:s.jsx("img",{src:o.user.banner,className:"w-full h-full object-cover",alt:"Banner"})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:`flex flex-col items-center mb-8 ${(f=o.user)!=null&&f.banner?"-mt-16":"pt-4"}`,children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"size-28 rounded-full border-4 border-white dark:border-surface-dark shadow-xl overflow-hidden bg-white dark:bg-surface-dark",children:(h=o.user)!=null&&h.avatar?s.jsx("img",{src:o.user.avatar,className:"w-full h-full object-cover",alt:(p=o.user)==null?void 0:p.name}):s.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:s.jsx(P,{name:"person",className:"text-gray-400 text-4xl"})})}),l(o)&&s.jsx("div",{className:"absolute bottom-0 right-0 bg-yellow-500 text-white p-1.5 rounded-full border-4 border-background-light dark:border-background-dark shadow-sm",title:"Admin",children:s.jsx(P,{name:"star",className:"text-xs",filled:!0})}),((g=o.user)==null?void 0:g.jerseyNumber)&&s.jsx("div",{className:"absolute -top-2 -left-2 bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm shadow-lg border-2 border-white dark:border-surface-dark",children:o.user.jerseyNumber})]}),s.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:((m=o.user)==null?void 0:m.name)||"Thnh vin"}),s.jsx("p",{className:"text-gray-500 dark:text-text-secondary font-medium",children:((y=o.user)==null?void 0:y.phone)||"Cha cp nht s in thoi"}),(((b=o.user)==null?void 0:b.position)||((x=o.user)==null?void 0:x.jerseyNumber))&&s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm",children:[o.user.position&&s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-full font-medium",children:[s.jsx(P,{name:"sports_soccer",className:"text-sm"}),o.user.position]}),o.user.jerseyNumber&&s.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-blue-500/10 text-blue-500 rounded-full font-bold",children:[s.jsx(P,{name:"tag",className:"text-sm"}),"#",o.user.jerseyNumber]})]}),l(o)&&s.jsx("div",{className:"mt-2 text-xs font-bold text-yellow-600 dark:text-yellow-500 bg-yellow-500/10 px-2 py-0.5 rounded border border-yellow-500/20",children:"Admin"})]}),((v=o.user)==null?void 0:v.playerStats)&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-3",children:"Ch s k nng"}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm space-y-5",children:[o.user.playerStats.attack!==void 0&&o.user.playerStats.attack!==null&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-bold text-sm",children:[s.jsx("div",{className:"p-1 bg-red-500/10 rounded",children:s.jsx(P,{name:"flash_on",className:"text-sm"})}),"Tn cng"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:(o.user.playerStats.attack/10).toFixed(1)})]}),s.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 rounded-full transition-all duration-500",style:{width:`${o.user.playerStats.attack}%`}})})]}),o.user.playerStats.defense!==void 0&&o.user.playerStats.defense!==null&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-500 font-bold text-sm",children:[s.jsx("div",{className:"p-1 bg-blue-500/10 rounded",children:s.jsx(P,{name:"shield",className:"text-sm"})}),"Phng th"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:(o.user.playerStats.defense/10).toFixed(1)})]}),s.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-500",style:{width:`${o.user.playerStats.defense}%`}})})]}),o.user.playerStats.technique!==void 0&&o.user.playerStats.technique!==null&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-sm",children:[s.jsx("div",{className:"p-1 bg-primary/10 rounded",children:s.jsx(P,{name:"sports_soccer",className:"text-sm"})}),"K thut"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:(o.user.playerStats.technique/10).toFixed(1)})]}),s.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-500",style:{width:`${o.user.playerStats.technique}%`}})})]})]})]}),((k=o.user)==null?void 0:k.bio)&&s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 mb-6",children:[s.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase mb-2",children:"Gii thiu"}),s.jsx("p",{className:"text-slate-900 dark:text-white text-sm leading-relaxed whitespace-pre-wrap",children:o.user.bio})]}),s.jsx("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"size-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:s.jsx(P,{name:"event",className:"text-lg"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Ngy tham gia"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:new Date(o.joinedAt).toLocaleDateString("vi-VN",{day:"numeric",month:"long",year:"numeric"})})]})]})})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/90 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5 z-40",children:s.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[s.jsx(ce,{variant:"secondary",className:"flex-1",icon:"call",onClick:()=>{var N;return((N=o.user)==null?void 0:N.phone)&&window.open(`tel:${o.user.phone}`)},disabled:!((j=o.user)!=null&&j.phone),children:"Gi in"}),s.jsx(ce,{variant:"primary",className:"flex-[2]",icon:"chat",onClick:()=>{var N;return((N=o.user)==null?void 0:N.phone)&&window.open(`https://zalo.me/${o.user.phone}`)},disabled:!((M=o.user)!=null&&M.phone),children:"Nhn tin"})]})})]})};var Td={},Vk={L:1,M:0,Q:3,H:2},Kk={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},vL=Kk;function Gk(e){this.mode=vL.MODE_8BIT_BYTE,this.data=e}Gk.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var yL=Gk,Ec=Vk;function jn(e,t){this.totalCount=e,this.dataCount=t}jn.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];jn.getRSBlocks=function(e,t){var r=jn.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,a=new Array,i=0;i<n;i++)for(var o=r[i*3+0],l=r[i*3+1],c=r[i*3+2],u=0;u<o;u++)a.push(new jn(l,c));return a};jn.getRsBlockTable=function(e,t){switch(t){case Ec.L:return jn.RS_BLOCK_TABLE[(e-1)*4+0];case Ec.M:return jn.RS_BLOCK_TABLE[(e-1)*4+1];case Ec.Q:return jn.RS_BLOCK_TABLE[(e-1)*4+2];case Ec.H:return jn.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var bL=jn;function Zk(){this.buffer=new Array,this.length=0}Zk.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var wL=Zk,an={glog:function(e){if(e<1)throw new Error("glog("+e+")");return an.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return an.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ht=0;Ht<8;Ht++)an.EXP_TABLE[Ht]=1<<Ht;for(var Ht=8;Ht<256;Ht++)an.EXP_TABLE[Ht]=an.EXP_TABLE[Ht-4]^an.EXP_TABLE[Ht-5]^an.EXP_TABLE[Ht-6]^an.EXP_TABLE[Ht-8];for(var Ht=0;Ht<255;Ht++)an.LOG_TABLE[an.EXP_TABLE[Ht]]=Ht;var qk=an,ls=qk;function Yc(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}Yc.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=ls.gexp(ls.glog(this.get(r))+ls.glog(e.get(n)));return new Yc(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=ls.glog(this.get(0))-ls.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=ls.gexp(ls.glog(e.get(n))+t);return new Yc(r,0).mod(e)}};var Yk=Yc,Ar=Kk,Iy=Yk,NL=qk,wa={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ft={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ft.getBCHDigit(t)-Ft.getBCHDigit(Ft.G15)>=0;)t^=Ft.G15<<Ft.getBCHDigit(t)-Ft.getBCHDigit(Ft.G15);return(e<<10|t)^Ft.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ft.getBCHDigit(t)-Ft.getBCHDigit(Ft.G18)>=0;)t^=Ft.G18<<Ft.getBCHDigit(t)-Ft.getBCHDigit(Ft.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ft.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case wa.PATTERN000:return(t+r)%2==0;case wa.PATTERN001:return t%2==0;case wa.PATTERN010:return r%3==0;case wa.PATTERN011:return(t+r)%3==0;case wa.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case wa.PATTERN101:return t*r%2+t*r%3==0;case wa.PATTERN110:return(t*r%2+t*r%3)%2==0;case wa.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Iy([1],0),r=0;r<e;r++)t=t.multiply(new Iy([1,NL.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Ar.MODE_NUMBER:return 10;case Ar.MODE_ALPHA_NUM:return 9;case Ar.MODE_8BIT_BYTE:return 8;case Ar.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Ar.MODE_NUMBER:return 12;case Ar.MODE_ALPHA_NUM:return 11;case Ar.MODE_8BIT_BYTE:return 16;case Ar.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Ar.MODE_NUMBER:return 14;case Ar.MODE_ALPHA_NUM:return 13;case Ar.MODE_8BIT_BYTE:return 16;case Ar.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var a=0;a<t;a++){for(var i=0,o=e.isDark(n,a),l=-1;l<=1;l++)if(!(n+l<0||t<=n+l))for(var c=-1;c<=1;c++)a+c<0||t<=a+c||l==0&&c==0||o==e.isDark(n+l,a+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<t-1;n++)for(var a=0;a<t-1;a++){var u=0;e.isDark(n,a)&&u++,e.isDark(n+1,a)&&u++,e.isDark(n,a+1)&&u++,e.isDark(n+1,a+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<t;n++)for(var a=0;a<t-6;a++)e.isDark(n,a)&&!e.isDark(n,a+1)&&e.isDark(n,a+2)&&e.isDark(n,a+3)&&e.isDark(n,a+4)&&!e.isDark(n,a+5)&&e.isDark(n,a+6)&&(r+=40);for(var a=0;a<t;a++)for(var n=0;n<t-6;n++)e.isDark(n,a)&&!e.isDark(n+1,a)&&e.isDark(n+2,a)&&e.isDark(n+3,a)&&e.isDark(n+4,a)&&!e.isDark(n+5,a)&&e.isDark(n+6,a)&&(r+=40);for(var d=0,a=0;a<t;a++)for(var n=0;n<t;n++)e.isDark(n,a)&&d++;var f=Math.abs(100*d/t/t-50)/5;return r+=f*10,r}},kL=Ft,jL=yL,Qk=bL,Jk=wL,Ja=kL,_L=Yk;function Sn(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Pr=Sn.prototype;Pr.addData=function(e){var t=new jL(e);this.dataList.push(t),this.dataCache=null};Pr.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Pr.getModuleCount=function(){return this.moduleCount};Pr.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=Qk.getRSBlocks(e,this.errorCorrectLevel),r=new Jk,n=0,a=0;a<t.length;a++)n+=t[a].dataCount;for(var a=0;a<this.dataList.length;a++){var i=this.dataList[a];r.put(i.mode,4),r.put(i.getLength(),Ja.getLengthInBits(i.mode,e)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Pr.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Sn.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Pr.setupPositionProbePattern=function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)};Pr.getBestMaskPattern=function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ja.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t};Pr.createMovieClip=function(e,t,r){var n=e.createEmptyMovieClip(t,r),a=1;this.make();for(var i=0;i<this.modules.length;i++)for(var o=i*a,l=0;l<this.modules[i].length;l++){var c=l*a,u=this.modules[i][l];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+a,o),n.lineTo(c+a,o+a),n.lineTo(c,o+a),n.endFill())}return n};Pr.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Pr.setupPositionAdjustPattern=function(){for(var e=Ja.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],a=e[r];if(this.modules[n][a]==null)for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)i==-2||i==2||o==-2||o==2||i==0&&o==0?this.modules[n+i][a+o]=!0:this.modules[n+i][a+o]=!1}};Pr.setupTypeNumber=function(e){for(var t=Ja.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};Pr.setupTypeInfo=function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Ja.getBCHTypeInfo(r),a=0;a<15;a++){var i=!e&&(n>>a&1)==1;a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(var a=0;a<15;a++){var i=!e&&(n>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!e};Pr.mapData=function(e,t){for(var r=-1,n=this.moduleCount-1,a=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var l=0;l<2;l++)if(this.modules[n][o-l]==null){var c=!1;i<e.length&&(c=(e[i]>>>a&1)==1);var u=Ja.getMask(t,n,o-l);u&&(c=!c),this.modules[n][o-l]=c,a--,a==-1&&(i++,a=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};Sn.PAD0=236;Sn.PAD1=17;Sn.createData=function(e,t,r){for(var n=Qk.getRSBlocks(e,t),a=new Jk,i=0;i<r.length;i++){var o=r[i];a.put(o.mode,4),a.put(o.getLength(),Ja.getLengthInBits(o.mode,e)),o.write(a)}for(var l=0,i=0;i<n.length;i++)l+=n[i].dataCount;if(a.getLengthInBits()>l*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+l*8+")");for(a.getLengthInBits()+4<=l*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=l*8||(a.put(Sn.PAD0,8),a.getLengthInBits()>=l*8));)a.put(Sn.PAD1,8);return Sn.createBytes(a,n)};Sn.createBytes=function(e,t){for(var r=0,n=0,a=0,i=new Array(t.length),o=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;n=Math.max(n,c),a=Math.max(a,u),i[l]=new Array(c);for(var d=0;d<i[l].length;d++)i[l][d]=255&e.buffer[d+r];r+=c;var f=Ja.getErrorCorrectPolynomial(u),h=new _L(i[l],f.getLength()-1),p=h.mod(f);o[l]=new Array(f.getLength()-1);for(var d=0;d<o[l].length;d++){var g=d+p.getLength()-o[l].length;o[l][d]=g>=0?p.get(g):0}}for(var m=0,d=0;d<t.length;d++)m+=t[d].totalCount;for(var y=new Array(m),b=0,d=0;d<n;d++)for(var l=0;l<t.length;l++)d<i[l].length&&(y[b++]=i[l][d]);for(var d=0;d<a;d++)for(var l=0;l<t.length;l++)d<o[l].length&&(y[b++]=o[l][d]);return y};var SL=Sn,qg={};Object.defineProperty(qg,"__esModule",{value:!0});var EL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TL=TN,Rr=ej(TL),Xk=w,Tc=ej(Xk);function ej(e){return e&&e.__esModule?e:{default:e}}function CL(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var PL={bgColor:Rr.default.oneOfType([Rr.default.object,Rr.default.string]).isRequired,bgD:Rr.default.string.isRequired,fgColor:Rr.default.oneOfType([Rr.default.object,Rr.default.string]).isRequired,fgD:Rr.default.string.isRequired,size:Rr.default.number.isRequired,title:Rr.default.string,viewBoxSize:Rr.default.number.isRequired,xmlns:Rr.default.string},Yg=(0,Xk.forwardRef)(function(e,t){var r=e.bgColor,n=e.bgD,a=e.fgD,i=e.fgColor,o=e.size,l=e.title,c=e.viewBoxSize,u=e.xmlns,d=u===void 0?"http://www.w3.org/2000/svg":u,f=CL(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Tc.default.createElement("svg",EL({},f,{height:o,ref:t,viewBox:"0 0 "+c+" "+c,width:o,xmlns:d}),l?Tc.default.createElement("title",null,l):null,Tc.default.createElement("path",{d:n,fill:r}),Tc.default.createElement("path",{d:a,fill:i}))});Yg.displayName="QRCodeSvg";Yg.propTypes=PL;qg.default=Yg;Object.defineProperty(Td,"__esModule",{value:!0});Td.QRCode=void 0;var IL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ML=TN,Gn=zl(ML),AL=Vk,RL=zl(AL),OL=SL,LL=zl(OL),tj=w,DL=zl(tj),zL=qg,$L=zl(zL);function zl(e){return e&&e.__esModule?e:{default:e}}function UL(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var FL={bgColor:Gn.default.oneOfType([Gn.default.object,Gn.default.string]),fgColor:Gn.default.oneOfType([Gn.default.object,Gn.default.string]),level:Gn.default.string,size:Gn.default.number,value:Gn.default.string.isRequired},Cd=(0,tj.forwardRef)(function(e,t){var r=e.bgColor,n=r===void 0?"#FFFFFF":r,a=e.fgColor,i=a===void 0?"#000000":a,o=e.level,l=o===void 0?"L":o,c=e.size,u=c===void 0?256:c,d=e.value,f=UL(e,["bgColor","fgColor","level","size","value"]),h=new LL.default(-1,RL.default[l]);h.addData(d),h.make();var p=h.modules;return DL.default.createElement($L.default,IL({},f,{bgColor:n,bgD:p.map(function(g,m){return g.map(function(y,b){return y?"":"M "+b+" "+m+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:p.map(function(g,m){return g.map(function(y,b){return y?"M "+b+" "+m+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:u,viewBoxSize:p.length}))});Td.QRCode=Cd;Cd.displayName="QRCode";Cd.propTypes=FL;var BL=Td.default=Cd;const HL=()=>{const e=Ke(),{teamId:t}=Fn(),{createInviteToken:r}=Bs(),n=Vr(x=>x.inviteToken),[a,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(0),[d,f]=w.useState(null);w.useEffect(()=>{h()},[t]),w.useEffect(()=>{n&&console.log("[ShareTeamScreen] Token data from store:",n)},[n]),w.useEffect(()=>{if(!(n!=null&&n.expiresAt))return;const x=()=>{const k=new Date(n.expiresAt).getTime()-Date.now();u(k>0?k:0)};x();const v=setInterval(x,1e3);return()=>clearInterval(v)},[n]);const h=()=>T(void 0,null,function*(){if(t)try{i(!0),f(null),console.log("[ShareTeamScreen] Creating invite token for team:",t);const x=yield r(t,{expiryMinutes:15});console.log("[ShareTeamScreen] Received token data:",x),x?console.log("[ShareTeamScreen] Token created successfully"):console.warn("[ShareTeamScreen] No data returned from createInviteToken")}catch(x){console.error("[ShareTeamScreen] Failed to load invite token:",x),f(x.message||"Khng th to m mi")}finally{i(!1)}}),p=()=>h(),g=()=>{n!=null&&n.deepLink&&(navigator.clipboard.writeText(n.deepLink),l(!0),setTimeout(()=>l(!1),2e3))},m=()=>T(void 0,null,function*(){if(navigator.share&&n)try{yield navigator.share({title:"Mi tham gia i",text:"Tham gia i bng ca chng ti trn Cap Ko Sport nh!",url:n.deepLink})}catch(x){console.log("Error sharing",x)}else g()}),y=x=>{const v=Math.floor(x/6e4),k=Math.floor(x%6e4/1e3);return`${v}:${k.toString().padStart(2,"0")}`},b=c<=0;return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Chia s i bng",onBack:()=>e(-1)}),s.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-center space-y-8 animate-fade-in",children:[d&&s.jsx("div",{className:"w-full max-w-sm p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400",children:s.jsx("p",{className:"text-sm text-center",children:d})}),s.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-xl border border-gray-100 dark:border-white/5 flex flex-col items-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-primary-dark via-primary to-primary-dark"}),s.jsxs("div",{className:"mt-4 mb-6 text-center",children:[s.jsx(Mt,{src:(n!=null&&n.teamId,""),size:"xl",className:"mx-auto mb-3 shadow-lg"}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mi tham gia i"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Qut m  tham gia i"})]}),s.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-inner border border-gray-100 mb-4",children:a?s.jsx("div",{className:"size-48 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse bg-gray-200 rounded-lg size-full"})}):n?s.jsx(BL,{value:n.deepLink||n.token,size:192,level:"M",className:"mix-blend-multiply"}):s.jsx("div",{className:"size-48 flex items-center justify-center text-gray-400 text-sm text-center",children:"Khng th ti m QR"})}),n&&s.jsxs("div",{className:"flex items-center gap-2 text-sm mb-4",children:[s.jsx(P,{name:"schedule",className:b?"text-red-500":"text-gray-400"}),s.jsx("span",{className:b?"text-red-500 font-medium":"text-gray-500",children:b?" ht hn":`Ht hn sau: ${y(c)}`}),s.jsx("button",{onClick:p,className:"ml-2 text-primary hover:text-primary-dark transition-colors",title:"Lm mi m",children:s.jsx(P,{name:"refresh"})})]}),s.jsxs("div",{onClick:g,className:"w-full flex items-center gap-3 bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/10 cursor-pointer active:scale-95 transition-transform group",children:[s.jsx("div",{className:"size-10 rounded-full bg-white dark:bg-white/10 flex items-center justify-center text-primary shadow-sm group-hover:bg-primary group-hover:text-white transition-colors",children:s.jsx(P,{name:o?"check":"link"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Lin kt mi"}),s.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:(n==null?void 0:n.deepLink)||"ang ti..."})]}),s.jsx("div",{className:"text-gray-400",children:s.jsx(P,{name:"content_copy",className:"text-lg"})})]})]}),s.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[s.jsx(ce,{fullWidth:!0,onClick:m,icon:"share",disabled:!n||a,children:"Chia s ngay"}),s.jsx(ce,{fullWidth:!0,variant:"secondary",onClick:()=>e(-1),children:"Quay li"})]})]})]})},WL=()=>{const e=Ke(),{matchId:t}=Fn(),[r,n]=w.useState(null);return w.useEffect(()=>{T(void 0,null,function*(){if(t)try{const i=yield gt.getMatchAttendance(t);if(i.success&&i.data){const o=i.data.teamA||i.data.teamB;o&&n({confirmed:o.summary.confirmed,total:o.summary.total})}}catch(i){console.error("Failed to fetch attendance:",i)}})},[t]),s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white pb-32",children:[s.jsx(dt,{title:"Chi tit trn u",onBack:()=>e(-1)}),s.jsx("div",{className:"px-4 pt-4 pb-2",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"mb-6 rounded-full bg-primary/20 px-3 py-1",children:s.jsx("p",{className:"text-primary text-xs font-bold uppercase tracking-wide",children:"Sp din ra"})}),s.jsxs("div",{className:"flex w-full items-start justify-between gap-2 px-2",children:[s.jsxs("div",{className:"flex flex-1 flex-col items-center gap-3",children:[s.jsx("div",{className:"relative aspect-square w-20 sm:w-24 rounded-full bg-gray-200 dark:bg-gray-800 p-1 shadow-lg ring-2 ring-primary/20",children:s.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuBz6A3GWMzf4AI0quziAPb6BARuvVdV-cRlpkCAIh9aMaaZpSUvM9hjc_BhjASlj9QpjeRyXOHgE1qgwkaH3lN_qngWyJhW04VcoW84OqT0_h4kHW8V9WJ8gAemWE6t2ZasnffmtbyWVujHPdrWUi_TEoX7u_VRqwXGpg8rRsSOqcqxZVNyFsq_ETS6kZejnHBRew5zca0Ei0_N4qBQMtRG2wFBvMmPtporfJ5tnVjbo9kswS7VEqtoPVqjfBx76tnwbWtzPAefRdc_",alt:"FC Saigon",className:"h-full w-full rounded-full object-cover"})}),s.jsx("p",{className:"text-center text-base sm:text-lg font-bold leading-tight",children:"FC Saigon"})]}),s.jsx("div",{className:"flex flex-col items-center justify-center pt-6",children:s.jsx("span",{className:"text-3xl font-black italic tracking-tighter text-gray-300 dark:text-gray-600",children:"VS"})}),s.jsxs("div",{className:"flex flex-1 flex-col items-center gap-3",children:[s.jsx("div",{className:"relative aspect-square w-20 sm:w-24 rounded-full bg-gray-200 dark:bg-gray-800 p-1 shadow-lg ring-2 ring-transparent",children:s.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDHF0GkJyXMpEJRGf8MBb5NjD5_PuzxBYBNRRDRmrvXCjuUxydY2DMd2QIEHbWXgPtcGZfYRbfeTNhtBRe-o_WiqEOqG2kw4BvdiWAJv58mf6ARETaj1flzbOGPFVI_ugIvBOnIVHhksHBSoM-aFUCq_-QTeFYU-jf1N61gnBqyaOLZJp2ZW_4k4V0UXptOLgp9KFKhhzI_I-sNQa7SDIMupdhvs3e-xczxE7vMkB4wUiKDOZk6oCZoPOKsRn1GdV6ybNpfKAlsSvO5",alt:"FC Hanoi",className:"h-full w-full rounded-full object-cover"})}),s.jsx("p",{className:"text-center text-base sm:text-lg font-bold leading-tight",children:"FC Hanoi"})]})]})]})}),s.jsxs("div",{className:"mt-6 px-4",children:[s.jsx("p",{className:"mb-3 text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:"Trn u s bt u sau"}),s.jsxs("div",{className:"flex justify-center gap-3",children:[s.jsxs("div",{className:"flex min-w-[70px] flex-col items-center justify-center rounded-xl bg-white dark:bg-[#1A2C23] p-3 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:"02"}),s.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Ngy"})]}),s.jsx("div",{className:"flex h-8 items-center text-gray-400",children:":"}),s.jsxs("div",{className:"flex min-w-[70px] flex-col items-center justify-center rounded-xl bg-white dark:bg-[#1A2C23] p-3 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:"04"}),s.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Gi"})]}),s.jsx("div",{className:"flex h-8 items-center text-gray-400",children:":"}),s.jsxs("div",{className:"flex min-w-[70px] flex-col items-center justify-center rounded-xl bg-white dark:bg-[#1A2C23] p-3 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:"15"}),s.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Pht"})]})]})]}),s.jsx("div",{className:"mt-8 px-4",children:s.jsxs("div",{className:"rounded-2xl bg-white dark:bg-[#1A2C23] p-5 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Thng tin chi tit"}),s.jsx(P,{name:"info",className:"text-gray-400"})]}),s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary",children:s.jsx(P,{name:"calendar_month",className:"text-[20px]"})}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Thi gian"}),s.jsx("p",{className:"text-base font-semibold",children:"19:30 - Th 7, 24/02/2024"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary",children:s.jsx(P,{name:"stadium",className:"text-[20px]"})}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"a im"}),s.jsx("p",{className:"text-base font-semibold",children:"Sn bng  Cho La"}),s.jsx("p",{className:"text-sm text-gray-500",children:"30 Phan Thc Duyn, Tn Bnh"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary",children:s.jsx(P,{name:"sports_soccer",className:"text-[20px]"})}),s.jsxs("div",{className:"flex flex-col justify-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Sn u"}),s.jsx("p",{className:"text-base font-semibold",children:"Sn s 5"})]})]})]})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background-light dark:bg-background-dark p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] border-t border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"flex flex-col gap-3 max-w-lg mx-auto",children:[r&&s.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg px-3 py-2 flex items-center justify-center gap-2",children:[s.jsx(P,{name:"how_to_reg",className:"text-primary text-sm"}),s.jsxs("span",{className:"text-sm font-medium text-primary",children:[r.confirmed,"/",r.total,"  im danh"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ce,{fullWidth:!0,icon:"how_to_reg",className:"flex-1",onClick:()=>e(ge.matchAttendance(t||"")),children:"im danh"}),s.jsx(ce,{fullWidth:!0,icon:"chat",className:"flex-1",children:"M Zalo chat"})]}),s.jsx(ce,{fullWidth:!0,icon:"edit_note",className:"bg-gray-200 dark:bg-gray-800 text-gray-400 dark:text-gray-500",disabled:!0,children:"Cp nht kt qu"})]})})]})},VL=()=>{const e=Ke();return s.jsxs("div",{className:"flex flex-col h-screen w-full bg-background-light dark:bg-background-dark relative overflow-hidden transition-colors duration-300",children:[s.jsx("style",{children:`
        @keyframes popIn {
          0% { opacity: 0; transform: scale(0.5) rotate(-10deg); }
          50% { opacity: 1; transform: scale(1.2) rotate(5deg); }
          70% { transform: scale(0.9) rotate(-5deg); }
          100% { opacity: 1; transform: scale(1) rotate(-6deg); }
        }
        @keyframes slideLeft {
          0% { opacity: 0; transform: translateX(-100px) rotate(-45deg); }
          100% { opacity: 1; transform: translateX(0) rotate(-12deg); }
        }
        @keyframes slideRight {
          0% { opacity: 0; transform: translateX(100px) rotate(45deg); }
          100% { opacity: 1; transform: translateX(0) rotate(12deg); }
        }
        @keyframes badgePop {
          0% { opacity: 0; transform: scale(0) rotate(180deg); }
          80% { opacity: 1; transform: scale(1.5) rotate(-10deg); }
          100% { opacity: 1; transform: scale(1.25) rotate(0); }
        }
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fall {
          0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
          100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .animate-pop-in { animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .animate-slide-left { animation: slideLeft 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        .animate-slide-right { animation: slideRight 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        .animate-badge-pop { animation: badgePop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards; }
        .animate-fade-up { animation: fadeInUp 0.8s ease-out 1s forwards; }
      `}),s.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1522770179533-24471fcdba45?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-10 dark:opacity-20 grayscale"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/60 via-white/90 to-background-light dark:from-background-dark/80 dark:via-background-dark/90 dark:to-background-dark"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-96 bg-primary/30 dark:bg-primary/20 blur-[100px] animate-pulse rounded-full pointer-events-none"}),s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[...Array(15)].map((t,r)=>s.jsx("div",{className:"absolute w-2 h-2 rounded-full opacity-0 shadow-sm",style:{backgroundColor:["#11d473","#FFD700","#3b82f6"][r%3],left:`${Math.random()*100}%`,top:"-20px",animation:`fall ${3+Math.random()*2}s linear infinite`,animationDelay:`${Math.random()*2}s`}},r))}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-6",children:[s.jsxs("div",{className:"text-center mb-12 opacity-0 animate-pop-in",children:[s.jsx("h1",{className:"text-5xl font-extrabold italic text-transparent bg-clip-text bg-gradient-to-r from-primary-dark via-primary to-primary-dark dark:from-primary dark:via-white dark:to-primary drop-shadow-sm dark:drop-shadow-[0_0_15px_rgba(17,212,115,0.5)] transform -rotate-6",children:"IT'S A MATCH!"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-4 text-lg font-medium",children:["i bn v ",s.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:"C Su FC"})," rt hp c nhau"]})]}),s.jsxs("div",{className:"flex items-center justify-center w-full mb-16 relative h-40",children:[s.jsx("div",{className:"absolute left-[15%] opacity-0 animate-slide-left z-10",children:s.jsx("div",{className:"size-32 rounded-full border-4 border-white dark:border-white shadow-xl dark:shadow-[0_0_30px_rgba(255,255,255,0.3)] overflow-hidden bg-gray-100 dark:bg-surface-dark",children:s.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDgMiy1WmLO4CLqqm08LykjhNM_VUb8V7nJx8NNcKoNfLzmRWdsXEY_yV2U8cG0uLrYD5laTf2l7i5hxH15lGifO4dHiHKSnIBF8xOwAetdY2Ph1wP9lUYUr_y8p5zqgbC1osTFvvawVoHAHSc4TnIGOasCaFPaLTNNT0RG42RZc638OH_blB4k8j2K5Wy6oshulBAF96Y0pK-ZEtM8PzpbYc6wAcqMfliTLkZ87SXPQrX6d-idB1W5RkrQMu7ekYTrs0E0UJARtEq9",className:"w-full h-full object-cover"})})}),s.jsx("div",{className:"absolute z-20 bg-primary text-background-dark font-black text-xl size-12 flex items-center justify-center rounded-full border-4 border-white dark:border-background-dark shadow-xl opacity-0 animate-badge-pop",children:"VS"}),s.jsxs("div",{className:"absolute right-[15%] opacity-0 animate-slide-right z-0",children:[s.jsx("div",{className:"size-32 rounded-full border-4 border-primary shadow-xl dark:shadow-[0_0_30px_rgba(17,212,115,0.4)] overflow-hidden bg-gray-100 dark:bg-surface-dark",children:s.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuCeKRp8PNX06N8qLy6aBysvvgnzY-M6lgYIfjhgqTodyPAi2wEW2ob_i9EdMrg8MfmRcDkKx4X1otwpwsJuurICNxkC_6NKoRY36WfdJ2kDRuocVwGO1wPOFcfF1ylENUtxowUKtSAjmJSMgVAVR05f7ZjvDYTy67BitLR1YGQHDW26ppWzT6L3bGi3pAN6Ywt84Rl87aEm2sulKC-OEey-aMiAqZFBuNCeqdpuKa6C_mCcF6VXAvavSend-1KFuh3Iqg6Ft1dnFLRE",className:"w-full h-full object-cover"})}),s.jsx("div",{className:"absolute -bottom-2 -right-2 bg-white text-black p-1.5 rounded-full shadow-lg border border-gray-100 dark:border-none",children:s.jsx(P,{name:"favorite",filled:!0,className:"text-red-500 text-sm"})})]})]}),s.jsxs("div",{className:"w-full space-y-4 max-w-sm opacity-0 animate-fade-up",children:[s.jsx(ce,{fullWidth:!0,onClick:()=>e(ge.matchInvite),className:"h-14 text-lg bg-primary hover:bg-primary-dark text-background-dark hover:text-white transition-colors border-0 shadow-xl shadow-primary/30",icon:"send",children:"GI LI MI GIAO LU"}),s.jsx(ce,{fullWidth:!0,variant:"secondary",onClick:()=>e(ge.matchFind),className:"h-14 text-slate-600 border-gray-300 hover:bg-gray-100 dark:text-white dark:border-white/20 dark:hover:bg-white/10",icon:"search",children:"Tm i khc"})]})]})]})},KL=()=>{const e=Ke(),{matchId:t}=Fn(),[r,n]=w.useState(3),[a,i]=w.useState(1),[o,l]=w.useState(["https://lh3.googleusercontent.com/aida-public/AB6AXuCQ9Ns4MA64Fnc8Vke3awKivvU4LqvEgVWMBQCuI0C8gVvDROVIMsYR9JP17oh9jGvYoUXqRJTmmm8F1pRY_pbFhBJ3RVUdz7cyvkSefPGh7gY--1T7TGY64u7yqPjTH92IvklbdiudT8pL6OzfzOWFXjPmMH0zqGj9V7BTRjpQk9OGQdvWCVbg3rzSgl77SvzFxl6fBEoLqpKbYD8COWiRUCd8vK07Q9WeWVFCTH2E4IRqmuNKBgZn1TVXJ369CZnwYDXFapEHoKos","https://lh3.googleusercontent.com/aida-public/AB6AXuAQl5XVDrioHKHxyH9m3AJNhIpcTo1lH1i6tzv83AcOAOPiQWhrYtiIhdvswszL6YUQDRtbDsUHjrlwA472jAvUV_imlLd0GFbRltCudayRqRCAqhs_NPz8FMr3wRMhqBlCzJOdHcyRMa9hvUIOTAPHDWitxwwyX0HskkwI0z8eigZKcJAusH0WpJzjWoDeO-O8Z2Zqq9Ql4T3qfw-EDiqyGnb1kPFWFutE7HCcgLVoSKsYl-Q6sWkDwuajBqR8NBAm98ox1Kmmtnmk"]),c=(u,d)=>{u==="home"?n(Math.max(0,r+d)):i(Math.max(0,a+d))};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-800 dark:text-white pb-32",children:[s.jsx(dt,{title:"Cp nht kt qu",onBack:()=>e(-1)}),s.jsxs("main",{className:"flex-1 w-full max-w-md mx-auto p-4 space-y-6",children:[s.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-surface-dark shadow-sm ring-1 ring-black/5 dark:ring-white/10 p-6",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary/5 to-transparent pointer-events-none"}),s.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col items-center justify-start w-1/3 text-center",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-100 dark:bg-white/10 p-1 mb-3 ring-2 ring-primary/20 overflow-hidden relative",children:s.jsx("img",{alt:"FC Chim ng Logo",className:"w-full h-full object-cover rounded-full",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuD3tnQmrRGUX0ePUvqff6cq3_qZlRcT9SgkJSctA9HjBiZFoz2VWi7EnZvIcpA6rk2HMQtxKD0X9ZDdGvoImdgG57MuaLBndlzUg80UgeT1fGkKD9yD5RgOpEP5AXROB_TGgEI58htik1xtTneBs8BC3WEDKJmTe2AvfxoYSi2W5mWiROYvMJECYNexJsVhAnCVA_ZsqK-PSKyPf8ZmPu4IR9Pyqs2hFb6XsX6R1e8sTXQ6_tMyW-i2LZ0LVac2ARcAokFkp4qSwbT5"})}),s.jsx("h2",{className:"text-sm sm:text-base font-semibold leading-tight line-clamp-2",children:"FC Chim ng"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center w-1/6",children:[s.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:"VS"}),s.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:"Hm nay"})]}),s.jsxs("div",{className:"flex flex-col items-center justify-start w-1/3 text-center",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-100 dark:bg-white/10 p-1 mb-3 ring-2 ring-white/10 overflow-hidden relative",children:s.jsx("img",{alt:"FC Bo en Logo",className:"w-full h-full object-cover rounded-full",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuAInradef2yFx63hNPX8ntut-VJf0uPlGE1jGX44ISB2hv-WZqUhd8DIKSTvCiz13km70T4SfnsBVh6e5VYkataCPt1arbsCZ8TlorYx1nkXzkmEe0uC7GYK0VyG-55HRlP7QUOpXn0R8fiYibmgYUAJ2IOEOrDxkOlCX2n5Tsv9aLBfb9MgaEf6d5b3DleQTdymi6C9HFbJQgrsscWXAWf86yWg8DNeIc3z1SpaZslcaFFiKg8KMITBVb1mPr1qrabijyJH92D8BoB"})}),s.jsx("h2",{className:"text-sm sm:text-base font-semibold leading-tight line-clamp-2",children:"FC Bo en"})]})]})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider text-center",children:"T s"}),s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark rounded-2xl p-4 flex flex-col items-center gap-3 ring-1 ring-black/5 dark:ring-white/5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[s.jsx("button",{onClick:()=>c("home",-1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:s.jsx(P,{name:"remove",className:"text-lg"})}),s.jsx("button",{onClick:()=>c("home",1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:s.jsx(P,{name:"add",className:"text-lg"})})]}),s.jsx("input",{className:"w-full bg-transparent text-center text-6xl font-bold text-slate-800 dark:text-white border-none focus:ring-0 p-0 leading-none placeholder-gray-700 dark:placeholder-gray-600",placeholder:"0",type:"number",value:r,readOnly:!0}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Chim ng"})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-300 dark:text-gray-600 pb-6",children:":"}),s.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark rounded-2xl p-4 flex flex-col items-center gap-3 ring-1 ring-black/5 dark:ring-white/5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[s.jsx("button",{onClick:()=>c("away",-1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:s.jsx(P,{name:"remove",className:"text-lg"})}),s.jsx("button",{onClick:()=>c("away",1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:s.jsx(P,{name:"add",className:"text-lg"})})]}),s.jsx("input",{className:"w-full bg-transparent text-center text-6xl font-bold text-slate-800 dark:text-white border-none focus:ring-0 p-0 leading-none placeholder-gray-700 dark:placeholder-gray-600",placeholder:"0",type:"number",value:a,readOnly:!0}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Bo en"})]})]})]}),s.jsxs("section",{className:"grid gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-gray-300",htmlFor:"notes",children:[s.jsx(P,{name:"edit_note",className:"text-primary text-lg"}),"Ghi ch trn u"]}),s.jsx("textarea",{className:"w-full rounded-xl bg-white dark:bg-surface-dark border-0 ring-1 ring-gray-200 dark:ring-white/10 focus:ring-2 focus:ring-primary text-slate-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 resize-none p-4 text-base shadow-sm",id:"notes",placeholder:"Nhp tn cu th ghi bn, th pht...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-slate-700 dark:text-gray-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{name:"image",className:"text-primary text-lg"}),"Hnh nh trn u"]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-normal",children:"Ti a 5 nh"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsx("button",{className:"aspect-square rounded-xl border-2 border-dashed border-gray-300 dark:border-white/20 flex flex-col items-center justify-center text-gray-400 dark:text-gray-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all group",children:s.jsx(P,{name:"add_a_photo",className:"text-2xl mb-1 group-hover:scale-110 transition-transform"})}),o.map((u,d)=>s.jsxs("div",{className:"aspect-square rounded-xl bg-white dark:bg-surface-dark relative group overflow-hidden ring-1 ring-black/5 dark:ring-white/10",children:[s.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url('${u}')`}}),s.jsx("button",{className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-black/60 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(P,{name:"close",className:"text-sm"})})]},d))]})]})]})]}),s.jsxs("div",{className:"fixed bottom-0 left-0 w-full z-40",children:[s.jsx("div",{className:"h-8 bg-gradient-to-b from-transparent to-background-light dark:to-background-dark pointer-events-none"}),s.jsx("div",{className:"bg-background-light dark:bg-background-dark p-4 pb-8 pt-2",children:s.jsxs("button",{onClick:()=>e(ge.matchSchedule),className:"w-full bg-primary hover:bg-primary-dark text-white dark:text-[#102219] font-bold text-lg h-14 rounded-xl shadow-lg shadow-primary/25 flex items-center justify-center gap-2 transition-transform active:scale-[0.98]",children:[s.jsx(P,{name:"save"}),"Lu kt qu"]})})]})]})},GL=()=>{const e=Ke(),{id:t}=Fn(),[r,n]=w.useState(!1),[a,i]=w.useState(null),[o,l]=w.useState(null),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,p]=w.useState(""),[g,m]=w.useState(""),y=Dl();w.useEffect(()=>{T(void 0,null,function*(){var k,j;if(t)try{const M=yield gt.getMatchById(t);if(M.success&&M.data){const N=M.data,E=((k=N.teamA)==null?void 0:k.id)||"";l(E);const A=E===((j=N.teamA)==null?void 0:j.id)?N.teamB:N.teamA;A&&i({id:A.id,name:A.name,logo:A.logo,level:A.level}),u(N.date||""),f(N.time||""),p(N.proposedPitch||"")}}catch(M){console.error("Failed to fetch match details:",M)}})},[t]);const b=()=>T(void 0,null,function*(){if(t){if(!c||!d||!h){Je.warning("Vui lng in y  thng tin ngy, gi v sn d kin");return}n(!0);try{const v={proposedDate:c,proposedTime:d,proposedPitch:h,notes:g||void 0};yield y.rematch(t,v),Je.success(" gi li mi  li!"),e(ge.matchSchedule)}catch(v){console.error("Rematch error:",v),Je.error(v.message||"Khng th gi li mi  li")}finally{n(!1)}}}),x=()=>{e(-1)};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[s.jsx(dt,{title:" li",onBack:x}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 no-scrollbar",children:[a?s.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-surface-dark p-6 border border-gray-200 dark:border-white/5 shadow-sm mb-6",children:[s.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-primary/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"size-20 rounded-full bg-gray-100 dark:bg-black/30 border-2 border-primary p-1",children:a.logo?s.jsx("img",{src:a.logo,className:"w-full h-full rounded-full object-cover"}):s.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:s.jsx(P,{name:"sports_soccer",className:"text-3xl text-gray-400"})})}),a.level&&s.jsx("div",{className:"absolute -bottom-2 -right-2 bg-primary text-black text-[10px] font-bold px-2 py-0.5 rounded-full border-2 border-white dark:border-surface-dark",children:a.level})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:a.name}),s.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-1 text-gray-500 dark:text-text-secondary text-sm",children:[s.jsx(P,{name:"sports_soccer",className:"text-primary text-sm"}),s.jsx("span",{children:"i th c"})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center p-8 mb-6",children:s.jsx(P,{name:"refresh",className:"animate-spin text-2xl text-primary"})}),s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(vr,{label:"Ngy d kin",type:"date",value:c,onChange:v=>u(v.target.value),className:"flex-1"}),s.jsx(vr,{label:"Gi d kin",type:"time",value:d,onChange:v=>f(v.target.value),className:"flex-1"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1 mb-2 block",children:["Loi sn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:Gg.map(v=>s.jsx("button",{type:"button",onClick:()=>p(v),className:`py-2.5 px-3 rounded-xl text-sm font-medium transition-all ${h===v?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:v},v))})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ghi ch (Ty chn)"}),s.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[120px] resize-none",placeholder:"Nhn tin cho i bn v o u, ko nc...",value:g,onChange:v=>m(v.target.value)})]}),s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-600 dark:text-blue-300",children:[s.jsx(P,{name:"info",className:"shrink-0"}),s.jsx("p",{className:"text-xs leading-relaxed",children:"Li mi ti u s c gi n i bn. H c th chp nhn hoc t chi li mi."})]})]})]}),s.jsx("div",{className:"fixed bottom-0 w-full p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5",children:s.jsx(ce,{fullWidth:!0,icon:"send",onClick:b,disabled:r||!a,children:r?"ANG GI...":"GI LI MI TI U"})})]})},ZL=()=>{const e=Ke();return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[s.jsx(dt,{title:"Gi li mi giao lu",onBack:()=>e(-1)}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 no-scrollbar",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-surface-dark p-6 border border-gray-200 dark:border-white/5 shadow-sm mb-6",children:[s.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-primary/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"size-20 rounded-full bg-gray-100 dark:bg-black/30 border-2 border-primary p-1",children:s.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuBdSvJy9n3m4nDJboxMNyYIffoPOU-q_PGbSpEtCD7oZ3QLnawTx_1DEjQVzWpwzx6GI0HV0JsCpXaMYDzdOusm7IV8SDt-tv7lcvKkU9jgDe0q4JLtzD9NXRWWP0gualfKFckerrNu7uXjyLayhLsD4LPOLodvjUQxqIKDw0C25gTjlVsjebdqgrT6zpzHAJNBdjD7Sf8i6GBSnDq9Gn6J1kwtIiNbLUTGWhLS8YzzlBfZQNtaxu43uCkI2p3Y1JZYeAdvo81iUYE7",className:"w-full h-full rounded-full object-cover"})}),s.jsx("div",{className:"absolute -bottom-2 -right-2 bg-primary text-black text-[10px] font-bold px-2 py-0.5 rounded-full border-2 border-white dark:border-surface-dark",children:"LV.5"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"FC Si Gn Phi"}),s.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-1 text-gray-500 dark:text-text-secondary text-sm",children:[s.jsx(P,{name:"verified",className:"text-primary text-sm",filled:!0}),s.jsx("span",{children:"Trnh : Trung bnh - Kh"})]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(vr,{label:"Ngy d kin",type:"date",className:"flex-1"}),s.jsx(vr,{label:"Gi d kin",type:"time",defaultValue:"19:30",className:"flex-1"})]}),s.jsx(vr,{label:"Sn d kin",placeholder:"Nhp tn sn hoc a ch...",icon:"location_on"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ghi ch (Ty chn)"}),s.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[120px] resize-none",placeholder:"Nhn tin cho i bn v o u, ko nc..."})]}),s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-600 dark:text-blue-300",children:[s.jsx(P,{name:"info",className:"shrink-0"}),s.jsx("p",{className:"text-xs leading-relaxed",children:"Li mi s c gi n qun tr vin ca i bn. H c th chp nhn hoc  xut thay i."})]})]})]}),s.jsx("div",{className:"fixed bottom-0 w-full p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5",children:s.jsx(ce,{fullWidth:!0,icon:"send",onClick:()=>e(ge.matchSchedule),children:"GI LI MI GIAO LU"})})]})},qL=()=>{var f,h,p,g,m,y;const e=Ke(),{teamId:t}=Fn(),[r,n]=w.useState(null),[a,i]=w.useState(!0),[o,l]=w.useState(null);if(w.useEffect(()=>{T(void 0,null,function*(){var x,v;if(t)try{i(!0),l(null);const k=yield _n.getTeamById(t,{includeRecentMatches:!0});k.success&&k.data?n(k.data):l(((x=k.error)==null?void 0:x.message)||"Khng tm thy thng tin i bng")}catch(k){l(((v=k.error)==null?void 0:v.message)||k.message||"Khng th ti thng tin i")}finally{i(!1)}})},[t]),a)return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 z-50 p-4 flex justify-between items-center text-white safe-area-top",children:s.jsx("button",{onClick:()=>e(-1),className:"size-10 flex items-center justify-center rounded-full bg-black/30 backdrop-blur-md hover:bg-black/50 transition-colors",children:s.jsx(P,{name:"arrow_back"})})}),s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-primary/30 border-t-primary animate-spin"})}),s.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white pb-8 text-center",children:"ang ti..."})]});if(o||!r)return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark items-center justify-center p-6",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mb-4",children:s.jsx(P,{name:"error",className:"text-3xl text-red-500"})}),s.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Khng tm thy i bng"}),s.jsx("p",{className:"text-gray-500 mb-6 text-center",children:o||"i bng ny khng tn ti hoc  b xa."}),s.jsx(ce,{onClick:()=>e(-1),variant:"primary",children:"Quay li"})]});const c=85,u=r.banner,d=r.logo;return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24 animate-fade-in",children:[s.jsxs("div",{className:"absolute top-0 left-0 right-0 z-50 p-4 flex justify-between items-center text-white safe-area-top",children:[s.jsx("button",{onClick:()=>e(-1),className:"size-10 flex items-center justify-center rounded-full bg-black/30 backdrop-blur-md hover:bg-black/50 transition-colors",children:s.jsx(P,{name:"arrow_back"})}),s.jsx("button",{className:"size-10 flex items-center justify-center rounded-full bg-black/30 backdrop-blur-md hover:bg-black/50 transition-colors",children:s.jsx(P,{name:"more_vert"})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"h-64 w-full overflow-hidden relative",children:[u?s.jsx("div",{className:"w-full h-full bg-center bg-cover",style:{backgroundImage:`url("${u}")`}}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background-light dark:from-background-dark via-transparent to-transparent"})]}),s.jsx("div",{className:"absolute -bottom-12 left-6 flex items-end gap-4",children:s.jsx("div",{className:"size-24 rounded-2xl border-4 border-background-light dark:border-background-dark bg-surface-dark overflow-hidden shadow-xl",children:d?s.jsx("img",{className:"w-full h-full object-cover",src:d,alt:r.name}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-4xl font-bold",children:((f=r.name)==null?void 0:f.charAt(0))||"T"})})})})]}),s.jsxs("div",{className:"mt-14 px-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:r.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-gray-500 dark:text-gray-400",children:[s.jsx(P,{name:"location_on",className:"text-sm"}),s.jsx("span",{className:"text-sm font-medium",children:((h=r.location)==null?void 0:h.address)||"..."})]})]}),s.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-xs font-bold border border-primary/20",children:[c,"% Hp c"]})]}),s.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300 text-sm leading-relaxed",children:r.description||"Cha c m t v i bng."}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[(p=r.pitch)==null?void 0:p.map(b=>s.jsx("span",{className:"px-3 py-1 rounded-lg bg-gray-100 dark:bg-white/5 text-xs font-medium text-gray-600 dark:text-gray-300",children:b},b)),s.jsx("span",{className:"px-3 py-1 rounded-lg bg-gray-100 dark:bg-white/5 text-xs font-medium text-gray-600 dark:text-gray-300",children:r.level||"-"})]})]}),s.jsxs("div",{className:"px-6 mt-8",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-900 dark:text-white",children:"Ch s sc mnh"}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm space-y-4",children:[((g=r.stats)==null?void 0:g.attack)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[s.jsx("span",{className:"text-red-500",children:"Tn cng"}),s.jsxs("span",{className:"text-slate-900 dark:text-white",children:[(r.stats.attack/10).toFixed(1),"/10"]})]}),s.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${r.stats.attack}%`}})})]}),((m=r.stats)==null?void 0:m.defense)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[s.jsx("span",{className:"text-blue-500",children:"Phng th"}),s.jsxs("span",{className:"text-slate-900 dark:text-white",children:[(r.stats.defense/10).toFixed(1),"/10"]})]}),s.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${r.stats.defense}%`}})})]}),((y=r.stats)==null?void 0:y.technique)&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold mb-1",children:[s.jsx("span",{className:"text-primary",children:"K thut"}),s.jsxs("span",{className:"text-slate-900 dark:text-white",children:[(r.stats.technique/10).toFixed(1),"/10"]})]}),s.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${r.stats.technique}%`}})})]})]})]}),r.recentMatches&&r.recentMatches.length>0&&s.jsxs("div",{className:"px-6 mt-8 mb-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 text-slate-900 dark:text-white",children:"Trn u gn y"}),s.jsx("div",{className:"space-y-3",children:r.recentMatches.map(b=>{const x=b.teamAId===t,v=x?b.teamB:b.teamA,k=x?b.scoreA:b.scoreB,j=x?b.scoreB:b.scoreA,M=k&&j&&k>j,N=k&&j&&k<j,E=new Date(b.date),A=`${E.getDate().toString().padStart(2,"0")}/${(E.getMonth()+1).toString().padStart(2,"0")}`;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xs font-bold text-gray-400",children:A}),M&&s.jsx("div",{className:"bg-green-500 text-white text-xs font-bold px-1.5 py-0.5 rounded",children:"W"}),N&&s.jsx("div",{className:"bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded",children:"L"}),!M&&!N&&s.jsx("div",{className:"bg-gray-400 text-white text-xs font-bold px-1.5 py-0.5 rounded",children:"D"}),s.jsxs("span",{className:"text-sm font-semibold dark:text-white",children:["vs ",(v==null?void 0:v.name)||"..."]})]}),s.jsxs("span",{className:"text-sm font-mono font-bold dark:text-white",children:[k!=null?k:"-"," - ",j!=null?j:"-"]})]},b.id)})})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/90 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5 z-40",children:s.jsxs("div",{className:"flex gap-4 max-w-md mx-auto items-center",children:[s.jsx("button",{onClick:()=>e(-1),className:"size-14 rounded-full bg-surface-dark border border-white/10 shadow-lg flex items-center justify-center text-red-500 hover:scale-110 transition-transform active:scale-95",children:s.jsx(P,{name:"close",className:"text-3xl"})}),s.jsx(ce,{className:"flex-1 h-14 text-lg shadow-glow",variant:"primary",icon:"sports",onClick:()=>e(ge.matchInvite,{state:{opponentTeam:{id:r.id,name:r.name,logo:r.logo}}}),children:"Mi giao lu"})]})})]})},YL=()=>{const e=Ke(),t=[{date:"12/05",result:"W",score:"5 - 3",opponent:"C Su FC",location:"Sn Cho La",isHome:!0},{date:"10/05",result:"L",score:"2 - 4",opponent:"Tiger Utd",location:"Sn K34",isHome:!1},{date:"05/05",result:"D",score:"4 - 4",opponent:"Storm FC",location:"Sn PM",isHome:!0},{date:"01/05",result:"W",score:"3 - 1",opponent:"Vn Phng FC",location:"Sn Qun 7",isHome:!0}],r=n=>{switch(n){case"W":return"bg-green-500 text-white";case"L":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[s.jsx(dt,{title:"Lch s thi u",onBack:()=>e(-1)}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2",children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[s.jsx("span",{className:"block text-xl font-bold text-green-500",children:"15"}),s.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Thng"})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[s.jsx("span",{className:"block text-xl font-bold text-gray-500",children:"4"}),s.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Ha"})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[s.jsx("span",{className:"block text-xl font-bold text-red-500",children:"3"}),s.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Thua"})]})]}),t.map((n,a)=>s.jsxs("div",{onClick:()=>e(ge.matchDetail("1")),className:"flex items-center gap-4 bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 active:scale-[0.99] transition-transform cursor-pointer",children:[s.jsxs("div",{className:"flex flex-col items-center w-10",children:[s.jsx("span",{className:"text-xs font-bold text-gray-500 mb-1",children:n.date}),s.jsx("div",{className:`size-8 rounded-full flex items-center justify-center font-bold text-sm ${r(n.result)}`,children:n.result})]}),s.jsx("div",{className:"w-px h-10 bg-gray-100 dark:bg-white/10"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white",children:["vs ",n.opponent]}),s.jsx("span",{className:`font-mono font-bold ${n.result==="W"?"text-green-500":n.result==="L"?"text-red-500":"text-gray-400"}`,children:n.score})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(P,{name:"location_on",className:"text-xs"}),n.location]})]}),s.jsx(P,{name:"chevron_right",className:"text-gray-400"})]},a))]})]})},QL=()=>{var M,N;const e=Ke(),{matchId:t}=Fn(),r=Et(E=>E.user),n=Mn(E=>E.showToast),[a,i]=w.useState(!0),[o,l]=w.useState(null),[c,u]=w.useState(null),[d,f]=w.useState("A"),[h,p]=w.useState(!1),g=w.useCallback(()=>T(void 0,null,function*(){if(t)try{i(!0);const[E,A]=yield Promise.all([gt.getMatchAttendance(t),gt.getMyAttendance(t)]);E.success&&E.data&&l(E.data),A.success&&u(A.data)}catch(E){console.error("Failed to fetch attendance:",E),n(E.message||"Khng th ti danh sch im danh","error")}finally{i(!1)}}),[t,n]);w.useEffect(()=>{g()},[g]),c&&(o==null||o.teamA.teamId,c.teamId);const m=(E,A)=>T(void 0,null,function*(){if(t)try{p(!0);const O=yield gt.updateAttendance(t,{status:E,reason:A});O.success&&O.data&&(u(O.data),n({PENDING:" hy xc nhn",CONFIRMED:" xc nhn tham gia!",DECLINED:" bo bn"}[E],"success"),yield g())}catch(O){console.error("Failed to update attendance:",O),n(O.message||"Khng th cp nht im danh","error")}finally{p(!1)}}),y=()=>{m("CONFIRMED")},b=()=>{const E=prompt("L do bo bn:");E&&m("DECLINED",E)},x=()=>{m("PENDING")},v=(E,A)=>{switch(E){case"PENDING":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-gray-500/10 text-gray-500 border border-gray-500/20",children:"Cha phn hi"});case"CONFIRMED":return s.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:"C mt"});case"DECLINED":return s.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20",children:["Bn ",A&&`(${A})`]})}},k=()=>{if(!c)return null;const E=c.status;return s.jsxs("div",{className:"flex gap-3",children:[E==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:h,onClick:b,children:"Bo bn"}),s.jsx(ce,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:h,onClick:y,children:"S tham gia"})]}),E==="CONFIRMED"&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:h,onClick:b,children:"Bo bn"}),s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:h,onClick:x,children:"Cha xc nhn"})]}),E==="DECLINED"&&s.jsxs(s.Fragment,{children:[s.jsx(ce,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:h,onClick:y,children:"S tham gia"}),s.jsx(ce,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:h,onClick:x,children:"Cha xc nhn"})]})]})},j=d==="A"?o==null?void 0:o.teamA:o==null?void 0:o.teamB;return a?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white",children:[s.jsx(dt,{title:"im danh",onBack:()=>e(-1)}),s.jsx("div",{className:"flex items-center justify-center flex-1",children:s.jsx("div",{className:"text-gray-500",children:"ang ti..."})})]}):!o||!j?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white",children:[s.jsx(dt,{title:"im danh",onBack:()=>e(-1)}),s.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-4",children:[s.jsx(P,{name:"event_busy",className:"text-5xl text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Khng th ti thng tin im danh"}),s.jsx(ce,{className:"mt-4",onClick:()=>e(-1),children:"Quay li"})]})]}):(d==="A"?o.teamB:o.teamA,s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white pb-40",children:[s.jsx(dt,{title:"im danh",onBack:()=>e(-1)}),s.jsx("div",{className:"px-4 pt-4 pb-2",children:s.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl flex",children:[s.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${d==="A"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>f("A"),children:(M=o.teamA)!=null&&M.teamId?"i A":"i nh"}),s.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${d==="B"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>f("B"),children:(N=o.teamB)!=null&&N.teamId?"i B":"i khch"})]})}),s.jsx("div",{className:"px-4 pt-4",children:s.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-bold text-lg",children:"Tnh trng im danh"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:j.summary.confirmed}),s.jsxs("span",{className:"text-gray-500",children:["/",j.summary.total]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:s.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${j.summary.confirmedPercentage}%`}})}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["C mt: ",j.summary.confirmed]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Bn: ",j.summary.declined]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),s.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Cha tr li: ",j.summary.pending]})]})]})]})}),s.jsxs("div",{className:"px-4 pt-6",children:[s.jsx("h3",{className:"font-bold text-base mb-3",children:"Danh sch thnh vin"}),j.attendance.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(P,{name:"person_off",className:"text-4xl text-gray-400 mb-2"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Cha c d liu im danh"})]}):s.jsx("div",{className:"space-y-2",children:j.attendance.map(E=>{const A=r&&E.userId===r.id;return s.jsxs("div",{className:`bg-white dark:bg-[#1A2C23] rounded-xl p-3 shadow-sm border border-gray-100 dark:border-gray-800/50 flex items-center gap-3 ${A?"ring-2 ring-primary/20":""}`,children:[s.jsx("div",{className:"relative",children:E.avatar?s.jsx("img",{src:E.avatar,alt:E.fullName,className:"w-12 h-12 rounded-full object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:s.jsx(P,{name:"person",className:"text-gray-500"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-sm truncate",children:E.fullName}),A&&s.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded bg-primary/20 text-primary",children:"Bn"})]}),E.phone&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:E.phone})]}),s.jsx("div",{children:v(E.status,E.reason)})]},E.id)})})]}),c&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background-light dark:bg-background-dark p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] border-t border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"max-w-lg mx-auto",children:[s.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-3 mb-3 border border-gray-100 dark:border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(P,{name:"person",className:"text-primary"}),s.jsx("p",{className:"font-medium text-sm",children:"Trng thi ca bn"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[v(c.status,c.reason),c.responseTime&&s.jsx("span",{className:"text-xs text-gray-500",children:new Date(c.responseTime).toLocaleString("vi-VN")})]})]}),k()]})})]}))},JL=()=>{const e=Ke(),[t,r]=w.useState("all"),[n,a]=w.useState([{id:"1",type:"team_invite",title:"Li mi tham gia i",content:"Hong Nam  mi bn tham gia i bng FC Anh Em.",time:"15 pht trc",isRead:!1,data:{teamName:"FC Anh Em",logo:"https://lh3.googleusercontent.com/aida-public/AB6AXuBypvDsi-D_phTOtQVDsuko1_OaeLHOPwHmhVianjSwwv5eXiQ5TI7fie-VKOFm-iNPkFWxJww3Phok10XnM2xeMBaAhHiM6qPUAdUNYq5nf1AvtF-q24k4xmzXc1hWjuPlMOqQOniDFxVh0ZkHaooaQ4OYzSSuMP9u6TNYh0DkSG6liPhKWavxJG405PNn8issj3m_-RoaeJs2kPsmhV5S0nTTxwPAbxwfKAPtRPkzmjUDq4_45ql8q8y7Byllkt5Ou8PGPsisKYJp",inviter:"Hong Nam"}},{id:"2",type:"match_invite",title:"Li mi giao hu",content:"Tiger Utd mun giao hu vi FC Si Gn vo ti mai.",time:"2 gi trc",isRead:!0,data:{teamName:"Tiger Utd",logo:"https://lh3.googleusercontent.com/aida-public/AB6AXuAgxBAaJQou-skfFZH5ACWZ-qpEWdiR7OC1Ed1HCHOREyVUCtHmKYJGQoYC_UPMXGDEoSsU1p4tKlT0V4O1ROjwVxJaHO-xN6R7H-6b9U5j_4n47evOpJOrLBTseQ-vBpPT1DoR5gIISwy_i5KqGzMuHbLw5yuB5wSsdt0hkXXz32EfnKqFH933RZnWk5JsZ9Shpst4HVWLru7fZ_PKYR4qvSBh3_fOxfHYyHSzrOMtfQtTbuV4gR064mquc2XNzjS07DUl8OA1r18W"}},{id:"3",type:"system",title:"Cp nht h thng",content:"Phin bn mi 2.0  sn sng. Tri nghim ngay cc tnh nng qun l i bng mi.",time:"1 ngy trc",isRead:!0}]),i=t==="all"?n:n.filter(l=>l.type==="team_invite"),o=l=>{a(c=>c.filter(u=>u.id!==l))};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Thng bo",onBack:()=>e(-1),rightAction:s.jsx("button",{className:"text-primary text-sm font-bold p-2",children:"c tt c"})}),s.jsx("div",{className:"px-4 pt-2 pb-4 border-b border-gray-200 dark:border-white/5",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r("all"),className:`px-4 py-1.5 rounded-full text-sm font-bold transition-colors ${t==="all"?"bg-slate-900 dark:bg-white text-white dark:text-slate-900":"text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:"Tt c"}),s.jsx("button",{onClick:()=>r("invites"),className:`px-4 py-1.5 rounded-full text-sm font-bold transition-colors ${t==="invites"?"bg-slate-900 dark:bg-white text-white dark:text-slate-900":"text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:"Li mi"})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(l=>s.jsx("div",{className:`p-4 rounded-2xl border ${l.isRead?"bg-white dark:bg-surface-dark border-gray-100 dark:border-white/5":"bg-primary/5 border-primary/20 shadow-sm"}`,children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"shrink-0",children:l.type==="team_invite"||l.type==="match_invite"?s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{src:l.data.logo,size:"md"}),l.type==="team_invite"&&s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white p-1 rounded-full border-2 border-white dark:border-surface-dark",children:s.jsx(P,{name:"person_add",className:"text-xs"})}),l.type==="match_invite"&&s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-red-500 text-white p-1 rounded-full border-2 border-white dark:border-surface-dark",children:s.jsx(P,{name:"flash_on",className:"text-xs"})})]}):s.jsx("div",{className:"size-12 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-gray-500",children:s.jsx(P,{name:"notifications"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("h4",{className:`text-sm ${l.isRead?"font-semibold text-slate-900 dark:text-white":"font-bold text-slate-900 dark:text-white"}`,children:l.title}),s.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:l.time})]}),s.jsx("p",{className:`text-sm ${l.isRead?"text-gray-500":"text-slate-800 dark:text-gray-200"} leading-relaxed mb-3`,children:l.content}),l.type==="team_invite"&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ce,{className:"h-9 px-4 text-xs flex-1",children:"Chp nhn"}),s.jsx(ce,{variant:"secondary",className:"h-9 px-4 text-xs flex-1 bg-white dark:bg-white/5",onClick:()=>o(l.id),children:"T chi"}),s.jsx(ce,{variant:"ghost",className:"h-9 w-9 p-0 rounded-full",onClick:()=>e(ge.teamDetail("1")),children:s.jsx(P,{name:"arrow_forward"})})]}),l.type==="match_invite"&&s.jsx(ce,{variant:"secondary",className:"h-9 w-full text-xs",children:"Xem chi tit"})]})]})},l.id)),i.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[s.jsx("div",{className:"size-20 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mb-4",children:s.jsx(P,{name:"notifications_off",className:"text-3xl"})}),s.jsx("p",{children:"Khng c thng bo no"})]})]})]})},uo=()=>`upload_${Date.now()}_${Math.random().toString(36).substring(7)}`,XL=Un((e,t)=>({uploadedFiles:new Map,isLoading:!1,uploadProgress:new Map,error:null,setUploadedFiles:r=>e({uploadedFiles:r}),addUploadedFile:(r,n)=>e(a=>{const i=new Map(a.uploadedFiles),o=i.get(r)||[];return i.set(r,[...o,n]),{uploadedFiles:i}}),removeUploadedFile:(r,n)=>e(a=>{const i=new Map(a.uploadedFiles),o=i.get(r)||[];return i.set(r,o.filter(l=>l.id!==n)),{uploadedFiles:i}}),clearError:()=>e({error:null}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),setUploadProgress:(r,n,a)=>e(i=>{const o=new Map(i.uploadProgress);return o.set(r,{fileId:r,progress:n,fileName:a}),{uploadProgress:o}}),removeUploadProgress:r=>e(n=>{const a=new Map(n.uploadProgress);return a.delete(r),{uploadProgress:a}}),uploadFile:(r,n,a,i,o)=>T(void 0,null,function*(){var c,u;const l=uo();try{e({isLoading:!0,error:null});const d=yield Jn({file:r,entityType:n,entityId:a,fileType:i},f=>{t().setUploadProgress(l,f,r.name),o==null||o(f)});if(d.success&&d.data)return t().addUploadedFile(a,d.data.file),t().removeUploadProgress(l),d.data.file;throw new Error(((c=d.error)==null?void 0:c.message)||"Failed to upload file")}catch(d){const f=((u=d.error)==null?void 0:u.message)||d.message||"Khng th ti ln file";throw e({error:f,isLoading:!1}),t().removeUploadProgress(l),d}finally{e({isLoading:!1})}}),uploadTeamLogo:(r,n,a)=>T(void 0,null,function*(){var o,l;const i=uo();try{e({isLoading:!0,error:null});const c=yield Jn({file:n,fileType:"logo"},u=>{t().setUploadProgress(i,u,n.name),a==null||a(u)},`/files/team/${r}/logo`);if(c.success&&c.data)return t().addUploadedFile(r,c.data.file),t().removeUploadProgress(i),c.data.file;throw new Error(((o=c.error)==null?void 0:o.message)||"Failed to upload logo")}catch(c){const u=((l=c.error)==null?void 0:l.message)||c.message||"Khng th ti ln logo";throw e({error:u,isLoading:!1}),t().removeUploadProgress(i),c}finally{e({isLoading:!1})}}),uploadTeamBanner:(r,n,a)=>T(void 0,null,function*(){var o,l;const i=uo();try{e({isLoading:!0,error:null});const c=yield Jn({file:n,fileType:"banner"},u=>{t().setUploadProgress(i,u,n.name),a==null||a(u)},`/files/team/${r}/banners`);if(c.success&&c.data)return t().addUploadedFile(r,c.data.file),t().removeUploadProgress(i),c.data.file;throw new Error(((o=c.error)==null?void 0:o.message)||"Failed to upload banner")}catch(c){const u=((l=c.error)==null?void 0:l.message)||c.message||"Khng th ti ln banner";throw e({error:u,isLoading:!1}),t().removeUploadProgress(i),c}finally{e({isLoading:!1})}}),uploadUserAvatar:(r,n)=>T(void 0,null,function*(){var i,o;const a=uo();try{e({isLoading:!0,error:null});const l=yield Jn({file:r,fileType:"avatar"},c=>{t().setUploadProgress(a,c,r.name),n==null||n(c)},"/files/user/avatar");if(l.success&&l.data)return t().removeUploadProgress(a),l.data.file;throw new Error(((i=l.error)==null?void 0:i.message)||"Failed to upload avatar")}catch(l){const c=((o=l.error)==null?void 0:o.message)||l.message||"Khng th ti ln nh i din";throw e({error:c,isLoading:!1}),t().removeUploadProgress(a),l}finally{e({isLoading:!1})}}),uploadUserBanner:(r,n)=>T(void 0,null,function*(){var i,o;const a=uo();try{e({isLoading:!0,error:null});const l=yield Jn({file:r,fileType:"banner"},c=>{t().setUploadProgress(a,c,r.name),n==null||n(c)},"/files/user/banner");if(l.success&&l.data)return t().removeUploadProgress(a),l.data.file;throw new Error(((i=l.error)==null?void 0:i.message)||"Failed to upload banner")}catch(l){const c=((o=l.error)==null?void 0:o.message)||l.message||"Khng th ti ln nh ba";throw e({error:c,isLoading:!1}),t().removeUploadProgress(a),l}finally{e({isLoading:!1})}}),getEntityFiles:(r,n)=>T(void 0,null,function*(){try{e({isLoading:!0,error:null});const a=yield fetch(`/api/v1/files/entity/${r}/${n}`,{headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const i=yield a.json();if(i.success&&i.data){const o=Array.isArray(i.data)?i.data:[i.data];return e(l=>{const c=new Map(l.uploadedFiles);return c.set(n,o),{uploadedFiles:c,error:null}}),o}else throw new Error(i.message||"Failed to fetch files")}catch(a){const i=a.message||"Khng th ti danh sch file";throw e({error:i,isLoading:!1}),a}finally{e({isLoading:!1})}}),deleteFile:r=>T(void 0,null,function*(){try{e({isLoading:!0,error:null});const n=yield fetch(`/api/v1/files/${r}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const a=yield n.json();if(a.success)e(i=>{const o=new Map(i.uploadedFiles);for(const[l,c]of o.entries())o.set(l,c.filter(u=>u.id!==r));return{uploadedFiles:o}});else throw new Error(a.message||"Failed to delete file")}catch(n){const a=n.message||"Khng th xa file";throw e({error:a,isLoading:!1}),n}finally{e({isLoading:!1})}})})),eD=()=>{const e=XL();return{setUploadedFiles:e.setUploadedFiles,addUploadedFile:e.addUploadedFile,removeUploadedFile:e.removeUploadedFile,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,setUploadProgress:e.setUploadProgress,removeUploadProgress:e.removeUploadProgress,uploadFile:e.uploadFile,uploadTeamLogo:e.uploadTeamLogo,uploadTeamBanner:e.uploadTeamBanner,uploadUserAvatar:e.uploadUserAvatar,uploadUserBanner:e.uploadUserBanner,getEntityFiles:e.getEntityFiles,deleteFile:e.deleteFile}},tD=()=>{var fe;const e=Ke(),t=Ll(),{updateProfile:r}=Vg(),{uploadUserAvatar:n,uploadUserBanner:a}=eD(),i=w.useRef(null),o=w.useRef(null),[l,c]=w.useState({name:"",phone:"",position:"Tin v",jerseyNumber:"",bio:""}),[u,d]=w.useState({attack:7.5,defense:7,technique:7.5}),[f,h]=w.useState(!1),[p,g]=w.useState(!1),[m,y]=w.useState(null),[b,x]=w.useState(0),[v,k]=w.useState(0),[j,M]=w.useState(!1),[N,E]=w.useState(!1),[A,O]=w.useState(null),[F,G]=w.useState(null);w.useEffect(()=>{var K;t&&(c({name:t.name||"",phone:t.phone||"",position:t.position||"Tin v",jerseyNumber:((K=t.jerseyNumber)==null?void 0:K.toString())||"",bio:t.bio||""}),t.playerStats&&d({attack:t.playerStats.attack/10,defense:t.playerStats.defense/10,technique:t.playerStats.technique/10}),O(t.avatar||null),G(t.banner||null))},[t]);const ne=(K,ue)=>{c(we=>Z(C({},we),{[K]:ue}))},X=(K,ue)=>{d(we=>Z(C({},we),{[K]:ue}))},J=K=>{if(!K.type.startsWith("image/"))return{valid:!1,error:"Ch chp nhn file hnh nh"};const ue=5*1024*1024;return K.size>ue?{valid:!1,error:"Kch thc file khng c vt qu 5MB"}:{valid:!0}},V=()=>{var K;(K=i.current)==null||K.click()},ae=K=>T(void 0,null,function*(){var ke,te;const ue=(ke=K.target.files)==null?void 0:ke[0];if(!ue)return;const we=J(ue);if(!we.valid){y(we.error||"File khng hp l");return}try{M(!0),x(0),y(null);const B=yield n(ue,q=>{x(q)});B.publicUrl&&O(B.publicUrl)}catch(B){const q=((te=B.error)==null?void 0:te.message)||B.message||"Khng th ti ln nh i din";y(q)}finally{M(!1),x(0),i.current&&(i.current.value="")}}),U=()=>{var K;(K=o.current)==null||K.click()},Y=K=>T(void 0,null,function*(){var ke,te;const ue=(ke=K.target.files)==null?void 0:ke[0];if(!ue)return;const we=J(ue);if(!we.valid){y(we.error||"File khng hp l");return}try{E(!0),k(0),y(null);const B=yield a(ue,q=>{k(q)});B.publicUrl&&G(B.publicUrl)}catch(B){const q=((te=B.error)==null?void 0:te.message)||B.message||"Khng th ti ln nh ba";y(q)}finally{E(!1),k(0),o.current&&(o.current.value="")}}),H=()=>T(void 0,null,function*(){if(!(t!=null&&t.id)){y("Khng tm thy thng tin ngi dng");return}try{g(!0),y(null),yield r({name:l.name,phone:l.phone,position:l.position,jerseyNumber:l.jerseyNumber?parseInt(l.jerseyNumber):void 0,bio:l.bio,avatar:A||void 0,banner:F||void 0,playerStats:{attack:u.attack*10,defense:u.defense*10,technique:u.technique*10}}),e(-1)}catch(K){console.error("Failed to update profile:",K),y(K instanceof Error?K.message:"C li xy ra khi cp nht h s")}finally{g(!1)}});return t?s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Chnh sa h s",onBack:()=>e(-1)}),m&&s.jsx("div",{className:"mx-4 mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:s.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:m})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[s.jsxs("div",{className:"relative group cursor-pointer -mx-4 -mt-4",onClick:U,children:[s.jsxs("div",{className:"h-40 overflow-hidden bg-gradient-to-r from-primary to-green-600 relative",children:[F?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:F,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity",alt:"Banner"}),s.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx(P,{name:"camera_alt",className:"text-3xl mx-auto mb-1"}),s.jsx("p",{className:"text-sm font-medium",children:"Thay i nh ba"})]})})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-r from-primary/50 to-green-600/50",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx(P,{name:"add_photo_alternate",className:"text-4xl mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium",children:"Thm nh ba"})]})}),N&&v>0&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/50",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${v}%`}})})]}),!N&&s.jsx("div",{className:"absolute bottom-3 right-3 bg-white/90 dark:bg-surface-dark/90 text-primary p-2 rounded-full shadow-lg",children:s.jsx(P,{name:"edit",className:"text-lg"})})]}),s.jsxs("div",{className:"flex flex-col items-center -mt-16 mb-4",children:[s.jsxs("div",{className:"relative group cursor-pointer",onClick:V,children:[s.jsxs("div",{className:"size-28 rounded-full border-4 border-white dark:border-surface-dark shadow-xl overflow-hidden bg-gray-200 dark:bg-white/5",children:[A?s.jsx("img",{src:A,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity",alt:t.name}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-3xl",children:((fe=t==null?void 0:t.name)==null?void 0:fe.charAt(0).toUpperCase())||"U"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/30",children:s.jsx(P,{name:"camera_alt",className:"text-white text-3xl"})}),j&&b>0&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/50",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${b}%`}})})]}),!j&&s.jsx("div",{className:"absolute bottom-1 right-1 bg-primary text-white p-2 rounded-full border-4 border-background-light dark:border-background-dark shadow-sm",children:s.jsx(P,{name:"edit",className:"text-sm"})})]}),s.jsx("p",{className:"mt-3 text-sm text-primary font-bold cursor-pointer",onClick:V,children:"Thay i nh i din"})]}),s.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:ae,className:"hidden"}),s.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:Y,className:"hidden"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 bg-white dark:bg-surface-dark rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm",children:[s.jsx(vr,{label:"H v tn",value:l.name,onChange:K=>ne("name",K.target.value),icon:"person"}),s.jsx(vr,{label:"S in thoi",value:l.phone,onChange:K=>ne("phone",K.target.value),icon:"phone",type:"tel"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"V tr s trng"}),s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("div",{className:"absolute left-4 text-gray-400 dark:text-gray-500 pointer-events-none",children:s.jsx(P,{name:"sports_soccer"})}),s.jsxs("select",{value:l.position,onChange:K=>ne("position",K.target.value),className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl h-12 pl-12 pr-10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent transition-all appearance-none",children:[s.jsx("option",{children:"Th mn"}),s.jsx("option",{children:"Hu v"}),s.jsx("option",{children:"Tin v"}),s.jsx("option",{children:"Tin o"})]}),s.jsx("div",{className:"absolute right-4 text-gray-400 pointer-events-none",children:s.jsx(P,{name:"expand_more"})})]})]}),s.jsx(vr,{label:"S o yu thch",value:l.jerseyNumber,onChange:K=>ne("jerseyNumber",K.target.value),icon:"tag",type:"number"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii thiu bn thn"}),s.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none shadow-sm",placeholder:"Gii thiu v phong cch , kinh nghim...",value:l.bio,onChange:K=>ne("bio",K.target.value)})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl border border-gray-100 dark:border-white/5 overflow-hidden shadow-sm",children:[s.jsxs("button",{onClick:()=>h(!f),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-900 dark:text-white",children:[s.jsx("div",{className:"p-1 bg-primary/10 rounded-md text-primary",children:s.jsx(P,{name:"bar_chart",className:"text-lg"})}),s.jsx("span",{children:"Ch s k nng (T nh gi)"})]}),s.jsx(P,{name:f?"expand_less":"expand_more",className:"text-gray-400"})]}),f&&s.jsxs("div",{className:"p-4 space-y-4 border-t border-gray-100 dark:border-white/5 animate-fade-in",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-500 font-bold text-sm",children:[s.jsx(P,{name:"flash_on",className:"text-sm"})," Tn cng"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:u.attack})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:u.attack,onChange:K=>X("attack",parseFloat(K.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-500 font-bold text-sm",children:[s.jsx(P,{name:"shield",className:"text-sm"})," Phng th"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:u.defense})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:u.defense,onChange:K=>X("defense",parseFloat(K.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-sm",children:[s.jsx(P,{name:"sports_soccer",className:"text-sm"})," K thut"]}),s.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:u.technique})]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:u.technique,onChange:K=>X("technique",parseFloat(K.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary"})]})]})]})]})]}),s.jsx("div",{className:"p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur border-t border-gray-200 dark:border-white/5",children:s.jsx(ce,{fullWidth:!0,onClick:H,disabled:p||j||N,children:p?"ANG LU...":j||N?"ANG TI LN...":"LU THAY I"})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background-light dark:bg-background-dark",children:[s.jsx(P,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),s.jsx("p",{className:"text-gray-500",children:"ang ti thng tin..."})]})},rj=Un()(Us((e,t)=>({swipeHistory:[],receivedSwipes:[],swipeStats:null,historyPagination:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},receivedPagination:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},isLoadingHistory:!1,isLoadingReceived:!1,isLoadingStats:!1,isLoadingMoreHistory:!1,isLoadingMoreReceived:!1,error:null,historyFilter:"all",_fetchedHistory:{},_fetchedReceived:{},_fetchedStats:{},setSwipeHistory:r=>e({swipeHistory:r}),setReceivedSwipes:r=>e({receivedSwipes:r}),setSwipeStats:r=>e({swipeStats:r}),setHistoryFilter:r=>e({historyFilter:r}),setError:r=>e({error:r}),clearAllData:()=>e({swipeHistory:[],receivedSwipes:[],swipeStats:null,_fetchedHistory:{},_fetchedReceived:{},_fetchedStats:{},error:null}),fetchSwipeHistory:(r,n=1,a=!1)=>T(void 0,null,function*(){const i=t();if(!(n===1&&i.isLoadingHistory)&&!(n>1&&i.isLoadingMoreHistory)&&!(!a&&n===1&&i._fetchedHistory[r]&&i.swipeHistory.length>0)){e(n===1?{isLoadingHistory:!0,error:null}:{isLoadingMoreHistory:!0});try{const o=i.historyFilter==="all"?void 0:i.historyFilter,c=(yield bo.getSwipeHistory(r,{page:n,limit:20,action:o})).data;if(!c)throw new Error("No data received from API");e(u=>({swipeHistory:n===1||a?c.swipes:[...u.swipeHistory,...c.swipes],historyPagination:{page:c.pagination.page,limit:c.pagination.limit,total:c.pagination.total,totalPages:c.pagination.totalPages,hasMore:c.pagination.page<c.pagination.totalPages},_fetchedHistory:Z(C({},u._fetchedHistory),{[r]:!0}),error:null}))}catch(o){e({error:o.message||"Khng th ti lch s swipe"})}finally{e(n===1?{isLoadingHistory:!1}:{isLoadingMoreHistory:!1})}}}),fetchReceivedSwipes:(r,n=1,a=!1)=>T(void 0,null,function*(){const i=t();if(!(n===1&&i.isLoadingReceived)&&!(n>1&&i.isLoadingMoreReceived)&&!(!a&&n===1&&i._fetchedReceived[r]&&i.receivedSwipes.length>0)){e(n===1?{isLoadingReceived:!0,error:null}:{isLoadingMoreReceived:!0});try{const l=(yield bo.getReceivedSwipes(r,{page:n,limit:20})).data;if(!l)throw new Error("No data received from API");e(c=>{var u,d,f,h;return{receivedSwipes:n===1||a?l.receivedSwipes:[...c.receivedSwipes,...l.receivedSwipes],receivedPagination:{page:((u=l.pagination)==null?void 0:u.page)||n,limit:((d=l.pagination)==null?void 0:d.limit)||20,total:l.total||0,totalPages:((f=l.pagination)==null?void 0:f.totalPages)||Math.ceil((l.total||0)/20),hasMore:l.pagination?l.pagination.page<l.pagination.totalPages:(((h=l.receivedSwipes)==null?void 0:h.length)||0)>=20},_fetchedReceived:Z(C({},c._fetchedReceived),{[r]:!0}),error:null}})}catch(o){e({error:o.message||"Khng th ti danh sch thch"})}finally{e(n===1?{isLoadingReceived:!1}:{isLoadingMoreReceived:!1})}}}),fetchSwipeStats:(r,n=!1)=>T(void 0,null,function*(){const a=t();if(!a.isLoadingStats&&!(!n&&a._fetchedStats[r]&&a.swipeStats)){e({isLoadingStats:!0,error:null});try{const o=(yield bo.getSwipeStats(r)).data;if(!o)throw new Error("No data received from API");e({swipeStats:o,_fetchedStats:Z(C({},a._fetchedStats),{[r]:!0}),error:null})}catch(i){e({error:i.message||"Khng th ti thng k"})}finally{e({isLoadingStats:!1})}}}),undoSwipe:r=>T(void 0,null,function*(){try{yield bo.undoSwipe(r),e(n=>({swipeHistory:n.swipeHistory.filter(a=>a.id!==r)}))}catch(n){throw e({error:n.message||"Khng th hon tc"}),n}})}),{name:"swipe-storage",partialize:e=>({historyFilter:e.historyFilter})})),rD=()=>{const e=rj();return{fetchSwipeHistory:e.fetchSwipeHistory,fetchReceivedSwipes:e.fetchReceivedSwipes,fetchSwipeStats:e.fetchSwipeStats,undoSwipe:e.undoSwipe,setHistoryFilter:e.setHistoryFilter,clearAllData:e.clearAllData}},Qg=()=>{const e=Ke(),{showToast:t}=Mn(),r=pa(),n=rj(),a=rD(),i=w.useCallback((h=1,p=!1)=>T(void 0,null,function*(){r!=null&&r.id&&(yield a.fetchSwipeHistory(r.id,h,p))}),[r==null?void 0:r.id,a]),o=w.useCallback((h=1,p=!1)=>T(void 0,null,function*(){r!=null&&r.id&&(yield a.fetchReceivedSwipes(r.id,h,p))}),[r==null?void 0:r.id,a]),l=w.useCallback((h=!1)=>T(void 0,null,function*(){r!=null&&r.id&&(yield a.fetchSwipeStats(r.id,h))}),[r==null?void 0:r.id,a]),c=w.useCallback(h=>T(void 0,null,function*(){try{yield a.undoSwipe(h),t(" hon tc","success")}catch(p){const g=p.message||"Khng th hon tc";throw t(g,"error"),p}}),[a,t]),u=w.useCallback(h=>{a.setHistoryFilter(h),i(1,!0)},[a,i]),d=w.useCallback(h=>{e(ge.teamDetail(h))},[e]),f=w.useCallback(h=>{e(ge.matchDetail(h))},[e]);return Z(C({},n),{fetchHistory:i,fetchReceived:o,fetchStats:l,undoSwipe:c,setFilter:u,goToTeamDetail:d,goToMatchDetail:f,clearError:()=>n.setError(null)})},nD=()=>{const e=Ke(),t=pa(),{swipeHistory:r,historyPagination:n,isLoadingHistory:a,isLoadingMoreHistory:i,historyFilter:o,error:l,fetchHistory:c,setFilter:u,undoSwipe:d,goToTeamDetail:f}=Qg(),h=w.useRef(null);w.useEffect(()=>{t!=null&&t.id&&c(1,!1)},[t==null?void 0:t.id]),w.useEffect(()=>{if(!n.hasMore||i)return;const m=new IntersectionObserver(b=>{b[0].isIntersecting&&c(n.page+1,!1)},{threshold:.1,rootMargin:"100px"}),y=h.current;return y&&m.observe(y),()=>m.disconnect()},[n.hasMore,i,c,n.page]);const p=m=>{const y=Math.floor((Date.now()-new Date(m).getTime())/1e3);return y<60?"Va xong":y<3600?`${Math.floor(y/60)} pht trc`:y<86400?`${Math.floor(y/3600)} gi trc`:`${Math.floor(y/86400)} ngy trc`},g=m=>Date.now()-new Date(m).getTime()<5*60*1e3;return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[s.jsx("div",{className:"safe-area-top bg-white dark:bg-surface-dark border-b border-gray-200 dark:border-white/5 px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>e(ge.matchFind),className:"text-gray-600 dark:text-gray-400",children:s.jsx(P,{name:"arrow_back"})}),s.jsx("h1",{className:"text-lg font-bold flex-1 text-slate-900 dark:text-white",children:"Lch s swipe"})]})}),s.jsx("div",{className:"px-4 py-3 flex gap-2 bg-white dark:bg-surface-dark border-b border-gray-100 dark:border-white/5",children:[{label:"Tt c",value:"all"},{label:" thch",value:"LIKE"},{label:" b qua",value:"PASS"}].map(m=>s.jsx("button",{onClick:()=>u(m.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${o===m.value?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:m.label},m.value))}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a&&r.length===0&&s.jsx("div",{className:"space-y-3",children:[1,2,3].map(m=>s.jsx("div",{className:"h-20 bg-gray-100 dark:bg-white/5 rounded-xl animate-pulse"},m))}),l&&r.length===0&&s.jsx(Wi,{message:l,onRetry:()=>c(1,!0)}),!a&&!l&&r.length===0&&s.jsx(Os,{icon:"history",title:"Cha c lch s swipe",description:"Bt u tm kim i th  xem lch s nh"}),s.jsx("div",{className:"space-y-3",children:r.map(m=>{var y,b,x,v;return s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{onClick:()=>f(m.targetTeamId),className:"size-12 rounded-full overflow-hidden cursor-pointer bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold flex-shrink-0",children:(y=m.targetTeam)!=null&&y.logo?s.jsx("img",{src:m.targetTeam.logo,alt:"",className:"w-full h-full object-cover"}):((x=(b=m.targetTeam)==null?void 0:b.name)==null?void 0:x.charAt(0))||"T"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{onClick:()=>f(m.targetTeamId),className:"font-bold text-slate-900 dark:text-white truncate cursor-pointer",children:((v=m.targetTeam)==null?void 0:v.name)||"Unknown"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:p(m.createdAt)})]}),s.jsxs("div",{className:`flex items-center gap-1 ${m.action==="LIKE"?"text-green-500":"text-red-500"}`,children:[s.jsx(P,{name:m.action==="LIKE"?"favorite":"close",filled:m.action==="LIKE"}),s.jsx("span",{className:"text-sm",children:m.action==="LIKE"?"Thch":"B qua"})]}),m.action==="LIKE"&&g(m.createdAt)&&s.jsx("button",{onClick:()=>d(m.id),className:"px-3 py-1 rounded-lg bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 text-xs font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hon tc"})]}),m.isMatch&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-white/5",children:s.jsxs("div",{className:"flex items-center gap-1 text-green-500 text-sm font-medium",children:[s.jsx(P,{name:"celebration"}),s.jsx("span",{children:"Match!  to trn u"})]})})]},m.id)})}),s.jsx("div",{ref:h,className:"h-1"}),i&&s.jsx("div",{className:"py-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"ang ti..."})]})]})},aD=()=>{const e=Ke(),t=pa(),{receivedSwipes:r,receivedPagination:n,isLoadingReceived:a,isLoadingMoreReceived:i,error:o,fetchReceived:l,goToTeamDetail:c,goToMatchDetail:u}=Qg(),d=w.useRef(null);w.useEffect(()=>{t!=null&&t.id&&l(1,!1)},[t==null?void 0:t.id]),w.useEffect(()=>{if(!n.hasMore||i)return;const h=new IntersectionObserver(g=>{g[0].isIntersecting&&l(n.page+1,!1)},{threshold:.1}),p=d.current;return p&&h.observe(p),()=>h.disconnect()},[n.hasMore,i,l,n.page]);const f=h=>{const p=Math.floor((Date.now()-new Date(h).getTime())/1e3);return p<60?"Va xong":p<3600?`${Math.floor(p/60)} pht trc`:`${Math.floor(p/3600)} gi trc`};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[s.jsx("div",{className:"safe-area-top bg-white dark:bg-surface-dark border-b border-gray-200 dark:border-white/5 px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>e(-1),className:"text-gray-600 dark:text-gray-400",children:s.jsx(P,{name:"arrow_back"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"c thch"}),r.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.length," i"]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a&&r.length===0&&s.jsx("div",{className:"space-y-3",children:[1,2,3].map(h=>s.jsx("div",{className:"h-20 bg-gray-100 dark:bg-white/5 rounded-xl animate-pulse"},h))}),o&&r.length===0&&s.jsx(Wi,{message:o,onRetry:()=>l(1,!0)}),!a&&!o&&r.length===0&&s.jsx(Os,{icon:"favorite",title:"Cha c lt thch no",description:"Khi c i thch li, h s hin  y"}),s.jsx("div",{className:"space-y-3",children:r.map(h=>{var p,g,m,y;return s.jsx("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{onClick:()=>c(h.swiperTeamId),className:"size-12 rounded-full overflow-hidden cursor-pointer relative bg-gradient-to-br from-pink-500 to-red-500 flex items-center justify-center text-white font-bold flex-shrink-0",children:[(p=h.swiperTeam)!=null&&p.logo?s.jsx("img",{src:h.swiperTeam.logo,alt:"",className:"w-full h-full object-cover"}):((m=(g=h.swiperTeam)==null?void 0:g.name)==null?void 0:m.charAt(0))||"T",s.jsx("div",{className:"absolute -bottom-1 -right-1 size-5 bg-red-500 rounded-full flex items-center justify-center border-2 border-white dark:border-surface-dark",children:s.jsx(P,{name:"favorite",className:"text-white text-xs",filled:!0})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{onClick:()=>c(h.swiperTeamId),className:"font-bold text-slate-900 dark:text-white truncate cursor-pointer",children:((y=h.swiperTeam)==null?void 0:y.name)||"Unknown"}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" thch bn  ",f(h.swipedAt)]})]}),h.isMatch&&h.matchId&&s.jsxs("button",{onClick:()=>u(h.matchId),className:"px-3 py-2 rounded-lg bg-green-500 text-white text-sm font-medium flex items-center gap-1 hover:bg-green-600 transition-colors",children:[s.jsx(P,{name:"celebration"}),s.jsx("span",{children:"Match!"})]})]})},h.id)})}),s.jsx("div",{ref:d,className:"h-1"}),i&&s.jsx("div",{className:"py-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"ang ti..."})]})]})},sD=()=>{const e=Ke(),t=pa(),{swipeStats:r,isLoadingStats:n,error:a,fetchStats:i}=Qg();return w.useEffect(()=>{t!=null&&t.id&&i(!1)},[t==null?void 0:t.id]),n&&!r?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background-light dark:bg-background-dark",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a&&!r?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background-light dark:bg-background-dark p-4",children:s.jsx(Wi,{message:a,onRetry:()=>i(!0)})}):s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[s.jsx("div",{className:"safe-area-top bg-white dark:bg-surface-dark border-b border-gray-200 dark:border-white/5 px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>e(-1),className:"text-gray-600 dark:text-gray-400",children:s.jsx(P,{name:"arrow_back"})}),s.jsx("h1",{className:"text-lg font-bold flex-1 text-slate-900 dark:text-white",children:"Thng k swipe"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Tng swipe"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r.totalSwipes})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Match"}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:r.matches})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:" thch"}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:r.likes})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"c thch"}),s.jsx("p",{className:"text-2xl font-bold text-pink-500",children:r.totalLikesReceived||0})]})]}),s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 space-y-3 border border-gray-100 dark:border-white/5",children:[s.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"T l"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"T l thch"}),s.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[r.likeRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500 transition-all",style:{width:`${r.likeRate}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"T l match"}),s.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[r.matchRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${r.matchRate}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"T thch thnh match"}),s.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[r.likeToMatchRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${r.likeToMatchRate}%`}})})]})]}),r.averageResponseTime&&s.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 space-y-2 border border-gray-100 dark:border-white/5",children:[s.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Phn tch"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Thi gian phn hi TB"}),s.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[Math.round(r.averageResponseTime/6e4)," pht"]})]}),r.mostSwipedDay&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Swipe nhiu nht"}),s.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:r.mostSwipedDay})]})]})]})})]})},iD=()=>{const{fetchReceivedInvites:e,respondInvite:t}=Bs(),r=Lk(),[n,a]=w.useState("Tt c"),[i,o]=w.useState(!0),[l,c]=w.useState(null),[u,d]=w.useState(!1),[f,h]=w.useState(!1);w.useEffect(()=>{p()},[]);const p=()=>T(void 0,null,function*(){o(!0);try{yield e()}catch(x){console.error("Failed to load invites:",x)}finally{o(!1)}}),g=r.filter(x=>{if(n==="Tt c")return!0;const v={"Ch x l":"pending"," chp nhn":"accepted"," t chi":"declined","Ht hn":"expired"};return x.status===v[n]}),m=x=>T(void 0,null,function*(){h(!0);try{yield t(x,"accept")}catch(v){console.error("Failed to accept invite:",v)}finally{h(!1)}}),y=x=>{c(x),d(!0)},b=x=>T(void 0,null,function*(){if(l){h(!0),d(!1);try{yield t(l,"decline",x)}catch(v){console.error("Failed to decline invite:",v)}finally{h(!1),c(null)}}});return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[s.jsx(dt,{title:"Li mi tham gia"}),s.jsx(t3,{options:["Tt c","Ch x l"," chp nhn"," t chi","Ht hn"],selected:n,onChange:a}),s.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:i?s.jsxs("div",{className:"space-y-3",children:[s.jsx(js,{}),s.jsx(js,{}),s.jsx(js,{})]}):g.length===0?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(Os,{icon:"mail_outline",title:"Khng c li mi",description:n==="Tt c"?"Bn cha c li mi tham gia i no":`Khng c li mi ${n.toLowerCase()}`})}):s.jsx("div",{className:"space-y-3",children:g.map(x=>s.jsx(r3,{invite:x,onAccept:()=>m(x.id),onDecline:()=>y(x.id),isLoading:f},x.id))})}),s.jsx(a3,{isOpen:u,onClose:()=>d(!1),onConfirm:b,isLoading:f})]})},oD=()=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",backgroundColor:"#f5f5f5"},children:[s.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",color:"#333",marginBottom:"16px"},children:"404"}),s.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"24px"},children:"Trang khng tn ti"}),s.jsx(Bu,{to:"/login",replace:!0})]}),lD=EA([{path:"/",element:s.jsx(Bu,{to:"/launching",replace:!0})},{path:"/launching",element:s.jsx(m3,{})},{path:"/login",element:s.jsx(p3,{})},{path:"/onboarding",element:s.jsx(ot,{children:s.jsx(g3,{})})},{path:"/",element:s.jsx(ot,{children:s.jsx(ER,{})}),children:[{path:"dashboard",element:s.jsx(sL,{})},{path:"teams",element:s.jsx(iL,{})},{path:"profile",element:s.jsx(oL,{})},{path:"match/schedule",element:s.jsx(cL,{})}]},{path:"/match/find",element:s.jsx(ot,{children:s.jsx(dL,{})})},{path:"/profile/edit",element:s.jsx(ot,{children:s.jsx(tD,{})})},{path:"/teams/create",element:s.jsx(ot,{children:s.jsx(hL,{})})},{path:"/teams/:teamId",element:s.jsx(ot,{children:s.jsx(mL,{})})},{path:"/teams/:teamId/edit",element:s.jsx(ot,{children:s.jsx(gL,{})})},{path:"/teams/:teamId/members",element:s.jsx(ot,{children:s.jsx(pL,{})})},{path:"/teams/:teamId/members/add",element:s.jsx(ot,{children:s.jsx(Wk,{})})},{path:"/teams/:teamId/members/:memberId",element:s.jsx(ot,{children:s.jsx(xL,{})})},{path:"/teams/:teamId/share",element:s.jsx(ot,{children:s.jsx(HL,{})})},{path:"/invites/received",element:s.jsx(ot,{children:s.jsx(iD,{})})},{path:"/match/found",element:s.jsx(ot,{children:s.jsx(VL,{})})},{path:"/match/:matchId",element:s.jsx(ot,{children:s.jsx(WL,{})})},{path:"/match/:matchId/attendance",element:s.jsx(ot,{children:s.jsx(QL,{})})},{path:"/match/:matchId/update-score",element:s.jsx(ot,{children:s.jsx(KL,{})})},{path:"/match/:matchId/rematch",element:s.jsx(ot,{children:s.jsx(GL,{})})},{path:"/match/invite",element:s.jsx(ot,{children:s.jsx(ZL,{})})},{path:"/match/opponent/:teamId",element:s.jsx(ot,{children:s.jsx(qL,{})})},{path:"/match/history",element:s.jsx(ot,{children:s.jsx(YL,{})})},{path:"/notifications",element:s.jsx(ot,{children:s.jsx(JL,{})})},{path:"/my-invites",element:s.jsx(ot,{children:s.jsx(Bu,{to:"/notifications",replace:!0})})},{path:"/swipe/history",element:s.jsx(ot,{children:s.jsx(nD,{})})},{path:"/swipe/received",element:s.jsx(ot,{children:s.jsx(aD,{})})},{path:"/swipe/stats",element:s.jsx(ot,{children:s.jsx(sD,{})})},{path:"*",element:s.jsx(oD,{})}]);class cD extends w.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r)}render(){var t;return this.state.hasError?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:" c li xy ra"}),s.jsx("p",{className:"text-gray-400 mb-4",children:((t=this.state.error)==null?void 0:t.message)||"Unexpected application error"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Ti li trang"})]}):this.props.children}}const uD=()=>s.jsx(cD,{children:s.jsx(CR,{children:s.jsx("div",{className:"flex min-h-screen justify-center bg-background-light dark:bg-background-dark text-slate-900 dark:text-white",children:s.jsx("div",{className:"flex w-full flex-col bg-surface-light dark:bg-surface-dark",children:s.jsx($A,{router:lD})})})})}),dD=xI,fD=()=>{const e=x1().zaloTheme;return s.jsx(UP,{theme:e,children:s.jsxs(dD,{children:[s.jsx(uD,{}),s.jsx(NI,{})]})})},hD={title:"Cap Ko Sport",textColor:{light:"white",dark:"white"},statusBar:"transparent",actionBarHidden:!0,hideIOSSafeAreaBottom:!0,hideAndroidBottomNavigationBar:!1,themeColor:"#11d473"},mD=[],pD=[],gD=[],xD={app:hD,listCSS:mD,listSyncJS:pD,listAsyncJS:gD};window.APP_CONFIG||(window.APP_CONFIG=xD);const My=document.getElementById("app");My&&Ww(My).render(Ne.createElement(fD));
