var iT=Object.defineProperty,oT=Object.defineProperties;var lT=Object.getOwnPropertyDescriptors;var zu=Object.getOwnPropertySymbols;var ry=Object.prototype.hasOwnProperty,ay=Object.prototype.propertyIsEnumerable;var go=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),cT=e=>{throw TypeError(e)};var ny=(e,t,n)=>t in e?iT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,R=(e,t)=>{for(var n in t||(t={}))ry.call(t,n)&&ny(e,n,t[n]);if(zu)for(var n of zu(t))ay.call(t,n)&&ny(e,n,t[n]);return e},le=(e,t)=>oT(e,lT(t));var Sr=(e,t)=>{var n={};for(var r in e)ry.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zu)for(var r of zu(e))t.indexOf(r)<0&&ay.call(e,r)&&(n[r]=e[r]);return n};var O=(e,t,n)=>new Promise((r,s)=>{var i=d=>{try{c(n.next(d))}catch(h){s(h)}},l=d=>{try{c(n.throw(d))}catch(h){s(h)}},c=d=>d.done?r(d.value):Promise.resolve(d.value).then(i,l);c((n=n.apply(e,t)).next())}),pi=function(e,t){this[0]=e,this[1]=t},Wf=(e,t,n)=>{var r=(l,c,d,h)=>{try{var m=n[l](c),p=(c=m.value)instanceof pi,x=m.done;Promise.resolve(p?c[0]:c).then(y=>p?r(l==="return"?l:"next",c[1]?{done:y.done,value:y.value}:y,d,h):d({value:y,done:x})).catch(y=>r("throw",y,d,h))}catch(y){h(y)}},s=l=>i[l]=c=>new Promise((d,h)=>r(l,c,d,h)),i={};return n=n.apply(e,t),i[go("asyncIterator")]=()=>i,s("next"),s("throw"),s("return"),i},Vf=e=>{var t=e[go("asyncIterator")],n=!1,r,s={};return t==null?(t=e[go("iterator")](),r=i=>s[i]=l=>t[i](l)):(t=t.call(e),r=i=>s[i]=l=>{if(n){if(n=!1,i==="throw")throw l;return l}return n=!0,{done:!1,value:new pi(new Promise(c=>{var d=t[i](l);d instanceof Object||cT("Object expected"),c(d)}),1)}}),s[go("iterator")]=()=>s,r("next"),"throw"in t?r("throw"):s.throw=i=>{throw i},"return"in t&&r("return"),s},sy=(e,t,n)=>(t=e[go("asyncIterator")])?t.call(e):(e=e[go("iterator")](),t={},n=(r,s)=>(s=e[r])&&(t[r]=i=>new Promise((l,c,d)=>(i=s.call(e,i),d=i.done,Promise.resolve(i.value).then(h=>l({value:h,done:d}),c)))),n("next"),n("return"),t);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var uT=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function $x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C_={exports:{}},Tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),dT=Symbol.for("react.portal"),hT=Symbol.for("react.fragment"),fT=Symbol.for("react.strict_mode"),mT=Symbol.for("react.profiler"),pT=Symbol.for("react.provider"),gT=Symbol.for("react.context"),xT=Symbol.for("react.forward_ref"),vT=Symbol.for("react.suspense"),yT=Symbol.for("react.memo"),bT=Symbol.for("react.lazy"),iy=Symbol.iterator;function wT(e){return e===null||typeof e!="object"?null:(e=iy&&e[iy]||e["@@iterator"],typeof e=="function"?e:null)}var P_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M_=Object.assign,L_={};function ul(e,t,n){this.props=e,this.context=t,this.refs=L_,this.updater=n||P_}ul.prototype.isReactComponent={};ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I_(){}I_.prototype=ul.prototype;function Bx(e,t,n){this.props=e,this.context=t,this.refs=L_,this.updater=n||P_}var Fx=Bx.prototype=new I_;Fx.constructor=Bx;M_(Fx,ul.prototype);Fx.isPureReactComponent=!0;var oy=Array.isArray,A_=Object.prototype.hasOwnProperty,Ux={current:null},O_={key:!0,ref:!0,__self:!0,__source:!0};function R_(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)A_.call(t,r)&&!O_.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:nu,type:e,key:i,ref:l,props:s,_owner:Ux.current}}function _T(e,t){return{$$typeof:nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hx(e){return typeof e=="object"&&e!==null&&e.$$typeof===nu}function kT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ly=/\/+/g;function Kf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kT(""+e.key):t.toString(36)}function gd(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case nu:case dT:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Kf(l,0):r,oy(s)?(n="",e!=null&&(n=e.replace(ly,"$&/")+"/"),gd(s,t,n,"",function(h){return h})):s!=null&&(Hx(s)&&(s=_T(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ly,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",oy(e))for(var c=0;c<e.length;c++){i=e[c];var d=r+Kf(i,c);l+=gd(i,t,n,d,s)}else if(d=wT(e),typeof d=="function")for(e=d.call(e),c=0;!(i=e.next()).done;)i=i.value,d=r+Kf(i,c++),l+=gd(i,t,n,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function $u(e,t,n){if(e==null)return e;var r=[],s=0;return gd(e,r,"","",function(i){return t.call(n,i,s++)}),r}function NT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kn={current:null},xd={transition:null},jT={ReactCurrentDispatcher:Kn,ReactCurrentBatchConfig:xd,ReactCurrentOwner:Ux};function D_(){throw Error("act(...) is not supported in production builds of React.")}Tt.Children={map:$u,forEach:function(e,t,n){$u(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $u(e,function(){t++}),t},toArray:function(e){return $u(e,function(t){return t})||[]},only:function(e){if(!Hx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Tt.Component=ul;Tt.Fragment=hT;Tt.Profiler=mT;Tt.PureComponent=Bx;Tt.StrictMode=fT;Tt.Suspense=vT;Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jT;Tt.act=D_;Tt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=M_({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Ux.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)A_.call(t,d)&&!O_.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:nu,type:e.type,key:s,ref:i,props:r,_owner:l}};Tt.createContext=function(e){return e={$$typeof:gT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pT,_context:e},e.Consumer=e};Tt.createElement=R_;Tt.createFactory=function(e){var t=R_.bind(null,e);return t.type=e,t};Tt.createRef=function(){return{current:null}};Tt.forwardRef=function(e){return{$$typeof:xT,render:e}};Tt.isValidElement=Hx;Tt.lazy=function(e){return{$$typeof:bT,_payload:{_status:-1,_result:e},_init:NT}};Tt.memo=function(e,t){return{$$typeof:yT,type:e,compare:t===void 0?null:t}};Tt.startTransition=function(e){var t=xd.transition;xd.transition={};try{e()}finally{xd.transition=t}};Tt.unstable_act=D_;Tt.useCallback=function(e,t){return Kn.current.useCallback(e,t)};Tt.useContext=function(e){return Kn.current.useContext(e)};Tt.useDebugValue=function(){};Tt.useDeferredValue=function(e){return Kn.current.useDeferredValue(e)};Tt.useEffect=function(e,t){return Kn.current.useEffect(e,t)};Tt.useId=function(){return Kn.current.useId()};Tt.useImperativeHandle=function(e,t,n){return Kn.current.useImperativeHandle(e,t,n)};Tt.useInsertionEffect=function(e,t){return Kn.current.useInsertionEffect(e,t)};Tt.useLayoutEffect=function(e,t){return Kn.current.useLayoutEffect(e,t)};Tt.useMemo=function(e,t){return Kn.current.useMemo(e,t)};Tt.useReducer=function(e,t,n){return Kn.current.useReducer(e,t,n)};Tt.useRef=function(e){return Kn.current.useRef(e)};Tt.useState=function(e){return Kn.current.useState(e)};Tt.useSyncExternalStore=function(e,t,n){return Kn.current.useSyncExternalStore(e,t,n)};Tt.useTransition=function(){return Kn.current.useTransition()};Tt.version="18.3.1";C_.exports=Tt;var k=C_.exports;const Re=$x(k);var z_={exports:{}},yr={},$_={exports:{}},B_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,fe){var re=V.length;V.push(fe);e:for(;0<re;){var se=re-1>>>1,ce=V[se];if(0<s(ce,fe))V[se]=fe,V[re]=ce,re=se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var fe=V[0],re=V.pop();if(re!==fe){V[0]=re;e:for(var se=0,ce=V.length,Ne=ce>>>1;se<Ne;){var Ee=2*(se+1)-1,_e=V[Ee],Me=Ee+1,Be=V[Me];if(0>s(_e,re))Me<ce&&0>s(Be,_e)?(V[se]=Be,V[Me]=re,se=Me):(V[se]=_e,V[Ee]=re,se=Ee);else if(Me<ce&&0>s(Be,re))V[se]=Be,V[Me]=re,se=Me;else break e}}return fe}function s(V,fe){var re=V.sortIndex-fe.sortIndex;return re!==0?re:V.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,p=null,x=3,y=!1,b=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var fe=n(h);fe!==null;){if(fe.callback===null)r(h);else if(fe.startTime<=V)r(h),fe.sortIndex=fe.expirationTime,t(d,fe);else break;fe=n(h)}}function P(V){if(v=!1,S(V),!b)if(n(d)!==null)b=!0,ge(C);else{var fe=n(h);fe!==null&&he(P,fe.startTime-V)}}function C(V,fe){b=!1,v&&(v=!1,N(Z),Z=-1),y=!0;var re=x;try{for(S(fe),p=n(d);p!==null&&(!(p.expirationTime>fe)||V&&!D());){var se=p.callback;if(typeof se=="function"){p.callback=null,x=p.priorityLevel;var ce=se(p.expirationTime<=fe);fe=e.unstable_now(),typeof ce=="function"?p.callback=ce:p===n(d)&&r(d),S(fe)}else r(d);p=n(d)}if(p!==null)var Ne=!0;else{var Ee=n(h);Ee!==null&&he(P,Ee.startTime-fe),Ne=!1}return Ne}finally{p=null,x=re,y=!1}}var U=!1,E=null,Z=-1,q=5,$=-1;function D(){return!(e.unstable_now()-$<q)}function J(){if(E!==null){var V=e.unstable_now();$=V;var fe=!0;try{fe=E(!0,V)}finally{fe?H():(U=!1,E=null)}}else U=!1}var H;if(typeof w=="function")H=function(){w(J)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=J,H=function(){ie.postMessage(null)}}else H=function(){j(J,0)};function ge(V){E=V,U||(U=!0,H())}function he(V,fe){Z=j(function(){V(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,ge(C))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var fe=3;break;default:fe=x}var re=x;x=fe;try{return V()}finally{x=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,fe){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=x;x=V;try{return fe()}finally{x=re}},e.unstable_scheduleCallback=function(V,fe,re){var se=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?se+re:se):re=se,V){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=re+ce,V={id:m++,callback:fe,priorityLevel:V,startTime:re,expirationTime:ce,sortIndex:-1},re>se?(V.sortIndex=re,t(h,V),n(d)===null&&V===n(h)&&(v?(N(Z),Z=-1):v=!0,he(P,re-se))):(V.sortIndex=ce,t(d,V),b||y||(b=!0,ge(C))),V},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(V){var fe=x;return function(){var re=x;x=fe;try{return V.apply(this,arguments)}finally{x=re}}}})(B_);$_.exports=B_;var ST=$_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT=k,xr=ST;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F_=new Set,xc={};function Gi(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(xc[e]=t,e=0;e<t.length;e++)F_.add(t[e])}var as=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ip=Object.prototype.hasOwnProperty,ET=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},uy={};function CT(e){return ip.call(uy,e)?!0:ip.call(cy,e)?!1:ET.test(e)?uy[e]=!0:(cy[e]=!0,!1)}function PT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function MT(e,t,n,r){if(t===null||typeof t=="undefined"||PT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gn(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var An={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){An[e]=new Gn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];An[t]=new Gn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){An[e]=new Gn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){An[e]=new Gn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){An[e]=new Gn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){An[e]=new Gn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){An[e]=new Gn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){An[e]=new Gn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){An[e]=new Gn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zx=/[\-:]([a-z])/g;function Wx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zx,Wx);An[t]=new Gn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zx,Wx);An[t]=new Gn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zx,Wx);An[t]=new Gn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){An[e]=new Gn(e,1,!1,e.toLowerCase(),null,!1,!1)});An.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){An[e]=new Gn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vx(e,t,n,r){var s=An.hasOwnProperty(t)?An[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(MT(t,n,s,r)&&(n=null),r||s===null?CT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ds=TT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bu=Symbol.for("react.element"),So=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Kx=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),U_=Symbol.for("react.provider"),H_=Symbol.for("react.context"),Gx=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),qx=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),Z_=Symbol.for("react.offscreen"),dy=Symbol.iterator;function Il(e){return e===null||typeof e!="object"?null:(e=dy&&e[dy]||e["@@iterator"],typeof e=="function"?e:null)}var nn=Object.assign,Gf;function ql(e){if(Gf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gf=t&&t[1]||""}return`
`+Gf+e}var qf=!1;function Yf(e,t){if(!e||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,c=i.length-1;1<=l&&0<=c&&s[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==i[c]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=c);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ql(e):""}function LT(e){switch(e.tag){case 5:return ql(e.type);case 16:return ql("Lazy");case 13:return ql("Suspense");case 19:return ql("SuspenseList");case 0:case 2:case 15:return e=Yf(e.type,!1),e;case 11:return e=Yf(e.type.render,!1),e;case 1:return e=Yf(e.type,!0),e;default:return""}}function up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case To:return"Fragment";case So:return"Portal";case op:return"Profiler";case Kx:return"StrictMode";case lp:return"Suspense";case cp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H_:return(e.displayName||"Context")+".Consumer";case U_:return(e._context.displayName||"Context")+".Provider";case Gx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qx:return t=e.displayName||null,t!==null?t:up(e.type)||"Memo";case Es:t=e._payload,e=e._init;try{return up(e(t))}catch(n){}}return null}function IT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(t);case 8:return t===Kx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AT(e){var t=W_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fu(e){e._valueTracker||(e._valueTracker=AT(e))}function V_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $d(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dp(e,t){var n=t.checked;return nn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function hy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ys(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K_(e,t){t=t.checked,t!=null&&Vx(e,"checked",t,!1)}function hp(e,t){K_(e,t);var n=Ys(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fp(e,t.type,n):t.hasOwnProperty("defaultValue")&&fp(e,t.type,Ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fp(e,t,n){(t!=="number"||$d(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yl=Array.isArray;function Fo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ys(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return nn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function my(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(xe(92));if(Yl(n)){if(1<n.length)throw Error(xe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ys(n)}}function G_(e,t){var n=Ys(t.value),r=Ys(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function py(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Uu,Y_=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Uu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OT=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(e){OT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ac[t]=ac[e]})});function J_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ac.hasOwnProperty(e)&&ac[e]?(""+t).trim():t+"px"}function Q_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=J_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var RT=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(e,t){if(t){if(RT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function xp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function Yx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,Uo=null,Ho=null;function gy(e){if(e=su(e)){if(typeof yp!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=$h(t),yp(e.stateNode,e.type,t))}}function X_(e){Uo?Ho?Ho.push(e):Ho=[e]:Uo=e}function ek(){if(Uo){var e=Uo,t=Ho;if(Ho=Uo=null,gy(e),t)for(e=0;e<t.length;e++)gy(t[e])}}function tk(e,t){return e(t)}function nk(){}var Jf=!1;function rk(e,t,n){if(Jf)return e(t,n);Jf=!0;try{return tk(e,t,n)}finally{Jf=!1,(Uo!==null||Ho!==null)&&(nk(),ek())}}function yc(e,t){var n=e.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(xe(231,t,typeof n));return n}var bp=!1;if(as)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){bp=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch(e){bp=!1}function DT(e,t,n,r,s,i,l,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(m){this.onError(m)}}var sc=!1,Bd=null,Fd=!1,wp=null,zT={onError:function(e){sc=!0,Bd=e}};function $T(e,t,n,r,s,i,l,c,d){sc=!1,Bd=null,DT.apply(zT,arguments)}function BT(e,t,n,r,s,i,l,c,d){if($T.apply(this,arguments),sc){if(sc){var h=Bd;sc=!1,Bd=null}else throw Error(xe(198));Fd||(Fd=!0,wp=h)}}function qi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ak(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xy(e){if(qi(e)!==e)throw Error(xe(188))}function FT(e){var t=e.alternate;if(!t){if(t=qi(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xy(s),e;if(i===r)return xy(s),t;i=i.sibling}throw Error(xe(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=i;break}if(c===r){l=!0,r=s,n=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===n){l=!0,n=i,r=s;break}if(c===r){l=!0,r=i,n=s;break}c=c.sibling}if(!l)throw Error(xe(189))}}if(n.alternate!==r)throw Error(xe(190))}if(n.tag!==3)throw Error(xe(188));return n.stateNode.current===n?e:t}function sk(e){return e=FT(e),e!==null?ik(e):null}function ik(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ik(e);if(t!==null)return t;e=e.sibling}return null}var ok=xr.unstable_scheduleCallback,vy=xr.unstable_cancelCallback,UT=xr.unstable_shouldYield,HT=xr.unstable_requestPaint,dn=xr.unstable_now,ZT=xr.unstable_getCurrentPriorityLevel,Jx=xr.unstable_ImmediatePriority,lk=xr.unstable_UserBlockingPriority,Ud=xr.unstable_NormalPriority,WT=xr.unstable_LowPriority,ck=xr.unstable_IdlePriority,Oh=null,ka=null;function VT(e){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(Oh,e,void 0,(e.current.flags&128)===128)}catch(t){}}var ea=Math.clz32?Math.clz32:qT,KT=Math.log,GT=Math.LN2;function qT(e){return e>>>=0,e===0?32:31-(KT(e)/GT|0)|0}var Hu=64,Zu=4194304;function Jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=Jl(c):(i&=l,i!==0&&(r=Jl(i)))}else l=n&~s,l!==0?r=Jl(l):i!==0&&(r=Jl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ea(t),s=1<<n,r|=e[n],t&=~s;return r}function YT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ea(i),c=1<<l,d=s[l];d===-1?(!(c&n)||c&r)&&(s[l]=YT(c,t)):d<=t&&(e.expiredLanes|=c),i&=~c}}function _p(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uk(){var e=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),e}function Qf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ru(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ea(t),e[t]=n}function QT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ea(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Qx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ea(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Rt=0;function dk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hk,Xx,fk,mk,pk,kp=!1,Wu=[],Fs=null,Us=null,Hs=null,bc=new Map,wc=new Map,Ps=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yy(e,t){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":bc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(t.pointerId)}}function Ol(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=su(t),t!==null&&Xx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eE(e,t,n,r,s){switch(t){case"focusin":return Fs=Ol(Fs,e,t,n,r,s),!0;case"dragenter":return Us=Ol(Us,e,t,n,r,s),!0;case"mouseover":return Hs=Ol(Hs,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return bc.set(i,Ol(bc.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wc.set(i,Ol(wc.get(i)||null,e,t,n,r,s)),!0}return!1}function gk(e){var t=Ni(e.target);if(t!==null){var n=qi(t);if(n!==null){if(t=n.tag,t===13){if(t=ak(n),t!==null){e.blockedOn=t,pk(e.priority,function(){fk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Np(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return t=su(n),t!==null&&Xx(t),e.blockedOn=n,!1;t.shift()}return!0}function by(e,t,n){vd(e)&&n.delete(t)}function tE(){kp=!1,Fs!==null&&vd(Fs)&&(Fs=null),Us!==null&&vd(Us)&&(Us=null),Hs!==null&&vd(Hs)&&(Hs=null),bc.forEach(by),wc.forEach(by)}function Rl(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,tE)))}function _c(e){function t(s){return Rl(s,e)}if(0<Wu.length){Rl(Wu[0],e);for(var n=1;n<Wu.length;n++){var r=Wu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fs!==null&&Rl(Fs,e),Us!==null&&Rl(Us,e),Hs!==null&&Rl(Hs,e),bc.forEach(t),wc.forEach(t),n=0;n<Ps.length;n++)r=Ps[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ps.length&&(n=Ps[0],n.blockedOn===null);)gk(n),n.blockedOn===null&&Ps.shift()}var Zo=ds.ReactCurrentBatchConfig,Zd=!0;function nE(e,t,n,r){var s=Rt,i=Zo.transition;Zo.transition=null;try{Rt=1,e0(e,t,n,r)}finally{Rt=s,Zo.transition=i}}function rE(e,t,n,r){var s=Rt,i=Zo.transition;Zo.transition=null;try{Rt=4,e0(e,t,n,r)}finally{Rt=s,Zo.transition=i}}function e0(e,t,n,r){if(Zd){var s=Np(e,t,n,r);if(s===null)lm(e,t,r,Wd,n),yy(e,r);else if(eE(s,e,t,n,r))r.stopPropagation();else if(yy(e,r),t&4&&-1<XT.indexOf(e)){for(;s!==null;){var i=su(s);if(i!==null&&hk(i),i=Np(e,t,n,r),i===null&&lm(e,t,r,Wd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else lm(e,t,r,null,n)}}var Wd=null;function Np(e,t,n,r){if(Wd=null,e=Yx(r),e=Ni(e),e!==null)if(t=qi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ak(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wd=e,null}function xk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZT()){case Jx:return 1;case lk:return 4;case Ud:case WT:return 16;case ck:return 536870912;default:return 16}default:return 16}}var Rs=null,t0=null,yd=null;function vk(){if(yd)return yd;var e,t=t0,n=t.length,r,s="value"in Rs?Rs.value:Rs.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return yd=s.slice(e,1<r?1-r:void 0)}function bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vu(){return!0}function wy(){return!1}function br(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vu:wy,this.isPropagationStopped=wy,this}return nn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),t}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=br(dl),au=nn({},dl,{view:0,detail:0}),aE=br(au),Xf,em,Dl,Rh=nn({},au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(Xf=e.screenX-Dl.screenX,em=e.screenY-Dl.screenY):em=Xf=0,Dl=e),Xf)},movementY:function(e){return"movementY"in e?e.movementY:em}}),_y=br(Rh),sE=nn({},Rh,{dataTransfer:0}),iE=br(sE),oE=nn({},au,{relatedTarget:0}),tm=br(oE),lE=nn({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),cE=br(lE),uE=nn({},dl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dE=br(uE),hE=nn({},dl,{data:0}),ky=br(hE),fE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pE[e])?!!t[e]:!1}function r0(){return gE}var xE=nn({},au,{key:function(e){if(e.key){var t=fE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(e){return e.type==="keypress"?bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vE=br(xE),yE=nn({},Rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ny=br(yE),bE=nn({},au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),wE=br(bE),_E=nn({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),kE=br(_E),NE=nn({},Rh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jE=br(NE),SE=[9,13,27,32],a0=as&&"CompositionEvent"in window,ic=null;as&&"documentMode"in document&&(ic=document.documentMode);var TE=as&&"TextEvent"in window&&!ic,yk=as&&(!a0||ic&&8<ic&&11>=ic),jy=" ",Sy=!1;function bk(e,t){switch(e){case"keyup":return SE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eo=!1;function EE(e,t){switch(e){case"compositionend":return wk(t);case"keypress":return t.which!==32?null:(Sy=!0,jy);case"textInput":return e=t.data,e===jy&&Sy?null:e;default:return null}}function CE(e,t){if(Eo)return e==="compositionend"||!a0&&bk(e,t)?(e=vk(),yd=t0=Rs=null,Eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yk&&t.locale!=="ko"?null:t.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PE[e.type]:t==="textarea"}function _k(e,t,n,r){X_(r),t=Vd(t,"onChange"),0<t.length&&(n=new n0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oc=null,kc=null;function ME(e){Ik(e,0)}function Dh(e){var t=Mo(e);if(V_(t))return e}function LE(e,t){if(e==="change")return t}var kk=!1;if(as){var nm;if(as){var rm="oninput"in document;if(!rm){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),rm=typeof Ey.oninput=="function"}nm=rm}else nm=!1;kk=nm&&(!document.documentMode||9<document.documentMode)}function Cy(){oc&&(oc.detachEvent("onpropertychange",Nk),kc=oc=null)}function Nk(e){if(e.propertyName==="value"&&Dh(kc)){var t=[];_k(t,kc,e,Yx(e)),rk(ME,t)}}function IE(e,t,n){e==="focusin"?(Cy(),oc=t,kc=n,oc.attachEvent("onpropertychange",Nk)):e==="focusout"&&Cy()}function AE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dh(kc)}function OE(e,t){if(e==="click")return Dh(t)}function RE(e,t){if(e==="input"||e==="change")return Dh(t)}function DE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aa=typeof Object.is=="function"?Object.is:DE;function Nc(e,t){if(aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ip.call(t,s)||!aa(e[s],t[s]))return!1}return!0}function Py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function My(e,t){var n=Py(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Py(n)}}function jk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sk(){for(var e=window,t=$d();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=$d(e.document)}return t}function s0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zE(e){var t=Sk(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jk(n.ownerDocument.documentElement,n)){if(r!==null&&s0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=My(n,i);var l=My(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $E=as&&"documentMode"in document&&11>=document.documentMode,Co=null,jp=null,lc=null,Sp=!1;function Ly(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sp||Co==null||Co!==$d(r)||(r=Co,"selectionStart"in r&&s0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lc&&Nc(lc,r)||(lc=r,r=Vd(jp,"onSelect"),0<r.length&&(t=new n0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Co)))}function Ku(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Po={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},am={},Tk={};as&&(Tk=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function zh(e){if(am[e])return am[e];if(!Po[e])return e;var t=Po[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tk)return am[e]=t[n];return e}var Ek=zh("animationend"),Ck=zh("animationiteration"),Pk=zh("animationstart"),Mk=zh("transitionend"),Lk=new Map,Iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(e,t){Lk.set(e,t),Gi(t,[e])}for(var sm=0;sm<Iy.length;sm++){var im=Iy[sm],BE=im.toLowerCase(),FE=im[0].toUpperCase()+im.slice(1);ei(BE,"on"+FE)}ei(Ek,"onAnimationEnd");ei(Ck,"onAnimationIteration");ei(Pk,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(Mk,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function Ay(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,BT(r,t,void 0,e),e.currentTarget=null}function Ik(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==i&&s.isPropagationStopped())break e;Ay(s,c,h),i=d}else for(l=0;l<r.length;l++){if(c=r[l],d=c.instance,h=c.currentTarget,c=c.listener,d!==i&&s.isPropagationStopped())break e;Ay(s,c,h),i=d}}}if(Fd)throw e=wp,Fd=!1,wp=null,e}function Ht(e,t){var n=t[Mp];n===void 0&&(n=t[Mp]=new Set);var r=e+"__bubble";n.has(r)||(Ak(t,e,2,!1),n.add(r))}function om(e,t,n){var r=0;t&&(r|=4),Ak(n,e,r,t)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[Gu]){e[Gu]=!0,F_.forEach(function(n){n!=="selectionchange"&&(UE.has(n)||om(n,!1,e),om(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gu]||(t[Gu]=!0,om("selectionchange",!1,t))}}function Ak(e,t,n,r){switch(xk(t)){case 1:var s=nE;break;case 4:s=rE;break;default:s=e0}n=s.bind(null,t,n,e),s=void 0,!bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lm(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Ni(c),l===null)return;if(d=l.tag,d===5||d===6){r=i=l;continue e}c=c.parentNode}}r=r.return}rk(function(){var h=i,m=Yx(n),p=[];e:{var x=Lk.get(e);if(x!==void 0){var y=n0,b=e;switch(e){case"keypress":if(bd(n)===0)break e;case"keydown":case"keyup":y=vE;break;case"focusin":b="focus",y=tm;break;case"focusout":b="blur",y=tm;break;case"beforeblur":case"afterblur":y=tm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_y;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=iE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=wE;break;case Ek:case Ck:case Pk:y=cE;break;case Mk:y=kE;break;case"scroll":y=aE;break;case"wheel":y=jE;break;case"copy":case"cut":case"paste":y=dE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ny}var v=(t&4)!==0,j=!v&&e==="scroll",N=v?x!==null?x+"Capture":null:x;v=[];for(var w=h,S;w!==null;){S=w;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,N!==null&&(P=yc(w,N),P!=null&&v.push(Sc(w,P,S)))),j)break;w=w.return}0<v.length&&(x=new y(x,b,null,n,m),p.push({event:x,listeners:v}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&n!==vp&&(b=n.relatedTarget||n.fromElement)&&(Ni(b)||b[ss]))break e;if((y||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=h,b=b?Ni(b):null,b!==null&&(j=qi(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=h),y!==b)){if(v=_y,P="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ny,P="onPointerLeave",N="onPointerEnter",w="pointer"),j=y==null?x:Mo(y),S=b==null?x:Mo(b),x=new v(P,w+"leave",y,n,m),x.target=j,x.relatedTarget=S,P=null,Ni(m)===h&&(v=new v(N,w+"enter",b,n,m),v.target=S,v.relatedTarget=j,P=v),j=P,y&&b)t:{for(v=y,N=b,w=0,S=v;S;S=xo(S))w++;for(S=0,P=N;P;P=xo(P))S++;for(;0<w-S;)v=xo(v),w--;for(;0<S-w;)N=xo(N),S--;for(;w--;){if(v===N||N!==null&&v===N.alternate)break t;v=xo(v),N=xo(N)}v=null}else v=null;y!==null&&Oy(p,x,y,v,!1),b!==null&&j!==null&&Oy(p,j,b,v,!0)}}e:{if(x=h?Mo(h):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var C=LE;else if(Ty(x))if(kk)C=RE;else{C=AE;var U=IE}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(C=OE);if(C&&(C=C(e,h))){_k(p,C,n,m);break e}U&&U(e,x,h),e==="focusout"&&(U=x._wrapperState)&&U.controlled&&x.type==="number"&&fp(x,"number",x.value)}switch(U=h?Mo(h):window,e){case"focusin":(Ty(U)||U.contentEditable==="true")&&(Co=U,jp=h,lc=null);break;case"focusout":lc=jp=Co=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,Ly(p,n,m);break;case"selectionchange":if($E)break;case"keydown":case"keyup":Ly(p,n,m)}var E;if(a0)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Eo?bk(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(yk&&n.locale!=="ko"&&(Eo||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Eo&&(E=vk()):(Rs=m,t0="value"in Rs?Rs.value:Rs.textContent,Eo=!0)),U=Vd(h,Z),0<U.length&&(Z=new ky(Z,e,null,n,m),p.push({event:Z,listeners:U}),E?Z.data=E:(E=wk(n),E!==null&&(Z.data=E)))),(E=TE?EE(e,n):CE(e,n))&&(h=Vd(h,"onBeforeInput"),0<h.length&&(m=new ky("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:h}),m.data=E))}Ik(p,t)})}function Sc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yc(e,n),i!=null&&r.unshift(Sc(e,i,s)),i=yc(e,t),i!=null&&r.push(Sc(e,i,s))),e=e.return}return r}function xo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Oy(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=yc(n,i),d!=null&&l.unshift(Sc(n,d,c))):s||(d=yc(n,i),d!=null&&l.push(Sc(n,d,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var HE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(HE,`
`).replace(ZE,"")}function qu(e,t,n){if(t=Ry(t),Ry(e)!==t&&n)throw Error(xe(425))}function Kd(){}var Tp=null,Ep=null;function Cp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,WE=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,VE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy!="undefined"?function(e){return Dy.resolve(null).then(e).catch(KE)}:Pp;function KE(e){setTimeout(function(){throw e})}function cm(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),_c(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_c(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hl=Math.random().toString(36).slice(2),va="__reactFiber$"+hl,Tc="__reactProps$"+hl,ss="__reactContainer$"+hl,Mp="__reactEvents$"+hl,GE="__reactListeners$"+hl,qE="__reactHandles$"+hl;function Ni(e){var t=e[va];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ss]||n[va]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zy(e);e!==null;){if(n=e[va])return n;e=zy(e)}return t}e=n,n=e.parentNode}return null}function su(e){return e=e[va]||e[ss],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function $h(e){return e[Tc]||null}var Lp=[],Lo=-1;function ti(e){return{current:e}}function Wt(e){0>Lo||(e.current=Lp[Lo],Lp[Lo]=null,Lo--)}function Ft(e,t){Lo++,Lp[Lo]=e.current,e.current=t}var Js={},Bn=ti(Js),ar=ti(!1),Di=Js;function Qo(e,t){var n=e.type.contextTypes;if(!n)return Js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function sr(e){return e=e.childContextTypes,e!=null}function Gd(){Wt(ar),Wt(Bn)}function $y(e,t,n){if(Bn.current!==Js)throw Error(xe(168));Ft(Bn,t),Ft(ar,n)}function Ok(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(xe(108,IT(e)||"Unknown",s));return nn({},n,r)}function qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Js,Di=Bn.current,Ft(Bn,e),Ft(ar,ar.current),!0}function By(e,t,n){var r=e.stateNode;if(!r)throw Error(xe(169));n?(e=Ok(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Wt(ar),Wt(Bn),Ft(Bn,e)):Wt(ar),Ft(ar,n)}var Ya=null,Bh=!1,um=!1;function Rk(e){Ya===null?Ya=[e]:Ya.push(e)}function YE(e){Bh=!0,Rk(e)}function ni(){if(!um&&Ya!==null){um=!0;var e=0,t=Rt;try{var n=Ya;for(Rt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ya=null,Bh=!1}catch(s){throw Ya!==null&&(Ya=Ya.slice(e+1)),ok(Jx,ni),s}finally{Rt=t,um=!1}}return null}var Io=[],Ao=0,Yd=null,Jd=0,Lr=[],Ir=0,zi=null,Qa=1,Xa="";function bi(e,t){Io[Ao++]=Jd,Io[Ao++]=Yd,Yd=e,Jd=t}function Dk(e,t,n){Lr[Ir++]=Qa,Lr[Ir++]=Xa,Lr[Ir++]=zi,zi=e;var r=Qa;e=Xa;var s=32-ea(r)-1;r&=~(1<<s),n+=1;var i=32-ea(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Qa=1<<32-ea(t)+s|n<<s|r,Xa=i+e}else Qa=1<<i|n<<s|r,Xa=e}function i0(e){e.return!==null&&(bi(e,1),Dk(e,1,0))}function o0(e){for(;e===Yd;)Yd=Io[--Ao],Io[Ao]=null,Jd=Io[--Ao],Io[Ao]=null;for(;e===zi;)zi=Lr[--Ir],Lr[Ir]=null,Xa=Lr[--Ir],Lr[Ir]=null,Qa=Lr[--Ir],Lr[Ir]=null}var gr=null,mr=null,qt=!1,Jr=null;function zk(e,t){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gr=e,mr=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gr=e,mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zi!==null?{id:Qa,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gr=e,mr=null,!0):!1;default:return!1}}function Ip(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ap(e){if(qt){var t=mr;if(t){var n=t;if(!Fy(e,t)){if(Ip(e))throw Error(xe(418));t=Zs(n.nextSibling);var r=gr;t&&Fy(e,t)?zk(r,n):(e.flags=e.flags&-4097|2,qt=!1,gr=e)}}else{if(Ip(e))throw Error(xe(418));e.flags=e.flags&-4097|2,qt=!1,gr=e}}}function Uy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function Yu(e){if(e!==gr)return!1;if(!qt)return Uy(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cp(e.type,e.memoizedProps)),t&&(t=mr)){if(Ip(e))throw $k(),Error(xe(418));for(;t;)zk(e,t),t=Zs(t.nextSibling)}if(Uy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mr=Zs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mr=null}}else mr=gr?Zs(e.stateNode.nextSibling):null;return!0}function $k(){for(var e=mr;e;)e=Zs(e.nextSibling)}function Xo(){mr=gr=null,qt=!1}function l0(e){Jr===null?Jr=[e]:Jr.push(e)}var JE=ds.ReactCurrentBatchConfig;function zl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(xe(309));var r=n.stateNode}if(!r)throw Error(xe(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var c=s.refs;l===null?delete c[i]:c[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(xe(284));if(!n._owner)throw Error(xe(290,e))}return e}function Ju(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hy(e){var t=e._init;return t(e._payload)}function Bk(e){function t(N,w){if(e){var S=N.deletions;S===null?(N.deletions=[w],N.flags|=16):S.push(w)}}function n(N,w){if(!e)return null;for(;w!==null;)t(N,w),w=w.sibling;return null}function r(N,w){for(N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function s(N,w){return N=Gs(N,w),N.index=0,N.sibling=null,N}function i(N,w,S){return N.index=S,e?(S=N.alternate,S!==null?(S=S.index,S<w?(N.flags|=2,w):S):(N.flags|=2,w)):(N.flags|=1048576,w)}function l(N){return e&&N.alternate===null&&(N.flags|=2),N}function c(N,w,S,P){return w===null||w.tag!==6?(w=xm(S,N.mode,P),w.return=N,w):(w=s(w,S),w.return=N,w)}function d(N,w,S,P){var C=S.type;return C===To?m(N,w,S.props.children,P,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Es&&Hy(C)===w.type)?(P=s(w,S.props),P.ref=zl(N,w,S),P.return=N,P):(P=Td(S.type,S.key,S.props,null,N.mode,P),P.ref=zl(N,w,S),P.return=N,P)}function h(N,w,S,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=vm(S,N.mode,P),w.return=N,w):(w=s(w,S.children||[]),w.return=N,w)}function m(N,w,S,P,C){return w===null||w.tag!==7?(w=Li(S,N.mode,P,C),w.return=N,w):(w=s(w,S),w.return=N,w)}function p(N,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xm(""+w,N.mode,S),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:return S=Td(w.type,w.key,w.props,null,N.mode,S),S.ref=zl(N,null,w),S.return=N,S;case So:return w=vm(w,N.mode,S),w.return=N,w;case Es:var P=w._init;return p(N,P(w._payload),S)}if(Yl(w)||Il(w))return w=Li(w,N.mode,S,null),w.return=N,w;Ju(N,w)}return null}function x(N,w,S,P){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:c(N,w,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:return S.key===C?d(N,w,S,P):null;case So:return S.key===C?h(N,w,S,P):null;case Es:return C=S._init,x(N,w,C(S._payload),P)}if(Yl(S)||Il(S))return C!==null?null:m(N,w,S,P,null);Ju(N,S)}return null}function y(N,w,S,P,C){if(typeof P=="string"&&P!==""||typeof P=="number")return N=N.get(S)||null,c(w,N,""+P,C);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Bu:return N=N.get(P.key===null?S:P.key)||null,d(w,N,P,C);case So:return N=N.get(P.key===null?S:P.key)||null,h(w,N,P,C);case Es:var U=P._init;return y(N,w,S,U(P._payload),C)}if(Yl(P)||Il(P))return N=N.get(S)||null,m(w,N,P,C,null);Ju(w,P)}return null}function b(N,w,S,P){for(var C=null,U=null,E=w,Z=w=0,q=null;E!==null&&Z<S.length;Z++){E.index>Z?(q=E,E=null):q=E.sibling;var $=x(N,E,S[Z],P);if($===null){E===null&&(E=q);break}e&&E&&$.alternate===null&&t(N,E),w=i($,w,Z),U===null?C=$:U.sibling=$,U=$,E=q}if(Z===S.length)return n(N,E),qt&&bi(N,Z),C;if(E===null){for(;Z<S.length;Z++)E=p(N,S[Z],P),E!==null&&(w=i(E,w,Z),U===null?C=E:U.sibling=E,U=E);return qt&&bi(N,Z),C}for(E=r(N,E);Z<S.length;Z++)q=y(E,N,Z,S[Z],P),q!==null&&(e&&q.alternate!==null&&E.delete(q.key===null?Z:q.key),w=i(q,w,Z),U===null?C=q:U.sibling=q,U=q);return e&&E.forEach(function(D){return t(N,D)}),qt&&bi(N,Z),C}function v(N,w,S,P){var C=Il(S);if(typeof C!="function")throw Error(xe(150));if(S=C.call(S),S==null)throw Error(xe(151));for(var U=C=null,E=w,Z=w=0,q=null,$=S.next();E!==null&&!$.done;Z++,$=S.next()){E.index>Z?(q=E,E=null):q=E.sibling;var D=x(N,E,$.value,P);if(D===null){E===null&&(E=q);break}e&&E&&D.alternate===null&&t(N,E),w=i(D,w,Z),U===null?C=D:U.sibling=D,U=D,E=q}if($.done)return n(N,E),qt&&bi(N,Z),C;if(E===null){for(;!$.done;Z++,$=S.next())$=p(N,$.value,P),$!==null&&(w=i($,w,Z),U===null?C=$:U.sibling=$,U=$);return qt&&bi(N,Z),C}for(E=r(N,E);!$.done;Z++,$=S.next())$=y(E,N,Z,$.value,P),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?Z:$.key),w=i($,w,Z),U===null?C=$:U.sibling=$,U=$);return e&&E.forEach(function(J){return t(N,J)}),qt&&bi(N,Z),C}function j(N,w,S,P){if(typeof S=="object"&&S!==null&&S.type===To&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:e:{for(var C=S.key,U=w;U!==null;){if(U.key===C){if(C=S.type,C===To){if(U.tag===7){n(N,U.sibling),w=s(U,S.props.children),w.return=N,N=w;break e}}else if(U.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Es&&Hy(C)===U.type){n(N,U.sibling),w=s(U,S.props),w.ref=zl(N,U,S),w.return=N,N=w;break e}n(N,U);break}else t(N,U);U=U.sibling}S.type===To?(w=Li(S.props.children,N.mode,P,S.key),w.return=N,N=w):(P=Td(S.type,S.key,S.props,null,N.mode,P),P.ref=zl(N,w,S),P.return=N,N=P)}return l(N);case So:e:{for(U=S.key;w!==null;){if(w.key===U)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(N,w.sibling),w=s(w,S.children||[]),w.return=N,N=w;break e}else{n(N,w);break}else t(N,w);w=w.sibling}w=vm(S,N.mode,P),w.return=N,N=w}return l(N);case Es:return U=S._init,j(N,w,U(S._payload),P)}if(Yl(S))return b(N,w,S,P);if(Il(S))return v(N,w,S,P);Ju(N,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(N,w.sibling),w=s(w,S),w.return=N,N=w):(n(N,w),w=xm(S,N.mode,P),w.return=N,N=w),l(N)):n(N,w)}return j}var el=Bk(!0),Fk=Bk(!1),Qd=ti(null),Xd=null,Oo=null,c0=null;function u0(){c0=Oo=Xd=null}function d0(e){var t=Qd.current;Wt(Qd),e._currentValue=t}function Op(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wo(e,t){Xd=e,c0=Oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function $r(e){var t=e._currentValue;if(c0!==e)if(e={context:e,memoizedValue:t,next:null},Oo===null){if(Xd===null)throw Error(xe(308));Oo=e,Xd.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var ji=null;function h0(e){ji===null?ji=[e]:ji.push(e)}function Uk(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,h0(t)):(n.next=s.next,s.next=n),t.interleaved=n,is(e,r)}function is(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cs=!1;function f0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,is(e,n)}return s=r.interleaved,s===null?(t.next=t,h0(r)):(t.next=s.next,s.next=t),r.interleaved=t,is(e,n)}function wd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qx(e,n)}}function Zy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function eh(e,t,n,r){var s=e.updateQueue;Cs=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,l===null?i=h:l.next=h,l=d;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=h:c.next=h,m.lastBaseUpdate=d))}if(i!==null){var p=s.baseState;l=0,m=h=d=null,c=i;do{var x=c.lane,y=c.eventTime;if((r&x)===x){m!==null&&(m=m.next={eventTime:y,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var b=e,v=c;switch(x=t,y=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){p=b.call(y,p,x);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,x=typeof b=="function"?b.call(y,p,x):b,x==null)break e;p=nn({},p,x);break e;case 2:Cs=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[c]:x.push(c))}else y={eventTime:y,lane:x,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(h=m=y,d=p):m=m.next=y,l|=x;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;x=c,c=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(m===null&&(d=p),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Bi|=l,e.lanes=l,e.memoizedState=p}}function Wy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(xe(191,s));s.call(r)}}}var iu={},Na=ti(iu),Ec=ti(iu),Cc=ti(iu);function Si(e){if(e===iu)throw Error(xe(174));return e}function m0(e,t){switch(Ft(Cc,t),Ft(Ec,e),Ft(Na,iu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pp(t,e)}Wt(Na),Ft(Na,t)}function tl(){Wt(Na),Wt(Ec),Wt(Cc)}function Zk(e){Si(Cc.current);var t=Si(Na.current),n=pp(t,e.type);t!==n&&(Ft(Ec,e),Ft(Na,n))}function p0(e){Ec.current===e&&(Wt(Na),Wt(Ec))}var Xt=ti(0);function th(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dm=[];function g0(){for(var e=0;e<dm.length;e++)dm[e]._workInProgressVersionPrimary=null;dm.length=0}var _d=ds.ReactCurrentDispatcher,hm=ds.ReactCurrentBatchConfig,$i=0,en=null,yn=null,kn=null,nh=!1,cc=!1,Pc=0,QE=0;function Rn(){throw Error(xe(321))}function x0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!aa(e[n],t[n]))return!1;return!0}function v0(e,t,n,r,s,i){if($i=i,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_d.current=e===null||e.memoizedState===null?nC:rC,e=n(r,s),cc){i=0;do{if(cc=!1,Pc=0,25<=i)throw Error(xe(301));i+=1,kn=yn=null,t.updateQueue=null,_d.current=aC,e=n(r,s)}while(cc)}if(_d.current=rh,t=yn!==null&&yn.next!==null,$i=0,kn=yn=en=null,nh=!1,t)throw Error(xe(300));return e}function y0(){var e=Pc!==0;return Pc=0,e}function pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?en.memoizedState=kn=e:kn=kn.next=e,kn}function Br(){if(yn===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=yn.next;var t=kn===null?en.memoizedState:kn.next;if(t!==null)kn=t,yn=e;else{if(e===null)throw Error(xe(310));yn=e,e={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},kn===null?en.memoizedState=kn=e:kn=kn.next=e}return kn}function Mc(e,t){return typeof t=="function"?t(e):t}function fm(e){var t=Br(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=yn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=l=null,d=null,h=i;do{var m=h.lane;if(($i&m)===m)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var p={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=p,l=r):d=d.next=p,en.lanes|=m,Bi|=m}h=h.next}while(h!==null&&h!==i);d===null?l=r:d.next=c,aa(r,t.memoizedState)||(tr=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,en.lanes|=i,Bi|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function mm(e){var t=Br(),n=t.queue;if(n===null)throw Error(xe(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);aa(i,t.memoizedState)||(tr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Wk(){}function Vk(e,t){var n=en,r=Br(),s=t(),i=!aa(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,b0(qk.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,Lc(9,Gk.bind(null,n,r,s,t),void 0,null),jn===null)throw Error(xe(349));$i&30||Kk(n,t,s)}return s}function Kk(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gk(e,t,n,r){t.value=n,t.getSnapshot=r,Yk(t)&&Jk(e)}function qk(e,t,n){return n(function(){Yk(t)&&Jk(e)})}function Yk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aa(e,n)}catch(r){return!0}}function Jk(e){var t=is(e,1);t!==null&&ta(t,e,1,-1)}function Vy(e){var t=pa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:e},t.queue=e,e=e.dispatch=tC.bind(null,en,e),[t.memoizedState,e]}function Lc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qk(){return Br().memoizedState}function kd(e,t,n,r){var s=pa();en.flags|=e,s.memoizedState=Lc(1|t,n,void 0,r===void 0?null:r)}function Fh(e,t,n,r){var s=Br();r=r===void 0?null:r;var i=void 0;if(yn!==null){var l=yn.memoizedState;if(i=l.destroy,r!==null&&x0(r,l.deps)){s.memoizedState=Lc(t,n,i,r);return}}en.flags|=e,s.memoizedState=Lc(1|t,n,i,r)}function Ky(e,t){return kd(8390656,8,e,t)}function b0(e,t){return Fh(2048,8,e,t)}function Xk(e,t){return Fh(4,2,e,t)}function e1(e,t){return Fh(4,4,e,t)}function t1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n1(e,t,n){return n=n!=null?n.concat([e]):null,Fh(4,4,t1.bind(null,t,e),n)}function w0(){}function r1(e,t){var n=Br();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&x0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function a1(e,t){var n=Br();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&x0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function s1(e,t,n){return $i&21?(aa(n,t)||(n=uk(),en.lanes|=n,Bi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=n)}function XE(e,t){var n=Rt;Rt=n!==0&&4>n?n:4,e(!0);var r=hm.transition;hm.transition={};try{e(!1),t()}finally{Rt=n,hm.transition=r}}function i1(){return Br().memoizedState}function eC(e,t,n){var r=Ks(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o1(e))l1(t,n);else if(n=Uk(e,t,n,r),n!==null){var s=Wn();ta(n,e,r,s),c1(n,t,r)}}function tC(e,t,n){var r=Ks(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o1(e))l1(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,n);if(s.hasEagerState=!0,s.eagerState=c,aa(c,l)){var d=t.interleaved;d===null?(s.next=s,h0(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch(h){}finally{}n=Uk(e,t,s,r),n!==null&&(s=Wn(),ta(n,e,r,s),c1(n,t,r))}}function o1(e){var t=e.alternate;return e===en||t!==null&&t===en}function l1(e,t){cc=nh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function c1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Qx(e,n)}}var rh={readContext:$r,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},nC={readContext:$r,useCallback:function(e,t){return pa().memoizedState=[e,t===void 0?null:t],e},useContext:$r,useEffect:Ky,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kd(4194308,4,t1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kd(4194308,4,e,t)},useInsertionEffect:function(e,t){return kd(4,2,e,t)},useMemo:function(e,t){var n=pa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eC.bind(null,en,e),[r.memoizedState,e]},useRef:function(e){var t=pa();return e={current:e},t.memoizedState=e},useState:Vy,useDebugValue:w0,useDeferredValue:function(e){return pa().memoizedState=e},useTransition:function(){var e=Vy(!1),t=e[0];return e=XE.bind(null,e[1]),pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=en,s=pa();if(qt){if(n===void 0)throw Error(xe(407));n=n()}else{if(n=t(),jn===null)throw Error(xe(349));$i&30||Kk(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ky(qk.bind(null,r,i,e),[e]),r.flags|=2048,Lc(9,Gk.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=pa(),t=jn.identifierPrefix;if(qt){var n=Xa,r=Qa;n=(r&~(1<<32-ea(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=QE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rC={readContext:$r,useCallback:r1,useContext:$r,useEffect:b0,useImperativeHandle:n1,useInsertionEffect:Xk,useLayoutEffect:e1,useMemo:a1,useReducer:fm,useRef:Qk,useState:function(){return fm(Mc)},useDebugValue:w0,useDeferredValue:function(e){var t=Br();return s1(t,yn.memoizedState,e)},useTransition:function(){var e=fm(Mc)[0],t=Br().memoizedState;return[e,t]},useMutableSource:Wk,useSyncExternalStore:Vk,useId:i1,unstable_isNewReconciler:!1},aC={readContext:$r,useCallback:r1,useContext:$r,useEffect:b0,useImperativeHandle:n1,useInsertionEffect:Xk,useLayoutEffect:e1,useMemo:a1,useReducer:mm,useRef:Qk,useState:function(){return mm(Mc)},useDebugValue:w0,useDeferredValue:function(e){var t=Br();return yn===null?t.memoizedState=e:s1(t,yn.memoizedState,e)},useTransition:function(){var e=mm(Mc)[0],t=Br().memoizedState;return[e,t]},useMutableSource:Wk,useSyncExternalStore:Vk,useId:i1,unstable_isNewReconciler:!1};function qr(e,t){if(e&&e.defaultProps){t=nn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Uh={isMounted:function(e){return(e=e._reactInternals)?qi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wn(),s=Ks(e),i=es(r,s);i.payload=t,n!=null&&(i.callback=n),t=Ws(e,i,s),t!==null&&(ta(t,e,s,r),wd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wn(),s=Ks(e),i=es(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ws(e,i,s),t!==null&&(ta(t,e,s,r),wd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wn(),r=Ks(e),s=es(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ws(e,s,r),t!==null&&(ta(t,e,r,n),wd(t,e,r))}};function Gy(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Nc(n,r)||!Nc(s,i):!0}function u1(e,t,n){var r=!1,s=Js,i=t.contextType;return typeof i=="object"&&i!==null?i=$r(i):(s=sr(t)?Di:Bn.current,r=t.contextTypes,i=(r=r!=null)?Qo(e,s):Js),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function qy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uh.enqueueReplaceState(t,t.state,null)}function Dp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},f0(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$r(i):(i=sr(t)?Di:Bn.current,s.context=Qo(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Rp(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Uh.enqueueReplaceState(s,s.state,null),eh(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nl(e,t){try{var n="",r=t;do n+=LT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pm(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function zp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sC=typeof WeakMap=="function"?WeakMap:Map;function d1(e,t,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sh||(sh=!0,Gp=r),zp(e,t)},n}function h1(e,t,n){n=es(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zp(e,t),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Yy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=yC.bind(null,e,t,n),t.then(e,e))}function Jy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=es(-1,1),t.tag=2,Ws(n,t,1))),n.lanes|=1),e)}var iC=ds.ReactCurrentOwner,tr=!1;function Hn(e,t,n,r){t.child=e===null?Fk(t,null,n,r):el(t,e.child,n,r)}function Xy(e,t,n,r,s){n=n.render;var i=t.ref;return Wo(t,s),r=v0(e,t,n,r,i,s),n=y0(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(qt&&n&&i0(t),t.flags|=1,Hn(e,t,r,s),t.child)}function eb(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!C0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,f1(e,t,i,r,s)):(e=Td(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nc,n(l,r)&&e.ref===t.ref)return os(e,t,s)}return t.flags|=1,e=Gs(i,r),e.ref=t.ref,e.return=t,t.child=e}function f1(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Nc(i,r)&&e.ref===t.ref)if(tr=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,os(e,t,s)}return $p(e,t,n,r,s)}function m1(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(Do,dr),dr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ft(Do,dr),dr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ft(Do,dr),dr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ft(Do,dr),dr|=r;return Hn(e,t,s,n),t.child}function p1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $p(e,t,n,r,s){var i=sr(n)?Di:Bn.current;return i=Qo(t,i),Wo(t,s),n=v0(e,t,n,r,i,s),r=y0(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,os(e,t,s)):(qt&&r&&i0(t),t.flags|=1,Hn(e,t,n,s),t.child)}function tb(e,t,n,r,s){if(sr(n)){var i=!0;qd(t)}else i=!1;if(Wo(t,s),t.stateNode===null)Nd(e,t),u1(t,n,r),Dp(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=$r(h):(h=sr(n)?Di:Bn.current,h=Qo(t,h));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||d!==h)&&qy(t,l,r,h),Cs=!1;var x=t.memoizedState;l.state=x,eh(t,r,l,s),d=t.memoizedState,c!==r||x!==d||ar.current||Cs?(typeof m=="function"&&(Rp(t,n,m,r),d=t.memoizedState),(c=Cs||Gy(t,n,c,r,x,d,h))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=h,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Hk(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:qr(t.type,c),l.props=h,p=t.pendingProps,x=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=$r(d):(d=sr(n)?Di:Bn.current,d=Qo(t,d));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==p||x!==d)&&qy(t,l,r,d),Cs=!1,x=t.memoizedState,l.state=x,eh(t,r,l,s);var b=t.memoizedState;c!==p||x!==b||ar.current||Cs?(typeof y=="function"&&(Rp(t,n,y,r),b=t.memoizedState),(h=Cs||Gy(t,n,h,r,x,b,d)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,b,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,b,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),l.props=r,l.state=b,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return Bp(e,t,n,r,i,s)}function Bp(e,t,n,r,s,i){p1(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&By(t,n,!1),os(e,t,i);r=t.stateNode,iC.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=el(t,e.child,null,i),t.child=el(t,null,c,i)):Hn(e,t,c,i),t.memoizedState=r.state,s&&By(t,n,!0),t.child}function g1(e){var t=e.stateNode;t.pendingContext?$y(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$y(e,t.context,!1),m0(e,t.containerInfo)}function nb(e,t,n,r,s){return Xo(),l0(s),t.flags|=256,Hn(e,t,n,r),t.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Up(e){return{baseLanes:e,cachePool:null,transitions:null}}function x1(e,t,n){var r=t.pendingProps,s=Xt.current,i=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ft(Xt,s&1),e===null)return Ap(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Wh(l,r,0,null),e=Li(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Up(n),t.memoizedState=Fp,e):_0(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return oC(e,t,l,r,c,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Gs(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=Gs(c,i):(i=Li(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Up(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Fp,r}return i=e.child,e=i.sibling,r=Gs(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _0(e,t){return t=Wh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qu(e,t,n,r){return r!==null&&l0(r),el(t,e.child,null,n),e=_0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oC(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=pm(Error(xe(422))),Qu(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Wh({mode:"visible",children:r.children},s,0,null),i=Li(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&el(t,e.child,null,l),t.child.memoizedState=Up(l),t.memoizedState=Fp,i);if(!(t.mode&1))return Qu(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(xe(419)),r=pm(i,r,void 0),Qu(e,t,l,r)}if(c=(l&e.childLanes)!==0,tr||c){if(r=jn,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,is(e,s),ta(r,e,s,-1))}return E0(),r=pm(Error(xe(421))),Qu(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bC.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mr=Zs(s.nextSibling),gr=t,qt=!0,Jr=null,e!==null&&(Lr[Ir++]=Qa,Lr[Ir++]=Xa,Lr[Ir++]=zi,Qa=e.id,Xa=e.overflow,zi=t),t=_0(t,r.children),t.flags|=4096,t)}function rb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Op(e.return,t,n)}function gm(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function v1(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Hn(e,t,r.children,n),r=Xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rb(e,n,t);else if(e.tag===19)rb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ft(Xt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&th(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),gm(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&th(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}gm(t,!0,n,null,i);break;case"together":gm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function os(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,n=Gs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lC(e,t,n){switch(t.tag){case 3:g1(t),Xo();break;case 5:Zk(t);break;case 1:sr(t.type)&&qd(t);break;case 4:m0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ft(Qd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ft(Xt,Xt.current&1),t.flags|=128,null):n&t.child.childLanes?x1(e,t,n):(Ft(Xt,Xt.current&1),e=os(e,t,n),e!==null?e.sibling:null);Ft(Xt,Xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return v1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ft(Xt,Xt.current),r)break;return null;case 22:case 23:return t.lanes=0,m1(e,t,n)}return os(e,t,n)}var y1,Hp,b1,w1;y1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hp=function(){};b1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Si(Na.current);var i=null;switch(n){case"input":s=dp(e,s),r=dp(e,r),i=[];break;case"select":s=nn({},s,{value:void 0}),r=nn({},r,{value:void 0}),i=[];break;case"textarea":s=mp(e,s),r=mp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kd)}gp(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(xc.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(i=i||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(xc.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Ht("scroll",e),i||c===d||(i=[])):(i=i||[]).push(h,d))}n&&(i=i||[]).push("style",n);var h=i;(t.updateQueue=h)&&(t.flags|=4)}};w1=function(e,t,n,r){n!==r&&(t.flags|=4)};function $l(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cC(e,t,n){var r=t.pendingProps;switch(o0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(t),null;case 1:return sr(t.type)&&Gd(),Dn(t),null;case 3:return r=t.stateNode,tl(),Wt(ar),Wt(Bn),g0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jr!==null&&(Jp(Jr),Jr=null))),Hp(e,t),Dn(t),null;case 5:p0(t);var s=Si(Cc.current);if(n=t.type,e!==null&&t.stateNode!=null)b1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(xe(166));return Dn(t),null}if(e=Si(Na.current),Yu(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[va]=t,r[Tc]=i,e=(t.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(s=0;s<Ql.length;s++)Ht(Ql[s],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":hy(r,i),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ht("invalid",r);break;case"textarea":my(r,i),Ht("invalid",r)}gp(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&qu(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&qu(r.textContent,c,e),s=["children",""+c]):xc.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Ht("scroll",r)}switch(n){case"input":Fu(r),fy(r,i,!0);break;case"textarea":Fu(r),py(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Kd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[va]=t,e[Tc]=r,y1(e,t,!1,!1),t.stateNode=e;e:{switch(l=xp(n,r),n){case"dialog":Ht("cancel",e),Ht("close",e),s=r;break;case"iframe":case"object":case"embed":Ht("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ql.length;s++)Ht(Ql[s],e);s=r;break;case"source":Ht("error",e),s=r;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),s=r;break;case"details":Ht("toggle",e),s=r;break;case"input":hy(e,r),s=dp(e,r),Ht("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=nn({},r,{value:void 0}),Ht("invalid",e);break;case"textarea":my(e,r),s=mp(e,r),Ht("invalid",e);break;default:s=r}gp(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var d=c[i];i==="style"?Q_(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Y_(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&vc(e,d):typeof d=="number"&&vc(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xc.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Ht("scroll",e):d!=null&&Vx(e,i,d,l))}switch(n){case"input":Fu(e),fy(e,r,!1);break;case"textarea":Fu(e),py(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ys(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Fo(e,!!r.multiple,i,!1):r.defaultValue!=null&&Fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Kd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dn(t),null;case 6:if(e&&t.stateNode!=null)w1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(xe(166));if(n=Si(Cc.current),Si(Na.current),Yu(t)){if(r=t.stateNode,n=t.memoizedProps,r[va]=t,(i=r.nodeValue!==n)&&(e=gr,e!==null))switch(e.tag){case 3:qu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qu(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[va]=t,t.stateNode=r}return Dn(t),null;case 13:if(Wt(Xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&mr!==null&&t.mode&1&&!(t.flags&128))$k(),Xo(),t.flags|=98560,i=!1;else if(i=Yu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(xe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[va]=t}else Xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dn(t),i=!1}else Jr!==null&&(Jp(Jr),Jr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xt.current&1?wn===0&&(wn=3):E0())),t.updateQueue!==null&&(t.flags|=4),Dn(t),null);case 4:return tl(),Hp(e,t),e===null&&jc(t.stateNode.containerInfo),Dn(t),null;case 10:return d0(t.type._context),Dn(t),null;case 17:return sr(t.type)&&Gd(),Dn(t),null;case 19:if(Wt(Xt),i=t.memoizedState,i===null)return Dn(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)$l(i,!1);else{if(wn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=th(e),l!==null){for(t.flags|=128,$l(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ft(Xt,Xt.current&1|2),t.child}e=e.sibling}i.tail!==null&&dn()>rl&&(t.flags|=128,r=!0,$l(i,!1),t.lanes=4194304)}else{if(!r)if(e=th(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!qt)return Dn(t),null}else 2*dn()-i.renderingStartTime>rl&&n!==1073741824&&(t.flags|=128,r=!0,$l(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dn(),t.sibling=null,n=Xt.current,Ft(Xt,r?n&1|2:n&1),t):(Dn(t),null);case 22:case 23:return T0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dr&1073741824&&(Dn(t),t.subtreeFlags&6&&(t.flags|=8192)):Dn(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function uC(e,t){switch(o0(t),t.tag){case 1:return sr(t.type)&&Gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tl(),Wt(ar),Wt(Bn),g0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return p0(t),null;case 13:if(Wt(Xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));Xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(Xt),null;case 4:return tl(),null;case 10:return d0(t.type._context),null;case 22:case 23:return T0(),null;case 24:return null;default:return null}}var Xu=!1,zn=!1,dC=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ro(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rn(e,t,r)}else n.current=null}function Zp(e,t,n){try{n()}catch(r){rn(e,t,r)}}var ab=!1;function hC(e,t){if(Tp=Zd,e=Sk(),s0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(P){n=null;break e}var l=0,c=-1,d=-1,h=0,m=0,p=e,x=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(c=l+s),p!==i||r!==0&&p.nodeType!==3||(d=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(y=p.firstChild)!==null;)x=p,p=y;for(;;){if(p===e)break t;if(x===n&&++h===s&&(c=l),x===i&&++m===r&&(d=l),(y=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=y}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ep={focusedElem:e,selectionRange:n},Zd=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,j=b.memoizedState,N=t.stateNode,w=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:qr(t.type,v),j);N.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(P){rn(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return b=ab,ab=!1,b}function uc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zp(t,n,i)}s=s.next}while(s!==r)}}function Hh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _1(e){var t=e.alternate;t!==null&&(e.alternate=null,_1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[va],delete t[Tc],delete t[Mp],delete t[GE],delete t[qE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k1(e){return e.tag===5||e.tag===3||e.tag===4}function sb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kd));else if(r!==4&&(e=e.child,e!==null))for(Vp(e,t,n),e=e.sibling;e!==null;)Vp(e,t,n),e=e.sibling}function Kp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kp(e,t,n),e=e.sibling;e!==null;)Kp(e,t,n),e=e.sibling}var Pn=null,Yr=!1;function Ns(e,t,n){for(n=n.child;n!==null;)N1(e,t,n),n=n.sibling}function N1(e,t,n){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(Oh,n)}catch(c){}switch(n.tag){case 5:zn||Ro(n,t);case 6:var r=Pn,s=Yr;Pn=null,Ns(e,t,n),Pn=r,Yr=s,Pn!==null&&(Yr?(e=Pn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pn.removeChild(n.stateNode));break;case 18:Pn!==null&&(Yr?(e=Pn,n=n.stateNode,e.nodeType===8?cm(e.parentNode,n):e.nodeType===1&&cm(e,n),_c(e)):cm(Pn,n.stateNode));break;case 4:r=Pn,s=Yr,Pn=n.stateNode.containerInfo,Yr=!0,Ns(e,t,n),Pn=r,Yr=s;break;case 0:case 11:case 14:case 15:if(!zn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Zp(n,t,l),s=s.next}while(s!==r)}Ns(e,t,n);break;case 1:if(!zn&&(Ro(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){rn(n,t,c)}Ns(e,t,n);break;case 21:Ns(e,t,n);break;case 22:n.mode&1?(zn=(r=zn)||n.memoizedState!==null,Ns(e,t,n),zn=r):Ns(e,t,n);break;default:Ns(e,t,n)}}function ib(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dC),t.forEach(function(r){var s=wC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Pn=c.stateNode,Yr=!1;break e;case 3:Pn=c.stateNode.containerInfo,Yr=!0;break e;case 4:Pn=c.stateNode.containerInfo,Yr=!0;break e}c=c.return}if(Pn===null)throw Error(xe(160));N1(i,l,s),Pn=null,Yr=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){rn(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j1(t,e),t=t.sibling}function j1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kr(t,e),ha(e),r&4){try{uc(3,e,e.return),Hh(3,e)}catch(v){rn(e,e.return,v)}try{uc(5,e,e.return)}catch(v){rn(e,e.return,v)}}break;case 1:Kr(t,e),ha(e),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(Kr(t,e),ha(e),r&512&&n!==null&&Ro(n,n.return),e.flags&32){var s=e.stateNode;try{vc(s,"")}catch(v){rn(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&K_(s,i),xp(c,l);var h=xp(c,i);for(l=0;l<d.length;l+=2){var m=d[l],p=d[l+1];m==="style"?Q_(s,p):m==="dangerouslySetInnerHTML"?Y_(s,p):m==="children"?vc(s,p):Vx(s,m,p,h)}switch(c){case"input":hp(s,i);break;case"textarea":G_(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Fo(s,!!i.multiple,y,!1):x!==!!i.multiple&&(i.defaultValue!=null?Fo(s,!!i.multiple,i.defaultValue,!0):Fo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tc]=i}catch(v){rn(e,e.return,v)}}break;case 6:if(Kr(t,e),ha(e),r&4){if(e.stateNode===null)throw Error(xe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){rn(e,e.return,v)}}break;case 3:if(Kr(t,e),ha(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_c(t.containerInfo)}catch(v){rn(e,e.return,v)}break;case 4:Kr(t,e),ha(e);break;case 13:Kr(t,e),ha(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(j0=dn())),r&4&&ib(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(zn=(h=zn)||m,Kr(t,e),zn=h):Kr(t,e),ha(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for($e=e,m=e.child;m!==null;){for(p=$e=m;$e!==null;){switch(x=$e,y=x.child,x.tag){case 0:case 11:case 14:case 15:uc(4,x,x.return);break;case 1:Ro(x,x.return);var b=x.stateNode;if(typeof b.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){rn(r,n,v)}}break;case 5:Ro(x,x.return);break;case 22:if(x.memoizedState!==null){lb(p);continue}}y!==null?(y.return=x,$e=y):lb(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,d=p.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=J_("display",l))}catch(v){rn(e,e.return,v)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(v){rn(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Kr(t,e),ha(e),r&4&&ib(e);break;case 21:break;default:Kr(t,e),ha(e)}}function ha(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(k1(n)){var r=n;break e}n=n.return}throw Error(xe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vc(s,""),r.flags&=-33);var i=sb(e);Kp(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=sb(e);Vp(e,c,l);break;default:throw Error(xe(161))}}catch(d){rn(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fC(e,t,n){$e=e,S1(e)}function S1(e,t,n){for(var r=(e.mode&1)!==0;$e!==null;){var s=$e,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Xu;if(!l){var c=s.alternate,d=c!==null&&c.memoizedState!==null||zn;c=Xu;var h=zn;if(Xu=l,(zn=d)&&!h)for($e=s;$e!==null;)l=$e,d=l.child,l.tag===22&&l.memoizedState!==null?cb(s):d!==null?(d.return=l,$e=d):cb(s);for(;i!==null;)$e=i,S1(i),i=i.sibling;$e=s,Xu=c,zn=h}ob(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$e=i):ob(e)}}function ob(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zn||Hh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!zn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:qr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wy(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wy(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&_c(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}zn||t.flags&512&&Wp(t)}catch(x){rn(t,t.return,x)}}if(t===e){$e=null;break}if(n=t.sibling,n!==null){n.return=t.return,$e=n;break}$e=t.return}}function lb(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$e=n;break}$e=t.return}}function cb(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hh(4,t)}catch(d){rn(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){rn(t,s,d)}}var i=t.return;try{Wp(t)}catch(d){rn(t,i,d)}break;case 5:var l=t.return;try{Wp(t)}catch(d){rn(t,l,d)}}}catch(d){rn(t,t.return,d)}if(t===e){$e=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$e=c;break}$e=t.return}}var mC=Math.ceil,ah=ds.ReactCurrentDispatcher,k0=ds.ReactCurrentOwner,Rr=ds.ReactCurrentBatchConfig,It=0,jn=null,pn=null,In=0,dr=0,Do=ti(0),wn=0,Ic=null,Bi=0,Zh=0,N0=0,dc=null,Xn=null,j0=0,rl=1/0,qa=null,sh=!1,Gp=null,Vs=null,ed=!1,Ds=null,ih=0,hc=0,qp=null,jd=-1,Sd=0;function Wn(){return It&6?dn():jd!==-1?jd:jd=dn()}function Ks(e){return e.mode&1?It&2&&In!==0?In&-In:JE.transition!==null?(Sd===0&&(Sd=uk()),Sd):(e=Rt,e!==0||(e=window.event,e=e===void 0?16:xk(e.type)),e):1}function ta(e,t,n,r){if(50<hc)throw hc=0,qp=null,Error(xe(185));ru(e,n,r),(!(It&2)||e!==jn)&&(e===jn&&(!(It&2)&&(Zh|=n),wn===4&&Ms(e,In)),ir(e,r),n===1&&It===0&&!(t.mode&1)&&(rl=dn()+500,Bh&&ni()))}function ir(e,t){var n=e.callbackNode;JT(e,t);var r=Hd(e,e===jn?In:0);if(r===0)n!==null&&vy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vy(n),t===1)e.tag===0?YE(ub.bind(null,e)):Rk(ub.bind(null,e)),VE(function(){!(It&6)&&ni()}),n=null;else{switch(dk(r)){case 1:n=Jx;break;case 4:n=lk;break;case 16:n=Ud;break;case 536870912:n=ck;break;default:n=Ud}n=A1(n,T1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function T1(e,t){if(jd=-1,Sd=0,It&6)throw Error(xe(327));var n=e.callbackNode;if(Vo()&&e.callbackNode!==n)return null;var r=Hd(e,e===jn?In:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=oh(e,r);else{t=r;var s=It;It|=2;var i=C1();(jn!==e||In!==t)&&(qa=null,rl=dn()+500,Mi(e,t));do try{xC();break}catch(c){E1(e,c)}while(!0);u0(),ah.current=i,It=s,pn!==null?t=0:(jn=null,In=0,t=wn)}if(t!==0){if(t===2&&(s=_p(e),s!==0&&(r=s,t=Yp(e,s))),t===1)throw n=Ic,Mi(e,0),Ms(e,r),ir(e,dn()),n;if(t===6)Ms(e,r);else{if(s=e.current.alternate,!(r&30)&&!pC(s)&&(t=oh(e,r),t===2&&(i=_p(e),i!==0&&(r=i,t=Yp(e,i))),t===1))throw n=Ic,Mi(e,0),Ms(e,r),ir(e,dn()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:wi(e,Xn,qa);break;case 3:if(Ms(e,r),(r&130023424)===r&&(t=j0+500-dn(),10<t)){if(Hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Wn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Pp(wi.bind(null,e,Xn,qa),t);break}wi(e,Xn,qa);break;case 4:if(Ms(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-ea(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mC(r/1960))-r,10<r){e.timeoutHandle=Pp(wi.bind(null,e,Xn,qa),r);break}wi(e,Xn,qa);break;case 5:wi(e,Xn,qa);break;default:throw Error(xe(329))}}}return ir(e,dn()),e.callbackNode===n?T1.bind(null,e):null}function Yp(e,t){var n=dc;return e.current.memoizedState.isDehydrated&&(Mi(e,t).flags|=256),e=oh(e,t),e!==2&&(t=Xn,Xn=n,t!==null&&Jp(t)),e}function Jp(e){Xn===null?Xn=e:Xn.push.apply(Xn,e)}function pC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!aa(i(),s))return!1}catch(l){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(e,t){for(t&=~N0,t&=~Zh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ea(t),r=1<<n;e[n]=-1,t&=~r}}function ub(e){if(It&6)throw Error(xe(327));Vo();var t=Hd(e,0);if(!(t&1))return ir(e,dn()),null;var n=oh(e,t);if(e.tag!==0&&n===2){var r=_p(e);r!==0&&(t=r,n=Yp(e,r))}if(n===1)throw n=Ic,Mi(e,0),Ms(e,t),ir(e,dn()),n;if(n===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wi(e,Xn,qa),ir(e,dn()),null}function S0(e,t){var n=It;It|=1;try{return e(t)}finally{It=n,It===0&&(rl=dn()+500,Bh&&ni())}}function Fi(e){Ds!==null&&Ds.tag===0&&!(It&6)&&Vo();var t=It;It|=1;var n=Rr.transition,r=Rt;try{if(Rr.transition=null,Rt=1,e)return e()}finally{Rt=r,Rr.transition=n,It=t,!(It&6)&&ni()}}function T0(){dr=Do.current,Wt(Do)}function Mi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,WE(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(o0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gd();break;case 3:tl(),Wt(ar),Wt(Bn),g0();break;case 5:p0(r);break;case 4:tl();break;case 13:Wt(Xt);break;case 19:Wt(Xt);break;case 10:d0(r.type._context);break;case 22:case 23:T0()}n=n.return}if(jn=e,pn=e=Gs(e.current,null),In=dr=t,wn=0,Ic=null,N0=Zh=Bi=0,Xn=dc=null,ji!==null){for(t=0;t<ji.length;t++)if(n=ji[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}ji=null}return e}function E1(e,t){do{var n=pn;try{if(u0(),_d.current=rh,nh){for(var r=en.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}nh=!1}if($i=0,kn=yn=en=null,cc=!1,Pc=0,k0.current=null,n===null||n.return===null){wn=1,Ic=t,pn=null;break}e:{var i=e,l=n.return,c=n,d=t;if(t=In,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,m=c,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Jy(l);if(y!==null){y.flags&=-257,Qy(y,l,c,i,t),y.mode&1&&Yy(i,h,t),t=y,d=h;var b=t.updateQueue;if(b===null){var v=new Set;v.add(d),t.updateQueue=v}else b.add(d);break e}else{if(!(t&1)){Yy(i,h,t),E0();break e}d=Error(xe(426))}}else if(qt&&c.mode&1){var j=Jy(l);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Qy(j,l,c,i,t),l0(nl(d,c));break e}}i=d=nl(d,c),wn!==4&&(wn=2),dc===null?dc=[i]:dc.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var N=d1(i,d,t);Zy(i,N);break e;case 1:c=d;var w=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Vs===null||!Vs.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var P=h1(i,c,t);Zy(i,P);break e}}i=i.return}while(i!==null)}M1(n)}catch(C){t=C,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function C1(){var e=ah.current;return ah.current=rh,e===null?rh:e}function E0(){(wn===0||wn===3||wn===2)&&(wn=4),jn===null||!(Bi&268435455)&&!(Zh&268435455)||Ms(jn,In)}function oh(e,t){var n=It;It|=2;var r=C1();(jn!==e||In!==t)&&(qa=null,Mi(e,t));do try{gC();break}catch(s){E1(e,s)}while(!0);if(u0(),It=n,ah.current=r,pn!==null)throw Error(xe(261));return jn=null,In=0,wn}function gC(){for(;pn!==null;)P1(pn)}function xC(){for(;pn!==null&&!UT();)P1(pn)}function P1(e){var t=I1(e.alternate,e,dr);e.memoizedProps=e.pendingProps,t===null?M1(e):pn=t,k0.current=null}function M1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uC(n,t),n!==null){n.flags&=32767,pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wn=6,pn=null;return}}else if(n=cC(n,t,dr),n!==null){pn=n;return}if(t=t.sibling,t!==null){pn=t;return}pn=t=e}while(t!==null);wn===0&&(wn=5)}function wi(e,t,n){var r=Rt,s=Rr.transition;try{Rr.transition=null,Rt=1,vC(e,t,n,r)}finally{Rr.transition=s,Rt=r}return null}function vC(e,t,n,r){do Vo();while(Ds!==null);if(It&6)throw Error(xe(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(QT(e,i),e===jn&&(pn=jn=null,In=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ed||(ed=!0,A1(Ud,function(){return Vo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rr.transition,Rr.transition=null;var l=Rt;Rt=1;var c=It;It|=4,k0.current=null,hC(e,n),j1(n,e),zE(Ep),Zd=!!Tp,Ep=Tp=null,e.current=n,fC(n),HT(),It=c,Rt=l,Rr.transition=i}else e.current=n;if(ed&&(ed=!1,Ds=e,ih=s),i=e.pendingLanes,i===0&&(Vs=null),VT(n.stateNode),ir(e,dn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sh)throw sh=!1,e=Gp,Gp=null,e;return ih&1&&e.tag!==0&&Vo(),i=e.pendingLanes,i&1?e===qp?hc++:(hc=0,qp=e):hc=0,ni(),null}function Vo(){if(Ds!==null){var e=dk(ih),t=Rr.transition,n=Rt;try{if(Rr.transition=null,Rt=16>e?16:e,Ds===null)var r=!1;else{if(e=Ds,Ds=null,ih=0,It&6)throw Error(xe(331));var s=It;for(It|=4,$e=e.current;$e!==null;){var i=$e,l=i.child;if($e.flags&16){var c=i.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for($e=h;$e!==null;){var m=$e;switch(m.tag){case 0:case 11:case 15:uc(8,m,i)}var p=m.child;if(p!==null)p.return=m,$e=p;else for(;$e!==null;){m=$e;var x=m.sibling,y=m.return;if(_1(m),m===h){$e=null;break}if(x!==null){x.return=y,$e=x;break}$e=y}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}$e=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,$e=l;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:uc(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,$e=N;break e}$e=i.return}}var w=e.current;for($e=w;$e!==null;){l=$e;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,$e=S;else e:for(l=w;$e!==null;){if(c=$e,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Hh(9,c)}}catch(C){rn(c,c.return,C)}if(c===l){$e=null;break e}var P=c.sibling;if(P!==null){P.return=c.return,$e=P;break e}$e=c.return}}if(It=s,ni(),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(Oh,e)}catch(C){}r=!0}return r}finally{Rt=n,Rr.transition=t}}return!1}function db(e,t,n){t=nl(n,t),t=d1(e,t,1),e=Ws(e,t,1),t=Wn(),e!==null&&(ru(e,1,t),ir(e,t))}function rn(e,t,n){if(e.tag===3)db(e,e,n);else for(;t!==null;){if(t.tag===3){db(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){e=nl(n,e),e=h1(t,e,1),t=Ws(t,e,1),e=Wn(),t!==null&&(ru(t,1,e),ir(t,e));break}}t=t.return}}function yC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&n,jn===e&&(In&n)===n&&(wn===4||wn===3&&(In&130023424)===In&&500>dn()-j0?Mi(e,0):N0|=n),ir(e,t)}function L1(e,t){t===0&&(e.mode&1?(t=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):t=1);var n=Wn();e=is(e,t),e!==null&&(ru(e,t,n),ir(e,n))}function bC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),L1(e,n)}function wC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}r!==null&&r.delete(t),L1(e,n)}var I1;I1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ar.current)tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tr=!1,lC(e,t,n);tr=!!(e.flags&131072)}else tr=!1,qt&&t.flags&1048576&&Dk(t,Jd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nd(e,t),e=t.pendingProps;var s=Qo(t,Bn.current);Wo(t,n),s=v0(null,t,r,e,s,n);var i=y0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(r)?(i=!0,qd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,f0(t),s.updater=Uh,t.stateNode=s,s._reactInternals=t,Dp(t,r,e,n),t=Bp(null,t,r,!0,i,n)):(t.tag=0,qt&&i&&i0(t),Hn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=kC(r),e=qr(r,e),s){case 0:t=$p(null,t,r,e,n);break e;case 1:t=tb(null,t,r,e,n);break e;case 11:t=Xy(null,t,r,e,n);break e;case 14:t=eb(null,t,r,qr(r.type,e),n);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),$p(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),tb(e,t,r,s,n);case 3:e:{if(g1(t),e===null)throw Error(xe(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Hk(e,t),eh(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=nl(Error(xe(423)),t),t=nb(e,t,r,n,s);break e}else if(r!==s){s=nl(Error(xe(424)),t),t=nb(e,t,r,n,s);break e}else for(mr=Zs(t.stateNode.containerInfo.firstChild),gr=t,qt=!0,Jr=null,n=Fk(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xo(),r===s){t=os(e,t,n);break e}Hn(e,t,r,n)}t=t.child}return t;case 5:return Zk(t),e===null&&Ap(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Cp(r,s)?l=null:i!==null&&Cp(r,i)&&(t.flags|=32),p1(e,t),Hn(e,t,l,n),t.child;case 6:return e===null&&Ap(t),null;case 13:return x1(e,t,n);case 4:return m0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=el(t,null,r,n):Hn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),Xy(e,t,r,s,n);case 7:return Hn(e,t,t.pendingProps,n),t.child;case 8:return Hn(e,t,t.pendingProps.children,n),t.child;case 12:return Hn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,Ft(Qd,r._currentValue),r._currentValue=l,i!==null)if(aa(i.value,l)){if(i.children===s.children&&!ar.current){t=os(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=es(-1,n&-n),d.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?d.next=d:(d.next=m.next,m.next=d),h.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Op(i.return,n,t),c.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(xe(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Op(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Hn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Wo(t,n),s=$r(s),r=r(s),t.flags|=1,Hn(e,t,r,n),t.child;case 14:return r=t.type,s=qr(r,t.pendingProps),s=qr(r.type,s),eb(e,t,r,s,n);case 15:return f1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qr(r,s),Nd(e,t),t.tag=1,sr(r)?(e=!0,qd(t)):e=!1,Wo(t,n),u1(t,r,s),Dp(t,r,s,n),Bp(null,t,r,!0,e,n);case 19:return v1(e,t,n);case 22:return m1(e,t,n)}throw Error(xe(156,t.tag))};function A1(e,t){return ok(e,t)}function _C(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(e,t,n,r){return new _C(e,t,n,r)}function C0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kC(e){if(typeof e=="function")return C0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gx)return 11;if(e===qx)return 14}return 2}function Gs(e,t){var n=e.alternate;return n===null?(n=Ar(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Td(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")C0(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case To:return Li(n.children,s,i,t);case Kx:l=8,s|=8;break;case op:return e=Ar(12,n,t,s|2),e.elementType=op,e.lanes=i,e;case lp:return e=Ar(13,n,t,s),e.elementType=lp,e.lanes=i,e;case cp:return e=Ar(19,n,t,s),e.elementType=cp,e.lanes=i,e;case Z_:return Wh(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U_:l=10;break e;case H_:l=9;break e;case Gx:l=11;break e;case qx:l=14;break e;case Es:l=16,r=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=Ar(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Li(e,t,n,r){return e=Ar(7,e,r,t),e.lanes=n,e}function Wh(e,t,n,r){return e=Ar(22,e,r,t),e.elementType=Z_,e.lanes=n,e.stateNode={isHidden:!1},e}function xm(e,t,n){return e=Ar(6,e,null,t),e.lanes=n,e}function vm(e,t,n){return t=Ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function P0(e,t,n,r,s,i,l,c,d){return e=new NC(e,t,n,c,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ar(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f0(i),e}function jC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function O1(e){if(!e)return Js;e=e._reactInternals;e:{if(qi(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var n=e.type;if(sr(n))return Ok(e,n,t)}return t}function R1(e,t,n,r,s,i,l,c,d){return e=P0(n,r,!0,e,s,i,l,c,d),e.context=O1(null),n=e.current,r=Wn(),s=Ks(n),i=es(r,s),i.callback=t!=null?t:null,Ws(n,i,s),e.current.lanes=s,ru(e,s,r),ir(e,r),e}function Vh(e,t,n,r){var s=t.current,i=Wn(),l=Ks(s);return n=O1(n),t.context===null?t.context=n:t.pendingContext=n,t=es(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ws(s,t,l),e!==null&&(ta(e,s,l,i),wd(e,s,l)),l}function lh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function M0(e,t){hb(e,t),(e=e.alternate)&&hb(e,t)}function SC(){return null}var D1=typeof reportError=="function"?reportError:function(e){console.error(e)};function L0(e){this._internalRoot=e}Kh.prototype.render=L0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));Vh(e,t,null,null)};Kh.prototype.unmount=L0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fi(function(){Vh(null,e,null,null)}),t[ss]=null}};function Kh(e){this._internalRoot=e}Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=mk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ps.length&&t!==0&&t<Ps[n].priority;n++);Ps.splice(n,0,e),n===0&&gk(e)}};function I0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fb(){}function TC(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=lh(l);i.call(h)}}var l=R1(t,r,e,0,null,!1,!1,"",fb);return e._reactRootContainer=l,e[ss]=l.current,jc(e.nodeType===8?e.parentNode:e),Fi(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=lh(d);c.call(h)}}var d=P0(e,0,!1,null,null,!1,!1,"",fb);return e._reactRootContainer=d,e[ss]=d.current,jc(e.nodeType===8?e.parentNode:e),Fi(function(){Vh(t,d,n,r)}),d}function qh(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var c=s;s=function(){var d=lh(l);c.call(d)}}Vh(t,l,e,s)}else l=TC(n,t,e,s,r);return lh(l)}hk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jl(t.pendingLanes);n!==0&&(Qx(t,n|1),ir(t,dn()),!(It&6)&&(rl=dn()+500,ni()))}break;case 13:Fi(function(){var r=is(e,1);if(r!==null){var s=Wn();ta(r,e,1,s)}}),M0(e,1)}};Xx=function(e){if(e.tag===13){var t=is(e,134217728);if(t!==null){var n=Wn();ta(t,e,134217728,n)}M0(e,134217728)}};fk=function(e){if(e.tag===13){var t=Ks(e),n=is(e,t);if(n!==null){var r=Wn();ta(n,e,t,r)}M0(e,t)}};mk=function(){return Rt};pk=function(e,t){var n=Rt;try{return Rt=e,t()}finally{Rt=n}};yp=function(e,t,n){switch(t){case"input":if(hp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=$h(r);if(!s)throw Error(xe(90));V_(r),hp(r,s)}}}break;case"textarea":G_(e,n);break;case"select":t=n.value,t!=null&&Fo(e,!!n.multiple,t,!1)}};tk=S0;nk=Fi;var EC={usingClientEntryPoint:!1,Events:[su,Mo,$h,X_,ek,S0]},Bl={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CC={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sk(e),e===null?null:e.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||SC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Oh=td.inject(CC),ka=td}catch(e){}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC;yr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I0(t))throw Error(xe(200));return jC(e,t,null,n)};yr.createRoot=function(e,t){if(!I0(e))throw Error(xe(299));var n=!1,r="",s=D1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=P0(e,1,!1,null,null,n,!1,r,s),e[ss]=t.current,jc(e.nodeType===8?e.parentNode:e),new L0(t)};yr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=sk(t),e=e===null?null:e.stateNode,e};yr.flushSync=function(e){return Fi(e)};yr.hydrate=function(e,t,n){if(!Gh(t))throw Error(xe(200));return qh(null,e,t,!0,n)};yr.hydrateRoot=function(e,t,n){if(!I0(e))throw Error(xe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=D1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=R1(t,null,e,1,n!=null?n:null,s,!1,i,l),e[ss]=t.current,jc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kh(t)};yr.render=function(e,t,n){if(!Gh(t))throw Error(xe(200));return qh(null,e,t,!1,n)};yr.unmountComponentAtNode=function(e){if(!Gh(e))throw Error(xe(40));return e._reactRootContainer?(Fi(function(){qh(null,null,e,!1,function(){e._reactRootContainer=null,e[ss]=null})}),!0):!1};yr.unstable_batchedUpdates=S0;yr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gh(n))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return qh(e,t,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function z1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z1)}catch(e){console.error(e)}}z1(),z_.exports=yr;var A0=z_.exports;const nd=$x(A0);var $1,mb=A0;$1=mb.createRoot,mb.hydrateRoot;var B1={exports:{}},Yh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=k,MC=Symbol.for("react.element"),LC=Symbol.for("react.fragment"),IC=Object.prototype.hasOwnProperty,AC=PC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OC={key:!0,ref:!0,__self:!0,__source:!0};function F1(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)IC.call(t,r)&&!OC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:MC,type:e,key:i,ref:l,props:s,_owner:AC.current}}Yh.Fragment=LC;Yh.jsx=F1;Yh.jsxs=F1;B1.exports=Yh;var a=B1.exports;function RC(e,t){if(e==null)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function fl(e,t){if(e==null)return{};var n,r,s=RC(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var Ls,Pr,Ac,ch,uh;(function(e){e.OnFrameCallback="h5.event.camera.frame",e.OnStartCallback="h5.event.camera.start",e.OnStopCallback="h5.event.camera.stop"})(Ls||(Ls={})),function(e){e.FRONT="user",e.BACK="environment"}(Pr||(Pr={})),function(e){e.WEBP="image/webp",e.PNG="image/png",e.JPEG="image/jpeg"}(Ac||(Ac={})),function(e){e.HIGH="high",e.NORMAL="normal",e.LOW="low"}(ch||(ch={})),function(e){e.VIDEO="video",e.AUDIO="audio"}(uh||(uh={}));function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qp(e,t){return t!=null&&typeof Symbol!="undefined"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var DC=Object.prototype.toString,zC="[object Null]",$C="[object Undefined]";function pb(e){return e==null?e===void 0?$C:zC:function(t){return DC.call(t)}(e)}function gb(e){return e!=null&&typeof e=="object"}var qe={isEmpty:function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},isNull:function(e){return e===null},isUndefined:function(e){return e===void 0},isFunction:function(e){return typeof e=="function"},isObject:function(e){return e!==null&&(typeof e=="function"||typeof e=="object")},isString:function(e){return e!=null&&typeof e.valueOf()=="string"},isNumber:function(e){return typeof e=="number"||gb(e)&&pb(e)=="[object Number]"},isArray:function(e){return Array.isArray(e)},isRegExp:function(e){return gb(e)&&pb(e)=="[object RegExp]"},get:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=function(i){return String.prototype.split.call(t,i).filter(Boolean).reduce(function(l,c){return l!=null?l[c]:l},e)},s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===e?n:s},isPromise:function(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}},Oc,U1=1048576,BC=1*U1,Aa=window.zAppID,Sn=window.APP_ID,H1="https://zalo.me/s",O0="https://h5.zdn.vn/zapps",FC="h5.zdn.vn",Z1="/zapps",Nn={ZOAUTH:"h5.zdn.vn_zoauth",JS_TOKEN:"h5.zdn.vn_zlink3rd",ZOAUTH_VRF:"h5.zdn.vn_zoauth_vrf",DEVICE_ID:"h5.zdn.vn_deviceID",CONTEXT_ID:"h5.zdn.vn_contextID",CONTEXT_TYPE:"h5.zdn.vn_contextType",UTOKEN_ZPI:"h5.zdn.vn_utoken_zpi",GTOKEN_ZPI:"h5.zdn.vn_gtoken_zpi",ZPP_ZPI:"h5.zdn.vn_zpp_zpi",ZPT_ZPI:"h5.zdn.vn_zpt_zpi"},ls={GET_USER_INFO:"https://graph.zalo.me/v2.0/me",GET_ACCESS_TOKEN:"https://h5.zalo.me/openapi/access_token",GET_ACCESS_TOKEN_V3:"https://oauth.zaloapp.com/v3/access_token",GET_LIST_USER_INFO:"https://graph.zalo.me/v2.0/me/friends/list",CREATE_ORDER:"https://payment-mini.zalo.me/api/order/create",GET_APP_INFO:"https://h5.zalo.me/apps/get-info",SEND_ACTION_LOG:"https://h5.zalo.me/log/async",CREATE_SHARE_LINK:"https://h5.zalo.me/openapi/create-sharelink",CHECK_INTERACT_OA:"https://h5.zalo.me/openapi/check-interact-oa",GET_AUTH_SETTING:"https://h5.zalo.me/apis/users/auth-settings"};(function(e){e.REQUEST="REQUEST",e.MODIFIED_REQUEST="MODIFIED_REQUEST",e.RESPONSE="RESPONSE",e.MODIFIED_RESPONSE="MODIFIED_RESPONSE",e.NOT_FOUND="NOT_FOUND"})(Oc||(Oc={}));var Xp,dh,st={SUCCESS:0,UNKNOWN_ERROR:-2e3,BAD_REQUEST:-1400,INTERNAL_SERVER_ERROR:-1500,UNAUTHORIZED:-1401,FORBIDDEN:-1403,CLIENT_NOT_SUPPORT:-1404,TIME_OUT:-1408,FAIL_LIMIT:-1409,DUPLICATE_REQUEST:-1410,DECODE_FAILED:-2001,USER_DENIED:-2002,USER_CANCEL:-2003,MEDIA_PICKER_FAIL:-2004,SAVE_IMAGE_FAIL:-2005,SAVE_VIDEO_FAIL:-2006,SAVE_FILE_FAIL:-2007,DEVICE_NOT_SUPPORT:-600,SCAN_TIMEOUT:-601,SERVICE_NOT_READY:-602,UNREADABLE:-603,INVALID_MRZ:-604,PROCESSING:-605,CANCEL:-606,MPDS_ACTION_INVALID:-3e3,MPDS_SOURCE_INVALID:-3005,MPDS_APPID_INVALID:-3006,INVALID_URL_FORMAT:-700,UNSUPPORTED_FILE_TYPE:-701,DOWNLOAD_FAIL:-702,OPEN_DOCUMENT_FAIL:-703},ot={SUCCESS:"Success",UNKNOWN_ERROR:"Unknown error. Please try again later.",FAIL_LIMIT:"Request limit exceeded. Please try again later.",DUPLICATE_REQUEST:"Duplicate request. Please try again later.",TIME_OUT:"Request timeout. Please try again later.",LOGIN_REQUIRED:"Please login (https://miniapp.zalo.me/docs/api/login) before to call this api",LOGIN_FAILED:"Login failed",NOT_PERMISSION:"You don't have permission to call this api",CLIENT_NOT_SUPPORT:"This API is not supported in this version of Zalo",DECODE_FAILED:"Can not decode id. Please check your params again.",USER_DENIED:"User denied",USER_CANCEL:"User cancel",NEED_USER_AUTH:"User Authentication Required. Please grant User Authentication permission before requesting User Permission",MEDIA_PICKER_FAIL:"Unable to pick media",SAVE_IMAGE_FAIL:"Unable to save image",SAVE_VIDEO_FAIL:"Unable to save video",DOWNLOAD_FAIL:"Download failed. Please check your network or file path again.",SAVE_FILE_FAIL:"Unable to save file",DEVICE_NOT_SUPPORT:"This device does not support NFC",SERVICE_NOT_READY:"NFC service is not ready. Please check in your setting",UNREADABLE:"NFC tag is unreadable",INVALID_MRZ:"Invalid MRZ data. Please try again later.",PROCESSING:"Processing NFC tag. Please wait a moment.",CANCEL:"User cancel",SCAN_TIMEOUT:"NFC scan timeout. Please try again later.",MPDS_ACTION_INVALID:"Action name from input data does not match declared API actions",MPDS_SOURCE_INVALID:"This API not called from Mini App",MPDS_APPID_INVALID:"AppId from input data does not match the currently opened AppId",INVALID_URL_FORMAT:"Download failed. Please check your URL again.",UNSUPPORTED_FILE_TYPE:"Unsupported file type",OPEN_DOCUMENT_FAIL:"Open document failed"},ze={UNKNOWN_ERROR:{code:st.UNKNOWN_ERROR,message:ot.UNKNOWN_ERROR},UNAUTHORIZED:{code:st.UNAUTHORIZED,message:ot.LOGIN_REQUIRED},FORBIDDEN:{code:st.FORBIDDEN,message:ot.NOT_PERMISSION},CLIENT_NOT_SUPPORT:{code:st.CLIENT_NOT_SUPPORT,message:ot.CLIENT_NOT_SUPPORT},DECODE_FAILED:{code:st.DECODE_FAILED,message:ot.DECODE_FAILED},TIME_OUT:{code:st.TIME_OUT,message:ot.TIME_OUT},USER_DENIED:{code:st.USER_DENIED,message:ot.USER_DENIED},USER_CANCEL:{code:st.USER_CANCEL,message:ot.USER_CANCEL},DUPLICATE_REQUEST:{code:st.DUPLICATE_REQUEST,message:ot.DUPLICATE_REQUEST},DEVICE_NOT_SUPPORT:{code:st.DEVICE_NOT_SUPPORT,message:ot.DEVICE_NOT_SUPPORT},SERVICE_NOT_READY:{code:st.SERVICE_NOT_READY,message:ot.SERVICE_NOT_READY},UNREADABLE:{code:st.UNREADABLE,message:ot.UNREADABLE},INVALID_MRZ:{code:st.INVALID_MRZ,message:ot.INVALID_MRZ},PROCESSING:{code:st.PROCESSING,message:ot.PROCESSING},CANCEL:{code:st.CANCEL,message:ot.CANCEL},SCAN_TIMEOUT:{code:st.SCAN_TIMEOUT,message:ot.SCAN_TIMEOUT},MPDS_ACTION_INVALID:{code:st.MPDS_ACTION_INVALID,message:ot.MPDS_ACTION_INVALID},MPDS_SOURCE_INVALID:{code:st.MPDS_SOURCE_INVALID,message:ot.MPDS_SOURCE_INVALID},MPDS_APPID_INVALID:{code:st.MPDS_APPID_INVALID,message:ot.MPDS_APPID_INVALID}},W1={addRating:{limit:1},authorize:{},isAllowedInteractWithOA:{},favoriteApp:{},followOA:{},getLocation:{},getPhoneNumber:{},getShareableLink:{},getSetting:{},getAppInfo:{},getUserInfo:{},interactOA:{},openProfilePicker:{},openShareSheet:{},unfollowOA:{},checkTransaction:{limit:5},createOrder:{limit:5},createOrderIAP:{limit:5},selectPaymentMethod:{},requestSendNotification:{}},R0={GET_DOWNLOADED_STICKER:{haveCallback:!0},OPEN_SHARE_STICKER:{},OPEN_PROFILE:{requireAccessToken:!0},OPEN_FEED_DETAIL:{},OPEN_FRIEND_RADA:{},OPEN_INAPP:{},OPEN_OUTAPP:{requireAccessToken:!0},OPEN_PAGE:{},OPEN_PHOTODETAIL:{},OPEN_GALARY:{},OPEN_GAMECENTER:{},OPEN_GAMENEWS:{},OPEN_TAB_CONTACT:{},OPEN_TAB_SOCIAL:{},OPEN_FRIENDSUGGEST:{},OPEN_GROUPLIST:{},OPEN_NEARBY:{},OPEN_ROOM:{},OPEN_STICKERSTORE:{},OPEN_CREATECHAT:{},COPY_LINK_CATESTICKER:{},REQUEST_BUY_STICKER:{},OPEN_CHAT:{requireAccessToken:!0},OPEN_TAB_CHAT:{},OPEN_CHATGROUP:{},OPEN_ADDFRIEND:{},OPEN_TAB_MORE:{},OPEN_POSTFEED:{requireAccessToken:!0},OPEN_LOGINDEVICES:{},OPEN_SENDSTICKER:{},REPORT_ABUSE:{haveCallback:!0},FOLLOW_OA:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-400":{mapTo:ze.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ze.DUPLICATE_REQUEST}}}},UNFOLLOW_OA:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-400":{mapTo:ze.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ze.DUPLICATE_REQUEST}}}},OPEN_GAMEDETAIL:{},OPEN_SHARESHEET:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-101":{mapTo:ze.CLIENT_NOT_SUPPORT}},iOS:{"-101":{mapTo:ze.CLIENT_NOT_SUPPORT}}}},REQUEST_PERMISSION_CAMERA:{errorList:{android:{"-2":{mapTo:ze.USER_DENIED}},iOS:{"-2":{mapTo:ze.USER_DENIED}}}},CHANGE_TITLE_HEADER:{skipJump:!0},WEBVIEW_CLEARCACHE:{},WEBVIEW_CONFIRMCACHE:{},WEBVIEW_ISVISIBLE:{},WEBVIEW_NETWORKTYPE:{skipJump:!0},CHANGE_BUTTON_HEADER:{},CREATE_OPTIONS_MENU:{skipJump:!0,haveCallback:!0},CREATE_SHORTCUT:{requireAccessToken:!0},CHANGE_ACTIONBAR_LEFTBUTTON_TYPE:{skipJump:!0,haveCallback:!0},WINDOW_CLOSE:{skipJump:!0,haveCallback:!0},WEBVIEW_CHECKRESERROR:{},IAP_REQUESTPAYMENT:{haveCallback:!0},ZBROWSER_GETSTATS:{},ZBROWSER_JSBRIDGE:{skipJump:!0,haveCallback:!0},PROMPT_AUTHENTICATION:{},CHANGE_ACTIONBAR_COLOR:{skipJump:!0},PROMPT_AUTHENTICATION_CHECK_STATE:{},OPEN_APPSTORE:{},GET_LOCATION:{haveCallback:!0,errorList:{android:{"-1":{mapTo:ze.USER_DENIED},"-400":{mapTo:ze.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:ze.USER_DENIED},"-400":{mapTo:ze.DUPLICATE_REQUEST}}}},QUERY_LOCATION_HIDE:{haveCallback:!0},SHOW_TOAST:{haveCallback:!0,timeout:2},OPEN_APP:{},HIDE_KEYBOARD:{},OPEN_PHONE:{},OPEN_QR:{},OPEN_SMS:{errorList:{iOS:{"-9":{mapTo:ze.UNKNOWN_ERROR},"-10":{mapTo:ze.USER_CANCEL}}}},VIEW_MYQR:{haveCallback:!0,timeout:!0,requireAccessToken:!0},KEEP_SCREEN:{haveCallback:!0,timeout:2},CHANGE_AUTOROTATE:{skipJump:!0},CHECK_APP_INSTALLED:{},QUERY_SHOW:{},QUERY_HIDE:{},OPEN_INAPPRW:{},ZALORUN_GETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_SETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_GETDAYSTEP:{haveCallback:!0},ZALORUN_FORCESUBMITDATA:{haveCallback:!0},ZALORUN_SETWEIGHT:{haveCallback:!0},OPEN_PROFILE_EXT:{},DOWNLOAD_CATE:{haveCallback:!0},JUMP_LOGIN:{skipJump:!0,whiteList:!0},OPEN_ADTIMA_ADS_INTERSTITIAL:{},OPEN_ADTIMA_ADS:{},GET_ADIDCLIENT:{},SCAN_IBEACON:{},SAVE_VIDEO_GALLERY:{versionLive:{iOS:628},errorList:{android:{"-101":{mapTo:{code:st.SAVE_VIDEO_FAIL,message:ot.SAVE_VIDEO_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:st.SAVE_VIDEO_FAIL,message:ot.SAVE_VIDEO_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:st.SAVE_VIDEO_FAIL,message:ot.SAVE_VIDEO_FAIL},needMoreDetail:!0}}}},INTERACTIVE_VIBRATION:{},SAVE_IMAGE_GALLERY:{versionLive:{iOS:408},errorList:{android:{"-101":{mapTo:{code:st.SAVE_IMAGE_FAIL,message:ot.SAVE_IMAGE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:st.SAVE_IMAGE_FAIL,message:ot.SAVE_IMAGE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:st.SAVE_IMAGE_FAIL,message:ot.SAVE_IMAGE_FAIL},needMoreDetail:!0}}}},OPEN_MP:{versionLive:{iOS:402}},CHANGE_ACTIONBAR:{haveCallback:!0,timeout:2,versionLive:{iOS:402},skipJump:!0},ZBROWSER_MPDS:{haveCallback:!0,timeout:2,versionLive:{iOS:402},errorList:{android:{"-100":{mapTo:ze.MPDS_ACTION_INVALID},"-101":{mapTo:ze.UNKNOWN_ERROR},"-105":{mapTo:ze.MPDS_SOURCE_INVALID},"-106":{mapTo:ze.MPDS_APPID_INVALID}},iOS:{"-10":{mapTo:ze.MPDS_ACTION_INVALID},"-101":{mapTo:ze.MPDS_APPID_INVALID},"-102":{mapTo:ze.UNKNOWN_ERROR}}}},ZBROWSER_MPDS_SYNC:{versionLive:{iOS:402},errorList:{android:{"-100":{mapTo:ze.MPDS_ACTION_INVALID},"-101":{mapTo:ze.UNKNOWN_ERROR},"-105":{mapTo:ze.MPDS_SOURCE_INVALID},"-106":{mapTo:ze.MPDS_APPID_INVALID}},iOS:{"-10":{mapTo:ze.MPDS_ACTION_INVALID},"-101":{mapTo:ze.MPDS_APPID_INVALID},"-102":{mapTo:ze.UNKNOWN_ERROR}}}},WEBVIEW_SET_RESULT:{versionLive:{iOS:416}},MP_GET_NUMBER:{versionLive:{iOS:416},errorList:{android:{"-1":{mapTo:ze.USER_DENIED},"-101":{mapTo:ze.USER_DENIED},"-400":{mapTo:ze.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:ze.USER_DENIED},"-10":{mapTo:ze.USER_DENIED},"-400":{mapTo:ze.DUPLICATE_REQUEST}}}},MP_OPEN_PROFILE_PICKER:{requireAccessToken:!0,versionLive:{iOS:432},errorList:{android:{"-101":{mapTo:ze.USER_CANCEL}},iOS:{"-101":{mapTo:ze.USER_CANCEL}}}},GET_SUPPORTED_ACTIONS:{whiteList:!0},MP_JOIN_WIFI:{haveCallback:!0,timeout:!0,versionLive:{android:0,iOS:0},havePermission:!1,whiteList:!1},PICK_MEDIA:{requireAccessToken:!0,versionLive:{iOS:440},errorList:{android:{"-101":{mapTo:ze.USER_CANCEL},999:{mapTo:{code:st.MEDIA_PICKER_FAIL,message:ot.MEDIA_PICKER_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:st.MEDIA_PICKER_FAIL,message:ot.MEDIA_PICKER_FAIL}}}}},MP_CLOSE_LOADINGVIEW:{skipJump:!0},CHANGE_BOTTOMBAR:{haveCallback:!0,timeout:2,skipJump:!0},MA_MENU_MINIMIZE:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_PERMISSION:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_FAVORITES:{skipJump:!1,versionLive:{iOS:520}},MP_SEND_NOTIFICATION:{skipJump:!1,versionLive:{iOS:530},errorList:{android:{"-1":{mapTo:ze.USER_DENIED},"-400":{mapTo:ze.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:ze.USER_DENIED},"-400":{mapTo:ze.DUPLICATE_REQUEST}}}},MP_ADD_RATING:{skipJump:!1},MP_ADD_MYFAVORITES:{skipJump:!1},MP_INTERACT_OA:{skipJump:!1,errorList:{android:{"-400":{mapTo:ze.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ze.DUPLICATE_REQUEST}}}},MP_USER_AUTHORIZE:{skipJump:!1,errorList:{android:{"-400":{mapTo:ze.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:ze.DUPLICATE_REQUEST}}}},MP_SELECT_PAYMENT_METHOD:{skipJump:!1},CHECK_NFC:{skipJump:!1,versionLive:{iOS:626},errorList:{all:{"-1":{mapTo:ze.UNKNOWN_ERROR},"-600":{mapTo:ze.DEVICE_NOT_SUPPORT},"-602":{mapTo:ze.SERVICE_NOT_READY}}}},SCAN_NFC:{skipJump:!1,haveCallback:!0,timeout:65,errorList:{all:{"-1":{mapTo:ze.UNKNOWN_ERROR},"-600":{mapTo:ze.DEVICE_NOT_SUPPORT},"-601":{mapTo:ze.SCAN_TIMEOUT},"-602":{mapTo:ze.SERVICE_NOT_READY},"-603":{mapTo:ze.UNREADABLE},"-604":{mapTo:ze.INVALID_MRZ},"-605":{mapTo:ze.PROCESSING},"-606":{mapTo:ze.CANCEL}}}},MP_CONFIRM_REQUEST_PAYMENT:{skipJump:!1},SAVE_FILE:{versionLive:{iOS:628},skipJump:!1,errorList:{android:{"-101":{mapTo:{code:st.SAVE_FILE_FAIL,message:ot.SAVE_FILE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:st.SAVE_FILE_FAIL,message:ot.SAVE_FILE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:st.SAVE_FILE_FAIL,message:ot.SAVE_FILE_FAIL},needMoreDetail:!0}}}},MP_APP_LIFECYCLE_TRACKING:{skipJump:!1},OPEN_DOCUMENT:{skipJump:!1,errorList:{all:{"-10":{mapTo:{code:st.INVALID_URL_FORMAT,message:ot.INVALID_URL_FORMAT}},"-700":{mapTo:{code:st.INVALID_URL_FORMAT,message:ot.INVALID_URL_FORMAT}},"-701":{mapTo:{code:st.UNSUPPORTED_FILE_TYPE,message:ot.UNSUPPORTED_FILE_TYPE}},"-702":{mapTo:{code:st.DOWNLOAD_FAIL,message:ot.DOWNLOAD_FAIL}},"-703":{mapTo:{code:st.OPEN_DOCUMENT_FAIL,message:ot.OPEN_DOCUMENT_FAIL}}}}},GET_DEVICE_INFO:{skipJump:!1}},ym={android:{"-4":ze.DECODE_FAILED,"-5":ze.CLIENT_NOT_SUPPORT,"-14":ze.TIME_OUT},iOS:{"-9":ze.DECODE_FAILED,"-5":ze.CLIENT_NOT_SUPPORT,"-14":ze.TIME_OUT}},UC={android:12100615,iOS:460,wp:0,unknown:0},HC={android:12100571,iOS:400,wp:0,unknown:0},fc=5*U1,Jh={CREATE_ORDER:"https://payment-mini.zalo.me/api/order/create-v2",CREATE_IAP_ORDER:"https://payment-mini.zalo.me/api/order/iap-create",GET_TRANSACTION:"https://payment-mini.zalo.me/api/transaction",PURCHASE:"https://payment-mini.zalo.me/api/order/purchase"},ZC="https://payment-mini.zalo.me",xb={DEFERRED:"DEFERRED",IMMEDIATE_AND_CHARGE_FULL_PRICE:"IMMEDIATE_AND_CHARGE_FULL_PRICE"},js={SHOW_BACK:0,HIDE_BACK:3,SHOW_HOME:1,HIDE_HOME:0},bm=5,rd=6,WC={LEFT:0},VC="#1843EF",KC=WC.LEFT,GC={"-12101":"Invalid params","-12102":"Session expire","-12103":"Not permission","-12104":"Not Authorize","-12105":"Unknown exception","-12106":"Cannot create order","-12107":"Transaction not found","-12108":"Cannot update order","-12109":"Cannot decode param","-12110":"Version not support","-12111":"Receipt expire","-12112":"Product not found","-12113":"Subscription other GW","-12114":"Product already subcription","-12115":"Not exist","-12116":"Already exist","-12117":"Not allow","-12118":"Not permit","-12119":"Internal error","-2":"Unable to pay","-6":"Unable to register","-7":"Registered account","-832":"Purchased by another account","-833":"Register for another account","-834":"Unable to register","-2010":"System is maintaining","-3999":"Not in Vietnam","-12129":"Purchased by another account",123:"An error has occurred"},qC=["scope.userInfo","scope.userLocation","scope.userPhonenumber"];(function(e){e.DEV_TRACKING="devTracking"})(Xp||(Xp={})),function(e){e[e.APP_INITIALIZING=95]="APP_INITIALIZING",e[e.APP_READY=96]="APP_READY"}(dh||(dh={}));var Rc="checkoutKitWidget-ifCKW",ja="https://h5.zalo.me",ou={CHECKOUT_KIT:"https://h5.zalo.me/widgets/checkoutkit_widget.html",FUNCTION_BUTTON:"https://h5.zalo.me/widgets/function_button_widget.html",OA:"https://h5.zalo.me/widgets/oa_widget.html",CUSTOM_OA:"https://h5.zalo.me/widgets/oa_widget_custom.html"},un=function(){function e(n,r,s,i){Ur(this,e),this.code=n,this.message=r,this.api=s,this.detail=i}var t=e.prototype;return t.toString=function(){return"api: ".concat(String(this.api),"; code: ").concat(this.code,"; message: ").concat(JSON.stringify(this.message))},t.toJSON=function(){return{code:this.code,message:this.message,api:this.api,detail:this.detail}},e}(),ad=function(e,t){return Qp(e,un)?function(n,r){return n.api=r,n.toJSON()}(e,t):function(n,r){return Qp(n,Error)?new un(st.UNKNOWN_ERROR,n.message,r).toJSON():qe.isEmpty(n==null?void 0:n.message)||qe.isEmpty(n==null?void 0:n.code)?new un(st.UNKNOWN_ERROR,ot.UNKNOWN_ERROR,r,n).toJSON():new un(n.code,n.message,r,n.detail).toJSON()}(e,t)},V1="2.49.5";function eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YC(e){if(Array.isArray(e))return eg(e)}function K1(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G1(e,t){if(e){if(typeof e=="string")return eg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eg(e,t):void 0}}function Qs(e){return YC(e)||K1(e)||G1(e)||JC()}function vb(e,t,n,r,s,i,l){try{var c=e[i](l),d=c.value}catch(h){return void n(h)}c.done?t(d):Promise.resolve(d).then(r,s)}function I(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function l(d){vb(i,r,s,l,c,"next",d)}function c(d){vb(i,r,s,l,c,"throw",d)}l(void 0)})}}function QC(e){if(Array.isArray(e))return e}function XC(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ea(e,t){return QC(e)||K1(e)||G1(e,t)||XC()}function al(e){return e&&e.constructor===Symbol?"symbol":typeof e}function D0(e){return typeof window.Debug=="function"?window.Debug(e):function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]}}var nr,mc,Dt,ga,tg,ng,rg,ag,sg,yb,ig,og,lg,pc,Sa,hh,fh,mh,Dc;(function(e){e.none="none",e.wifi="wifi",e.cellular="cellular",e.unknown="unknown"})(nr||(nr={})),function(e){e.wp="wp",e.android="android",e.iOS="iOS",e.unknown="unknown"}(mc||(mc={})),function(e){e.AppPaused="h5.event.paused",e.AppResumed="h5.event.resumed",e.NetworkChanged="h5.event.connection.changed",e.OnDataCallback="h5.event.webview.result",e.WebviewClosed="h5.event.webview.close",e.OpenApp="h5.event.open.mp",e.AppClose="h5.event.action.close",e.PaymentCallback="payment.callback",e.PaymentResult="action.payment.result",e.PaymentDone="action.payment.done",e.PaymentClose="action.payment.close",e.DownloadProgress="h5.event.webview.download.progress"}(Dt||(Dt={})),function(e){e.DOING="doing",e.DONE="done"}(ga||(ga={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa",e[e.aliasOA=2]="aliasOA"}(tg||(tg={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa"}(ng||(ng={})),function(e){e[e.image=1]="image",e[e.multi_image=2]="multi_image",e[e.link=4]="link",e[e.profile=5]="profile"}(rg||(rg={})),function(e){e[e.cccd=1]="cccd"}(ag||(ag={})),function(e){e[e.image=1]="image",e[e.gif=11]="gif",e[e.video=12]="video",e[e.link=4]="link",e[e.oa=5]="oa",e[e.zmp=20]="zmp",e[e.multi_image=21]="multi_image",e[e.zmp_deep_link=4]="zmp_deep_link",e[e.text=22]="text"}(sg||(sg={})),function(e){e[e.auto=1]="auto",e[e.portrait=2]="portrait",e[e.landscape=3]="landscape"}(yb||(yb={})),function(e){e[e.oneShot=0]="oneShot"}(ig||(ig={})),function(e){e[e.zcamera=3]="zcamera",e[e.zcamera_photo=1]="zcamera_photo",e[e.zcamera_video=2]="zcamera_video",e[e.zcamera_scan=7]="zcamera_scan",e[e.photo=4]="photo",e[e.video=5]="video",e[e.file=6]="file"}(og||(og={})),function(e){e.SUBSCRIPTION="SUBSCRIPTION",e.ONETIME="ONETIME"}(lg||(lg={})),function(e){e[e.UNKNOW=0]="UNKNOW",e[e.DEFERRED=1]="DEFERRED",e[e.IMMEDIATE_AND_CHARGE_FULL_PRICE=2]="IMMEDIATE_AND_CHARGE_FULL_PRICE"}(pc||(pc={})),function(e){e[e.normal=1]="normal",e[e.hidden=0]="hidden",e[e.transparent=2]="transparent"}(Sa||(Sa={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(hh||(hh={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(fh||(fh={})),function(e){e[e.left=0]="left",e[e.center=1]="center"}(mh||(mh={})),function(e){e.TOOL_DEL_FRIEND="tool_del_friend"}(Dc||(Dc={}));function eP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tP(e,t,n){return t&&eP(e.prototype,t),e}function q1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){q1(e,s,n[s])})}return e}function Ui(e){Ui.on&&Ui.engine(e)}Ui.on=!1,Ui.engine=function(e){var t=e.name,n=e.type,r=e.state,s=e.request,i=e.response,l=e.stage;console[n]([t,l,r,s,i].filter(Boolean).map(function(c){return typeof c=="object"?JSON.stringify(c):c}).join("; "))};function cg(e){return cg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cg(e)}function Ti(e){return cg(e)}function nP(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ti(e))!==null;);return e}function ug(e,t,n){return ug=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,s,i){var l=nP(r,s);if(l){var c=Object.getOwnPropertyDescriptor(l,s);return c.get?c.get.call(i||r):c.value}},ug(e,t,n)}function sd(e,t,n){return ug(e,t,n)}function dg(e,t){return dg=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},dg(e,t)}function rP(e,t){return dg(e,t)}function lu(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rP(e,t)}function aP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sP(e,t){return!t||al(t)!=="object"&&typeof t!="function"?er(e):t}function cu(e){var t=aP();return function(){var n,r=Ti(e);if(t){var s=Ti(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return sP(this,n)}}function iP(e,t){return e(t={exports:{}},t.exports),t.exports}var oP=iP(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function i(d,h,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var y=new s(m,p||d,x),b=n?n+h:h;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],y]:d._events[b].push(y):(d._events[b]=y,d._eventsCount++),d}function l(d,h){--d._eventsCount==0?d._events=new r:delete d._events[h]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),c.prototype.eventNames=function(){var d,h,m=[];if(this._eventsCount===0)return m;for(h in d=this._events)t.call(d,h)&&m.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(d)):m},c.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,x=m.length,y=new Array(x);p<x;p++)y[p]=m[p].fn;return y},c.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(d,h,m,p,x,y){var b=n?n+d:d;if(!this._events[b])return!1;var v,j,N=this._events[b],w=arguments.length;if(N.fn){switch(N.once&&this.removeListener(d,N.fn,void 0,!0),w){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,m),!0;case 4:return N.fn.call(N.context,h,m,p),!0;case 5:return N.fn.call(N.context,h,m,p,x),!0;case 6:return N.fn.call(N.context,h,m,p,x,y),!0}for(j=1,v=new Array(w-1);j<w;j++)v[j-1]=arguments[j];N.fn.apply(N.context,v)}else{var S,P=N.length;for(j=0;j<P;j++)switch(N[j].once&&this.removeListener(d,N[j].fn,void 0,!0),w){case 1:N[j].fn.call(N[j].context);break;case 2:N[j].fn.call(N[j].context,h);break;case 3:N[j].fn.call(N[j].context,h,m);break;case 4:N[j].fn.call(N[j].context,h,m,p);break;default:if(!v)for(S=1,v=new Array(w-1);S<w;S++)v[S-1]=arguments[S];N[j].fn.apply(N[j].context,v)}}return!0},c.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},c.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},c.prototype.removeListener=function(d,h,m,p){var x=n?n+d:d;if(!this._events[x])return this;if(!h)return l(this,x),this;var y=this._events[x];if(y.fn)y.fn!==h||p&&!y.once||m&&y.context!==m||l(this,x);else{for(var b=0,v=[],j=y.length;b<j;b++)(y[b].fn!==h||p&&!y[b].once||m&&y[b].context!==m)&&v.push(y[b]);v.length?this._events[x]=v.length===1?v[0]:v:l(this,x)}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}),lP=oP,hg={enablePaymentDone:!1};function cP(e){var t=new URL(e,window.location.origin),n=t.pathname.split("/")[3].toUpperCase().replace(/-/g,"_"),r={},s=t.searchParams.get("orderId"),i=t.searchParams.get("zmpOrderId"),l=t.searchParams.get("appTransID")||t.searchParams.get("apptransid");switch(n){case"MOMO":case"MOMO_SANDBOX":r.orderId=i,r.transId=s;break;default:r.orderId=i||s,r.transId=l}return r}function uP(e){var t=e.data;return{orderId:t.zmpOrderId||t.orderId,transId:t.appTransID||t.apptransid||t.transId}}var ph="ACTION_CALLBACK",mn=function(e){lu(n,e);var t=cu(n);function n(){var s;return Ur(this,n),(s=t.apply(this,arguments)).debug=D0("zmp:event-emitter"),s}var r=n.prototype;return r.h5ConfirmHandleEvent=function(s,i,l){ZaloJavaScriptInterface.jsH5EventCallback(s,i,l||"")},r.on=function(s,i,l){var c=this;return s===ph||s===Dt.PaymentCallback?sd(Ti(n.prototype),"on",this).call(this,s,i,l):(this.debug("register ".concat(String(s),": ").concat(l)),sd(Ti(n.prototype),"on",this).call(this,s,function(d,h){c.h5ConfirmHandleEvent(d,s,l),i(h)},l))},r.once=function(s,i,l){var c=this;return s===ph?sd(Ti(n.prototype),"once",this).call(this,s,i,l):(this.debug("register once ".concat(String(s),": ").concat(l)),sd(Ti(n.prototype),"once",this).call(this,s,function(d,h){c.h5ConfirmHandleEvent(d,s,l),i(h)},l))},n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n}(lP);function dP(e){mn.getInstance().on(ph,e)}function Xl(e){mn.getInstance().emit(ph,e)}window.onNativeMessage=function(e,t){return function(n){Xl({serialId:e,actionName:t,result:n})}},window.zaloJSV2={zalo_h5_event_handler:function(e,t,n){var r=D0("zmp:zalo_h5_event_handler");r("eventId: ".concat(e,", eventName: ").concat(t,", eventData: ").concat(n));var s=tN(n);r("stringToData",s);var i=function(c,d){if(!d||typeof d=="string")return d;try{if(c===Dt.OpenApp){var h=d.url,m=new URL(h),p=m.pathname.split("/zapps/".concat(Sn))[1];return{path:"".concat(p||"/").concat(m.search)}}return d}catch(x){return d}}(t,s),l=function(c,d,h,m){switch(!0){case(typeof h=="string"||h===null):return[{eventName:c,eventId:d,data:h}];case(c===Dt.OpenApp&&(m==null?void 0:m.enablePaymentDone)):var p=cP(h.path);return[{eventName:Dt.PaymentDone,eventId:d,data:p}];case c===Dt.OnDataCallback:if(["PAY_BY_BANK","PAY_BY_CUSTOM_METHOD"].includes(h==null?void 0:h.eventType))return[{eventName:Dt.OnDataCallback,eventId:d,data:h},{eventName:Dt.PaymentDone,eventId:d,data:uP(h)}];break;default:return[{eventName:c,eventId:d,data:h}]}}(t,e,i,hg);l==null||l.forEach(function(c){mn.getInstance().emit(c.eventName,c.eventId,c.data);var d=document.getElementById(Rc);d&&zo(d,"appEvent",{eventName:c.eventName,eventId:c.eventId,data:c.data})})}},window.zaloNative2JS={nativeCall:function(e,t,n){mn.getInstance().emit(Dt.PaymentCallback,e,t,n)}};function bb(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r===void 0)return;if(r===null)return void t.push(n);t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return t.join("&")}var qs={encode:bb,decode:function(e,t){var n={};if(e==="")return n;for(var r=e.split("&"),s=0;s<r.length;s++){var i=r[s].split("=",2),l=decodeURIComponent(i[0]);if(t&&Object.prototype.hasOwnProperty.call(n,l))throw new URIError("Duplicate key: "+l);n[l]=i.length===2?decodeURIComponent(i[1]):null}return n},appendToUrl:function(e,t){return e+(e.indexOf("?")!==-1?"&":"?")+(typeof t=="string"?t:bb(t))},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getParamsAsObject:function(e){var t={};return e&&e.split("&").map(function(n){var r=n.split("=");r&&r.length==2&&(t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")))}),t},toQueryString:function(e){if(!e)return"";if((e===void 0||e===void 0?"undefined":al(e))!="object")return e;var t=Object.keys(e),n=[];return t.map(function(r){var s=e[r],i=[r,s=(s===void 0||s===void 0?"undefined":al(s))=="object"?JSON.stringify(s):encodeURIComponent(s)].join("=");n.push(i)}),n.join("&")}},fg={},mg=function(e,t,n){var r=t||"default";return function(){return(r in fg?fg[r](e,n):e).apply(this,arguments)}};mg.setWrapper=function(e){fg[arguments.length<=1||arguments[1]===void 0?"default":arguments[1]]=e};var wb={error:{code:1,error_subcode:1357046,message:"Received Invalid JSON reply.",type:"http"}};function _b(e){try{return e===null?wb:JSON.parse(e)}catch(t){return wb}}var hP={execute:function(e,t,n,r){n.suppress_http_code=1;var s=qs.encode(n);t!="post"&&(e=qs.appendToUrl(e,s),s="");var i=function(l,c){if(!self.XMLHttpRequest)return null;var d=new XMLHttpRequest,h=function(){};if(!("withCredentials"in d))return null;d.open(l,c,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded");var m={send:function(y){d.send(y)}},p=mg(function(){p=h,"onload"in m&&m.onload(d)},"entry","XMLHttpRequest:load"),x=mg(function(){x=h,"onerror"in m&&m.onerror(d)},"entry","XMLHttpRequest:error");return d.onload=function(){p()},d.onerror=function(){x()},d.onreadystatechange=function(){d.readyState==4&&(d.status==200?p():x())},m}(t,e);return!!i&&(i.onload=function(l){r(_b(l.responseText))},i.onerror=function(l){l.responseText?r(_b(l.responseText)):r({error:{code:1,error_subcode:1357045,message:"unknown error (empty response)",status:l.status,type:"http"}})},i.send(s),!0)}};function M(e,t){var n,r,s,i,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(d){return function(h){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,m[0]&&(l=0)),l;)try{if(n=1,r&&(s=2&m[0]?r.return:m[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,m[1])).done)return s;switch(r=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,r=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!((s=s.length>0&&s[s.length-1])||m[0]!==6&&m[0]!==2)){l=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){l.label=m[1];break}if(m[0]===6&&l.label<s[1]){l.label=s[1],s=m;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(m);break}s[2]&&l.ops.pop(),l.trys.pop();continue}m=t.call(e,l)}catch(p){m=[6,p],r=0}finally{n=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,h])}}}function fP(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y1(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];try{return e.apply(void 0,Qs(n))}catch(s){return typeof console!="undefined"&&console.error&&console.error(s),null}}}Y1.async=function(e){return I(function(){var t,n,r,s,i=arguments;return M(this,function(l){switch(l.label){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,e.apply(void 0,Qs(n))];case 2:return[2,l.sent()];case 3:return s=l.sent(),typeof console!="undefined"&&console.error&&console.error(s),[2,null];case 4:return[2]}})})};var mP=function(e){return e.isAndroid?mc.android:e.isIOS?mc.iOS:mc.unknown};function pP(e){var t=e.split("zalo")[1];return t&&t.replace(" ","").split("/")[1]||""}function tn(){var e=function(){var t=Y1(function(){return window.navigator.userAgent.toLowerCase()})();if(t){var n,r=function(s){return{isAndroid:/android/i.test(s)&&!/iemobile/.test(s),isIOS:/iphone|ios|ipad|ipod/.test(s)&&!/iemobile/.test(s),isMobile:/android|iphone|ios|ipad|ipod|iemobile/.test(s),isZalo:/zalo/.test(s)}}(t);return{appEnv:(n=new URL(window.location.href).searchParams.get("env"),{isMp:window.location.hostname.includes(FC)&&(n=="TESTING_LOCAL"||window.location.pathname.startsWith(Z1)),isMpWeb:window.location.hostname.includes("localhost")}),platform:r,platformName:mP(r),zaloVersion:pP(t).trim()}}}();if(e)return e}var kb,gP=(kb=I(function(e,t,n){var r,s,i,l;return M(this,function(c){switch(c.label){case 0:return r={appId:e,versionStatus:t},qe.isUndefined(n)||(r.currentVersion=n),s=qs.appendToUrl(ls.GET_APP_INFO,r),[4,fetch(s,{credentials:"include"})];case 1:return(i=c.sent()).ok?[4,i.json()]:[3,3];case 2:if((l=c.sent()).err<0||!l.data)throw new Error(l);return[2,{name:l.data.name,version:l.data.version,description:l.data.description,appUrl:l.data.appUrl,qrCodeUrl:l.data.qrCodeUrl,logoUrl:l.data.logoUrl,cateID:l.data.cateType}];case 3:throw new Error("Can't get app info")}})}),function(e,t,n){return kb.apply(this,arguments)});function xa(e){try{var t=e.map(function(n){return{action:n.action,error:n.error,message:n.message,data:n.data}});hP.execute(ls.SEND_ACTION_LOG,"post",{appId:window.APP_ID,data:JSON.stringify(t)},function(){})}catch(n){}}var Nb=function(e){return e.replace(/[A-Z]/g,function(t){return"_".concat(t.toLowerCase())})},z0=function(){var e;return(((e=tn())===null||e===void 0?void 0:e.platformName)||"").toLowerCase()==="android"},J1=function(){var e;return(((e=tn())===null||e===void 0?void 0:e.platformName)||"").toLowerCase()==="ios"};function jb(e){var t=String(e);try{if(/^\d{9}$/.test(t)&&t[5]==="0")return Number(t.slice(0,5)+t.slice(6))}catch(n){}return Number(t)}var Yi=function(){var e,t=0;if(window.zaloVersionCode)return jb(window.zaloVersionCode);var n=Number(((e=tn())===null||e===void 0?void 0:e.zaloVersion)||"0");return n>=24112e3?t=n:z0()?t=n%1e4:J1()&&(t=n),jb(t)};function hs(e,t){if(window.isAPISupport&&typeof window.isAPISupport=="function")return window.isAPISupport(e,t);var n=Yi();return z0()?n>=e:!!J1()&&n>=t}var Sb,xP=(Sb=I(function(e){var t;return M(this,function(n){switch(n.label){case 0:return t={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer ".concat(e)}},[4,fetch(ls.GET_AUTH_SETTING,Vt({method:"GET"},t))];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}})}),function(e){return Sb.apply(this,arguments)}),$0=I(function(){return M(this,function(e){return[2,new Promise((t=I(function(n,r){var s,i,l,c;return M(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,Ke.jumpAndGetToken()];case 1:return d.sent(),(i=(s=Ke.miniProgramConfig)===null||s===void 0?void 0:s.jwt)||r(new un(st.UNAUTHORIZED,ot.LOGIN_REQUIRED,"getSetting")),[4,xP(i)];case 2:return(l=d.sent())&&l.err===0?n({authSetting:l.data}):r(new un(l.err,l.msg,"getSetting")),[3,4];case 3:return c=d.sent(),r(c),[3,4];case 4:return[2]}})}),function(n,r){return t.apply(this,arguments)}))];var t})}),wm,Tb,Wa,gi,id,Ss,Q1=(Wa=tn(),gi={},id=mn.getInstance(),Ss=[],dP(function(e){var t=e.serialId,n=bP(e.result),r=gg(n==null?void 0:n.action),s=qe.isEmpty(n==null?void 0:n.error_code)?0:n==null?void 0:n.error_code,i=n==null?void 0:n.error_message,l=(n==null?void 0:n.data)||n;if(r&&s===0){var c=JSON.parse(n==null?void 0:n.data);s=qe.isEmpty(c==null?void 0:c.error_code)?0:c==null?void 0:c.error_code,i=c==null?void 0:c.error_message,l=(c==null?void 0:c.data)||c}var d={error_code:s,error_message:i,data:l,action:(n==null?void 0:n.action)||e.actionName};if(t&&gi[t]){var h=gi[t],m=h.callback,p=h.timeout,x=h.isMultiCallback,y=h.options,b=h.downloadListener;(function(C,U){var E=U||{},Z=E.success,q=E.fail;C.error_code===0?qe.isFunction(Z)&&Z(C):qe.isFunction(q)&&q(C)})(d,m),!x&&delete gi[t],p&&clearTimeout(p);var v={action:d==null?void 0:d.action,error:d==null?void 0:d.error_code,message:d==null?void 0:d.error_message,data:{}};try{if(d.action==="action.open.inapp"||d.action==="action.open.outapp"){var j=new URL(y==null?void 0:y.url),N="".concat(j.protocol,"//").concat(j.host).concat(j.pathname);v.data={url:N}}if(d.action==="action.follow.oa"||d.action==="action.unfollow.oa"){var w=y==null?void 0:y.uid;v.data={uid:w}}if(d.action==="action.open.chat"){var S=y==null?void 0:y.uId,P=y==null?void 0:y.type;v.data={uid:S,openChatType:P}}y!=null&&y.onProgress&&b&&id.off(Dt.DownloadProgress,b)}catch(C){}Ss.push(v)}}),id.on(Dt.AppPaused,function(){if(Ss.length>0){var e=Ss;Ss=[],xa(e)}}),wm?clearInterval(wm):wm=setInterval(function(){if(Ss.length>0){var e=Ss;Ss=[],xa(e)}},5e3),Tb=I(function(e,t,n,r){var s,i,l,c,d,h,m,p,x,y,b,v,j,N,w,S,P,C,U,E,Z,q,$,D,J,H;return M(this,function(W){switch(W.label){case 0:return i=Math.floor(1e6*Math.random()),l="".concat(e,"_").concat(i),c=TP(e),r!=null&&r.actionName&&r.actionName.length>0&&(c=r==null?void 0:r.actionName),d=(r==null?void 0:r.isMultiCallback)||!1,h=(r==null?void 0:r.timeout)!==!1&&((r==null?void 0:r.timeout)||!0),m=(r==null?void 0:r.haveCallback)||!1,p=(r==null?void 0:r.skipJump)||!1,x=(r==null?void 0:r.requireAccessToken)||!1,y=jP(c),t&&n&&(gi[l]={options:t,callback:n,isMultiCallback:d},h&&m&&(gi[l].timeout=setTimeout(function(){var ie={serialId:l,result:{error_code:st.TIME_OUT,error_message:ot.TIME_OUT,data:{timeout:h},action:e}};return Xl(ie),null},h===!0?8e3:1e3*h))),y?[4,$0()]:[3,2];case 1:if(((v=W.sent())==null||(b=v.authSetting)===null||b===void 0?void 0:b["scope.userInfo"])===!1)return N={serialId:l,result:{error_code:st.UNAUTHORIZED,error_message:ot.NEED_USER_AUTH,data:{isMobile:Wa==null||(j=Wa.platform)===null||j===void 0?void 0:j.isMobile},action:e}},Xl(N),[2];W.label=2;case 2:return w=gg(c),!(!(Wa==null||(s=Wa.platform)===null||s===void 0)&&s.isMobile)||!e||qe.isUndefined(ZaloJavaScriptInterface)||Wa.platform.isIOS&&!yP(e)||w&&w.isSupported===!1?(P={serialId:l,result:{error_code:st.CLIENT_NOT_SUPPORT,error_message:ot.CLIENT_NOT_SUPPORT,data:{isMobile:Wa==null||(S=Wa.platform)===null||S===void 0?void 0:S.isMobile},action:e}},Xl(P),[2]):(C=pg(t),p?[3,4]:[4,Ke.getJSAccessToken()]);case 3:return E=W.sent(),[3,5];case 4:E="",W.label=5;case 5:U=E,W.label=6;case 6:return W.trys.push([6,10,,11]),p||!x?[3,8]:[4,Ke.getAccessToken()];case 7:return q=W.sent(),[3,9];case 8:q="",W.label=9;case 9:return Z=q,[3,11];case 10:return $=W.sent(),D={serialId:l,result:{error_code:$==null?void 0:$.code,error_message:$==null?void 0:$.message,action:e}},Xl(D),[2];case 11:try{t&&(t!=null&&t.onProgress)&&(J=function(ie){(function(ge,he){var V=ge.progress;he&&he(V)})(ie,t==null?void 0:t.onProgress)},gi[l].downloadListener=J,id.on(Dt.DownloadProgress,J))}catch(ie){}return H=Wa.platform.isIOS?window.onNativeMessage(l,c):'window.onNativeMessage("'.concat(l,'", "').concat(c,'")'),[2,ZaloJavaScriptInterface.jsCall(U,c,Z,C,H)]}})}),function(e,t,n,r){return Tb.apply(this,arguments)}),Yt={success:function(e,t){return{code:st.SUCCESS,message:t||ot.SUCCESS,data:e||{}}},error:{failLimit:function(){return new un(st.FAIL_LIMIT,ot.FAIL_LIMIT)},badRequest:function(e){return new un(st.BAD_REQUEST,e)},loginFailed:function(e){return new un(st.UNAUTHORIZED,"".concat(ot.LOGIN_FAILED,": ").concat(e))},loginRequired:function(){return new un(st.UNAUTHORIZED,ot.LOGIN_REQUIRED)},cannotGetShareInfo:function(){return new un(st.INTERNAL_SERVER_ERROR,"Can not get app info to share")},createIAPOrderFailed:function(e){var t=Object.keys(GC).find(function(n){return n===e.toString()});return new un(e,t||ot.UNKNOWN_ERROR)},clientNotSupport:function(){return new un(st.CLIENT_NOT_SUPPORT,ot.CLIENT_NOT_SUPPORT)}}},X1=function(e){var t,n,r,s=(t=tn())===null||t===void 0?void 0:t.platformName,i=SP(e.action),l=R0[i],c=(l==null?void 0:l.skipJump)||!1,d=(l==null?void 0:l.errorList)||{};if(i==="JUMP_LOGIN")return new un(st.UNKNOWN_ERROR,"Can not get auth code: ".concat(e.error_message));if(Ke.jumpStatus!==ga.DONE&&!c)return new un(ze.UNAUTHORIZED.code,ze.UNAUTHORIZED.message);if(String(e.error_message).toLowerCase()==="permission required!"||String(e.error_message).toLowerCase()==="no permission!")return new un(ze.FORBIDDEN.code,ze.FORBIDDEN.message);if(s&&(!((n=ym[s])===null||n===void 0)&&n[e.error_code]))return new un(ym[s][e.error_code].code,ym[s][e.error_code].message);var h=d==null||(r=d[s])===null||r===void 0?void 0:r[String(e.error_code)];if(h){var m,p,x,y=(m=h.mapTo)===null||m===void 0?void 0:m.message;return h!=null&&h.needMoreDetail&&(y="".concat(h==null||(x=h.mapTo)===null||x===void 0?void 0:x.message,": ").concat(e.error_message)),new un((p=h.mapTo)===null||p===void 0?void 0:p.code,y)}return new un(e.error_code,e.error_message)},Ue=function(e,t,n,r){var s=function(c,d){function h(m){return function(p){var x=qe.isEmpty(d)?void 0:d[m];if(x)return Ui({stage:Oc.RESPONSE,type:"log",state:m,name:c,response:p}),x(m==="fail"?X1(p):p==null?void 0:p.data)}}return qe.isUndefined(c)&&(c=""),Object.assign({},{success:h("success"),fail:h("fail")})}(e,n),i=R0[e],l=(r==null?void 0:r.delay)||0;setTimeout(function(){Q1(e,t,s,Vt({},r,i))},l)},Eb,eN=(Eb=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("MP_USER_AUTHORIZE",{scopes:e,forceUpdate:!0},{success:function(s){qe.isEmpty(s)||n(s)},fail:function(s){r(s)}},{isMultiCallback:!1,timeout:!1})})]})}),function(e){return Eb.apply(this,arguments)}),vP=function(){function e(){Ur(this,e),this._jumpStatus=void 0,this.WAITING_QUEUE=[],this.getAccessTokenCount=0,this._accessToken="",this._jsAccessToken="",this.refreshToken="",this._cookies=[],this.accessTokenExpiresIn=0,this.prevGetAccessTokenTimestamp=new Date().getTime(),this.manualSetAccessToken=!1,this._miniProgramConfig={},this.retryLimitMap={}}var t=e.prototype;return t.initRetryLimit=function(n){var r=W1[n],s={lastCall:new Date().getTime(),limit:r&&r.limit?r.limit:3,retry:0};return this.retryLimitMap[n]=s,s},t.resetRetryLimit=function(n){this.retryLimitMap[n].lastCall=new Date().getTime(),this.retryLimitMap[n].retry=0},t.getRetryLimit=function(n){var r=this.retryLimitMap[n];return r&&r.lastCall&&r.retry||(r=this.initRetryLimit(n)),r},t.increaseRetryLimit=function(n){this.retryLimitMap[n].retry++},t.jump=function(){var n=this;return I(function(){return M(this,function(r){return[2,new Promise(function(s,i){n._jumpStatus?n._jumpStatus===ga.DONE?s(ga.DONE):s(ga.DOING):(n._jumpStatus=ga.DOING,Ui({stage:Oc.REQUEST,type:"log",name:"jump"}),Q1("JUMP_LOGIN",{},{success:function(l){var c=l.data;n._miniProgramConfig=(c==null?void 0:c.miniProgramConfig)||{};var d=(c==null?void 0:c.cookiesOAuthLogins)||[],h=d.find(function(p){return p.name===Nn.JS_TOKEN});h&&(n._jsAccessToken=h.value,window.ZJSBridge.setJSToken&&window.ZJSBridge.setJSToken(h.value)),n._cookies=d;var m=n._cookies.find(function(p){return p.name===Nn.ZOAUTH});m!=null&&m.value||xa([{action:"action.jump.login",error:-102,message:"no zoauth",data:{}}]),s(ga.DONE)},fail:function(l){xa([{action:"action.jump.login",error:-101,message:l.message||"jump error",data:{}}]),i(l)}},{skipJump:!0}))})]})})()},t.loginZaloV3=function(n,r,s){var i=this;return I(function(){var l;return M(this,function(c){switch(c.label){case 0:return l="".concat(ls.GET_ACCESS_TOKEN_V3,"?app_id=").concat(r,"&redirect_uri=").concat(O0,"/").concat(n,"/&code=").concat(s,"&isSDK=true"),[4,fetch(l).then((d=I(function(h){var m,p,x;return M(this,function(y){switch(y.label){case 0:return[4,h.json()];case 1:return m=y.sent(),p=m==null?void 0:m.access_token,i._accessToken=p,x=1e3*parseInt(m.expires_in),i.accessTokenExpiresIn=x,i.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(i._accessToken||""),[2,p]}})}),function(h){return d.apply(this,arguments)}))];case 1:return[2,c.sent()]}var d})})()},t.loginZaloV4=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",i=this;return I(function(){var l,c;return M(this,function(d){switch(d.label){case 0:return(l=new URLSearchParams).append("app_id",n),l.append("code",r),l.append("code_verifier",s),qe.isNull(i.refreshToken)||i.refreshToken.length===0?l.append("grant_type","authorization_code"):(l.append("grant_type","refresh_token"),l.append("refresh_token",i.refreshToken||"")),c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(ls.GET_ACCESS_TOKEN,Vt({method:"POST",body:l},c)).then((h=I(function(m){var p,x,y,b;return M(this,function(v){switch(v.label){case 0:return[4,m.json()];case 1:return p=v.sent(),x=(p==null?void 0:p.access_token)||"",y=(p==null?void 0:p.refresh_token)||"",i.refreshToken=y,i._accessToken=x,b=1e3*parseInt(p==null?void 0:p.expires_in),i.accessTokenExpiresIn=b,i.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(x),[2,x]}})}),function(m){return h.apply(this,arguments)}))];case 1:return[2,d.sent()]}var h})})()},t.getAccessToken=function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this;return I(function(){var s,i,l,c,d,h,m,p,x;function y(){return b.apply(this,arguments)}function b(){return(b=I(function(){return M(this,function(v){switch(v.label){case 0:return[4,new Promise(function(j){var N=setInterval(function(){(i.getAccessTokenCount<=1||i._accessToken)&&(j("done"),clearInterval(N))},200)})];case 1:return[2,v.sent()]}})})).apply(this,arguments)}return M(this,function(v){switch(v.label){case 0:return s=new Date().getTime()-r.prevGetAccessTokenTimestamp,(i=r).getAccessTokenCount++,r.getAccessTokenCount>1?[4,y()]:[3,2];case 1:v.sent(),v.label=2;case 2:return r.manualSetAccessToken?(i.getAccessTokenCount--,[2,Promise.resolve(r._accessToken)]):n?[4,r.verifyUserAuthorized()]:[3,4];case 3:return c=v.sent(),[3,5];case 4:c=!0,v.label=5;case 5:return l=c,r._accessToken.length>0&&s<r.accessTokenExpiresIn&&l?(i.getAccessTokenCount--,[2,Promise.resolve(r._accessToken)]):(r.accessToken="",[4,r.jumpAndGetToken(Nn.ZOAUTH)]);case 6:return d=v.sent(),[4,r.jumpAndGetToken(Nn.ZOAUTH_VRF)];case 7:if(h=v.sent(),m="zmp.getaccesstoken.fail",!l)throw i.getAccessTokenCount--,xa([{action:m,error:-104,message:"no user auth",data:{}}]),Yt.error.loginFailed("User Authentication Required");if(!d)return[3,15];v.label=8;case 8:return v.trys.push([8,13,,14]),h?[4,r.loginZaloV4(Sn,d,h)]:[3,10];case 9:return p=v.sent(),[3,12];case 10:return[4,r.loginZaloV3(Sn,Aa,d)];case 11:p=v.sent(),v.label=12;case 12:return[3,14];case 13:return x=v.sent(),p="",console.log("Can not get access token",x),xa([{action:m,error:-103,message:String(x)||"Can not get access token",data:{}}]),[3,14];case 14:return i.getAccessTokenCount--,p?[2,Promise.resolve(r._accessToken)]:(xa([{action:m,error:-101,message:"no accessToken",data:{}}]),[2,Promise.reject(Yt.error.loginFailed("Can't get accessToken. Please try again later."))]);case 15:throw i.getAccessTokenCount--,xa([{action:m,error:-102,message:"no oauth",data:{}}]),Yt.error.loginFailed("Zalo app has not been activated")}})})()},t.verifyUserAuthorized=function(){var n=this;return I(function(){var r,s,i,l,c,d;return M(this,function(h){switch(h.label){case 0:return s=!0,[4,n.jumpAndGetToken()];case 1:if(h.sent(),((r=n._miniProgramConfig)===null||r===void 0?void 0:r.userAuthorized)!==!1)return[3,7];h.label=2;case 2:return h.trys.push([2,6,,7]),(i=gg("action.mp.user.authorize"))&&i.isSupported?[4,$0()]:[3,5];case 3:return((c=h.sent())==null||(l=c.authSetting)===null||l===void 0?void 0:l["scope.userInfo"])!==!1?[3,5]:[4,eN()];case 4:d=h.sent(),s=(d==null?void 0:d["scope.userInfo"])||!1,h.label=5;case 5:return[3,7];case 6:return h.sent(),s=!1,[3,7];case 7:return[2,s]}})})()},t.setAccessToken=function(n){this.manualSetAccessToken=!0,this._accessToken=n,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(n)},t.getJSAccessToken=function(){var n=this;return I(function(){var r;return M(this,function(s){switch(s.label){case 0:return n._jsAccessToken.length>0?[2,Promise.resolve(n._jsAccessToken)]:[4,n.jumpAndGetToken(Nn.JS_TOKEN)];case 1:return r=s.sent(),[2,Promise.resolve(r)]}})})()},t.getSync=function(n){var r;return(r=this._cookies.find(function(s){return s.name===n}))===null||r===void 0?void 0:r.value},t.jumpAndGetToken=function(n){var r,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this;return new Promise((r=I(function(l){var c,d,h,m;return M(this,function(p){switch(p.label){case 0:return!s&&i._cookies.length>0?qe.isString(n)?(c=i._cookies.find(function(x){return x.name===n}),[2,l(c==null?void 0:c.value)]):[2,l("")]:(s&&i._jumpStatus===ga.DONE&&(i._jumpStatus=void 0),d={name:n,cb:function(x){return l(x)}},[4,i.jump()]);case 1:return(h=p.sent())===ga.DONE?(i._jumpStatus=h,i.WAITING_QUEUE.length&&(i.WAITING_QUEUE.forEach(function(x){var y=i._cookies.find(function(b){return b.name===x.name});x.cb(y==null?void 0:y.value)}),i.WAITING_QUEUE=[]),m=i._cookies.find(function(x){return x.name===d.name}),d.cb(m==null?void 0:m.value)):i.WAITING_QUEUE.push(d),[2]}})}),function(l){return r.apply(this,arguments)}))},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},tP(e,[{key:"jumpStatus",get:function(){return this._jumpStatus}},{key:"accessToken",set:function(n){this._accessToken=n,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(n)}},{key:"miniProgramConfig",get:function(){return this._miniProgramConfig}}]),e}(),Ke=vP.getInstance(),_m=D0("zmp:utils:common"),pg=function(e){if(qe.isObject(JSON)&&JSON.stringify)return JSON.stringify(e);if(e===void 0)return"undefined";if(e===null)return"null";try{if(typeof e=="string"||e.constructor.toString().match(/string/i)!==null)return'"'+e.replace(/"/g,'\\"')+'"'}catch(i){console.log(i)}var t;if(Object.prototype.toString.call(e).match(/array/i)!==null){t=[];for(var n=e.length,r=0;r<n;r++)t.push(pg(e[r]));return"["+t.join(",")+"]"}if(typeof e=="object"){for(var s in t=[],e)t.push('"'+s+'":'+pg(e[s]));return"{"+t.join(",")+"}"}return e.toString()},yP=function(e){var t=R0[e],n=Yi(),r=t&&typeof t=="object"&&"versionLive"in t&&t.versionLive&&"iOS"in t.versionLive?t.versionLive.iOS:0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(e))||n>=r},tN=function(e){try{if(e){_m(e);var t=e.replace(/\\/g,"").replace(/&#39;/g,"'");try{t=decodeURIComponent(atob(e))}catch(r){}var n=JSON.parse(t);return _m("formattedValue",t,n,n===void 0?"undefined":al(n)),n}return null}catch(r){return _m("parse json error:",r),e}},bP=function(e){if(qe.isObject(JSON)&&JSON.parse&&qe.isString(e)){var t=e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(t,function(n,r){return r})}return qe.isObject(e)?e:new Function("return "+e)()},nN=function(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if(t[n].getAttribute("name")===e||t[n].getAttribute("property")===e)return t[n].getAttribute("content");return""},rN=function(e){return btoa(encodeURIComponent(JSON.stringify(e)))},wP=function(e,t){var n,r=0;for(n in e){var s=n.split("_")[0];e.hasOwnProperty(n)&&(t&&s!==t||(r+=2*(e[n].length+n.length)))}return r};function _P(e){return e.map(function(t,n){var r=t.path.length>0?t.path.map(function(s,i){return i>0?"[".concat(s,"]"):s}).join(""):"arg";return"Error ".concat(n+1,": Code: ").concat(t.code," ~ Path: ").concat(r," ~ Message: ").concat(t.message)}).join(" | ")}var Cb,kP=function(e){return e===Sa.hidden?"hidden":e===Sa.transparent?"transparent":"normal"},NP=function(e){return e==="hidden"?Sa.hidden:e==="transparent"?Sa.transparent:Sa.normal},gg=function(e){if(e!==void 0){var t=Ke.miniProgramConfig;return((t==null?void 0:t.dynamicApis)||[]).find(function(n){return n.action===e&&n.clientHandle===!1})}},jP=function(e){if(e===void 0)return!1;var t=Ke.miniProgramConfig;return((t==null?void 0:t.requiredAuthenList)||[]).indexOf(e)>=0},aN=(Cb=I(function(){return M(this,function(e){return[2,new Promise(function(){var t=I(function(n,r){var s;return M(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Ke.jumpAndGetToken()];case 1:return i.sent(),s=Ke.miniProgramConfig,n((s==null?void 0:s.canUseAccessTokenByDefault)===!0),[3,3];case 2:return i.sent(),n(!1),[3,3];case 3:return[2]}})});return function(n,r){return t.apply(this,arguments)}}())]})}),function(){return Cb.apply(this,arguments)}),SP=function(e){return e==="action.get.device_info"?"GET_DEVICE_INFO":e.replace("action.","").replace(/\./g,"_").toUpperCase()},TP=function(e){return e.startsWith("action.")?e:e==="GET_DEVICE_INFO"?"action.get.device_info":"action.".concat(e.replace(/\_/g,".").toLowerCase())},sN=function(e,t,n){typeof n=="string"&&n.length>0?e.set(t,n):typeof n!="object"||Array.isArray(n)||Object.entries(n).forEach(function(r){var s=Ea(r,2),i=s[0],l=s[1];l!=null&&l!==""&&e.set("".concat(t).concat(i),String(l))})},zo=function(e,t,n){var r;(r=e.contentWindow)===null||r===void 0||r.postMessage({type:t,payload:n},ja)};function EP(e){var t=new TextEncoder().encode(e),n=Array.from(t).map(function(r){return String.fromCharCode(r)}).join("");return btoa(n)}function de(e,t,n,r){var s,i;(function(m,p){if(W1[m]){var x=Ke.getRetryLimit(m);x.lastCall&&new Date().getTime()-x.lastCall>1e3&&Ke.resetRetryLimit(m);var y=x.limit||3;if(x.retry&&x.retry>=y)throw ad(Yt.error.failLimit(),m);Ke.increaseRetryLimit(m)}})(e);var l=Array.isArray(n)&&n.length>0&&((s=n[0])===null||s===void 0?void 0:s.success),c=Array.isArray(n)&&n.length>0&&((i=n[0])===null||i===void 0?void 0:i.fail);try{var d=n;t.length>0&&t.forEach(function(m,p){var x=m.safeParse(n[p]);if(!x.success){var y,b=(y=x.error)===null||y===void 0?void 0:y.issues,v=_P(b),j=Yt.error.badRequest(v);throw j.detail=b,ad(j,e)}d.push(x.data)});var h=r.apply(void 0,Qs(d));return qe.isPromise(h)?new Promise(function(m,p){h.then(function(x){if(!qe.isNull(l)&&qe.isFunction(l))return l(x);m(h)}).catch(function(x){var y=ad(x,e);if(!qe.isNull(c)&&qe.isFunction(c))return c(y);p(y)})}):h}catch(m){if(!qe.isNull(c)&&qe.isFunction(c))return c(m);throw ad(m,e)}}function iN(){return de("getVersion",[],[],function(){return V1})}var km,K=((km=tn())===null||km===void 0?void 0:km.appEnv)||{},we=function(e,t){var n,r={error:-1404,errorMessage:"".concat(e," is not found")};t==null||(n=t.fail)===null||n===void 0||n.call(t,r),Ui({stage:Oc.NOT_FOUND,type:"error",name:e,request:t,state:"fail",response:r})};function oN(e){return lN.apply(this,arguments)}function lN(){return(lN=I(function(e){return M(this,function(t){return[2,de("login",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,Ke.jumpAndGetToken(Nn.ZOAUTH)]:[3,2];case 1:return n.sent(),[2,"Success"];case 2:return K.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(we("login",{}))]}})}))]})})).apply(this,arguments)}function cN(e){return uN.apply(this,arguments)}function uN(){return(uN=I(function(e){return M(this,function(t){return[2,de("getAccessToken",[],[e],I(function(){var n;return M(this,function(r){switch(r.label){case 0:return K.isMp?[4,aN()]:[3,3];case 1:return n=!r.sent(),[4,Ke.getAccessToken(n)];case 2:return[2,r.sent()||""];case 3:return K.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(we("getAccessToken",{}))]}})}))]})})).apply(this,arguments)}function dN(){var e;return{version:nN("version-id")||"",apiVersion:V1,zaloVersion:String(Yi()),platform:((e=tn())===null||e===void 0?void 0:e.platformName)||"",language:navigator.language,zaloLanguage:window.zLanguage||"vi",zaloTheme:window.zTheme||"light"}}function hN(){return de("getSystemInfo",[],[],function(){return dN()})}var At;(function(e){e.assertEqual=t=>t,e.assertIs=function(t){},e.assertNever=function(t){throw new Error},e.arrayToEnum=t=>{const n={};for(const r of t)n[r]=r;return n},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(s=>typeof t[t[s]]!="number"),r={};for(const s of n)r[s]=t[s];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(n){return t[n]}),e.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(r);return n},e.find=(t,n)=>{for(const r of t)if(n(r))return r},e.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t,e.joinValues=function(t,n=" | "){return t.map(r=>typeof r=="string"?`'${r}'`:r).join(n)},e.jsonStringifyReplacer=(t,n)=>typeof n=="bigint"?n.toString():n})(At||(At={}));const Ie=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Is=e=>{switch(typeof e){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(e)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(e)?Ie.array:e===null?Ie.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ie.promise:typeof Map!="undefined"&&e instanceof Map?Ie.map:typeof Set!="undefined"&&e instanceof Set?Ie.set:typeof Date!="undefined"&&e instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},Te=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),CP=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");let ts=class extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(l))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};ts.create=e=>new ts(e);const zc=(e,t)=>{let n;switch(e.code){case Te.invalid_type:n=e.received===Ie.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,At.jsonStringifyReplacer)}`;break;case Te.unrecognized_keys:n=`Unrecognized key(s) in object: ${At.joinValues(e.keys,", ")}`;break;case Te.invalid_union:n="Invalid input";break;case Te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${At.joinValues(e.options)}`;break;case Te.invalid_enum_value:n=`Invalid enum value. Expected ${At.joinValues(e.options)}, received '${e.received}'`;break;case Te.invalid_arguments:n="Invalid function arguments";break;case Te.invalid_return_type:n="Invalid function return type";break;case Te.invalid_date:n="Invalid date";break;case Te.invalid_string:typeof e.validation=="object"?"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:At.assertNever(e.validation):n=e.validation!=="regex"?`Invalid ${e.validation}`:"Invalid";break;case Te.too_small:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(e.minimum)}`:"Invalid input";break;case Te.too_big:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(e.maximum)}`:"Invalid input";break;case Te.custom:n="Invalid input";break;case Te.invalid_intersection_types:n="Intersection results could not be merged";break;case Te.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Te.not_finite:n="Number must be finite";break;default:n=t.defaultError,At.assertNever(e)}return{message:n}};let fN=zc;function PP(e){fN=e}function gh(){return fN}const xh=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],l=le(R({},s),{path:i});let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(l,{data:t,defaultError:c}).message;return le(R({},s),{path:i,message:s.message||c})},MP=[];function He(e,t){const n=xh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,gh(),zc].filter(r=>!!r)});e.common.issues.push(n)}let vr=class mN{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return dt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static mergeObjectAsync(t,n){return O(this,null,function*(){const r=[];for(const s of n)r.push({key:yield s.key,value:yield s.value});return mN.mergeObjectSync(t,r)})}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:l}=s;if(i.status==="aborted"||l.status==="aborted")return dt;i.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),(l.value!==void 0||s.alwaysSet)&&(r[i.value]=l.value)}return{status:t.value,value:r}}};const dt=Object.freeze({status:"aborted"}),pN=e=>({status:"dirty",value:e}),Fn=e=>({status:"valid",value:e}),xg=e=>e.status==="aborted",vg=e=>e.status==="dirty",vh=e=>e.status==="valid",yh=e=>typeof Promise!="undefined"&&e instanceof Promise;var Pt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pt||(Pt={}));let Ca=class{constructor(t,n,r,s){this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}};const Pb=(e,t)=>{if(vh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new ts(e.common.issues)}};function xt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,l)=>i.code!=="invalid_type"?{message:l.defaultError}:l.data===void 0?{message:r!=null?r:l.defaultError}:{message:n!=null?n:l.defaultError},description:s}}class wt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Is(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new vr,ctx:{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(yh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0&&r,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Pb(s,i)}parseAsync(t,n){return O(this,null,function*(){const r=yield this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error})}safeParseAsync(t,n){return O(this,null,function*(){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},s=this._parse({data:t,path:r.path,parent:r}),i=yield yh(s)?s:Promise.resolve(s);return Pb(r,i)})}refine(t,n){const r=s=>typeof n=="string"||n===void 0?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const l=t(s),c=()=>i.addIssue(R({code:Te.custom},r(s)));return typeof Promise!="undefined"&&l instanceof Promise?l.then(d=>!!d||(c(),!1)):!!l||(c(),!1)})}refinement(t,n){return this._refinement((r,s)=>!!t(r)||(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Xr({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return rs.create(this,this._def)}nullable(){return Wi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return na.create(this,this._def)}promise(){return ol.create(this,this._def)}or(t){return Zc.create([this,t],this._def)}and(t){return Wc.create(this,t,this._def)}transform(t){return new Xr(le(R({},xt(this._def)),{schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){const n=typeof t=="function"?t:()=>t;return new qc(le(R({},xt(this._def)),{innerType:this,defaultValue:n,typeName:it.ZodDefault}))}brand(){return new xN(R({typeName:it.ZodBranded,type:this},xt(this._def)))}catch(t){const n=typeof t=="function"?t:()=>t;return new Nh(le(R({},xt(this._def)),{innerType:this,catchValue:n,typeName:it.ZodCatch}))}describe(t){return new this.constructor(le(R({},this._def),{description:t}))}pipe(t){return uu.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LP=/^c[^\s-]{8,}$/i,IP=/^[a-z][a-z0-9]*$/,AP=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,OP=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|([^-]([a-zA-Z0-9-]*\.)+[a-zA-Z]{2,}))$/;let sl=class yg extends wt{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(s=>t.test(s),R({validation:n,code:Te.invalid_string},Pt.errToObj(r))),this.nonempty=t=>this.min(1,Pt.errToObj(t)),this.trim=()=>new yg(le(R({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ie.string){const i=this._getOrReturnCtx(t);return He(i,{code:Te.invalid_type,expected:Ie.string,received:i.parsedType}),dt}const n=new vr;let r;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(r=this._getOrReturnCtx(t,r),He(r,{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(r=this._getOrReturnCtx(t,r),He(r,{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,c=t.data.length<i.value;(l||c)&&(r=this._getOrReturnCtx(t,r),l?He(r,{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&He(r,{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")OP.test(t.data)||(r=this._getOrReturnCtx(t,r),He(r,{validation:"email",code:Te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")AP.test(t.data)||(r=this._getOrReturnCtx(t,r),He(r,{validation:"uuid",code:Te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")LP.test(t.data)||(r=this._getOrReturnCtx(t,r),He(r,{validation:"cuid",code:Te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")IP.test(t.data)||(r=this._getOrReturnCtx(t,r),He(r,{validation:"cuid2",code:Te.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch(l){r=this._getOrReturnCtx(t,r),He(r,{validation:"url",code:Te.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),He(r,{validation:"regex",code:Te.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="startsWith"?t.data.startsWith(i.value)||(r=this._getOrReturnCtx(t,r),He(r,{code:Te.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(r=this._getOrReturnCtx(t,r),He(r,{code:Te.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?((s=i).precision?s.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}Z$`):s.precision===0?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(t.data)||(r=this._getOrReturnCtx(t,r),He(r,{code:Te.invalid_string,validation:"datetime",message:i.message}),n.dirty()):At.assertNever(i);var s;return{status:n.value,value:t.data}}_addCheck(t){return new yg(le(R({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(R({kind:"email"},Pt.errToObj(t)))}url(t){return this._addCheck(R({kind:"url"},Pt.errToObj(t)))}uuid(t){return this._addCheck(R({kind:"uuid"},Pt.errToObj(t)))}cuid(t){return this._addCheck(R({kind:"cuid"},Pt.errToObj(t)))}cuid2(t){return this._addCheck(R({kind:"cuid2"},Pt.errToObj(t)))}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck(R({kind:"datetime",precision:(t==null?void 0:t.precision)===void 0?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0&&n},Pt.errToObj(t==null?void 0:t.message)))}regex(t,n){return this._addCheck(R({kind:"regex",regex:t},Pt.errToObj(n)))}startsWith(t,n){return this._addCheck(R({kind:"startsWith",value:t},Pt.errToObj(n)))}endsWith(t,n){return this._addCheck(R({kind:"endsWith",value:t},Pt.errToObj(n)))}min(t,n){return this._addCheck(R({kind:"min",value:t},Pt.errToObj(n)))}max(t,n){return this._addCheck(R({kind:"max",value:t},Pt.errToObj(n)))}length(t,n){return this._addCheck(R({kind:"length",value:t},Pt.errToObj(n)))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};function RP(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}sl.create=e=>{var t;return new sl(R({checks:[],typeName:it.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0&&t},xt(e)))};let $c=class bg extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ie.number){const s=this._getOrReturnCtx(t);return He(s,{code:Te.invalid_type,expected:Ie.number,received:s.parsedType}),dt}let n;const r=new vr;for(const s of this._def.checks)s.kind==="int"?At.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),He(n,{code:Te.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:Te.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),He(n,{code:Te.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?RP(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),He(n,{code:Te.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),He(n,{code:Te.not_finite,message:s.message}),r.dirty()):At.assertNever(s);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Pt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Pt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Pt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Pt.toString(n))}setLimit(t,n,r,s){return new bg(le(R({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Pt.toString(s)}]}))}_addCheck(t){return new bg(le(R({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:Pt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Pt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Pt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&At.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};$c.create=e=>new $c(R({checks:[],typeName:it.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},xt(e)));class Bc extends wt{_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Ie.bigint){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.bigint,received:n.parsedType}),dt}return Fn(t.data)}}Bc.create=e=>{var t;return new Bc(R({typeName:it.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0&&t},xt(e)))};class Fc extends wt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ie.boolean){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.boolean,received:n.parsedType}),dt}return Fn(t.data)}}Fc.create=e=>new Fc(R({typeName:it.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},xt(e)));class Hi extends wt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ie.date){const s=this._getOrReturnCtx(t);return He(s,{code:Te.invalid_type,expected:Ie.date,received:s.parsedType}),dt}if(isNaN(t.data.getTime()))return He(this._getOrReturnCtx(t),{code:Te.invalid_date}),dt;const n=new vr;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),He(r,{code:Te.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),He(r,{code:Te.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):At.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hi(le(R({},this._def),{checks:[...this._def.checks,t]}))}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Pt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Pt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Hi.create=e=>new Hi(R({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:it.ZodDate},xt(e)));let bh=class extends wt{_parse(t){if(this._getType(t)!==Ie.symbol){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.symbol,received:n.parsedType}),dt}return Fn(t.data)}};bh.create=e=>new bh(R({typeName:it.ZodSymbol},xt(e)));class Uc extends wt{_parse(t){if(this._getType(t)!==Ie.undefined){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.undefined,received:n.parsedType}),dt}return Fn(t.data)}}Uc.create=e=>new Uc(R({typeName:it.ZodUndefined},xt(e)));let Hc=class extends wt{_parse(t){if(this._getType(t)!==Ie.null){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.null,received:n.parsedType}),dt}return Fn(t.data)}};Hc.create=e=>new Hc(R({typeName:it.ZodNull},xt(e)));let il=class extends wt{constructor(){super(...arguments),this._any=!0}_parse(t){return Fn(t.data)}};il.create=e=>new il(R({typeName:it.ZodAny},xt(e)));class Ii extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Fn(t.data)}}Ii.create=e=>new Ii(R({typeName:it.ZodUnknown},xt(e)));class ns extends wt{_parse(t){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.never,received:n.parsedType}),dt}}ns.create=e=>new ns(R({typeName:it.ZodNever},xt(e)));class wh extends wt{_parse(t){if(this._getType(t)!==Ie.undefined){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.void,received:n.parsedType}),dt}return Fn(t.data)}}wh.create=e=>new wh(R({typeName:it.ZodVoid},xt(e)));class na extends wt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==Ie.array)return He(n,{code:Te.invalid_type,expected:Ie.array,received:n.parsedType}),dt;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(l||c)&&(He(n,{code:l?Te.too_big:Te.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(He(n,{code:Te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(He(n,{code:Te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>s.type._parseAsync(new Ca(n,l,n.path,c)))).then(l=>vr.mergeArray(r,l));const i=[...n.data].map((l,c)=>s.type._parseSync(new Ca(n,l,n.path,c)));return vr.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new na(le(R({},this._def),{minLength:{value:t,message:Pt.toString(n)}}))}max(t,n){return new na(le(R({},this._def),{maxLength:{value:t,message:Pt.toString(n)}}))}length(t,n){return new na(le(R({},this._def),{exactLength:{value:t,message:Pt.toString(n)}}))}nonempty(t){return this.min(1,t)}}var _h;function ko(e){if(e instanceof Qt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=rs.create(ko(r))}return new Qt(le(R({},e._def),{shape:()=>t}))}return e instanceof na?na.create(ko(e.element)):e instanceof rs?rs.create(ko(e.unwrap())):e instanceof Wi?Wi.create(ko(e.unwrap())):e instanceof Pa?Pa.create(e.items.map(t=>ko(t))):e}na.create=(e,t)=>new na(R({type:e,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray},xt(t))),function(e){e.mergeShapes=(t,n)=>R(R({},t),n)}(_h||(_h={}));class Qt extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=At.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Ie.object){const d=this._getOrReturnCtx(t);return He(d,{code:Te.invalid_type,expected:Ie.object,received:d.parsedType}),dt}const{status:n,ctx:r}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof ns&&this._def.unknownKeys==="strip"))for(const d in r.data)i.includes(d)||l.push(d);const c=[];for(const d of i){const h=s[d],m=r.data[d];c.push({key:{status:"valid",value:d},value:h._parse(new Ca(r,m,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof ns){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:r.data[h]}});else if(d==="strict")l.length>0&&(He(r,{code:Te.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of l){const m=r.data[h];c.push({key:{status:"valid",value:h},value:d._parse(new Ca(r,m,r.path,h)),alwaysSet:h in r.data})}}return r.common.async?Promise.resolve().then(()=>O(this,null,function*(){const d=[];for(const h of c){const m=yield h.key;d.push({key:m,value:yield h.value,alwaysSet:h.alwaysSet})}return d})).then(d=>vr.mergeObjectSync(n,d)):vr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return new Qt(R(le(R({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var s,i,l,c;const d=(l=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=Pt.errToObj(t).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}))}strip(){return new Qt(le(R({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Qt(le(R({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new Qt(le(R({},this._def),{shape:()=>R(R({},this._def.shape()),t)}))}merge(t){return new Qt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>_h.mergeShapes(this._def.shape(),t._def.shape()),typeName:it.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Qt(le(R({},this._def),{catchall:t}))}pick(t){const n={};return At.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Qt(le(R({},this._def),{shape:()=>n}))}omit(t){const n={};return At.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Qt(le(R({},this._def),{shape:()=>n}))}deepPartial(){return ko(this)}partial(t){const n={};return At.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new Qt(le(R({},this._def),{shape:()=>n}))}required(t){const n={};return At.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof rs;)s=s._def.innerType;n[r]=s}}),new Qt(le(R({},this._def),{shape:()=>n}))}keyof(){return gN(At.objectKeys(this.shape))}}Qt.create=(e,t)=>new Qt(R({shape:()=>e,unknownKeys:"strip",catchall:ns.create(),typeName:it.ZodObject},xt(t))),Qt.strictCreate=(e,t)=>new Qt(R({shape:()=>e,unknownKeys:"strict",catchall:ns.create(),typeName:it.ZodObject},xt(t))),Qt.lazycreate=(e,t)=>new Qt(R({shape:e,unknownKeys:"strip",catchall:ns.create(),typeName:it.ZodObject},xt(t)));let Zc=class extends wt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;if(n.common.async)return Promise.all(r.map(s=>O(this,null,function*(){const i=le(R({},n),{common:le(R({},n.common),{issues:[]}),parent:null});return{result:yield s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}}))).then(function(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new ts(l.ctx.common.issues));return He(n,{code:Te.invalid_union,unionErrors:i}),dt});{let s;const i=[];for(const c of r){const d=le(R({},n),{common:le(R({},n.common),{issues:[]}),parent:null}),h=c._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status!=="dirty"||s||(s={result:h,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(c=>new ts(c));return He(n,{code:Te.invalid_union,unionErrors:l}),dt}}get options(){return this._def.options}};Zc.create=(e,t)=>new Zc(R({options:e,typeName:it.ZodUnion},xt(t)));const Ed=e=>e instanceof Vc?Ed(e.schema):e instanceof Xr?Ed(e.innerType()):e instanceof Kc?[e.value]:e instanceof Xs?e.options:e instanceof Gc?Object.keys(e.enum):e instanceof qc?Ed(e._def.innerType):e instanceof Uc?[void 0]:e instanceof Hc?[null]:null;class Qh extends wt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ie.object)return He(n,{code:Te.invalid_type,expected:Ie.object,received:n.parsedType}),dt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(He(n,{code:Te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),dt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const l=Ed(i.shape[t]);if(!l)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of l){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Qh(R({typeName:it.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s},xt(r)))}}function wg(e,t){const n=Is(e),r=Is(t);if(e===t)return{valid:!0,data:e};if(n===Ie.object&&r===Ie.object){const s=At.objectKeys(t),i=At.objectKeys(e).filter(c=>s.indexOf(c)!==-1),l=R(R({},e),t);for(const c of i){const d=wg(e[c],t[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}if(n===Ie.array&&r===Ie.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const l=wg(e[i],t[i]);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}return n===Ie.date&&r===Ie.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Wc extends wt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,l)=>{if(xg(i)||xg(l))return dt;const c=wg(i.value,l.value);return c.valid?((vg(i)||vg(l))&&n.dirty(),{status:n.value,value:c.data}):(He(r,{code:Te.invalid_intersection_types}),dt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,l])=>s(i,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Wc.create=(e,t,n)=>new Wc(R({left:e,right:t,typeName:it.ZodIntersection},xt(n)));class Pa extends wt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ie.array)return He(r,{code:Te.invalid_type,expected:Ie.array,received:r.parsedType}),dt;if(r.data.length<this._def.items.length)return He(r,{code:Te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),dt;!this._def.rest&&r.data.length>this._def.items.length&&(He(r,{code:Te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ca(r,i,r.path,l)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>vr.mergeArray(n,i)):vr.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Pa(le(R({},this._def),{rest:t}))}}Pa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pa(R({items:e,typeName:it.ZodTuple,rest:null},xt(t)))};class Xh extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ie.object)return He(r,{code:Te.invalid_type,expected:Ie.object,received:r.parsedType}),dt;const s=[],i=this._def.keyType,l=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new Ca(r,c,r.path,c)),value:l._parse(new Ca(r,r.data[c],r.path,c))});return r.common.async?vr.mergeObjectAsync(n,s):vr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return new Xh(n instanceof wt?R({keyType:t,valueType:n,typeName:it.ZodRecord},xt(r)):R({keyType:sl.create(),valueType:t,typeName:it.ZodRecord},xt(n)))}}class kh extends wt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ie.map)return He(r,{code:Te.invalid_type,expected:Ie.map,received:r.parsedType}),dt;const s=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([c,d],h)=>({key:s._parse(new Ca(r,c,r.path,[h,"key"])),value:i._parse(new Ca(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(()=>O(this,null,function*(){for(const d of l){const h=yield d.key,m=yield d.value;if(h.status==="aborted"||m.status==="aborted")return dt;h.status!=="dirty"&&m.status!=="dirty"||n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}}))}{const c=new Map;for(const d of l){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return dt;h.status!=="dirty"&&m.status!=="dirty"||n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}}}}kh.create=(e,t,n)=>new kh(R({valueType:t,keyType:e,typeName:it.ZodMap},xt(n)));class Zi extends wt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ie.set)return He(r,{code:Te.invalid_type,expected:Ie.set,received:r.parsedType}),dt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(He(r,{code:Te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(He(r,{code:Te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function l(d){const h=new Set;for(const m of d){if(m.status==="aborted")return dt;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((d,h)=>i._parse(new Ca(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(t,n){return new Zi(le(R({},this._def),{minSize:{value:t,message:Pt.toString(n)}}))}max(t,n){return new Zi(le(R({},this._def),{maxSize:{value:t,message:Pt.toString(n)}}))}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Zi.create=(e,t)=>new Zi(R({valueType:e,minSize:null,maxSize:null,typeName:it.ZodSet},xt(t)));class Ko extends wt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ie.function)return He(n,{code:Te.invalid_type,expected:Ie.function,received:n.parsedType}),dt;function r(c,d){return xh({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,gh(),zc].filter(h=>!!h),issueData:{code:Te.invalid_arguments,argumentsError:d}})}function s(c,d){return xh({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,gh(),zc].filter(h=>!!h),issueData:{code:Te.invalid_return_type,returnTypeError:d}})}const i={errorMap:n.common.contextualErrorMap},l=n.data;return this._def.returns instanceof ol?Fn((...c)=>O(this,null,function*(){const d=new ts([]),h=yield this._def.args.parseAsync(c,i).catch(p=>{throw d.addIssue(r(c,p)),d}),m=yield l(...h);return yield this._def.returns._def.type.parseAsync(m,i).catch(p=>{throw d.addIssue(s(m,p)),d})})):Fn((...c)=>{const d=this._def.args.safeParse(c,i);if(!d.success)throw new ts([r(c,d.error)]);const h=l(...d.data),m=this._def.returns.safeParse(h,i);if(!m.success)throw new ts([s(h,m.error)]);return m.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ko(le(R({},this._def),{args:Pa.create(t).rest(Ii.create())}))}returns(t){return new Ko(le(R({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Ko(R({args:t||Pa.create([]).rest(Ii.create()),returns:n||Ii.create(),typeName:it.ZodFunction},xt(r)))}}class Vc extends wt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Vc.create=(e,t)=>new Vc(R({getter:e,typeName:it.ZodLazy},xt(t)));class Kc extends wt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return He(n,{received:n.data,code:Te.invalid_literal,expected:this._def.value}),dt}return{status:"valid",value:t.data}}get value(){return this._def.value}}function gN(e,t){return new Xs(R({values:e,typeName:it.ZodEnum},xt(t)))}Kc.create=(e,t)=>new Kc(R({value:e,typeName:it.ZodLiteral},xt(t)));class Xs extends wt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return He(n,{expected:At.joinValues(r),received:n.parsedType,code:Te.invalid_type}),dt}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return He(n,{received:n.data,code:Te.invalid_enum_value,options:r}),dt}return Fn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Xs.create(t)}exclude(t){return Xs.create(this.options.filter(n=>!t.includes(n)))}}Xs.create=gN;class Gc extends wt{_parse(t){const n=At.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ie.string&&r.parsedType!==Ie.number){const s=At.objectValues(n);return He(r,{expected:At.joinValues(s),received:r.parsedType,code:Te.invalid_type}),dt}if(n.indexOf(t.data)===-1){const s=At.objectValues(n);return He(r,{received:r.data,code:Te.invalid_enum_value,options:s}),dt}return Fn(t.data)}get enum(){return this._def.values}}Gc.create=(e,t)=>new Gc(R({values:e,typeName:it.ZodNativeEnum},xt(t)));class ol extends wt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ie.promise&&n.common.async===!1)return He(n,{code:Te.invalid_type,expected:Ie.promise,received:n.parsedType}),dt;const r=n.parsedType===Ie.promise?n.data:Promise.resolve(n.data);return Fn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ol.create=(e,t)=>new ol(R({type:e,typeName:it.ZodPromise},xt(t)));class Xr extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null;if(s.type==="preprocess"){const l=s.transform(r.data);return r.common.async?Promise.resolve(l).then(c=>this._def.schema._parseAsync({data:c,path:r.path,parent:r})):this._def.schema._parseSync({data:l,path:r.path,parent:r})}const i={addIssue:l=>{He(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const l=c=>{const d=s.refinement(c,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?dt:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?dt:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform"){if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!vh(l))return l;const c=s.transform(l.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>vh(l)?Promise.resolve(s.transform(l.value,i)).then(c=>({status:n.value,value:c})):l)}At.assertNever(s)}}Xr.create=(e,t,n)=>new Xr(R({schema:e,typeName:it.ZodEffects,effect:t},xt(n))),Xr.createWithPreprocess=(e,t,n)=>new Xr(R({schema:t,effect:{type:"preprocess",transform:e},typeName:it.ZodEffects},xt(n)));class rs extends wt{_parse(t){return this._getType(t)===Ie.undefined?Fn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rs.create=(e,t)=>new rs(R({innerType:e,typeName:it.ZodOptional},xt(t)));class Wi extends wt{_parse(t){return this._getType(t)===Ie.null?Fn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Wi.create=(e,t)=>new Wi(R({innerType:e,typeName:it.ZodNullable},xt(t)));class qc extends wt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qc.create=(e,t)=>new qc(R({innerType:e,typeName:it.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},xt(t)));class Nh extends wt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.innerType._parse({data:n.data,path:n.path,parent:le(R({},n),{common:le(R({},n.common),{issues:[]})})});return yh(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue()})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue()}}removeCatch(){return this._def.innerType}}Nh.create=(e,t)=>new Nh(R({innerType:e,typeName:it.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},xt(t)));class jh extends wt{_parse(t){if(this._getType(t)!==Ie.nan){const n=this._getOrReturnCtx(t);return He(n,{code:Te.invalid_type,expected:Ie.nan,received:n.parsedType}),dt}return{status:"valid",value:t.data}}}jh.create=e=>new jh(R({typeName:it.ZodNaN},xt(e)));const DP=Symbol("zod_brand");class xN extends wt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class uu extends wt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return O(this,null,function*(){const s=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?dt:s.status==="dirty"?(n.dirty(),pN(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})});{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?dt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new uu({in:t,out:n,typeName:it.ZodPipeline})}}const vN=(e,t={},n)=>e?il.create().superRefine((r,s)=>{if(!e(r)){const i=typeof t=="function"?t(r):t,l=typeof i=="string"?{message:i}:i;s.addIssue(le(R({code:"custom"},l),{fatal:n}))}}):il.create(),zP={object:Qt.lazycreate};var it;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(it||(it={}));const $P=(e,t={message:`Input not instance of ${e.name}`})=>vN(n=>n instanceof e,t,!0),be=sl.create,Or=$c.create,BP=jh.create,FP=Bc.create,cs=Fc.create,UP=Hi.create,HP=bh.create,ZP=Uc.create,WP=Hc.create,VP=il.create,KP=Ii.create,GP=ns.create,qP=wh.create,B0=na.create,ye=Qt.create,YP=Qt.strictCreate,JP=Zc.create,QP=Qh.create,XP=Wc.create,eM=Pa.create,tM=Xh.create,nM=kh.create,rM=Zi.create,aM=Ko.create,sM=Vc.create,iM=Kc.create,oM=Xs.create,lM=Gc.create,cM=ol.create,Mb=Xr.create,uM=rs.create,dM=Wi.create,hM=Xr.createWithPreprocess,fM=uu.create,mM=()=>be().optional(),pM=()=>Or().optional(),gM=()=>cs().optional(),xM={string:e=>sl.create(le(R({},e),{coerce:!0})),number:e=>$c.create(le(R({},e),{coerce:!0})),boolean:e=>Fc.create(le(R({},e),{coerce:!0})),bigint:e=>Bc.create(le(R({},e),{coerce:!0})),date:e=>Hi.create(le(R({},e),{coerce:!0}))},vM=dt;var Y=Object.freeze({__proto__:null,defaultErrorMap:zc,setErrorMap:PP,getErrorMap:gh,makeIssue:xh,EMPTY_PATH:MP,addIssueToContext:He,ParseStatus:vr,INVALID:dt,DIRTY:pN,OK:Fn,isAborted:xg,isDirty:vg,isValid:vh,isAsync:yh,get util(){return At},ZodParsedType:Ie,getParsedType:Is,ZodType:wt,ZodString:sl,ZodNumber:$c,ZodBigInt:Bc,ZodBoolean:Fc,ZodDate:Hi,ZodSymbol:bh,ZodUndefined:Uc,ZodNull:Hc,ZodAny:il,ZodUnknown:Ii,ZodNever:ns,ZodVoid:wh,ZodArray:na,get objectUtil(){return _h},ZodObject:Qt,ZodUnion:Zc,ZodDiscriminatedUnion:Qh,ZodIntersection:Wc,ZodTuple:Pa,ZodRecord:Xh,ZodMap:kh,ZodSet:Zi,ZodFunction:Ko,ZodLazy:Vc,ZodLiteral:Kc,ZodEnum:Xs,ZodNativeEnum:Gc,ZodPromise:ol,ZodEffects:Xr,ZodTransformer:Xr,ZodOptional:rs,ZodNullable:Wi,ZodDefault:qc,ZodCatch:Nh,ZodNaN:jh,BRAND:DP,ZodBranded:xN,ZodPipeline:uu,custom:vN,Schema:wt,ZodSchema:wt,late:zP,get ZodFirstPartyTypeKind(){return it},coerce:xM,any:VP,array:B0,bigint:FP,boolean:cs,date:UP,discriminatedUnion:QP,effect:Mb,enum:oM,function:aM,instanceof:$P,intersection:XP,lazy:sM,literal:iM,map:nM,nan:BP,nativeEnum:lM,never:GP,null:WP,nullable:dM,number:Or,object:ye,oboolean:gM,onumber:pM,optional:uM,ostring:mM,pipeline:fM,preprocess:hM,promise:cM,record:tM,set:rM,strictObject:YP,string:be,symbol:HP,transformer:Mb,tuple:eM,undefined:ZP,union:JP,unknown:KP,void:qP,NEVER:vM,ZodIssueCode:Te,quotelessJson:CP,ZodError:ts}),fr=function(){function e(){var n,r,s,i,l,c,d,h,m,p,x,y,b,v,j,N,w,S,P,C,U,E,Z,q,$,D,J;Ur(this,e),this.initConfig=window.APP_CONFIG;var H=qe.isString((n=this.initConfig)===null||n===void 0||(r=n.app)===null||r===void 0?void 0:r.headerColor)&&((s=this.initConfig)===null||s===void 0||(i=s.app)===null||i===void 0||(l=i.headerColor)===null||l===void 0?void 0:l.length)>0?bm:rd;this.hideIOSSafeAreaBottom=!!(!((c=this.initConfig)===null||c===void 0||(d=c.app)===null||d===void 0)&&d.hideIOSSafeAreaBottom),this.hideAndroidBottomNavigationBar=!!(!((h=this.initConfig)===null||h===void 0||(m=h.app)===null||m===void 0)&&m.hideAndroidBottomNavigationBar);var W,ie,ge=((p=this.initConfig)===null||p===void 0||(x=p.app)===null||x===void 0?void 0:x.leftButton)==="none"||((y=this.initConfig)===null||y===void 0||(b=y.app)===null||b===void 0?void 0:b.leftButton)==="home"?js.HIDE_BACK:js.SHOW_BACK,he=((v=this.initConfig)===null||v===void 0||(j=v.app)===null||j===void 0?void 0:j.leftButton)==="home"||((N=this.initConfig)===null||N===void 0||(w=N.app)===null||w===void 0?void 0:w.leftButton)==="both"?js.SHOW_HOME:js.HIDE_HOME,V=new URL(location.href),fe=NP((S=this.initConfig)===null||S===void 0||(P=S.app)===null||P===void 0?void 0:P.statusBar);typeof((C=this.initConfig)===null||C===void 0||(U=C.app)===null||U===void 0?void 0:U.actionBarHidden)=="boolean"&&(H=!((W=this.initConfig)===null||W===void 0||(ie=W.app)===null||ie===void 0)&&ie.actionBarHidden?rd:bm),this.config={actionbarType:H,buttonType:ge,statusbarType:fe,dataConfig:{backgroundColor:((E=this.initConfig)===null||E===void 0||(Z=E.app)===null||Z===void 0?void 0:Z.headerColor)||VC,textColor:((q=this.initConfig)===null||q===void 0||($=q.app)===null||$===void 0?void 0:$.textColor)||"",textAlign:((D=this.initConfig)===null||D===void 0||(J=D.app)===null||J===void 0?void 0:J.textAlign)||KC,viewInLeftType:ge,confirmToExit:1},homeConfig:{enable:he,url:"".concat(O0,"/").concat(Sn,"/").concat(V.search)}}}var t=e.prototype;return t.setNavigationBarTitle=function(n){return I(function(){return M(this,function(r){return[2,new Promise(function(s,i){Ue("CHANGE_TITLE_HEADER",{title:n},{success:function(){s(),document.title=n},fail:function(l){i(l)}},{timeout:!1})})]})})()},t.setNavigationBarLeftButton=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.config.dataConfig.confirmToExit,s=this;return I(function(){var i,l;return M(this,function(c){return(n===void 0?"undefined":al(n))===void 0&&(n===void 0?"undefined":al(n))===null||(i=n==="none"||n==="home"?js.HIDE_BACK:js.SHOW_BACK,l=n==="home"||n==="both"?js.SHOW_HOME:js.HIDE_HOME,s.config.buttonType=i,s.config.dataConfig.viewInLeftType=i,s.config.homeConfig.enable=l),s.config.dataConfig.confirmToExit=r,[2,new Promise(function(d,h){Ue("CHANGE_ACTIONBAR_LEFTBUTTON_TYPE",Vt({},s.config),{success:function(){d()},fail:function(m){h(m)}},{timeout:!1})})]})})()},t.setAndroidBottomNavigationBar=function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this;return I(function(){var s,i,l;return M(this,function(c){return i=n?hh.hide:hh.show,l=(s=tn())===null||s===void 0?void 0:s.platform,[2,new Promise(function(d,h){if(!(l!=null&&l.isAndroid))return d();Ue("CHANGE_BOTTOMBAR",{bottombarType:i},{success:function(){r.hideAndroidBottomNavigationBar=!!n,window.ANDROID_BOTTOM_NAVIGATION_BAR_HIDDEN=!!n,d()},fail:function(m){h(m)}},{timeout:!1})})]})})()},t.setIOSBottomSafeArea=function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this;return I(function(){var s,i,l;return M(this,function(c){return i=n?fh.hide:fh.show,l=(s=tn())===null||s===void 0?void 0:s.platform,[2,new Promise(function(d,h){if(!(l!=null&&l.isIOS))return d();Ue("CHANGE_BOTTOMBAR",{bottombarType:i},{success:function(){r.hideIOSSafeAreaBottom=!!n,window.IOS_BOTTOM_SAFE_AREA_HIDDEN=!!n,d()},fail:function(m){h(m)}},{timeout:!1,delay:200})})]})})()},t.configHeader=function(n){var r=this;return I(function(){var s;return M(this,function(i){return s=r.config,qe.isString(n.headerColor)&&(s.dataConfig.backgroundColor=n.headerColor),qe.isString(n.headerTextColor)&&(s.dataConfig.textColor=n.headerTextColor),qe.isString(n.textAlign)&&(n.textAlign==="left"?s.dataConfig.textAlign=mh.left:n.textAlign==="center"&&(s.dataConfig.textAlign=mh.center)),n.hideActionBar===!0?s.actionbarType=rd:n.hideActionBar===!1&&(s.actionbarType=bm),n.statusBarType==="normal"?s.statusbarType=Sa.normal:n.statusBarType==="hidden"?s.statusbarType=Sa.hidden:n.statusBarType==="transparent"&&(s.statusbarType=Sa.transparent),[2,new Promise(function(l,c){Ue("CHANGE_ACTIONBAR",Vt({},s),{success:function(){var d;r.config=Vt({},s);var h=(d=tn())===null||d===void 0?void 0:d.platform;window.STATUS_BAR_TYPE=kP(r.config.statusbarType),window.ACTION_BAR_HIDDEN=r.config.actionbarType===rd;var m=document==null?void 0:document.querySelector(":root");if(h!=null&&h.isAndroid){var p=0;if((n.statusBarType==="hidden"||n.statusBarType==="transparent")&&n.hideActionBar){var x=window.ANDROID_STATUS_BAR_HEIGHT;isNaN(x)&&(x=Math.round(ZaloJavaScriptInterface.getStatusBarHeight()/window.devicePixelRatio)),p=x}p?m==null||m.style.setProperty("--zaui-safe-area-inset-top","".concat(p,"px")):m==null||m.style.setProperty("--zaui-safe-area-inset-top","env(safe-area-inset-top, 0px)")}l()},fail:function(d){c(d)}},{timeout:!1})})]})})()},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}().getInstance(),yM=[ye({title:be()}).optional()];function bM(e){return _g.apply(this,arguments)}function _g(){return _g=I(function(e){return M(this,function(t){return[2,de("setNavigationBarTitle",yM,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,fr.setNavigationBarTitle(r.title)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("setNavigationBarTitle",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),_g.apply(this,arguments)}var wM=[ye({color:be(),textColor:Y.enum(["black","white"]).optional(),statusBarColor:be().optional()}).optional()];function _M(e){return kg.apply(this,arguments)}function kg(){return kg=I(function(e){return M(this,function(t){return[2,de("setNavigationBarColor",wM,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,fr.configHeader({hideActionBar:!(r.color.length>0),headerTextColor:r.textColor,headerColor:r.color.length>0?r.color:r.statusBarColor})]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("setNavigationBarColor",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),kg.apply(this,arguments)}var kM=[ye({type:Y.enum(["none","back","home","both"])}).optional()];function NM(e){return Ng.apply(this,arguments)}function Ng(){return Ng=I(function(e){return M(this,function(t){return[2,de("setNavigationBarLeftButton",kM,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,fr.setNavigationBarLeftButton(r.type)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("setNavigationBarLeftButton",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Ng.apply(this,arguments)}function yN(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function jM(e,t){return t.get?t.get.call(e):t.value}function Lt(e,t){var n=yN(e,t,"get");return jM(e,n)}function SM(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ai(e,t,n){SM(e,t),t.set(e,n)}function TM(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function ll(e,t,n){var r=yN(e,t,"set");return TM(e,r,n),n}var bN=function(){function e(){Ur(this,e)}var t=e.prototype;return t.getSynchronize=function(n){return new Map},t.setSynchronize=function(n){return{errorKeys:[]}},t.getInfoSynchronize=function(){return{currentSize:0,limitSize:0}},t.removeSynchronize=function(n){return{errorKeys:[]}},t.clearSynchronize=function(){},t.getItem=function(n){return this.getSynchronize([n]).get(n)||null},t.setItem=function(n,r){if(this.setSynchronize(q1({},n,r)).errorKeys.length>0)throw new Error("Failed to set item: ".concat(n))},t.removeItem=function(n){this.removeSynchronize([n])},t.clear=function(){this.clearSynchronize()},t.getStorageInfo=function(){return this.getInfoSynchronize()},e}(),xi=new WeakMap,Gr=new WeakMap,Va=new WeakMap,EM=function(e){lu(n,e);var t=cu(n);function n(s){var i;return Ur(this,n),i=t.call(this),Ai(er(i),xi,{writable:!0,value:localStorage}),Ai(er(i),Gr,{writable:!0,value:void 0}),Ai(er(i),Va,{writable:!0,value:void 0}),ll(er(i),Va,{keys:new Set,currentSize:0,limitSize:fc}),ll(er(i),Gr,s),i.findAllCurrentDataByApp(s),i}var r=n.prototype;return r.findAllCurrentDataByApp=function(s){try{var i;for(i in Lt(this,xi))s&&i.split("_")[0]!==s||Lt(this,Va).keys.add(i)}catch(l){}},r.get=function(s){var i=this,l=new Map;return s.forEach(function(c){l.set(c,i.getSync(c))}),Promise.resolve(l)},r.getSync=function(s){return Lt(this,Gr)&&(s="".concat(Lt(this,Gr),"_").concat(s)),Lt(this,Va).keys.has(s)?Lt(this,xi).getItem(s):null},r.set=function(s){var i=this;return I(function(){return M(this,function(l){return Object.entries(s).forEach(function(c){var d=Ea(c,2),h=d[0],m=d[1];i.setSync(h,m.replace(/\\"/g,'"'))}),[2,Promise.resolve({errorKeys:[]})]})})()},r.setSync=function(s,i){Lt(this,Gr)&&(s="".concat(Lt(this,Gr),"_").concat(s)),Lt(this,xi).setItem(s,i),Lt(this,Va).keys.add(s)},r.getInfo=function(){var s=this;return I(function(){return M(this,function(i){return[2,Promise.resolve(s.getInfoSync())]})})()},r.getInfoSync=function(){var s=wP(Lt(this,xi),Lt(this,Gr));return{currentSize:qe.isNumber(s)?Number((s/1024).toFixed(2)):0,limitSize:Number((fc/1024).toFixed(2))}},r.remove=function(s){var i=this;return I(function(){return M(this,function(l){return s.forEach(function(c){i.removeSync(c)}),[2,Promise.resolve({errorKeys:[]})]})})()},r.removeSync=function(s){Lt(this,Gr)&&(s="".concat(Lt(this,Gr),"_").concat(s)),Lt(this,Va).keys.has(s)&&(Lt(this,xi).removeItem(s),Lt(this,Va).keys.delete(s))},r.clearAsync=function(){var s=this;return I(function(){return M(this,function(i){return[2,Promise.resolve(s.clearSync())]})})()},r.clearSync=function(){var s=this;Lt(this,Va).keys.forEach(function(i){Lt(s,Gr)&&i.indexOf(Lt(s,Gr))<0||(Lt(s,xi).removeItem(i),Lt(s,Va).keys.delete(i))})},r.setSynchronize=function(s){var i=this;return Object.entries(s).forEach(function(l){var c=Ea(l,2),d=c[0],h=c[1];i.setSync(d,h)}),{errorKeys:[]}},r.getSynchronize=function(s){var i=this,l=new Map;return s.forEach(function(c){l.set(c,i.getSync(c))}),l},r.getInfoSynchronize=function(){return this.getInfoSync()},r.clearSynchronize=function(){this.clearSync()},n}(bN),Tr=new WeakMap,Lb=new WeakMap,CM=function(e){lu(n,e);var t=cu(n);function n(s){var i;return Ur(this,n),i=t.call(this),Ai(er(i),Tr,{writable:!0,value:void 0}),Ai(er(i),Lb,{writable:!0,value:void 0}),ll(er(i),Lb,{keys:new Set,currentSize:0,limitSize:fc}),ll(er(i),Tr,s),i}var r=n.prototype;return r.get=function(s){var i=this;return I(function(){return M(this,function(l){return[2,new Promise(function(c,d){Ue("ZBROWSER_MPDS",{mpds_action:"mpds.get",mpds_data:{keys:s},appId:Lt(i,Tr)},{success:function(h){var m=new Map;h&&h.mpds_data&&h.mpds_data.map&&(m=new Map(Object.entries(h.mpds_data.map))),c(m)},fail:function(h){d(h)}},{isMultiCallback:!1})})]})})()},r.getSynchronize=function(s){var i={mpds_action:"mpds.get",mpds_data:{keys:s},appId:Lt(this,Tr)},l=new Map,c=this.handleResult(i);return c&&c.mpds_data&&c.mpds_data.map&&(l=new Map(Object.entries(c.mpds_data.map))),l},r.set=function(s){var i=this;return I(function(){return M(this,function(l){return[2,new Promise(function(c,d){Ue("ZBROWSER_MPDS",{mpds_action:"mpds.set",mpds_data:{map:s},appId:Lt(i,Tr)},{success:function(h){var m=[];h&&h.mpds_data&&h.mpds_data.error_keys&&(m=h.mpds_data.error_keys),c({errorKeys:m})},fail:function(h){d(h)}},{isMultiCallback:!1})})]})})()},r.setSynchronize=function(s){var i={mpds_action:"mpds.set",mpds_data:{map:s},appId:Lt(this,Tr)},l=[],c=this.handleResult(i);return c&&c.mpds_data&&c.mpds_data.error_keys&&(l=c.mpds_data.error_keys),{errorKeys:l}},r.getInfo=function(){var s=this;return I(function(){return M(this,function(i){return[2,new Promise(function(l,c){Ue("ZBROWSER_MPDS",{mpds_action:"mpds.get.size",mpds_data:{},appId:Lt(s,Tr)},{success:function(d){var h=0;d&&d.mpds_data&&d.mpds_data.size&&(h=d.mpds_data.size),l({currentSize:qe.isNumber(h)?Number(Number(h)/1024):0,limitSize:Number(fc/1024)})},fail:function(d){c(d)}},{isMultiCallback:!1})})]})})()},r.getInfoSynchronize=function(){var s={mpds_action:"mpds.get.size",mpds_data:{},appId:Lt(this,Tr)},i=0,l=this.handleResult(s);return l&&l.mpds_data&&l.mpds_data.size&&(i=l.mpds_data.size),{currentSize:qe.isNumber(i)?Number(Number(i)/1024):0,limitSize:Number(fc/1024)}},r.remove=function(s){var i=this;return I(function(){return M(this,function(l){return[2,new Promise(function(c,d){Ue("ZBROWSER_MPDS",{mpds_action:"mpds.remove.key",mpds_data:{keys:s},appId:Lt(i,Tr)},{success:function(h){var m=[];h&&h.mpds_data&&h.mpds_data.error_keys&&(m=h.mpds_data.error_keys),c({errorKeys:m})},fail:function(h){d(h)}},{isMultiCallback:!1})})]})})()},r.removeSynchronize=function(s){var i={mpds_action:"mpds.remove.key",mpds_data:{keys:s},appId:Lt(this,Tr)},l=[],c=this.handleResult(i);return c&&c.mpds_data&&c.mpds_data.error_keys&&(l=c.mpds_data.error_keys),{errorKeys:l}},r.clearAsync=function(){var s=this;return I(function(){return M(this,function(i){return[2,new Promise(function(l,c){Ue("ZBROWSER_MPDS",{mpds_action:"mpds.clear.appData",mpds_data:{},appId:Lt(s,Tr)},{success:function(){l()},fail:function(d){c(d)}},{isMultiCallback:!1})})]})})()},r.clearSynchronize=function(){var s={mpds_action:"mpds.clear.appData",mpds_data:{},appId:Lt(this,Tr)};this.handleResult(s)},r.handleResult=function(s){var i=null;try{var l=ZaloJavaScriptInterface.processActionMPDS(JSON.stringify(s));if(l=JSON.parse(l)){if(l.error_code===0)return l.data;i=X1(l).toJSON()}}catch(c){i=c}finally{if(i!==null)throw i}return{}},n}(bN),Nm,jm,wN=function(){function e(){Ur(this,e)}var t=e.prototype;return t.getDataFromStorage=function(n){var r=this;return I(function(){var s,i;return M(this,function(l){switch(l.label){case 0:return[4,r.getInstance().get(n)];case 1:return s=l.sent(),i={},s.forEach(function(c,d){i[d]=tN(c)}),[2,i]}})})()},t.getItem=function(n){return this.getInstance().getItem(n)},t.putDataToStorage=function(n){var r=this;return I(function(){var s,i;return M(this,function(l){switch(l.label){case 0:return s=r.getInstance(),i={},Object.entries(n).forEach(function(c){var d=Ea(c,2),h=d[0],m=d[1];qe.isUndefined(m)||qe.isNull(m)||(i[h]=rN(m))}),[4,s.set(i)];case 1:return[2,l.sent()]}})})()},t.setItem=function(n,r){return this.getInstance().setItem(n,r)},t.removeDataFromStorage=function(n){var r=this;return I(function(){return M(this,function(s){switch(s.label){case 0:return[4,r.getInstance().remove(n)];case 1:return[2,s.sent()]}})})()},t.removeItem=function(n){this.getInstance().removeItem(n)},t.clearStorage=function(){var n=this;return I(function(){return M(this,function(r){switch(r.label){case 0:return[4,n.getInstance().clearAsync()];case 1:return r.sent(),[2]}})})()},t.clearStorageSync=function(){this.getInstance().clear()},t.getStorageInfo=function(){var n=this;return I(function(){return M(this,function(r){switch(r.label){case 0:return[4,n.getInstance().getInfo()];case 1:return[2,r.sent()]}})})()},t.getStorageInfoSync=function(){return this.getInstance().getStorageInfo()},e}(),Sm=new WeakMap,PM=function(e){lu(n,e);var t=cu(n);function n(r){var s;return Ur(this,n),s=t.call(this),Ai(er(s),Sm,{writable:!0,value:void 0}),ll(er(s),Sm,r),s}return n.prototype.getInstance=function(){return new EM(Lt(this,Sm))},n}(wN),Tm=new WeakMap,MM=function(e){lu(n,e);var t=cu(n);function n(r){var s;return Ur(this,n),s=t.call(this),Ai(er(s),Tm,{writable:!0,value:void 0}),ll(er(s),Tm,r),s}return n.prototype.getInstance=function(){return new CM(Lt(this,Tm))},n}(wN),_N=new PM(Sn),Ib=Yi(),LM=((Nm=tn())===null||Nm===void 0?void 0:Nm.platformName)||"unknown";Ib>0&&Ib>=HC[LM]&&(!((jm=tn())===null||jm===void 0)&&jm.appEnv.isMp)&&(_N=new MM(Sn));var Oa=_N,IM=[ye({data:Y.record(be(),Y.any())}).optional()];function AM(e){return jg.apply(this,arguments)}function jg(){return jg=I(function(e){return M(this,function(t){return[2,de("setStorage",IM,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp||K.isMpWeb?[4,Oa.putDataToStorage(r.data)]:[3,2];case 1:return[2,s.sent()];case 2:return[2,Promise.reject(we("setStorage",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),jg.apply(this,arguments)}var OM=[ye({keys:Y.array(be())}).optional()];function RM(e){return Sg.apply(this,arguments)}function Sg(){return Sg=I(function(e){return M(this,function(t){return[2,de("getStorage",OM,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp||K.isMpWeb?[4,Oa.getDataFromStorage(r.keys)]:[3,2];case 1:return[2,s.sent()];case 2:return[2,Promise.reject(we("getStorage",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Sg.apply(this,arguments)}function DM(e){return kN.apply(this,arguments)}function kN(){return(kN=I(function(e){return M(this,function(t){return[2,de("getStorageInfo",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp||K.isMpWeb?[4,Oa.getStorageInfo()]:[3,2];case 1:return[2,n.sent()];case 2:return[2,Promise.reject(we("getStorageInfo",{}))]}})}))]})})).apply(this,arguments)}var zM=[ye({keys:Y.array(be())}).optional()];function $M(e){return Tg.apply(this,arguments)}function Tg(){return Tg=I(function(e){return M(this,function(t){return[2,de("removeStorage",zM,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp||K.isMpWeb?[4,Oa.removeDataFromStorage(r.keys)]:[3,2];case 1:return[2,s.sent()];case 2:return[2,Promise.reject(we("removeStorage",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Tg.apply(this,arguments)}var BM=[ye({prefix:be().optional()}).optional()];function FM(e){return NN.apply(this,arguments)}function NN(){return(NN=I(function(e){return M(this,function(t){return[2,de("clearStorage",BM,[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp||K.isMpWeb?[4,Oa.clearStorage()]:[3,2];case 1:return[2,n.sent()];case 2:return[2,Promise.reject(we("clearStorage",{}))]}})}))]})})).apply(this,arguments)}var Ab,UM=(Ab=I(function(e,t){var n,r,s,i;return M(this,function(l){switch(l.label){case 0:return(r=t)?[3,2]:[4,aN()];case 1:r=!l.sent(),l.label=2;case 2:return n=r,[4,Ke.getAccessToken(n)];case 3:return s=l.sent(),i="id,name,user_id_by_oa,is_sensitive",i=e?"".concat(i,",picture.type(").concat(e,")"):"".concat(i,",picture"),[4,fetch("".concat(ls.GET_USER_INFO,"?fields=").concat(i,"&miniapp_id=").concat(Sn),{headers:{access_token:s||""}}).then(function(){var c=I(function(d){var h,m,p,x,y,b;return M(this,function(v){switch(v.label){case 0:return[4,d.json()];case 1:if(p=v.sent(),(x=p==null?void 0:p.error)!==void 0&&x!==0)throw y=(p==null?void 0:p.message)||ot.UNKNOWN_ERROR,new un(x,y);return b=p==null?void 0:p.user_id_by_oa,[2,{id:p==null?void 0:p.id,name:(p==null?void 0:p.name)||"",avatar:(p==null||(h=p.picture)===null||h===void 0||(m=h.data)===null||m===void 0?void 0:m.url)||"",idByOA:b,followedOA:!!(p!=null&&p.is_follower),isSensitive:p==null?void 0:p.is_sensitive}]}})});return function(d){return c.apply(this,arguments)}}())];case 4:return[2,l.sent()]}})}),function(e,t){return Ab.apply(this,arguments)}),HM=[ye({avatarType:Y.enum(["small","normal","large"]).optional(),autoRequestPermission:Y.boolean().default(!1).optional()}).optional()];function ZM(e){return Eg.apply(this,arguments)}function Eg(){return Eg=I(function(e){return M(this,function(t){return[2,de("getUserInfo",HM,[e],(n=I(function(r){var s,i,l;return M(this,function(c){switch(c.label){case 0:if(!K.isMp)return[3,4];s=r==null?void 0:r.avatarType,i=r==null?void 0:r.autoRequestPermission,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,UM(s,i)];case 2:return[2,{userInfo:c.sent()}];case 3:return l=c.sent(),[2,Promise.reject(l)];case 4:return K.isMpWeb?[2,Promise.resolve({userInfo:{id:"3368637342326461234",name:"User Name",avatar:"https://h5.zdn.vn/static/images/avatar.png"}})]:[2,Promise.reject(we("getUserInfo",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Eg.apply(this,arguments)}var Fl=function(e){return{NONE:e?-2:0,WIFI:e?0:1,"2G":2,"3G":e?15:2,"4G":e?13:2}},jN=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("WEBVIEW_NETWORKTYPE",{url:window.location.href,featureId:""},{success:function(r){var s,i,l,c=r.network,d=((s=tn())===null||s===void 0||(i=s.platform)===null||i===void 0?void 0:i.isAndroid)||!1;switch(c){case Fl(d).NONE:l=nr.none;break;case Fl(d).WIFI:l=nr.wifi;break;case Fl(d)["2G"]:case Fl(d)["3G"]:case Fl(d)["4G"]:l=nr.cellular;break;default:l=nr.unknown}t(l)},fail:function(r){n(r)}},{})})]})});function WM(e){return SN.apply(this,arguments)}function SN(){return(SN=I(function(e){return M(this,function(t){return[2,de("getNetworkType",[],[e],I(function(){var n,r;return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,jN()]:[3,2];case 1:return[2,{networkType:s.sent()}];case 2:if(K.isMpWeb){switch(n=navigator.connection||navigator.mozConnection||navigator.webkitConnection,n.effectiveType){case"none":r=nr.none;break;case"4g":r=nr.wifi;break;case"3g":case"2g":r=nr.cellular;break;default:r=nr.unknown}return[2,Promise.resolve({networkType:r})]}return[2,Promise.reject(we("getNetworkType",{}))]}})}))]})})).apply(this,arguments)}function VM(e){mn.getInstance().on(Dt.NetworkChanged,function(t){var n=t==null?void 0:t.state;jN().then(function(r){e({isConnected:n==="CONNECTED",networkType:r})})})}var KM=[Y.function().args(ye({isConnected:Y.boolean(),networkType:Y.enum(["none","wifi","cellular","unknown"])})).returns(Y.void())];function GM(e){return de("onNetworkStatusChange",KM,[e],function(t){var n=t;if(K.isMp)VM(n);else if(K.isMpWeb){var r=navigator.connection||navigator.mozConnection||navigator.webkitConnection,s=r.effectiveType;r.addEventListener("change",function(){var i;switch(s){case"none":i=nr.none;break;case"4g":i=nr.wifi;break;case"3g":case"2g":i=nr.cellular;break;default:i=nr.unknown}n({isConnected:!0,networkType:i})})}})}var Ob,qM=(Ob=I(function(e){var t,n,r,s,i,l;return M(this,function(c){return l={subaction:0,scanning_type:qe.isNumber(e==null?void 0:e.scanningType)?e.scanningType:0,data:{scan_from_source:qe.isString(e==null?void 0:e.scanFromSource)?e.scanFromSource:"",expire:qe.isNumber(e==null?void 0:e.expire)?e.expire:3e3,monitor_interval:qe.isNumber(e==null?void 0:e.monitorInterval)?e.monitorInterval:60,domain:qe.isString(e==null?void 0:e.domain)?e.domain:"",scan_config:{scan_time:qe.isNumber(e==null||(t=e.scanConfig)===null||t===void 0?void 0:t.scanTime)?e.scanConfig.scanTime:15e3,time_between_scan:qe.isNumber(e==null||(n=e.scanConfig)===null||n===void 0?void 0:n.timeBetweenScan)?e.scanConfig.timeBetweenScan:1e4,beacon_timeout:qe.isNumber(e==null||(r=e.scanConfig)===null||r===void 0?void 0:r.beaconTimeout)?e.scanConfig.beaconTimeout:3e4,delayCheckConnectedTimeout:qe.isNumber(e==null||(s=e.scanConfig)===null||s===void 0?void 0:s.delayCheckConnectedTimeout)?e.scanConfig.delayCheckConnectedTimeout:5e3,beaconConnectedTimeout:qe.isNumber(e==null||(i=e.scanConfig)===null||i===void 0?void 0:i.beaconConnectedTimeout)?e.scanConfig.beaconConnectedTimeout:6e5},items:Array.isArray(e==null?void 0:e.items)?e==null?void 0:e.items:[]}},[2,new Promise(function(d,h){Ue("SCAN_IBEACON",Vt({},l),{success:function(){d(!0)},fail:function(m){h(m)}},{})})]})}),function(e){return Ob.apply(this,arguments)}),YM=[ye({scanningType:Y.number().refine(function(e){return[0,1].includes(e)},{message:"The type must be either 0 or 1"}).default(0).optional(),expire:Y.number().optional(),monitorInterval:Y.number().optional(),domain:Y.string().optional(),scanConfig:ye({scanTime:Y.number().optional(),timeBetweenScan:Y.number().optional(),beaconTimeout:Y.number().optional(),delayCheckConnectedTimeout:Y.number().optional(),beaconConnectedTimeout:Y.number().optional()}).optional(),items:Y.array(ye({id:Y.string().optional(),distance:Y.number().optional(),monitor:ye({enable:Y.boolean().optional(),movingRange:Y.number().optional()}).optional()})).optional(),scanFromSource:Y.string().optional()}).optional()];function JM(e){return TN.apply(this,arguments)}function TN(){return(TN=I(function(e){return M(this,function(t){return[2,de("startBeaconDiscovery",YM,[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,qM(e)]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve(!0)]:[2,Promise.reject(we("startBeaconDiscovery",{}))]}})}))]})})).apply(this,arguments)}var QM=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("SCAN_IBEACON",{subaction:2},{success:function(){t(!0)},fail:function(r){n(r)}},{})})]})});function XM(e){return EN.apply(this,arguments)}function EN(){return(EN=I(function(e){return M(this,function(t){return[2,de("stopBeaconDiscovery",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,QM()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve(!0)]:[2,Promise.reject(we("stopBeaconDiscovery",{}))]}})}))]})})).apply(this,arguments)}var e4=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("SCAN_IBEACON",{subaction:1},{success:function(r){var s={beacons:[]};Array.isArray(r)&&r.forEach(function(i){var l={uuid:i.uuid,major:i.major,minor:i.minor,distance:i.distance,rssi:i.rssi};s.beacons.push(l)}),t(s)},fail:function(r){n(r)}},{isMultiCallback:!0})})]})});function t4(e){return CN.apply(this,arguments)}function CN(){return(CN=I(function(e){return M(this,function(t){return[2,de("getBeacons",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,e4()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({beacons:[]})]:[2,Promise.reject(we("getBeacons",{}))]}})}))]})})).apply(this,arguments)}var n4=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("WINDOW_CLOSE",{},{success:function(r){t(r)},fail:function(r){n(r)}},{})})]})});function r4(e){return PN.apply(this,arguments)}function PN(){return(PN=I(function(e){return M(this,function(t){return[2,de("closeApp",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,n4()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("closeApp",{}))]}})}))]})})).apply(this,arguments)}var a4=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("OPEN_QR",{skipOpenLink:!0},{success:function(r){t(r)},fail:function(r){n(r)}},{})})]})});function s4(e){return MN.apply(this,arguments)}function MN(){return(MN=I(function(e){return M(this,function(t){return[2,de("scanQRCode",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,a4()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({content:""})]:[2,Promise.reject(we("scanQRCode",{}))]}})}))]})})).apply(this,arguments)}var Rb,F0=(Rb=I(function(e,t,n,r){return M(this,function(s){return[2,new Promise(function(i,l){Ue("OPEN_PROFILE",{uId:e,type:tg[t],zapp:Aa,sourceId:n,sourceIndex:r},{success:function(){i()},fail:function(c){l(c)}},{})})]})}),function(e,t,n,r){return Rb.apply(this,arguments)}),i4=[ye({id:be(),type:Y.enum(["user","oa","aliasOA"]),sourceId:Y.any().optional(),sourceIndex:Y.any().optional()}).optional()];function o4(e){return Cg.apply(this,arguments)}function Cg(){return Cg=I(function(e){return M(this,function(t){return[2,de("openProfile",i4,[e],(n=I(function(r){var s,i,l,c;return M(this,function(d){switch(d.label){case 0:return K.isMp?(s=r.id,i=r.type,l=r.sourceId,c=r.sourceIndex,[4,F0(s,i,l,c)]):[3,2];case 1:return[2,d.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openProfile",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Cg.apply(this,arguments)}var Db,l4=(Db=I(function(e,t){var n,r,s,i=arguments;return M(this,function(l){return n=i.length>2&&i[2]!==void 0?i[2]:"",r=i.length>3?i[3]:void 0,s=i.length>4?i[4]:void 0,[2,new Promise(function(c,d){Ue("OPEN_CHAT",{uId:e,type:ng[t],msg:n,zapp:Aa,sourceId:r,sourceIndex:s},{success:function(){c()},fail:function(h){d(h)}},{})})]})}),function(e,t){return Db.apply(this,arguments)}),c4=[ye({id:be(),type:Y.enum(["user","oa"]),sourceId:Y.any().optional(),sourceIndex:Y.any().optional(),message:be().optional()}).optional()];function u4(e){return Pg.apply(this,arguments)}function Pg(){return Pg=I(function(e){return M(this,function(t){return[2,de("openChat",c4,[e],(n=I(function(r){var s,i,l,c,d;return M(this,function(h){switch(h.label){case 0:return K.isMp?(s=r.id,i=r.type,l=r.message,c=r.sourceId,d=r.sourceIndex,[4,l4(s,i,l,c,d)]):[3,2];case 1:return[2,h.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openChat",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Pg.apply(this,arguments)}function us(e,t){return t=t!=null?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);s.push.apply(s,i)}return s}(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}var zb,d4=(zb=I(function(e,t){var n,r;return M(this,function(s){switch(n={},r=e,e){case"image":t!=null&&t.imageUrls?(r="multi_image",n={photoUrl:t==null?void 0:t.imageUrls}):n={photoUrl:t==null?void 0:t.imageUrl};break;case"link":n={link:t==null?void 0:t.link,title:t==null?void 0:t.title,thumb:t==null?void 0:t.thumb,description:t==null?void 0:t.description};break;case"profile":n={avt:t==null?void 0:t.avatar,uid:t==null?void 0:t.id,dpn:t==null?void 0:t.displayName}}return[2,new Promise(function(i,l){Ue("OPEN_POSTFEED",us(Vt({type:rg[r]},n),{zapp:Aa}),{success:function(c){i({status:c==null?void 0:c.status,shareType:c==null?void 0:c.share_type,numberOfUser:c==null?void 0:c.uid_to_size})},fail:function(c){l(c)}},{})})]})}),function(e,t){return zb.apply(this,arguments)}),h4=[Y.union([ye({type:Y.enum(["image"]),data:ye({imageUrl:be().url().optional(),imageUrls:Y.array(be().url()).optional()})}),ye({type:Y.enum(["link"]),data:ye({link:be().url(),title:be().max(100).optional(),thumb:be().url().optional(),description:be().max(400).default("").optional()})}),ye({type:Y.enum(["profile"]),data:ye({id:be().optional()})})])];function f4(e){return Mg.apply(this,arguments)}function Mg(){return Mg=I(function(e){return M(this,function(t){return[2,de("openPostFeed",h4,[e],(n=I(function(r){var s,i;return M(this,function(l){switch(l.label){case 0:return K.isMp?(s=r.type,i=r.data,[4,d4(s,i)]):[3,2];case 1:return[2,l.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({status:1,shareType:0,numberOfUser:0})]:[2,Promise.reject(we("openPostFeed",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Mg.apply(this,arguments)}var $b,m4=($b=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("FOLLOW_OA",{uid:e,showDialogConfirm:!0,forceUpdate:!0,zapp:Aa},{success:function(s){n(s)},fail:function(s){r(s)}},{timeout:!1})})]})}),function(e){return $b.apply(this,arguments)}),p4=[ye({id:be(),showDialogConfirm:Y.boolean().optional()}).optional()];function g4(e){return Lg.apply(this,arguments)}function Lg(){return Lg=I(function(e){return M(this,function(t){return[2,de("followOA",p4,[e],(n=I(function(r){var s;return M(this,function(i){switch(i.label){case 0:return K.isMp?(s=r.id,[4,m4(s)]):[3,2];case 1:return[2,i.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("followOA",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Lg.apply(this,arguments)}var Bb,x4=(Bb=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("UNFOLLOW_OA",{uid:e,forceUpdate:!0,zapp:Aa},{success:function(){n()},fail:function(s){r(s)}},{})})]})}),function(e){return Bb.apply(this,arguments)}),v4=[ye({id:be()}).optional()];function y4(e){return Ig.apply(this,arguments)}function Ig(){return Ig=I(function(e){return M(this,function(t){return[2,de("unfollowOA",v4,[e],(n=I(function(r){var s;return M(this,function(i){switch(i.label){case 0:return K.isMp?(s=r.id,[4,x4(s)]):[3,2];case 1:return[2,i.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("unfollowOA",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Ig.apply(this,arguments)}var Fb,LN=(Fb=I(function(e,t,n,r,s,i){var l,c,d,h,m,p,x,y;return M(this,function(b){switch(b.label){case 0:return d=new URL(location.href),h=new URLSearchParams,m="".concat(d.pathname.replace(Z1,"")).concat(d.search),i&&(m="/".concat(e).concat(i[0]==="/"?"":"/").concat(i)),!(p=new URL("".concat(H1).concat(m))).searchParams.has("env")&&((l=window.APP_ENV)===null||l===void 0?void 0:l.length)>0&&p.searchParams.set("env",window.APP_ENV),!p.searchParams.has("version")&&((c=window.APP_VERSION)===null||c===void 0?void 0:c.length)>0&&p.searchParams.set("version",window.APP_VERSION),h.append("title",n),h.append("description",r||""),h.append("thumbnail",s||""),h.append("url",p.href),h.append("accessToken",t||""),x={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(ls.CREATE_SHARE_LINK,Vt({method:"POST",body:h},x))];case 1:return[4,b.sent().json()];case 2:if(!(y=b.sent())||y.err!==0)throw Yt.error.cannotGetShareInfo();return p.search="".concat(p.search,"&zshareId=").concat(y.data.shareId),[2,us(Vt({},y.data),{shareableLink:p.href})]}})}),function(e,t,n,r,s,i){return Fb.apply(this,arguments)}),Ub,b4=(Ub=I(function(e,t){var n,r,s,i,l,c,d,h,m,p,x;return M(this,function(y){switch(y.label){case 0:switch(n={},r=e,e){case"text":return[3,1];case"image":return[3,2];case"gif":return[3,3];case"video":return[3,4];case"link":return[3,5];case"oa":return[3,6];case"zmp":return[3,7];case"zmp_deep_link":return[3,10]}return[3,13];case 1:return n={text:t==null?void 0:t.text,desc:(t==null?void 0:t.desc)||(t==null?void 0:t.description),autoParseLink:t!=null&&t.autoParseLink?1:0},[3,14];case 2:return l=[],c=Yi(),d=((i=tn())===null||i===void 0?void 0:i.platformName)||"unknown",Number(c)>=UC[d]&&(r="multi_image"),Array.isArray(t==null?void 0:t.imageUrls)&&(t==null?void 0:t.imageUrls.length)>0?l=t==null?void 0:t.imageUrls:l.push(t==null?void 0:t.imageUrl),n={photoUrls:l,photoUrl:t==null?void 0:t.imageUrl,caption:t==null?void 0:t.caption},[3,14];case 3:return n={photoUrl:t==null?void 0:t.imageUrl,gifUrl:t==null?void 0:t.gifUrl,width:t==null?void 0:t.width,height:t==null?void 0:t.height},[3,14];case 4:return n={videoThumb:t==null?void 0:t.videoThumb,videoUrl:t==null?void 0:t.videoUrl,width:t==null?void 0:t.width,height:t==null?void 0:t.height},[3,14];case 5:return n={link:t==null?void 0:t.link,chatOnly:t!=null&&t.chatOnly?1:0},[3,14];case 6:return n={uid:t==null?void 0:t.id},[3,14];case 7:case 10:return[4,Ke.getAccessToken()];case 8:case 11:return s=y.sent(),[4,LN(Sn,s||"",(t==null?void 0:t.title)||"",(t==null?void 0:t.description)||"",(t==null?void 0:t.thumbnail)||"",t==null?void 0:t.path)];case 9:return h=y.sent(),n={data:{ZInstantAPIInfo:{url:"".concat(h.zinstantApi),zinstantdata_id:"templateId=".concat(h.ztemplateId,"&appId=").concat(Sn,"&shareId=").concat(h.shareId)},previewMsgText:{msg:{en:"Zalo Mini Program",vi:"Chng trnh nh"}},enableReactions:1}},[3,14];case 12:return m=y.sent().shareableLink,p=new URL(m),x=p.searchParams.getAll("zshareId"),p.searchParams.delete("zshareId"),x.length>0&&p.searchParams.append("zshareId",x[0]),n={link:p.href,chatOnly:0},[3,14];case 13:return[3,14];case 14:return[2,new Promise(function(b,v){Ue("OPEN_SHARESHEET",us(Vt({type:sg[r]},n),{zapp:Aa}),{success:function(j){b({status:j==null?void 0:j.status,shareType:j==null?void 0:j.share_type,numberOfUser:j==null?void 0:j.uid_to_size})},fail:function(j){v(j)}},{timeout:!1})})]}})}),function(e,t){return Ub.apply(this,arguments)}),w4=[Y.union([ye({type:Y.enum(["text"]),data:ye({text:be(),description:be().default("").optional(),autoParseLink:Y.boolean().default(!1).optional()})}),ye({type:Y.enum(["image"]),data:ye({imageUrl:be().url().optional(),imageUrls:Y.array(be().url()).max(10).optional()})}),ye({type:Y.enum(["link"]),data:ye({link:be().url(),chatOnly:Y.boolean().optional()})}),ye({type:Y.enum(["oa"]),data:ye({id:be()})}),ye({type:Y.enum(["gif"]),data:ye({gifUrl:be().url(),imageUrl:be().url().optional(),width:Or().min(0).optional(),height:Or().min(0).optional()})}),ye({type:Y.enum(["video"]),data:ye({videoThumb:be().url(),videoUrl:be().url(),width:Or().min(0).optional(),height:Or().min(0).optional()})}),ye({type:Y.enum(["zmp","zmp_deep_link"]),data:ye({title:be().max(100),thumbnail:be().url(),path:be().optional(),description:be().max(400).default("").optional()})})])];function _4(e){return Ag.apply(this,arguments)}function Ag(){return Ag=I(function(e){return M(this,function(t){return[2,de("openShareSheet",w4,[e],(n=I(function(r){var s,i;return M(this,function(l){switch(l.label){case 0:return K.isMp?(s=r.type,i=r.data,[4,b4(s,i)]):[3,2];case 1:return[2,l.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({status:2,shareType:0,numberOfUser:0})]:[2,Promise.reject(we("openShareSheet",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Ag.apply(this,arguments)}var k4=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("REQUEST_PERMISSION_CAMERA",{},{success:function(r){var s,i;!((s=tn())===null||s===void 0||(i=s.platform)===null||i===void 0)&&i.isAndroid?t({userAllow:r.error_code===void 0||(r==null?void 0:r.error_code)>=0,message:r.error_code===void 0?"User allowed":r==null?void 0:r.error_message}):t({userAllow:(r==null?void 0:r.error_code)>=0,message:r==null?void 0:r.error_message})},fail:function(r){var s,i;!((s=tn())===null||s===void 0||(i=s.platform)===null||i===void 0)&&i.isAndroid&&typeof(r==null?void 0:r.code)=="number"?t({userAllow:(r==null?void 0:r.code)>=0,message:r==null?void 0:r.message}):n(r)}},{isMultiCallback:!0})})]})});function N4(e){return IN.apply(this,arguments)}function IN(){return(IN=I(function(e){return M(this,function(t){return[2,de("requestCameraPermission",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return[4,k4()];case 1:return[2,n.sent()]}})}))]})})).apply(this,arguments)}var Hb,j4=(Hb=I(function(e,t,n){return M(this,function(r){return[2,new Promise(function(s,i){Ue("CREATE_SHORTCUT",{url:e,title:t,iconUrl:n},{success:function(l){s(l)},fail:function(l){i(l)}},{})})]})}),function(e,t,n){return Hb.apply(this,arguments)}),U0=I(function(){var e,t,n,r=arguments;return M(this,function(s){switch(s.label){case 0:return e=r.length>0&&r[0]!==void 0?r[0]:Sn,t=r.length>1&&r[1]!==void 0?r[1]:0,n=dN(),[4,gP(e,t,n.version)];case 1:return[2,s.sent()]}})}),Zb,H0=(Zb=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("OPEN_OUTAPP",{url:e},{success:function(){n()},fail:function(s){r(s)}},{})})]})}),function(e){return Zb.apply(this,arguments)}),S4=[ye({params:Y.record(be(),be()).optional()}).optional()];function T4(e){return Og.apply(this,arguments)}function Og(){return Og=I(function(e){return M(this,function(t){return[2,de("createShortcut",S4,[e],(n=I(function(r){var s,i,l,c,d,h,m,p;return M(this,function(x){switch(x.label){case 0:return K.isMp?[4,U0(Sn,0)]:[3,6];case 1:return l=x.sent(),c=(s=tn())===null||s===void 0||(i=s.platform)===null||i===void 0?void 0:i.isIOS,d=l.logoUrl||nN("og:image:url")||"",h=l.name||document.title,(m=r!=null&&r.params?new URLSearchParams(r==null?void 0:r.params):new URLSearchParams).append("utm_source","zalo-shortcut"),m.append("utm_medium","default"),m.append("utm_campaign","default"),c?(m.append("appId",Sn),m.append("appName",h),m.append("appIcon",d),p="https://mini.zalo.me/shortcut.html?".concat(m.toString()),[4,H0(encodeURI(p))]):[3,3];case 2:return x.sent(),[3,5];case 3:return[4,j4("".concat(H1,"/").concat(Sn,"/?").concat(m.toString()),h,d)];case 4:x.sent(),x.label=5;case 5:return[2,Yt.success()];case 6:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("createShortcut",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Og.apply(this,arguments)}var Wb,E4=(Wb=I(function(e,t,n){return M(this,function(r){return[2,new Promise(function(s,i){Ue("PROMPT_AUTHENTICATION",{secret_data:e,app_id:Aa,ui:{title:t==null?void 0:t.title,sub_title:t==null?void 0:t.subTitle,negative_text:t==null?void 0:t.negativeButtonText},require_fingerprint:n?1:0},{success:function(l){var c,d,h,m;s({code:l==null?void 0:l.error_code,message:l==null?void 0:l.error_message,data:{domain:l==null||(c=l.data)===null||c===void 0?void 0:c.domain,code:l==null||(d=l.data)===null||d===void 0?void 0:d.error_code,message:l==null||(h=l.data)===null||h===void 0?void 0:h.error_message,payToken:l==null||(m=l.data)===null||m===void 0?void 0:m.pay_token}})},fail:function(l){i(l)}},{})})]})}),function(e,t,n){return Wb.apply(this,arguments)}),C4=[ye({secretData:be(),ui:ye({title:be().default("Xc thc").optional(),subTitle:be().default("S dng sinh trc hc ca bn  xc thc").optional(),negativeButtonText:be().default("ng").optional()}).optional(),requireFingerprint:cs().default(!0).optional()}).optional()];function P4(e){return Rg.apply(this,arguments)}function Rg(){return Rg=I(function(e){return M(this,function(t){return[2,de("openBioAuthentication",C4,[e],(n=I(function(r){var s,i,l;return M(this,function(c){switch(c.label){case 0:return K.isMp?(s=r.secretData,i=r.ui,l=r.requireFingerprint,[4,E4(s,i,l)]):[3,2];case 1:return[2,c.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({code:0,message:"OK",data:{domain:"",code:0,message:"",payToken:""}})]:[2,Promise.reject(we("openBioAuthentication",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Rg.apply(this,arguments)}var M4=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("PROMPT_AUTHENTICATION_CHECK_STATE",{},{success:function(r){t(r==null?void 0:r.bio_state)},fail:function(r){n(r)}},{actionName:"action.prompt.authentication.check_state"})})]})});function L4(e){return AN.apply(this,arguments)}function AN(){return(AN=I(function(e){return M(this,function(t){return[2,de("checkStateBioAuthentication",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,M4()]:[3,2];case 1:return[2,{bioState:n.sent()}];case 2:return K.isMpWeb?[2,Promise.resolve({bioState:""})]:[2,Promise.reject(we("checkStateBioAuthentication",{}))]}})}))]})})).apply(this,arguments)}var Vb,I4=(Vb=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("SHOW_TOAST",{toast:e},{success:function(){n()},fail:function(s){r(s)}},{})})]})}),function(e){return Vb.apply(this,arguments)}),A4=[ye({message:be()}).optional()];function O4(e){return Dg.apply(this,arguments)}function Dg(){return Dg=I(function(e){return M(this,function(t){return[2,de("showToast",A4,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,I4(r.message)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("showToast",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Dg.apply(this,arguments)}var R4=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("HIDE_KEYBOARD",{},{success:function(){t()},fail:function(r){n(r)}},{})})]})});function D4(e){return ON.apply(this,arguments)}function ON(){return(ON=I(function(e){return M(this,function(t){return[2,de("hideKeyboard",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,R4()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("hideKeyboard",{}))]}})}))]})})).apply(this,arguments)}var Kb,z4=(Kb=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("OPEN_PHONE",{phoneNum:e,phoneCode:e},{success:function(){n()},fail:function(s){r(s)}},{})})]})}),function(e){return Kb.apply(this,arguments)}),$4=[ye({phoneNumber:be()})];function B4(e){return zg.apply(this,arguments)}function zg(){return zg=I(function(e){return M(this,function(t){return[2,de("openPhone",$4,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,z4(r.phoneNumber)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openPhone",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),zg.apply(this,arguments)}var Gb,F4=(Gb=I(function(e,t){return M(this,function(n){return[2,new Promise(function(r,s){Ue("OPEN_SMS",{content:t,phoneCode:e},{success:function(){r()},fail:function(i){s(i)}},{})})]})}),function(e,t){return Gb.apply(this,arguments)}),U4=[ye({content:be(),phoneNumber:be()})];function H4(e){return $g.apply(this,arguments)}function $g(){return $g=I(function(e){return M(this,function(t){return[2,de("openSMS",U4,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,F4(r.phoneNumber,r.content)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openSMS",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),$g.apply(this,arguments)}var qb,Z4=(qb=I(function(e){var t,n=arguments;return M(this,function(r){return t=n.length>1&&n[1]!==void 0?n[1]:"",[2,new Promise(function(s,i){Ue("VIEW_MYQR",{dpn:t,uid:e,zapp:Aa},{success:function(){s()},fail:function(l){i(l)}},{timeout:!1})})]})}),function(e){return qb.apply(this,arguments)}),W4=[ye({id:be(),displayName:be().default("").optional()})];function V4(e){return Bg.apply(this,arguments)}function Bg(){return Bg=I(function(e){return M(this,function(t){return[2,de("viewOAQr",W4,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,Z4(r.id,r.displayName)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("viewOAQr",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Bg.apply(this,arguments)}var Yb,Z0=(Yb=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("KEEP_SCREEN",{data:{keep_screen_on:e?1:0}},{success:function(){n()},fail:function(s){r(s)}},{})})]})}),function(e){return Yb.apply(this,arguments)}),K4=[ye({keepScreenOn:cs()})];function G4(e){return Fg.apply(this,arguments)}function Fg(){return Fg=I(function(e){return M(this,function(t){return[2,de("keepScreen",K4,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,Z0(r.keepScreenOn)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("keepScreen",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Fg.apply(this,arguments)}function q4(e){return RN.apply(this,arguments)}function RN(){return(RN=I(function(e){return M(this,function(t){return[2,de("onKeepScreen",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,Z0(!0)]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("onKeepScreen",{}))]}})}))]})})).apply(this,arguments)}function Y4(e){return DN.apply(this,arguments)}function DN(){return(DN=I(function(e){return M(this,function(t){return[2,de("offKeepScreen",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,Z0(!1)]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("offKeepScreen",{}))]}})}))]})})).apply(this,arguments)}var Jb,J4=(Jb=I(function(e,t,n){var r;return M(this,function(s){return r={},e?r={imageBase64Data:e}:t&&(r={imageUrl:t}),[2,new Promise(function(i,l){Ue("SAVE_IMAGE_GALLERY",us(Vt({},r),{onProgress:n}),{success:function(){i()},fail:function(c){l(c)}},{})})]})}),function(e,t,n){return Jb.apply(this,arguments)}),Q4=[ye({imageBase64Data:be().optional(),imageUrl:be().url().optional()}).optional()];function X4(e){return Ug.apply(this,arguments)}function Ug(){return Ug=I(function(e){return M(this,function(t){return[2,de("saveImageToGallery",Q4,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,J4(r.imageBase64Data,r.imageUrl,r.onProgress)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("saveImageToGallery",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Ug.apply(this,arguments)}var Qb,eL=(Qb=I(function(e,t){var n;return M(this,function(r){return n={videoUrl:e,onProgress:t},[2,new Promise(function(s,i){Ue("SAVE_VIDEO_GALLERY",Vt({},n),{success:function(){s()},fail:function(l){i(l)}},{})})]})}),function(e,t){return Qb.apply(this,arguments)}),tL=[ye({videoUrl:be().url()}).optional()];function nL(e){return Hg.apply(this,arguments)}function Hg(){return Hg=I(function(e){return M(this,function(t){return[2,de("saveVideoToGallery",tL,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,eL(r.videoUrl,r.onProgress)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("saveVideoToGallery",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Hg.apply(this,arguments)}var Xb,rL=(Xb=I(function(e){var t,n,r,s,i,l,c=arguments;return M(this,function(d){switch(d.label){case 0:t=c.length>1&&c[1]!==void 0?c[1]:"/",n=c.length>2&&c[2]!==void 0?c[2]:{},d.label=1;case 1:return d.trys.push([1,3,,4]),[4,U0(e,0)];case 2:return r=d.sent(),[3,4];case 3:return d.sent(),[3,4];case 4:s={appId:e},r&&(s.appName=r.name,s.appAvtUrl=r.logoUrl),i="".concat(O0,"/").concat(e).concat(t);try{l=new URL(i),Object.entries(n).forEach(function(h){var m=Ea(h,2),p=m[0],x=m[1];l.searchParams.append(p,String(x))}),i=l.href}catch(h){}return[2,new Promise(function(h,m){Ue("OPEN_MP",{mpUrl:i,mpInfo:s},{success:function(){h()},fail:function(p){m(p)}},{})})]}})}),function(e){return Xb.apply(this,arguments)}),aL=[ye({appId:be(),path:be().optional(),params:Y.record(be(),be()).optional()})];function sL(e){return Zg.apply(this,arguments)}function Zg(){return Zg=I(function(e){return M(this,function(t){return[2,de("openMiniApp",aL,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,rL(r.appId,r.path,r.params)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openMiniApp",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Zg.apply(this,arguments)}var iL=I(function(){var e,t,n=arguments;return M(this,function(r){return e=n.length>0&&n[0]!==void 0?n[0]:"oneShot",t=n.length>1?n[1]:void 0,[2,new Promise(function(s,i){Ue("INTERACTIVE_VIBRATION",{type:ig[e],vibrate_time:t},{success:function(){s()},fail:function(l){i(l)}},{})})]})}),oL=[ye({type:Y.enum(["oneShot"]).default("oneShot").optional(),milliseconds:Or().optional()}).optional()];function lL(e){return Wg.apply(this,arguments)}function Wg(){return Wg=I(function(e){return M(this,function(t){return[2,de("vibrate",oL,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,iL(r==null?void 0:r.type,r==null?void 0:r.milliseconds)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("vibrate",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Wg.apply(this,arguments)}var ew,zN=(ew=I(function(e,t){var n,r,s,i;return M(this,function(l){return n=new URL(e),r=n.href.includes("vnpay"),s=n.searchParams.get("typeInapp"),i=qe.isEmpty(t)?void 0:{modal_style:t!=null&&t.style?Nb(t==null?void 0:t.style):"bottom_sheet",left_button:t!=null&&t.leftButton?Nb(t==null?void 0:t.leftButton):"back"},!r&&qe.isEmpty(s)&&n.searchParams.set("typeInapp","1"),[2,new Promise(function(c,d){Ue("OPEN_INAPP",{url:n.href,style:i},{success:function(){c()},fail:function(h){d(h)}},{})})]})}),function(e,t){return ew.apply(this,arguments)}),cL=[ye({url:be(),config:ye({style:Y.enum(["bottomSheet","normal"]).default("bottomSheet").optional(),leftButton:Y.enum(["back","none"]).default("back").optional()}).optional()})];function uL(e){return Vg.apply(this,arguments)}function Vg(){return Vg=I(function(e){return M(this,function(t){return[2,de("openWebview",cL,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,zN(r.url,r.config)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openWebview",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Vg.apply(this,arguments)}function $N(){var e={},t=window.location.href;try{var n=new URL(t).searchParams.toString();n&&(e=qs.getParamsAsObject(n))}catch(r){throw new Error("Invalid URL")}return e}function dL(){return de("getRouteParams",[],[],function(){return $N()})}function hL(e){return BN.apply(this,arguments)}function BN(){return(BN=I(function(e){return M(this,function(t){return[2,de("getAppInfo",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,U0()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({description:"",name:"",version:"",appUrl:"",qrCodeUrl:""})]:[2,Promise.reject(we("getAppInfo",{}))]}})}))]})})).apply(this,arguments)}var tw,fL=(tw=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("WEBVIEW_SET_RESULT",{result:rN(e)},{success:function(){n()},fail:function(s){r(s)}},{})})]})}),function(e){return tw.apply(this,arguments)}),mL=[ye({data:Y.any()})];function pL(e){return Kg.apply(this,arguments)}function Kg(){return Kg=I(function(e){return M(this,function(t){return[2,de("sendDataToPreviousMiniApp",mL,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,fL(r.data)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("sendDataToPreviousMiniApp",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Kg.apply(this,arguments)}var gL=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){var r,s;Ue("MP_GET_NUMBER",{forceUpdate:!0},{success:function(i){var l={};if(i!=null&&i.token)return l.token=i==null?void 0:i.token,t(l);n(Yt.error.clientNotSupport())},fail:function(i){n(i)}},{delay:!((r=tn())===null||r===void 0||(s=r.platform)===null||s===void 0)&&s.isIOS?400:0})})]})});function xL(e){return FN.apply(this,arguments)}function FN(){return(FN=I(function(e){return M(this,function(t){return[2,de("getPhoneNumber",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,gL()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({number:""})]:[2,Promise.reject(we("getPhoneNumber",{}))]}})}))]})})).apply(this,arguments)}var vL=I(function(){var e,t,n,r=arguments;return M(this,function(s){return e=r.length>0&&r[0]!==void 0?r[0]:1,t=r.length>1?r[1]:void 0,n=r.length>2?r[2]:void 0,[2,new Promise(function(i,l){Ue("MP_OPEN_PROFILE_PICKER",Vt({},t===Dc.TOOL_DEL_FRIEND?{maxProfile:e,src:t,uids:n,zapp:Aa,appId:Sn}:{maxProfile:e}),{success:function(c){Array.isArray(c)?i(c.map(function(d){return d.id})):i([])},fail:function(c){l(c)}},{isMultiCallback:!0})})]})}),yL=[ye({maxProfile:Or().optional().default(1),src:Y.enum([Dc.TOOL_DEL_FRIEND]).optional(),uids:B0(be()).optional()}).superRefine(function(e,t){var n=e.src,r=e.maxProfile;n===Dc.TOOL_DEL_FRIEND?r<1&&t.addIssue({code:"custom",path:["maxProfile"],message:"maxProfile must be at least 1 when src is 'tool_del_friend'"}):(r<1||r>10)&&t.addIssue({code:"custom",path:["maxProfile"],message:"maxProfile must be between 1 and 10"})})];function bL(e){return Gg.apply(this,arguments)}function Gg(){return Gg=I(function(e){return M(this,function(t){return[2,de("openProfilePicker",yL,[e],(n=I(function(r){var s,i,l,c,d,h,m,p,x,y,b,v;return M(this,function(j){switch(j.label){case 0:return K.isMp?[4,vL(r==null?void 0:r.maxProfile,r==null?void 0:r.src,r==null?void 0:r.uids)]:[3,12];case 1:return s=j.sent(),i=function(N,w){return Array.from({length:Math.ceil(N.length/w)},function(S,P){return N.slice(P*w,P*w+w)})},s.length>0?[4,Ke.getAccessToken()]:[3,11];case 2:l=j.sent(),c=i(s,20),d=[],h=!0,m=!1,p=void 0,j.label=3;case 3:j.trys.push([3,8,9,10]),x=function(){var N,w,S,P,C,U,E;return M(this,function(Z){switch(Z.label){case 0:N=b.value,Z.label=1;case 1:return Z.trys.push([1,4,,5]),[4,fetch(ls.GET_LIST_USER_INFO,{method:"POST",headers:{"Content-Type":"application/json",access_token:l||""},body:JSON.stringify({fields:"id,name,picture",user_ids:N})})];case 2:return[4,Z.sent().json()];case 3:if((w=Z.sent()).error!==0||!w.data)throw new Error(w.message);return P=N.map(function(q){var $,D,J,H,W,ie,ge,he,V,fe,re;return{id:(($=w.data[q])===null||$===void 0||(D=$.user_info)===null||D===void 0?void 0:D.user_id_by_app)||"",profile:{name:(J=w.data[q])===null||J===void 0||(H=J.user_info)===null||H===void 0?void 0:H.name,avatar:(W=w.data[q])===null||W===void 0||(ie=W.user_info)===null||ie===void 0||(ge=ie.picture)===null||ge===void 0||(he=ge.data)===null||he===void 0?void 0:he.url},code:((V=w.data[q])===null||V===void 0?void 0:V.error)!==0?-1:0,message:"Get profile: ".concat(qe.isUndefined((fe=w.data[q])===null||fe===void 0?void 0:fe.message)?"Unknown error":(re=w.data[q])===null||re===void 0?void 0:re.message)}}),(S=d).push.apply(S,Qs(P)),[3,5];case 4:return C=Z.sent(),E=N.map(function(q){return{id:q,profile:{name:"",avatar:""},code:-1,message:"Can't get profile: ".concat(C.message)}}),(U=d).push.apply(U,Qs(E)),[3,5];case 5:return[2]}})},y=c[Symbol.iterator](),j.label=4;case 4:return(h=(b=y.next()).done)?[3,7]:[5,fP(x())];case 5:j.sent(),j.label=6;case 6:return h=!0,[3,4];case 7:return[3,10];case 8:return v=j.sent(),m=!0,p=v,[3,10];case 9:try{h||y.return==null||y.return()}finally{if(m)throw p}return[7];case 10:return[2,{users:d}];case 11:return[2,{users:[]}];case 12:return K.isMpWeb?[2,Promise.resolve({users:[]})]:[2,Promise.reject(we("openProfilePicker",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Gg.apply(this,arguments)}var nw,wL=(nw=I(function(e,t,n){var r;return M(this,function(s){return r=t&&qe.isString(t)&&t.length>0?"wpa_wpa2":"open",[2,new Promise(function(i,l){Ue("MP_JOIN_WIFI",{ssid:e,securityType:r,password:t,hiddenSsid:n},{success:function(c){i(c)},fail:function(c){l(c)}},{})})]})}),function(e,t,n){return nw.apply(this,arguments)}),_L=[ye({SSID:be(),password:be().optional(),hiddenSSID:cs().optional()})];function kL(e){return qg.apply(this,arguments)}function qg(){return qg=I(function(e){return M(this,function(t){return[2,de("connectWifi",_L,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,wL(r.SSID,r.password,r.hiddenSSID)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("connectWifi",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),qg.apply(this,arguments)}var rw,NL=(rw=I(function(e,t,n,r,s,i){var l,c;return M(this,function(d){return l={type:0,url:t,max_size:n||BC},c={enable:1,aspect_ratio:"1:1"},[2,new Promise(function(h,m){Ue("PICK_MEDIA",{media_type:og[e],edit_view:Vt({},c,r),silent_request:s,upload:l,max_select_items:i},{success:function(p){h(p==null?void 0:p.result_content)},fail:function(p){m(p)}},{isMultiCallback:!0})})]})}),function(e,t,n,r,s,i){return rw.apply(this,arguments)}),jL=[ye({type:Y.enum(["video","photo","file","zcamera","zcamera_photo","zcamera_video","zcamera_scan"]),serverUploadUrl:be().url(),maxItemSize:Or().min(0).optional(),editView:ye({enable:cs().optional(),aspectRatio:be().regex(/^\d+:\d+$/).optional()}).optional(),silentRequest:cs().optional(),maxSelectItem:Or().min(1).optional()})];function SL(e){return Yg.apply(this,arguments)}function Yg(){return Yg=I(function(e){return M(this,function(t){return[2,de("openMediaPicker",jL,[e],(n=I(function(r){var s,i,l,c,d,h;return M(this,function(m){switch(m.label){case 0:return K.isMp?(c={},qe.isUndefined((s=r.editView)===null||s===void 0?void 0:s.enable)||!((i=r.editView)===null||i===void 0)&&i.enable?c.enable=1:c.enable=0,c.aspect_ratio=(l=r.editView)===null||l===void 0?void 0:l.aspectRatio,d=r.silentRequest===!0?1:0,h=r.maxSelectItem,[4,NL(r.type,r.serverUploadUrl,r.maxItemSize,c,d,h)]):[3,2];case 1:return[2,{data:m.sent()}];case 2:return K.isMpWeb?[2,Promise.resolve({data:""})]:[2,Promise.reject(we("openMediaPicker",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Yg.apply(this,arguments)}var TL=[ye({title:be().max(100),description:be().max(400).default(""),thumbnail:be().url().optional(),path:be().optional()})];function EL(e){return Jg.apply(this,arguments)}function Jg(){return Jg=I(function(e){return M(this,function(t){return[2,de("getShareableLink",TL,[e],(n=I(function(r){var s;return M(this,function(i){switch(i.label){case 0:return[4,Ke.getAccessToken()];case 1:return s=i.sent(),[4,LN(window.APP_ID,s||"",r.title,r.description,r.thumbnail,r.path)];case 2:return[2,i.sent().shareableLink]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Jg.apply(this,arguments)}var aw,CL=(aw=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("MP_CLOSE_LOADINGVIEW",{at:new Date().getTime(),when:e,url:location.href},{success:function(s){n(s)},fail:function(s){r(s)}},{})})]})}),function(e){return aw.apply(this,arguments)});function PL(e){return UN.apply(this,arguments)}function UN(){return(UN=I(function(e){return M(this,function(t){return[2,de("closeLoading",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,CL("user action")]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("closeLoading",{}))]}})}))]})})).apply(this,arguments)}function ML(e){return HN.apply(this,arguments)}function HN(){return(HN=I(function(e){return M(this,function(t){return[2,de("requestUpdateZalo",[],[e],I(function(){var n,r,s;return M(this,function(i){switch(i.label){case 0:return K.isMp?(s=!((n=tn())===null||n===void 0||(r=n.platform)===null||r===void 0)&&r.isIOS?"https://apps.apple.com/vn/app/zalo/id579523206":"https://play.google.com/store/apps/details?id=com.zing.zalo",[4,H0(s)]):[3,2];case 1:return[2,i.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("requestUpdateZalo",{}))]}})}))]})})).apply(this,arguments)}var Yc=mn.getInstance();Yc.addListener=function(e,t,n){var r=e;return Yc.addListener(Dt[r],t,n)};var LL=[Y.function()];function IL(e){return de("onConfirmToExit",LL,[e],function(t){var n=t;K.isMp&&(Yc.on(Dt.AppClose,n,'{"handle_h5": 1}'),fr.setNavigationBarLeftButton(void 0,2))})}function AL(){return de("offConfirmToExit",[],[],function(){K.isMp&&(Yc.off(Dt.AppClose),fr.setNavigationBarLeftButton(void 0,0))})}function OL(){return de("getDeviceId",[],[],function(){return K.isMp&&Ke.getSync(Nn.DEVICE_ID)||""})}function RL(e){return ZN.apply(this,arguments)}function ZN(){return(ZN=I(function(e){return M(this,function(t){return[2,de("getDeviceIdAsync",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,Ke.jumpAndGetToken(Nn.DEVICE_ID)]:[3,2];case 1:return[2,n.sent()||""];case 2:return[2,Promise.resolve("")]}})}))]})})).apply(this,arguments)}function DL(){return de("getContext",[],[],function(){if(K.isMp){var e=Ke.getSync(Nn.CONTEXT_ID)||"";return{type:Ke.getSync(Nn.CONTEXT_TYPE)||"",id:e}}return{type:"",id:""}})}function zL(e){return WN.apply(this,arguments)}function WN(){return(WN=I(function(e){return M(this,function(t){return[2,de("getContextAsync",[],[e],I(function(){var n;return M(this,function(r){switch(r.label){case 0:return K.isMp?[4,Ke.jumpAndGetToken(Nn.CONTEXT_ID)]:[3,3];case 1:return n=r.sent()||"",[4,Ke.jumpAndGetToken(Nn.CONTEXT_TYPE)];case 2:return[2,{type:r.sent()||"",id:n}];case 3:return[2,Promise.resolve({type:"",id:""})]}})}))]})})).apply(this,arguments)}function $L(e){return VN.apply(this,arguments)}function VN(){return(VN=I(function(e){return M(this,function(t){return[2,de("getAuthCode",[],[e],I(function(){var n,r;return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,Ke.jumpAndGetToken(Nn.ZOAUTH,!0)]:[3,4];case 1:return n=s.sent()||"",[4,Ke.jumpAndGetToken(Nn.ZOAUTH_VRF)];case 2:return r=s.sent()||"",[4,Ke.verifyUserAuthorized()];case 3:if(s.sent())return[2,{authCode:n,authCodeVerify:r}];throw xa([{action:"getAuthCode",error:-104,message:"no user auth",data:{}}]),Yt.error.loginFailed("User Authentication Required");case 4:return[2,Promise.resolve({authCode:"",authCodeVerify:""})]}})}))]})})).apply(this,arguments)}function BL(e){return KN.apply(this,arguments)}function KN(){return(KN=I(function(e){return M(this,function(t){return[2,de("getZPIToken",[],[e],I(function(){var n,r,s,i;return M(this,function(l){switch(l.label){case 0:return K.isMp?[4,Ke.jumpAndGetToken(Nn.UTOKEN_ZPI)]:[3,5];case 1:return n=l.sent()||"",[4,Ke.jumpAndGetToken(Nn.GTOKEN_ZPI)];case 2:return r=l.sent()||"",[4,Ke.jumpAndGetToken(Nn.ZPP_ZPI)];case 3:return s=l.sent()||"",[4,Ke.jumpAndGetToken(Nn.ZPT_ZPI)];case 4:return i=l.sent()||"",[2,{utoken:n,gtoken:r,zpp:s,zpt:i}];case 5:return[2,Promise.resolve({utoken:"",gtoken:"",zpp:"",zpt:""})]}})}))]})})).apply(this,arguments)}var FL=[be()];function UL(e){return de("setAccessToken",FL,[e],function(t){var n=t;Ke.setAccessToken(n)})}var HL=[ye({url:be().url()})];function ZL(e){return Qg.apply(this,arguments)}function Qg(){return Qg=I(function(e){return M(this,function(t){return[2,de("openOutApp",HL,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,H0(r.url)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openOutApp",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Qg.apply(this,arguments)}var WL=[ye({count:Or().min(1).optional().default(1),sourceType:Y.array(Y.enum(["album","camera"])).max(2).default(["album","camera"]).optional(),cameraType:Y.enum(["back","front"]).default("front").optional()})];function VL(e){return Xg.apply(this,arguments)}function Xg(){return Xg=I(function(e){return M(this,function(t){return[2,de("chooseImage",WL,[e],(n=I(function(r){var s,i,l,c;return M(this,function(d){return s=r.sourceType||["album","camera"],i=r.cameraType||"front",l=r.count||1,(c=document.createElement("input")).type="file",c.multiple=l>1,c.accept="image/*",c.style.display="none",s.length===1&&s.includes("camera")&&(c.accept=i==="front"?"zcamera/photo-frontfacing":"zcamera/photo-backfacing",c.capture=i==="front"?"user":"environment"),[2,new Promise(function(h,m){c.addEventListener("change",function(p){var x,y=(p==null||(x=p.target)===null||x===void 0?void 0:x.files)||[];if(y.length>l)m(new Error("You are only allowed to choose a maximum of ".concat(l," images at a time")));else{var b={filePaths:[],tempFiles:[]};Array.from(y).forEach(function(v){b.filePaths.push(URL.createObjectURL(v)),b.tempFiles.push({path:URL.createObjectURL(v),size:v.size})}),h(b)}}),document.body.appendChild(c),c.click()})]})}),function(r){return n.apply(this,arguments)}))];var n})}),Xg.apply(this,arguments)}var KL=I(function(){var e,t,n=arguments;return M(this,function(r){return e=n.length>0&&n[0]!==void 0&&n[0],t=n.length>1&&n[1]!==void 0?n[1]:"Cho php Zalo truy cp vo v tr ca thit b ny?",[2,new Promise(function(s,i){Ue("GET_LOCATION",{silent_request:e,permission_description:t,forceUpdate:!0},{success:function(l){var c={};if(l!=null&&l.token)return c.token=l==null?void 0:l.token,s(c);i(Yt.error.clientNotSupport())},fail:function(l){i(l)}},{isMultiCallback:!0,timeout:!1})})]})});function GL(e){return GN.apply(this,arguments)}function GN(){return(GN=I(function(e){return M(this,function(t){return[2,de("getLocation",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,KL()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({token:""})]:[2,Promise.reject(we("getLocation",{}))]}})}))]})})).apply(this,arguments)}function qL(e){mn.getInstance().on(Dt.OnDataCallback,function(t){e({data:t})})}var YL=[Y.function().args(ye({data:Y.any()})).returns(Y.void())];function JL(e){return de("onCallbackData",YL,[e],function(){qL(e)})}var sw,qN=(sw=I(function(e){var t,n,r,s,i,l,c,d,h,m,p,x;return M(this,function(y){switch(y.label){case 0:return e||(e=$N()),typeof e=="object"&&((r=e.zmpOrderId||e.orderId)||(n=e.appTransID||e.apptransid||e.transId)),typeof e=="string"&&(s=qs.getParameterByName("orderId",e),i=qs.getParameterByName("appTransID",e)||qs.getParameterByName("apptransid",e),n=s||i),l={headers:{authorization:"Bearer "}},[4,Ke.jumpAndGetToken()];case 1:return y.sent(),c=(t=Ke.miniProgramConfig)===null||t===void 0?void 0:t.jwt,l.headers.authorization="Bearer ".concat(c),d=new URL(Jh.GET_TRANSACTION),h={orderId:r||"",transId:n||""},d.search=new URLSearchParams(h).toString(),[4,fetch(d.toString(),l)];case 2:return[4,y.sent().json()];case 3:if(!(m=y.sent()).data)throw Yt.error.badRequest(m.msg);return p=m.data||{},x={err:m.err,msg:m.msg},Object.keys(p).length!==0&&p.constructor===Object&&Object.assign(x,Vt({msg:p.resultMessage},p)),[2,x]}})}),function(e){return sw.apply(this,arguments)}),iw,QL=(iw=I(function(e,t,n,r,s,i,l){var c,d,h,m,p,x,y,b,v,j,N,w,S,P,C,U,E,Z,q,$,D;return M(this,function(J){switch(J.label){case 0:c=Sn,(d=new URLSearchParams).append("amount",e.toString()),d.append("item",encodeURIComponent(JSON.stringify(t))),d.append("mac",r),n&&d.append("desc",encodeURIComponent(n)),s&&(h=s,typeof s=="object"&&(h=JSON.stringify(s)),d.append("extradata",encodeURIComponent(h))),i&&(m=i,typeof i=="object"&&(m=JSON.stringify(i)),d.append("payload",encodeURIComponent(m))),l&&(typeof l=="string"?(d.append("method",l),d.append("isCustom","false")):typeof l=="object"&&(d.append("method",l.id),d.append("isCustom",JSON.stringify(l.isCustom)))),p={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},J.label=1;case 1:return J.trys.push([1,6,,7]),[4,Ke.jumpAndGetToken()];case 2:return J.sent(),y=(x=Ke.miniProgramConfig)===null||x===void 0?void 0:x.jwt,p.headers.authorization="Bearer ".concat(y),[4,fetch(Jh.CREATE_ORDER,us(Vt({method:"POST"},p),{body:d}))];case 3:return[4,J.sent().json()];case 4:if(!(b=J.sent()).data||b.err!==0)throw Yt.error.badRequest(b.msg);return v=b.data.id,j=b.data.jwt,N=b.data.messageToken||"",w=window.APP_VERSION,S=window.APP_ENV,P={miniAppId:c,orderId:v},C=b.data.method,U=b.data.isCustom,j&&(P.token=j),w&&(P.version=w),S&&(P.env=S),C&&(P.method=C),U&&(P.isCustom=U),E=qs.encode(P),Z=new URL("?".concat(E),ZC).toString(),q=Yi(),$=z0()&&q<742?"normal":"bottomSheet",hg.enablePaymentDone=mn.getInstance().eventNames().includes(Dt.PaymentDone),[4,zN(Z,{style:$}).then(function(){var H=!1;mn.getInstance().once(Dt.WebviewClosed,function(){setTimeout(I(function(){var W;return M(this,function(ie){switch(ie.label){case 0:return H?[3,2]:(mn.getInstance().emit(Dt.PaymentDone,v,{orderId:v}),[4,qN({zmpOrderId:v})]);case 1:(W=ie.sent()).err>=0&&!W.isCustom&&mn.getInstance().emit(Dt.PaymentClose,W.err,us(Vt({},W),{zmpOrderId:v})),ie.label=2;case 2:return[2]}})}),500)}),mn.getInstance().once(Dt.OpenApp,function(){H=!0}),mn.getInstance().once(Dt.PaymentDone,function(){H=!0,hg.enablePaymentDone=!1})})];case 5:return J.sent(),[2,{orderId:v,messageToken:N}];case 6:throw D=J.sent(),console.log("Internal error"),D;case 7:return[2]}})}),function(e,t,n,r,s,i,l){return iw.apply(this,arguments)}),XL=[ye({amount:Y.union([be(),Or()]),item:Y.array(Y.record(be(),Y.any())),desc:Y.string(),mac:Y.string(),extradata:Y.any().optional(),payload:Y.any().optional(),method:Y.union([Y.string(),Y.object({id:Y.string(),isCustom:Y.boolean()})]).optional()})];function YN(e){return ex.apply(this,arguments)}function ex(){return ex=I(function(e){return M(this,function(t){return[2,de("createOrder",XL,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,QL(r.amount,r.item,r.desc,r.mac,r.extradata,r.payload,r.method)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({orderId:"",messageToken:""})]:[2,Promise.reject(we("createOrder",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),ex.apply(this,arguments)}var eI=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("MP_CONFIRM_REQUEST_PAYMENT",{},{success:function(){t()},fail:function(r){n(r)}},{})})]})}),ow,tI=(ow=I(function(e,t,n,r,s){var i,l,c,d,h,m,p,x,y,b,v;return M(this,function(j){switch(j.label){case 0:(i=new URLSearchParams).append("amount",e.toString()),t&&i.append("desc",encodeURIComponent(t)),n&&i.append("method",n),r&&i.append("transId",r),s&&i.append("mac",s),l={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},j.label=1;case 1:return j.trys.push([1,9,,10]),[4,Ke.jumpAndGetToken()];case 2:if(j.sent(),h=(c=Ke.miniProgramConfig)===null||c===void 0?void 0:c.jwt,l.headers.authorization="Bearer ".concat(h),!(!((d=Ke.miniProgramConfig)===null||d===void 0)&&d.showConfirmToPayment))return[3,6];j.label=3;case 3:return j.trys.push([3,5,,6]),[4,eI()];case 4:return j.sent(),[3,6];case 5:throw m=j.sent(),console.error("Failed:",m),m;case 6:return[4,fetch(Jh.PURCHASE,us(Vt({method:"POST"},l),{body:i}))];case 7:return[4,j.sent().json()];case 8:if(!(p=j.sent()).data||p.err!==0)throw Yt.error.badRequest(p.msg);return x=p.data.id,y=p.data.messageToken||"",b=p.data.transId||"",[2,{orderId:x,messageToken:y,transId:b}];case 9:throw v=j.sent(),console.log("Internal error"),v;case 10:return[2]}})}),function(e,t,n,r,s){return ow.apply(this,arguments)}),nI=[ye({amount:Y.union([Y.string(),Y.number()]),desc:Y.string(),method:Y.string(),transId:Y.string().optional(),mac:Y.string().optional()})];function JN(e){return tx.apply(this,arguments)}function tx(){return tx=I(function(e){return M(this,function(t){return[2,de("purchase",nI,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,tI(r.amount,r.desc,r.method,r==null?void 0:r.transId,r==null?void 0:r.mac)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({orderId:"",messageToken:"",transId:""})]:[2,Promise.reject(we("purchase",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),tx.apply(this,arguments)}var lw,rI=(lw=I(function(e,t){return M(this,function(n){return[2,new Promise(function(r,s){var i=e&&(e==null?void 0:e.length)>0;Ue("MP_SELECT_PAYMENT_METHOD",{isBinding:i,channels:e,selectedMethod:t,forceUpdate:!0},{success:function(l){console.log(l),r(l)},fail:function(l){s(l)}},{})})]})}),function(e,t){return lw.apply(this,arguments)}),aI=[ye({channels:B0(ye({method:be(),subMethod:be().optional(),subInfo:be().optional()})).optional(),selectedMethod:ye({method:be(),subMethod:be().optional()}).optional()}).optional()];function QN(e){return nx.apply(this,arguments)}function nx(){return nx=I(function(e){return M(this,function(t){return[2,de("selectPaymentMethod",aI,[e],(n=I(function(r){var s,i;return M(this,function(l){switch(l.label){case 0:return K.isMp?(s=r.channels,i=r.selectedMethod,[4,rI(s,i)]):[3,2];case 1:return[2,l.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({method:""})]:[2,Promise.reject(we("selectPaymentMethod",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),nx.apply(this,arguments)}var sI=[ye({data:Y.union([be(),Y.record(be(),be().nullish())])})];function XN(e){return rx.apply(this,arguments)}function rx(){return rx=I(function(e){return M(this,function(t){return[2,de("checkTransaction",sI,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,qN(r.data)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({msg:"Success",orderId:"",resultCode:1,transTime:new Date().getTime().toString(),createdAt:new Date().getTime().toString(),transId:""})]:[2,Promise.reject(we("checkTransaction",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),rx.apply(this,arguments)}var cw,iI=(cw=I(function(e,t,n,r,s,i){var l,c,d,h,m,p,x,y,b,v,j,N,w,S,P;return M(this,function(C){switch(C.label){case 0:m=Sn,(p=new URLSearchParams).append("payType",t||lg.SUBSCRIPTION),x=pc.UNKNOW,n===xb.IMMEDIATE_AND_CHARGE_FULL_PRICE&&(x=pc.IMMEDIATE_AND_CHARGE_FULL_PRICE),n===xb.DEFERRED&&(x=pc.DEFERRED),p.append("utm",s||"default"),p.append("merchantTransId",i||""),p.append("prorationMode",x.toString()),p.append("appId",m),r&&p.append("method",r),y="",!((l=tn())===null||l===void 0||(c=l.platform)===null||c===void 0)&&c.isIOS?y="ios":!((d=tn())===null||d===void 0||(h=d.platform)===null||h===void 0)&&h.isAndroid&&(y="android"),p.append("os",y),p.append("productId",e),b={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer "}},C.label=1;case 1:return C.trys.push([1,5,,6]),[4,Ke.jumpAndGetToken()];case 2:return C.sent(),j=(v=Ke.miniProgramConfig)===null||v===void 0?void 0:v.jwt,b.headers.authorization="Bearer ".concat(j),[4,fetch(Jh.CREATE_IAP_ORDER,us(Vt({method:"POST"},b),{body:p}))];case 3:return[4,C.sent().json()];case 4:if(!(N=C.sent()).data||!N.data.store||N.err!==0)throw Yt.error.createIAPOrderFailed(N.err);return w=N.data.store,S=N.data.orderId,[2,new Promise(function(U,E){Ue("IAP_REQUESTPAYMENT",Vt({},w),{success:function(){U({orderId:S})},fail:function(Z){E(Z)}})})];case 5:throw P=C.sent(),console.log("Internal error"),P;case 6:return[2]}})}),function(e,t,n,r,s,i){return cw.apply(this,arguments)}),oI=[ye({productId:be(),payType:Y.enum(["ONETIME","SUBSCRIPTION"]).optional(),prorationMode:Y.enum(["DEFERRED","IMMEDIATE_AND_CHARGE_FULL_PRICE"]).default("DEFERRED").optional(),utm:be().optional(),method:Y.enum(["IAP","IAP_SANDBOX"]).optional(),merchantTransId:be().optional()})];function ej(e){return ax.apply(this,arguments)}function ax(){return ax=I(function(e){return M(this,function(t){return[2,de("createOrderIAP",oI,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,iI(r.productId,r.payType,r.prorationMode,r.method,r.utm,r.merchantTransId)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({orderId:""})]:[2,Promise.reject(we("createOrderIAP",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),ax.apply(this,arguments)}var lI=[ye({hide:cs().default(!1).optional()}).optional()];function cI(e){return sx.apply(this,arguments)}function sx(){return sx=I(function(e){return M(this,function(t){return[2,de("setAndroidBottomNavigationBar",lI,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,fr.setAndroidBottomNavigationBar(r.hide)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("setAndroidBottomNavigationBar",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),sx.apply(this,arguments)}var uI=[ye({hide:cs().default(!1).optional()}).optional()];function dI(e){return ix.apply(this,arguments)}function ix(){return ix=I(function(e){return M(this,function(t){return[2,de("setIOSBottomSafeArea",uI,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,fr.setIOSBottomSafeArea(r.hide)]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("setIOSBottomSafeArea",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),ix.apply(this,arguments)}var hI=[ye({type:Y.enum(["normal","hidden","transparent"]).default("normal").optional(),color:Y.string().optional()}).optional()];function fI(e){return ox.apply(this,arguments)}function ox(){return ox=I(function(e){return M(this,function(t){return[2,de("setStatusBar",hI,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,fr.configHeader({statusBarType:r.type,headerColor:r.color})]:[3,2];case 1:return[2,s.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("setStatusBar",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),ox.apply(this,arguments)}var mI=[ye({headerTextColor:Y.enum(["black","white"]).optional(),headerColor:Y.string().optional(),actionBar:ye({hide:Y.boolean().optional(),title:Y.string().optional(),leftButton:Y.enum(["back","none"]).optional(),textAlign:Y.enum(["left","center"]).default("left").optional()}).optional(),statusBarType:Y.enum(["normal","hidden","transparent"]).optional(),hideAndroidBottomNavigationBar:Y.boolean().optional(),hideIOSSafeAreaBottom:Y.boolean().optional()})];function pI(e){return lx.apply(this,arguments)}function lx(){return lx=I(function(e){return M(this,function(t){return[2,de("configAppView",mI,[e],(n=I(function(r){var s,i,l,c,d,h,m;return M(this,function(p){switch(p.label){case 0:return K.isMp?qe.isUndefined((s=r.actionBar)===null||s===void 0?void 0:s.leftButton)?[3,2]:[4,fr.setNavigationBarLeftButton((h=r.actionBar)===null||h===void 0?void 0:h.leftButton)]:[3,13];case 1:p.sent(),p.label=2;case 2:return qe.isUndefined((i=r.actionBar)===null||i===void 0?void 0:i.title)||!(!((l=r.actionBar)===null||l===void 0)&&l.title)?[3,4]:[4,fr.setNavigationBarTitle((m=r.actionBar)===null||m===void 0?void 0:m.title)];case 3:p.sent(),p.label=4;case 4:return[4,fr.configHeader({hideActionBar:(c=r.actionBar)===null||c===void 0?void 0:c.hide,statusBarType:r.statusBarType,headerTextColor:r.headerTextColor,headerColor:r.headerColor,textAlign:(d=r.actionBar)===null||d===void 0?void 0:d.textAlign})];case 5:p.sent(),p.label=6;case 6:return p.trys.push([6,11,,12]),typeof r.hideAndroidBottomNavigationBar!="boolean"?[3,8]:[4,fr.setAndroidBottomNavigationBar(r.hideAndroidBottomNavigationBar)];case 7:p.sent(),p.label=8;case 8:return typeof r.hideIOSSafeAreaBottom!="boolean"?[3,10]:[4,fr.setIOSBottomSafeArea(r.hideIOSSafeAreaBottom)];case 9:p.sent(),p.label=10;case 10:return[3,12];case 11:return p.sent(),[3,12];case 12:return[2];case 13:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("configAppView",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),lx.apply(this,arguments)}var gI=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("MA_MENU_MINIMIZE",{},{success:function(r){t(r)},fail:function(r){n(r)}},{})})]})});function xI(e){return tj.apply(this,arguments)}function tj(){return(tj=I(function(e){return M(this,function(t){return[2,de("minimizeApp",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,gI()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("minimizeApp",{}))]}})}))]})})).apply(this,arguments)}var vI=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("MA_MENU_PERMISSION",{},{success:function(r){t(r)},fail:function(r){n(r)}},{}),t()})]})});function yI(e){return nj.apply(this,arguments)}function nj(){return(nj=I(function(e){return M(this,function(t){return[2,de("openPermissionSetting",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,vI()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openPermissionSetting",{}))]}})}))]})})).apply(this,arguments)}var bI=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("MP_ADD_MYFAVORITES",{timestamp:new Date().getTime()},{success:function(r){t(r)},fail:function(r){n(r)}},{})})]})});function wI(e){return rj.apply(this,arguments)}function rj(){return(rj=I(function(e){return M(this,function(t){return[2,de("favoriteApp",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,bI()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("favoriteApp",{}))]}})}))]})})).apply(this,arguments)}var _I=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("OPEN_GROUPLIST",{},{success:function(r){t(r)},fail:function(r){n(r)}},{})})]})});function kI(e){return aj.apply(this,arguments)}function aj(){return(aj=I(function(e){return M(this,function(t){return[2,de("openGroupList",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,_I()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openGroupList",{}))]}})}))]})})).apply(this,arguments)}var NI=I(function(){var e;return M(this,function(t){switch(t.label){case 0:return[4,Ke.getAccessToken()];case 1:return e=t.sent(),[2,new Promise(function(n,r){Ue("MP_SEND_NOTIFICATION",{accessToken:e},{success:function(s){n(s)},fail:function(s){r(s)}},{delay:500})})]}})});function jI(e){return sj.apply(this,arguments)}function sj(){return(sj=I(function(e){return M(this,function(t){return[2,de("requestSendNotification",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,NI()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("requestSendNotification",{}))]}})}))]})})).apply(this,arguments)}var SI=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("MP_ADD_RATING",{},{success:function(r){t(r)},fail:function(r){n(r)}},{})})]})});function TI(e){return ij.apply(this,arguments)}function ij(){return(ij=I(function(e){return M(this,function(t){return[2,de("addRating",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,SI()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(we("addRating",{}))]}})}))]})})).apply(this,arguments)}var uw,dw,oj=(uw=I(function(e,t,n){var r,s;return M(this,function(i){switch(i.label){case 0:return(r=new URLSearchParams).append("appId",t),r.append("accessToken",n),r.append("oaId",e),s={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(ls.CHECK_INTERACT_OA,Vt({method:"POST",body:r},s))];case 1:return[4,i.sent().json()];case 2:return[2,i.sent()]}})}),function(e,t,n){return uw.apply(this,arguments)}),EI=(dw=I(function(e){return M(this,function(t){return[2,new Promise(function(n,r){Ue("MP_INTERACT_OA",{oaId:e,forceUpdate:!0},{success:function(s){n(s)},fail:function(s){r(s)}},{})})]})}),function(e){return dw.apply(this,arguments)}),CI=[ye({oaId:be()})];function hw(e){return cx.apply(this,arguments)}function cx(){return cx=I(function(e){return M(this,function(t){return[2,de("interactOA",CI,[e],(n=I(function(r){var s,i,l;return M(this,function(c){switch(c.label){case 0:return K.isMp?(s=r.oaId,[4,Ke.getAccessToken()]):[3,5];case 1:return!(i=c.sent())||qe.isEmpty(i)?[3,3]:[4,oj(s,Sn,i)];case 2:if(((l=c.sent())==null?void 0:l.err)===0)return[2,Promise.resolve({})];c.label=3;case 3:return[4,EI(s)];case 4:return[2,c.sent()];case 5:return K.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(we("interactOA",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),cx.apply(this,arguments)}var PI=[ye({oaId:be()})];function MI(e){return ux.apply(this,arguments)}function ux(){return ux=I(function(e){return M(this,function(t){return[2,de("isAllowedInteractWithOA",PI,[e],(n=I(function(r){var s,i,l;return M(this,function(c){switch(c.label){case 0:return K.isMp?(s=r.oaId,[4,Ke.getAccessToken()]):[3,4];case 1:return!(i=c.sent())||qe.isEmpty(i)?[3,3]:[4,oj(s,Sn,i)];case 2:return l=c.sent(),[2,Promise.resolve({status:(l==null?void 0:l.err)===0})];case 3:return[2,Promise.resolve({status:!1})];case 4:return K.isMpWeb?[2,Promise.resolve({status:!1})]:[2,Promise.reject(we("IsAllowedInteractWithOA",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),ux.apply(this,arguments)}function LI(e){return lj.apply(this,arguments)}function lj(){return(lj=I(function(e){return M(this,function(t){return[2,de("getSetting",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,$0()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({authSetting:{}})]:[2,Promise.reject(we("getSetting",{}))]}})}))]})})).apply(this,arguments)}var II=Y.enum(qC),AI=[ye({scopes:Y.array(II).max(2).optional()}).optional()];function OI(e){return dx.apply(this,arguments)}function dx(){return dx=I(function(e){return M(this,function(t){return[2,de("authorize",AI,[e],(n=I(function(r){var s;return M(this,function(i){switch(i.label){case 0:return K.isMp?(s=r==null?void 0:r.scopes,hs(724,573)?[4,eN(s!=null?s:void 0)]:[3,2]):[3,3];case 1:return[2,i.sent()];case 2:return[2,Promise.reject(Yt.error.clientNotSupport())];case 3:return K.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(we("authorize",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),dx.apply(this,arguments)}var RI=I(function(){return M(this,function(e){return[2,new Promise((t=I(function(n,r){var s;return M(this,function(i){switch(i.label){case 0:return qe.isUndefined(ZaloJavaScriptInterface)||typeof ZaloJavaScriptInterface.checkCameraPermission!="function"?[3,2]:[4,ZaloJavaScriptInterface.checkCameraPermission()];case 1:return s=i.sent(),[2,n({userAllow:s==="grant"})];case 2:return r(Yt.error.clientNotSupport()),[2]}})}),function(n,r){return t.apply(this,arguments)}))];var t})});function DI(e){return de("checkZaloCameraPermission",[],[e],I(function(){return M(this,function(t){switch(t.label){case 0:return[4,RI()];case 1:return[2,t.sent()]}})}))}var zI=I(function(){return M(this,function(e){return[2,new Promise((t=I(function(n,r){var s,i,l;return M(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Ke.jumpAndGetToken()];case 1:return c.sent(),i=(s=Ke.miniProgramConfig)===null||s===void 0?void 0:s.userId,n(i),[3,3];case 2:return l=c.sent(),r(l),[3,3];case 3:return[2]}})}),function(n,r){return t.apply(this,arguments)}))];var t})});function $I(e){return cj.apply(this,arguments)}function cj(){return(cj=I(function(e){return M(this,function(t){return[2,de("getUserID",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,zI()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve(void 0)]:[2,Promise.reject(we("getUserID",{}))]}})}))]})})).apply(this,arguments)}var BI=I(function(){return M(this,function(e){return[2,new Promise((t=I(function(n,r){var s,i,l;return M(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Ke.jumpAndGetToken()];case 1:return c.sent(),i=(s=Ke.miniProgramConfig)===null||s===void 0?void 0:s.idToken,n(i),[3,3];case 2:return l=c.sent(),r(l),[3,3];case 3:return[2]}})}),function(n,r){return t.apply(this,arguments)}))];var t})});function FI(e){return uj.apply(this,arguments)}function uj(){return(uj=I(function(e){return M(this,function(t){return[2,de("getIDToken",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,BI()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve(void 0)]:[2,Promise.reject(we("getIDToken",{}))]}})}))]})})).apply(this,arguments)}var UI={format:Ac.JPEG,quality:ch.NORMAL},vo={width:1024,height:768,facingMode:Pr.FRONT,mirrored:!1,audio:!1,video:!0},dj=function(){function e(n){var r,s,i,l,c,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=this;Ur(this,e),this._videoEnabled=!0,this._audioEnabled=null,this.tick=function(){if(h.haveVideoStream()&&h._userRequestFrameCallback){var m=h.getCanvas();if(h.drawFrame(),m){var p={data:m.toDataURL(Ac.PNG),width:m.width,height:m.height};mn.getInstance().emit(Ls.OnFrameCallback,0,p),requestAnimationFrame(h.tick)}}},this._videoElement=n,this._mediaConstraints=d!=null?d:null,this._facingMode=(r=d==null?void 0:d.facingMode)!==null&&r!==void 0?r:vo.facingMode,this._cameraList=[],this._stream=null,this._selectedDeviceId=(s=d==null?void 0:d.deviceId)!==null&&s!==void 0?s:"",this._canvasElement=null,this._ctx=null,this._hasUserMedia=!1,this._mirror=(i=d==null?void 0:d.mirrored)!==null&&i!==void 0?i:vo.mirrored,this._userRequestFrameCallback=!1,this._audioEnabled=(l=d==null?void 0:d.audio)!==null&&l!==void 0?l:vo.audio,this._videoEnabled=(c=d==null?void 0:d.video)!==null&&c!==void 0?c:vo.video}var t=e.prototype;return t.on=function(n,r){mn.getInstance().on(n,function(s){r(s)}),n===Ls.OnFrameCallback&&(this._userRequestFrameCallback=!0,this.tick())},t.off=function(n){mn.getInstance().off(n),n===Ls.OnFrameCallback&&(this._userRequestFrameCallback=!1)},t.getQualityNumber=function(n){switch(n){case"high":return .9;case"normal":default:return .6;case"low":return .2}},t.getFacingMode=function(){return this._facingMode},t.getCameraList=function(){return this._cameraList},t.getCameraCount=function(){return this._cameraList.length},t.getSelectedDeviceId=function(){return this._selectedDeviceId},t.setDeviceId=function(n){var r=this;return I(function(){return M(this,function(s){switch(s.label){case 0:return r._selectedDeviceId=n,r._hasUserMedia?[4,r.stream()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})()},t.getVideoInputs=function(n){var r=this;return this._cameraList=[],n.forEach(function(s){s.kind==="videoinput"&&r._cameraList.push(s)}),this._cameraList},t.updateMediaConstraints=function(n){var r=this;return I(function(){var s,i,l,c,d,h;return M(this,function(m){switch(m.label){case 0:return qe.isEmpty(n)?[2]:JSON.stringify(n)!==JSON.stringify(r._mediaConstraints)?(r._mediaConstraints=n,r._facingMode=(s=n==null?void 0:n.facingMode)!==null&&s!==void 0?s:r._facingMode,r._selectedDeviceId=(i=n==null?void 0:n.deviceId)!==null&&i!==void 0?i:r._selectedDeviceId,r._mirror=(l=n==null?void 0:n.mirrored)!==null&&l!==void 0?l:r._mirror,r._audioEnabled=(c=n==null?void 0:n.audio)!==null&&c!==void 0?c:r._audioEnabled,r._videoEnabled=(d=n==null?void 0:n.video)!==null&&d!==void 0?d:r._videoEnabled,r._selectedDeviceId=(h=n==null?void 0:n.deviceId)!==null&&h!==void 0?h:r._selectedDeviceId,r._hasUserMedia?[4,r.stream()]:[3,2]):[2];case 1:m.sent(),m.label=2;case 2:return[2]}})})()},t.getCurrentMediaConstraints=function(){var n=this._mediaConstraints,r={};this._videoElement.width=(n==null?void 0:n.width)||this._videoElement.width||vo.width,this._videoElement.height=(n==null?void 0:n.height)||this._videoElement.height||vo.height;var s=this._videoEnabled!==!1,i=this._audioEnabled!==!1;return s&&(this._selectedDeviceId==""&&this._facingMode!==null?r.facingMode=this._facingMode:r.deviceId={exact:this._selectedDeviceId},r.width={exact:this._videoElement.width},r.height={exact:this._videoElement.height}),{video:!!s&&r,audio:i}},t.selectCamera=function(){var n=!0,r=!1,s=void 0;try{for(var i,l=this._cameraList[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var c=i.value;if(this._facingMode==Pr.FRONT&&c.label.toLowerCase().includes("front")||this._facingMode==Pr.BACK&&c.label.toLowerCase().includes("back")){this._selectedDeviceId=c.deviceId;break}}}catch(d){r=!0,s=d}finally{try{n||l.return==null||l.return()}finally{if(r)throw s}}},t.flip=function(){var n=this;return I(function(){return M(this,function(r){switch(r.label){case 0:return n._facingMode=n._facingMode==Pr.FRONT?Pr.BACK:Pr.FRONT,n._videoElement.style.transform="",n.selectCamera(),n._hasUserMedia?[4,n.stream()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})()},t.start=function(){var n=this;return I(function(){var r,s;return M(this,function(i){return r=mn.getInstance(),s=function(c){try{n._hasUserMedia&&n.stop()}catch(d){}},r.off(Dt.AppPaused,s),r.on(Dt.AppPaused,s),[2,new Promise((l=I(function(c,d){var h;return M(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,n.stream()];case 1:return m.sent(),mn.getInstance().emit(Ls.OnStartCallback,0),c(n._selectedDeviceId),[3,3];case 2:return h=m.sent(),d(h),[3,3];case 3:return[2]}})}),function(c,d){return l.apply(this,arguments)}))];var l})})()},t.info=function(){var n=this;return I(function(){return M(this,function(r){return[2,new Promise(function(s,i){navigator.mediaDevices.enumerateDevices().then(function(l){n.getVideoInputs(l),s(n._cameraList)}).catch(function(l){i(l)})})]})})()},t.stream=function(){var n=this;return I(function(){return M(this,function(r){return[2,new Promise(function(s,i){try{n._stop();var l=n.getCurrentMediaConstraints();if(l.video===!1&&!l.audio)return void s(n._facingMode);navigator.mediaDevices.getUserMedia(l).then((c=I(function(d){return M(this,function(h){switch(h.label){case 0:return[4,n.info()];case 1:return h.sent(),n.selectCamera(),n.handleUserMedia(null,d),s(n._facingMode),[2]}})}),function(d){return c.apply(this,arguments)})).catch(function(d){n.handleUserMedia(d),i(d)})}catch(d){i(d)}var c})]})})()},t.handleUserMedia=function(n,r){var s=this;if(!n&&r){this._stream=r;try{this._videoElement&&(this._videoElement.srcObject=r,(this._facingMode==Pr.FRONT||this._mirror)&&(this._videoElement.style.transform="scale(-1,1)"),this._videoElement.onloadedmetadata=function(){s._userRequestFrameCallback&&s.tick()},this._videoElement.play().then(function(){s._hasUserMedia=!0}).catch(function(i){s._hasUserMedia=!1}))}catch(i){this._hasUserMedia=!1}}else this._hasUserMedia=!1},t.updateTrackEnable=function(n,r){var s=this;return I(function(){return M(this,function(i){switch(i.label){case 0:if(n===uh.VIDEO){if(s._videoEnabled===r)return[2];s._videoEnabled=r}else{if(s._audioEnabled===r)return[2];s._audioEnabled=r}return[4,s.stream()];case 1:return i.sent(),[2]}})})()},t.pause=function(n){var r=this;return I(function(){return M(this,function(s){switch(s.label){case 0:return[4,r.updateTrackEnable(n,!1)];case 1:return s.sent(),[2]}})})()},t.resume=function(n){var r=this;return I(function(){return M(this,function(s){switch(s.label){case 0:return[4,r.updateTrackEnable(n,!0)];case 1:return s.sent(),[2]}})})()},t.isUsing=function(){return this._hasUserMedia},t.stop=function(){this._stop(),mn.getInstance().emit(Ls.OnStopCallback,0)},t._stop=function(){e.stopMediaStream(this._stream),this._hasUserMedia=!1},t.setFacingMode=function(n){this._facingMode=n},t.setMirror=function(n){this._mirror=n,this._videoElement&&(this._videoElement.style.transform=n?"scale(-1,1)":"")},t.takePhoto=function(n){if(!this._hasUserMedia)return null;var r=n||{},s=this.getCanvas(r);if(this.drawFrame(r),s){var i=r.format||UI.format;return{data:s.toDataURL(i,this.getQualityNumber(r.quality)),width:s.width,height:s.height}}return null},t.haveVideoStream=function(){var n=this._videoElement;return n&&n.videoHeight>0&&this._hasUserMedia},t.getCanvas=function(n){var r=this._videoElement,s=n||{};if(!this.haveVideoStream())return null;if(!this._ctx){var i=r.videoWidth,l=r.videoHeight;if(!s.useVideoSourceSize){var c=i/l;l=(i=s.minScreenshotWidth||r.clientWidth)/c,s.minScreenshotHeight&&l<s.minScreenshotHeight&&(i=(l=s.minScreenshotHeight)*c)}this._canvasElement=document.createElement("canvas"),this._canvasElement.width=(s==null?void 0:s.width)||i,this._canvasElement.height=(s==null?void 0:s.height)||l,this._ctx=this._canvasElement.getContext("2d")}return this._canvasElement},t.drawFrame=function(n){var r=this._videoElement,s=n||{};if(r&&this._ctx&&this._canvasElement){var i=this._canvasElement,l=this._ctx;i.width=(s==null?void 0:s.width)||i.width,i.height=(s==null?void 0:s.height)||i.height,(s!=null&&s.mirrored||this._mirror||this._facingMode===Pr.FRONT)&&(l.translate(i.width,0),l.scale(-1,1)),l.drawImage(r,0,0,i.width,i.height),(s!=null&&s.mirrored||this._mirror||this._facingMode===Pr.FRONT)&&(l.scale(-1,1),l.translate(-i.width,0))}},e.stopMediaStream=function(n){n&&(n.getVideoTracks&&n.getAudioTracks?(n.getVideoTracks().map(function(r){n.removeTrack(r),r.stop()}),n.getAudioTracks().map(function(r){n.removeTrack(r),r.stop()})):n.stop())},e}(),HI=ye({play:Y.function(),pause:Y.function()}).refine(function(e){return"play"in e&&"pause"in e},{message:"Invalid HTMLVideoElement"}),ZI=[ye({videoElement:HI,mediaConstraints:Y.object({width:Y.number().min(100).optional(),height:Y.number().min(100).optional(),facingMode:Y.string().optional(),audio:Y.boolean().optional(),video:Y.boolean().optional(),deviceId:Y.string().optional(),mirrored:Y.boolean().optional()}).nullish()}).optional()];function WI(e){return de("createCameraContext",ZI,[e],function(t){return new dj(t.videoElement,t.mediaConstraints)})}var ef=function(){function e(){var n,r;Ur(this,e),this.sdkLoaded=!1,this.queue=[];var s=window.AdtimaZMA={config:{cateId:(n=window.zmpGlobal)===null||n===void 0||(r=n.appInfo)===null||r===void 0?void 0:r.cateType,appId:window.APP_ID},queue:[],load:function(i,l){s.queue=Qs(s.queue).concat([[i,l]])}}}var t=e.prototype;return t.loadSDK=function(){var n=this,r=document.createElement("script");r.src="https://adtima-static.zascdn.me/resource/js/zma/sdk.js?q=".concat(Math.floor(new Date().getTime()/864e5)),r.onload=function(){n.sdkLoaded=!0,n.processQueue()},r.onerror=function(){n.sdkLoaded=!0},document.body.appendChild(r)},t.load=function(n,r){var s;qe.isFunction((s=window.AdtimaZMA)===null||s===void 0?void 0:s.load)&&window.AdtimaZMA.load(n,r)},t.display=function(n){var r;this.sdkLoaded?qe.isFunction((r=window.AdtimaZMA)===null||r===void 0?void 0:r.display)&&window.AdtimaZMA.display(n):this.queue.push(this.display.bind(this,n))},t.refresh=function(n){var r;this.sdkLoaded?qe.isFunction((r=window.AdtimaZMA)===null||r===void 0?void 0:r.refresh)&&window.AdtimaZMA.refresh(n):this.queue.push(this.refresh.bind(this,n))},t.processQueue=function(){for(;this.queue.length>0;){var n=this.queue.shift();n&&n()}},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e}();function VI(e){return hj.apply(this,arguments)}function hj(){return(hj=I(function(e){return M(this,function(t){return[2,de("setupAd",[],[e],function(){return ef.getInstance().loadSDK()})]})})).apply(this,arguments)}var KI=[ye({ids:Y.union([Y.string(),Y.array(Y.string())]),config:ye({display:Y.boolean().optional(),onClose:Y.function().optional()}).optional()})];function GI(e){return hx.apply(this,arguments)}function hx(){return hx=I(function(e){return M(this,function(t){return[2,de("loadAd",KI,[e],(n=I(function(r){return M(this,function(s){return ef.getInstance().load(r.ids,r.config),[2]})}),function(r){return n.apply(this,arguments)}))];var n})}),hx.apply(this,arguments)}var qI=[ye({id:Y.string()})];function YI(e){return fx.apply(this,arguments)}function fx(){return fx=I(function(e){return M(this,function(t){return[2,de("displayAd",qI,[e],(n=I(function(r){return M(this,function(s){return ef.getInstance().display(r.id),[2]})}),function(r){return n.apply(this,arguments)}))];var n})}),fx.apply(this,arguments)}var JI=[ye({id:Y.string().optional()}).optional()];function QI(e){return mx.apply(this,arguments)}function mx(){return mx=I(function(e){return M(this,function(t){return[2,de("refreshAd",JI,[e],(n=I(function(r){return M(this,function(s){return ef.getInstance().refresh(r.id),[2]})}),function(r){return n.apply(this,arguments)}))];var n})}),mx.apply(this,arguments)}var Em,XI=[ye({id:be(),guidingText:be().optional(),color:be().optional(),onStatusChange:Y.function().optional(),onError:Y.function().optional()}).catchall(Y.any())];function eA(e){return px.apply(this,arguments)}function px(){return px=I(function(e){return M(this,function(t){return[2,de("showOAWidget",XI,[e],(n=I(function(r){var s,i,l,c,d,h,m,p;return M(this,function(x){if(K.isMp){try{s=document.getElementById(r.id),i=r.onStatusChange,l=r.guidingText,c=r.color,d=fl(r,["onStatusChange","guidingText","color"]),s&&(h=document.createElement("iframe"),m="ifOAW-".concat(r.id,"-").concat(Date.now()),(p=new URL(ou.OA)).searchParams.set("id",m),p.searchParams.set("appId",window.APP_ID),l&&p.searchParams.set("guidingText",l),c&&p.searchParams.set("color",c),Object.entries(d).forEach(function(y){var b=Ea(y,2),v=b[0],j=b[1];j&&p.searchParams.set("data-".concat(v),String(j))}),h.id=m,h.src=p.href,h.style.width="100%",h.style.height="100%",h.style.border="none",s.innerHTML=h.outerHTML,window.removeEventListener("message",Em,!1),Em=function(){var y=I(function(b){var v,j,N,w,S,P,C,U;return M(this,function(E){switch(E.label){case 0:return v=b.data,b.origin.startsWith(ja)?(j=document.getElementById(m),N=v.type,(w=new URL(v.href)).origin!==p.origin||w.pathname!==p.pathname||v.id!==m?[3,3]:N!=="followOA"&&N!=="getOAInfo"?[3,2]:[4,Ke.jumpAndGetToken()]):[3,3];case 1:return E.sent(),C=(S=Ke.miniProgramConfig)===null||S===void 0?void 0:S.jwt,j==null||(P=j.contentWindow)===null||P===void 0||P.postMessage({type:N,payload:{jwt:C}},ja),[3,3];case 2:N==="oaInfo"?i==null||i((U=v.payload)===null||U===void 0?void 0:U.followed):N==="openOA"?F0(v.payload.id,"oa"):N==="heightChange"&&(j.style.height="".concat(v.payload,"px")),E.label=3;case 3:return[2]}})});return function(b){return y.apply(this,arguments)}}(),window.addEventListener("message",Em,!1))}catch(y){console.log(y)}return[2,Promise.resolve()]}return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("showOAWidget",{}))]})}),function(r){return n.apply(this,arguments)}))];var n})}),px.apply(this,arguments)}var Cm,tA=[Y.object({id:Y.string(),type:Y.string(),text:Y.string(),color:Y.string().optional(),disabled:Y.boolean().optional(),onDataReceived:Y.function().optional(),onError:Y.function().optional()}).catchall(Y.any())];function nA(e){return gx.apply(this,arguments)}function gx(){return gx=I(function(e){return M(this,function(t){return[2,de("showFunctionButtonWidget",tA,[e],(n=I(function(r){var s,i,l,c,d,h,m;return M(this,function(p){if(K.isMp){try{s=document.getElementById(r.id),i=r.onDataReceived,l=r.onError,c=fl(r,["onDataReceived","onError"]),s&&(d=document.createElement("iframe"),h="ifFBW-".concat(r.id,"-").concat(Date.now()),(m=new URL(ou.FUNCTION_BUTTON)).searchParams.set("id",h),m.searchParams.set("appId",window.APP_ID),Object.entries(c).forEach(function(x){var y=Ea(x,2),b=y[0],v=y[1];v&&m.searchParams.set("data-".concat(b),String(v))}),d.id=h,d.src=m.href,d.style.width="100%",d.style.height="100%",d.style.border="none",Object.entries(c).forEach(function(x){var y=Ea(x,2),b=y[0],v=y[1];v&&d.setAttribute("data-".concat(b),String(v))}),s.innerHTML=d.outerHTML,window.removeEventListener("message",Cm,!1),Cm=function(){var x=I(function(y){var b,v,j,N,w,S,P,C,U,E,Z,q,$;return M(this,function(D){switch(D.label){case 0:return b=y.data,y.origin.startsWith(ja)?(v=document.getElementById(h),j=b.type,(N=new URL(b.href)).origin!==m.origin||N.pathname!==m.pathname||b.id!==h?[3,4]:j!=="buttonClicked"?[3,3]:[4,Ke.jumpAndGetToken()]):[3,4];case 1:return D.sent(),C=(w=Ke.miniProgramConfig)===null||w===void 0?void 0:w.jwt,U=(S=Ke.miniProgramConfig)===null||S===void 0?void 0:S.encryptKey,[4,cN()];case 2:return E=D.sent(),v==null||(P=v.contentWindow)===null||P===void 0||P.postMessage({type:j,payload:{jwt:C,encryptKey:U,accessToken:E}},ja),[3,4];case 3:j==="onSuccess"?((Z=b.payload)==null?void 0:Z.type)===c.type&&(q={callAction:function(J,H){var W;v==null||(W=v.contentWindow)===null||W===void 0||W.postMessage({type:"context.callAction",payload:{actionName:J,actionData:H}},ja)}},i==null||i.apply(void 0,Qs(Object.values(Z)).concat([q]))):j==="onError"&&(($=b.payload)==null?void 0:$.type)===c.type&&(l==null||l($==null?void 0:$.data)),D.label=4;case 4:return[2]}})});return function(y){return x.apply(this,arguments)}}(),window.addEventListener("message",Cm,!1))}catch(x){console.log(x)}return[2,Promise.resolve()]}return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("showFunctionButtonWidget",{}))]})}),function(r){return n.apply(this,arguments)}))];var n})}),gx.apply(this,arguments)}var fw,rA=(fw=I(function(e,t){var n;return M(this,function(r){return n={},e==="cccd"&&(n={mrz:t==null?void 0:t.mrz}),[2,new Promise(function(s,i){Ue("SCAN_NFC",{type:ag[e],data:n},{success:function(l){if(e==="cccd"){var c,d,h,m,p,x,y,b,v,j,N,w,S,P,C,U,E,Z,q,$,D,J={dg1:(c=l.dg1)!==null&&c!==void 0?c:"",dg2:(d=l.dg2)!==null&&d!==void 0?d:"",dg3:(h=l.dg3)!==null&&h!==void 0?h:"",dg4:(m=l.dg4)!==null&&m!==void 0?m:"",dg5:(p=l.dg5)!==null&&p!==void 0?p:"",dg6:(x=l.dg6)!==null&&x!==void 0?x:"",dg7:(y=l.dg7)!==null&&y!==void 0?y:"",dg8:(b=l.dg8)!==null&&b!==void 0?b:"",dg9:(v=l.dg9)!==null&&v!==void 0?v:"",dg10:(j=l.dg10)!==null&&j!==void 0?j:"",dg11:(N=l.dg11)!==null&&N!==void 0?N:"",dg12:(w=l.dg12)!==null&&w!==void 0?w:"",dg13:(S=l.dg13)!==null&&S!==void 0?S:"",dg14:(P=l.dg14)!==null&&P!==void 0?P:"",dg15:(C=l.dg15)!==null&&C!==void 0?C:"",dg16:(U=l.dg16)!==null&&U!==void 0?U:"",com:(E=l.com)!==null&&E!==void 0?E:"",sod:(Z=l.sod)!==null&&Z!==void 0?Z:"",challenge:(q=l.challenge)!==null&&q!==void 0?q:"",aAResult:($=l.aAResult)!==null&&$!==void 0?$:"",eACCAResult:(D=l.eACCAResult)!==null&&D!==void 0?D:""};s(J)}else s({})},fail:function(l){i(l)}},{timeout:!1})})]})}),function(e,t){return fw.apply(this,arguments)}),aA=[ye({type:Y.enum(["cccd"]),data:ye({mrz:be().max(90)})})];function sA(e){return xx.apply(this,arguments)}function xx(){return xx=I(function(e){return M(this,function(t){return[2,de("scanNFC",aA,[e],(n=I(function(r){var s,i;return M(this,function(l){switch(l.label){case 0:return K.isMp?hs(754,620)?(s=r.type,i=r.data,[4,rA(s,i)]):[3,2]:[3,3];case 1:return[2,l.sent()];case 2:return[2,Promise.reject(Yt.error.clientNotSupport())];case 3:return K.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(we("scanNFC",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),xx.apply(this,arguments)}var iA=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("CHECK_NFC",{},{success:function(r){t(r)},fail:function(r){n(r)}},{timeout:!1})})]})});function oA(e){return fj.apply(this,arguments)}function fj(){return(fj=I(function(e){return M(this,function(t){return[2,de("checkNFC",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?[4,iA()]:[3,2];case 1:return[2,n.sent()];case 2:return K.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(we("checkNFC",{}))]}})}))]})})).apply(this,arguments)}var lA=[Y.string().trim().min(1)];function cA(e){return de("getItem",lA,[e],function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(K.isMp||K.isMpWeb){if(hs(757,625))return Oa.getItem(n[0]);throw Yt.error.clientNotSupport()}throw we("getItem",{})})}var uA=[Y.string().trim().min(1),Y.string().trim()];function dA(e,t){return de("setItem",uA,[e,t],function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];if(K.isMp||K.isMpWeb){if(hs(757,625))return Oa.setItem(r[0],r[1]);throw Yt.error.clientNotSupport()}throw we("setItem",{})})}function hA(){return de("clear",[],[],function(){if(K.isMp||K.isMpWeb){if(hs(757,625))return Oa.clearStorageSync();throw Yt.error.clientNotSupport()}throw we("clear",{})})}var fA=[Y.string().trim().min(1)];function mA(e){return de("removeItem",fA,[e],function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(K.isMp||K.isMpWeb){if(hs(757,625))return Oa.removeItem(n[0]);throw Yt.error.clientNotSupport()}throw we("removeItem",{})})}function pA(){return de("getStorageInfoSync",[],[],function(){if(K.isMp||K.isMpWeb){if(hs(757,625))return Oa.getStorageInfoSync();throw Yt.error.clientNotSupport()}throw we("getStorageInfoSync",{})})}var gA={getItem:cA,setItem:dA,clear:hA,removeItem:mA,getStorageInfo:pA},mj={purchase:JN,createOrder:YN,checkTransaction:XN,createOrderIAP:ej,selectPaymentMethod:QN},xA=mj,mw,vA=(mw=I(function(e,t){return M(this,function(n){return[2,new Promise(function(r,s){Ue("SAVE_FILE",{fileUrl:e,onProgress:t},{success:function(i){r()},fail:function(i){s(i)}},{})})]})}),function(e,t){return mw.apply(this,arguments)}),yA=[ye({url:Y.string().url()}).optional()];function bA(e){return vx.apply(this,arguments)}function vx(){return vx=I(function(e){return M(this,function(t){return[2,de("downloadFile",yA,[e],(n=I(function(r){var s;return M(this,function(i){switch(i.label){case 0:return K.isMp?(s=r.url,[4,vA(s,r.onProgress)]):[3,2];case 1:return[2,i.sent()];case 2:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("downloadFile",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),vx.apply(this,arguments)}var wA=Y.enum(["APP_INITIALIZING","APP_READY"]),_A=Y.any();function kA(e,t){return de("logEvent",[wA,_A],[e,t],function(n,r){if(K.isMp||K.isMpWeb){var s,i,l,c=us(Vt({},typeof r=="object"&&r!==null?r:{}),{duration:Math.round(performance.now()),timestamp:Date.now()});return window==null||(s=window.zmpGlobal)===null||s===void 0||(i=s.eventManager)===null||i===void 0||(l=i.logEventForClient)===null||l===void 0||l.call(i,{type:Xp.DEV_TRACKING,eventCode:n==="APP_INITIALIZING"?dh.APP_INITIALIZING:dh.APP_READY}),xa([{action:"zmp.app.lifecycle.tracking",error:0,message:"",data:Vt({eventType:n},c)}])}throw we("logEvent",{})})}var NA={logEvent:kA},Pm,jA=[ye({id:be(),textColor:Y.string().optional(),fontSize:Y.string().optional(),buttonHeight:Y.string().optional(),buttonColor:Y.string().optional(),buttonTextColor:Y.string().optional(),buttonRadius:Y.string().optional(),buttonText:Y.string().optional(),checkboxBGColor:Y.string().optional(),checkboxCheckmarkColor:Y.string().optional(),onClick:Y.function().optional(),onStatusChange:Y.function().optional(),onError:Y.function().optional()}).catchall(Y.any())];function SA(e){return yx.apply(this,arguments)}function yx(){return yx=I(function(e){return M(this,function(t){return[2,de("showCustomOAWidget",jA,[e],(n=I(function(r){var s,i,l,c,d,h,m,p,x,y,b,v,j,N,w,S,P,C,U,E,Z;return M(this,function(q){if(K.isMp){try{s=document.getElementById(r.id),i=r.textColor,l=r.fontSize,c=r.buttonHeight,d=r.buttonColor,h=r.buttonTextColor,m=r.buttonRadius,p=r.buttonText,x=r.checkboxBGColor,y=r.checkboxCheckmarkColor,b=r.onStatusChange,v=r.onClick,j=r.onError,N=fl(r,["textColor","fontSize","buttonHeight","buttonColor","buttonTextColor","buttonRadius","buttonText","checkboxBGColor","checkboxCheckmarkColor","onStatusChange","onClick","onError"]),s&&(w=document.createElement("iframe"),S="ifCOAW-".concat(r.id,"-").concat(Date.now()),P=new URL(ou.CUSTOM_OA),C={id:S,appId:window.APP_ID,textColor:i,fontSize:l,buttonHeight:c,buttonColor:d,buttonTextColor:h,buttonRadius:m,buttonText:p,checkboxBGColor:x,checkboxCheckmarkColor:y},Object.entries(N).forEach(function($){var D=Ea($,2),J=D[0],H=D[1];H&&(C["data-".concat(J)]=String(H))}),U=JSON.stringify(C),E=EP(U),Z=encodeURIComponent(E),sN(P.searchParams,"data",Z),w.id=S,w.src=P.href,w.style.width="100%",w.style.height="100%",w.style.border="none",s.innerHTML=w.outerHTML,window.removeEventListener("message",Pm,!1),Pm=function(){var $=I(function(D){var J,H,W,ie,ge,he,V,fe,re;return M(this,function(se){switch(se.label){case 0:return J=D.data,D.origin.startsWith(ja)?(H=document.getElementById(S),W=J.type,(ie=new URL(J.href)).origin!==P.origin||ie.pathname!==P.pathname||J.id!==S?[3,3]:W!=="followOA"&&W!=="getOAInfo"?[3,2]:[4,Ke.jumpAndGetToken()]):[3,3];case 1:return se.sent(),V=(ge=Ke.miniProgramConfig)===null||ge===void 0?void 0:ge.jwt,H==null||(he=H.contentWindow)===null||he===void 0||he.postMessage({type:W,payload:{jwt:V}},ja),[3,3];case 2:W==="oaInfo"?b==null||b((fe=J.payload)===null||fe===void 0?void 0:fe.followed):W==="openOA"?F0(J.payload.id,"oa"):W==="heightChange"?H.style.height="".concat(J.payload,"px"):W==="onClick"?v==null||v((re=J.payload)===null||re===void 0?void 0:re.status):W==="onError"&&(j==null||j(J.payload)),se.label=3;case 3:return[2]}})});return function(D){return $.apply(this,arguments)}}(),window.addEventListener("message",Pm,!1))}catch($){console.log($)}return[2,Promise.resolve()]}return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("showCustomOAWidget",{}))]})}),function(r){return n.apply(this,arguments)}))];var n})}),yx.apply(this,arguments)}var Mm,TA=[ye({id:be(),onMethodChange:Y.function().optional()}).catchall(Y.any())];function EA(e){return bx.apply(this,arguments)}function bx(){return bx=I(function(e){return M(this,function(t){return[2,de("showWidget",TA,[e],(n=I(function(r){var s,i,l,c,d,h,m,p,x,y,b,v;return M(this,function(j){if(K.isMp){try{s=document.getElementById(r.id),i=r.onMethodChange,l=r.fail,c=fl(r,["onMethodChange","fail"]),s&&((d=document.getElementById(Rc))&&(d==null||(h=d.parentNode)===null||h===void 0||h.removeChild(d),d=null),d=document.createElement("iframe"),m=Rc,p=new URL(ou.CHECKOUT_KIT),x={id:m,appId:window.APP_ID},Object.entries(c).forEach(function(N){var w=Ea(N,2),S=w[0],P=w[1];P&&(x["data-".concat(S)]=P)}),y=JSON.stringify(x),b=btoa(y),v=encodeURIComponent(b),sN(p.searchParams,"data",v),d.id=m,d.src=p.href,d.style.width="100%",d.style.height="100%",d.style.border="none",s.innerHTML=d.outerHTML,window.removeEventListener("message",Mm,!1),Mm=function(){var N=I(function(w){var S,P,C,U,E,Z,q,$,D,J;return M(this,function(H){switch(H.label){case 0:if(S=w.data,!w.origin.startsWith(ja))return[3,9];if(P=S.type,C=document.getElementById(m),(U=new URL(S.href)).origin!==p.origin||U.pathname!==p.pathname||S.id!==m)return[3,9];switch(P){case"getInfo":return[3,1];case"getToken":return[3,2];case"heightChange":return[3,4];case"callAction":return[3,5];case"onMethodChange":return[3,6];case"onError":return[3,7]}return[3,8];case 1:return zo(C,P,{appId:window.APP_ID,zaloVersion:Yi(),appPlatform:(E=tn())===null||E===void 0?void 0:E.platformName}),[3,9];case 2:return[4,Ke.jumpAndGetToken()];case 3:return H.sent(),q=(Z=Ke.miniProgramConfig)===null||Z===void 0?void 0:Z.jwt,zo(C,P,{jwt:q}),[3,9];case 4:return C.style.height="".concat(S.payload,"px"),[3,9];case 5:return $=S.payload,D=$.actionName,J=$.actionData,String(D).length>0&&Ue(D,J,{success:function(W){zo(C,P,{status:0,actionName:D,data:W})},fail:function(W){zo(C,P,{status:-1,actionName:D,data:W})}},{}),[3,9];case 6:return i==null||i.apply(void 0,Qs(Object.values(S.payload))),[3,9];case 7:l==null||l(S.payload),H.label=8;case 8:return[3,9];case 9:return[2]}})});return function(w){return N.apply(this,arguments)}}(),window.addEventListener("message",Mm,!1))}catch(N){console.log(N)}return[2,Promise.resolve()]}return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("showWidget",{}))]})}),function(r){return n.apply(this,arguments)}))];var n})}),bx.apply(this,arguments)}var Lm,CA=[ye({amount:Y.union([Y.string(),Y.number()]),desc:Y.string(),payload:Y.object({}).catchall(Y.any()).optional()}).catchall(Y.any())];function PA(e){return wx.apply(this,arguments)}function wx(){return wx=I(function(e){return M(this,function(t){return[2,de("purchase",CA,[e],(n=I(function(r){return M(this,function(s){return K.isMp?[2,new Promise(function(i,l){var c=document.getElementById(Rc),d=new URL(ou.CHECKOUT_KIT);if(!(c&&Qp(c,HTMLIFrameElement)&&c.src.startsWith(d.origin)&&c.src.includes(d.pathname)))return l(we("purchase",{message:"Widget not found or not initialized."}));var h=fl(r,["amount","desc","payload"]),m="purchase";zo(c,m,Vt({amount:String(r.amount),desc:r.desc,payload:r.payload||{}},h)),window.removeEventListener("message",Lm,!1),Lm=function(){var p=I(function(x){var y,b,v;return M(this,function(j){if(y=x.data,x.origin.startsWith(ja)&&(b=y.type,(v=new URL(y.href)).origin===d.origin&&v.pathname===d.pathname&&y.id===Rc)){if(b===m)return[2,i(y.payload)];if(b==="onError")return[2,l(y.payload)]}return[2]})});return function(x){return p.apply(this,arguments)}}(),window.addEventListener("message",Lm,!1)})]:K.isMpWeb?[2,Promise.resolve({orderId:"",messageToken:"",transId:""})]:[2,Promise.reject(we("purchase",{}))]})}),function(r){return n.apply(this,arguments)}))];var n})}),wx.apply(this,arguments)}var MA={showWidget:EA,purchase:PA},pw,LA=(pw=I(function(e){var t,n,r,s,i=arguments;return M(this,function(l){return t=i.length>1&&i[1]!==void 0?i[1]:"",n=i.length>2&&i[2]!==void 0&&i[2],r=i.length>3&&i[3]!==void 0&&i[3],s=i.length>4&&i[4]!==void 0&&i[4],[2,new Promise(function(c,d){Ue("OPEN_DOCUMENT",{url:e,title:t,share:n,download:r,edit:s},{success:function(h){c()},fail:function(h){d(h)}},{timeout:!1})})]})}),function(e){return pw.apply(this,arguments)}),IA=[ye({url:be(),title:be().optional(),download:Y.boolean().default(!1).optional(),edit:Y.boolean().default(!1).optional()})];function AA(e){return _x.apply(this,arguments)}function _x(){return _x=I(function(e){return M(this,function(t){return[2,de("openDocument",IA,[e],(n=I(function(r){return M(this,function(s){switch(s.label){case 0:return K.isMp?hs(842,666)?[4,LA(r.url,r.title,!1,r.download,r.edit)]:[3,2]:[3,3];case 1:return[2,s.sent()];case 2:return[2,Promise.reject(Yt.error.clientNotSupport())];case 3:return K.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(we("openDocument",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),_x.apply(this,arguments)}function OA(e){return pj.apply(this,arguments)}function pj(){return(pj=I(function(e){return M(this,function(t){return[2,de("getEntrySource",[],[e],I(function(){var n,r;return M(this,function(s){switch(s.label){case 0:return K.isMp?[4,Ke.jumpAndGetToken()]:[3,2];case 1:return s.sent(),r=(n=Ke.miniProgramConfig)===null||n===void 0?void 0:n.srcOpen,[2,Promise.resolve({srcOpen:r||""})];case 2:return[2,Promise.resolve({srcOpen:""})]}})}))]})})).apply(this,arguments)}var RA=I(function(){return M(this,function(e){return[2,new Promise(function(t,n){Ue("GET_DEVICE_INFO",{},{success:function(r){t(r)},fail:function(r){n(r)}},{})})]})});function DA(e){return gj.apply(this,arguments)}function gj(){return(gj=I(function(e){return M(this,function(t){return[2,de("getDeviceInfo",[],[e],I(function(){return M(this,function(n){switch(n.label){case 0:return K.isMp?hs(25102854,674)?[4,RA()]:[3,2]:[3,3];case 1:return[2,n.sent()];case 2:return[2,Promise.reject(Yt.error.clientNotSupport())];case 3:return K.isMpWeb?[2,Promise.resolve({})]:[2,Promise.reject(we("getDeviceInfo",{}))]}})}))]})})).apply(this,arguments)}window.ZaloMiniAppSDK={getVersion:iN},oN();const xj=Object.freeze(Object.defineProperty({__proto__:null,AppError:un,get CameraEvents(){return Ls},CheckoutKit:MA,CheckoutSDK:xA,get EventName(){return Dt},get Events(){return Dt},get FacingMode(){return Pr},Payment:mj,get PhotoFormat(){return Ac},get PhotoQuality(){return ch},get StreamType(){return uh},ZMACameraImp:dj,addRating:TI,authorize:OI,checkNFC:oA,checkStateBioAuthentication:L4,checkTransaction:XN,checkZaloCameraPermission:DI,chooseImage:VL,clearStorage:FM,closeApp:r4,closeLoading:PL,configAppView:pI,connectWifi:kL,createCameraContext:WI,createOrder:YN,createOrderIAP:ej,createShortcut:T4,displayAd:YI,downloadFile:bA,events:Yc,favoriteApp:wI,followOA:g4,getAccessToken:cN,getAppInfo:hL,getAuthCode:$L,getBeacons:t4,getContext:DL,getContextAsync:zL,getDeviceId:OL,getDeviceIdAsync:RL,getDeviceInfo:DA,getEntrySource:OA,getIDToken:FI,getLocation:GL,getNetworkType:WM,getPhoneNumber:xL,getRouteParams:dL,getSetting:LI,getShareableLink:EL,getStorage:RM,getStorageInfo:DM,getSystemInfo:hN,getUserID:$I,getUserInfo:ZM,getVersion:iN,getZPIToken:BL,hideKeyboard:D4,interactOA:hw,interactOa:hw,isAllowedInteractWithOA:MI,keepScreen:G4,loadAd:GI,login:oN,minimizeApp:xI,nativeStorage:gA,offConfirmToExit:AL,offKeepScreen:Y4,onCallbackData:JL,onConfirmToExit:IL,onKeepScreen:q4,onNetworkStatusChange:GM,openBioAuthentication:P4,openChat:u4,openDocument:AA,openGroupList:kI,openMediaPicker:SL,openMiniApp:sL,openOutApp:ZL,openPermissionSetting:yI,openPhone:B4,openPostFeed:f4,openProfile:o4,openProfilePicker:bL,openSMS:H4,openShareSheet:_4,openWebview:uL,purchase:JN,refreshAd:QI,removeStorage:$M,requestCameraPermission:N4,requestSendNotification:jI,requestUpdateZalo:ML,saveImageToGallery:X4,saveVideoToGallery:nL,scanNFC:sA,scanQRCode:s4,selectPaymentMethod:QN,sendDataToPreviousMiniApp:pL,setAccessToken:UL,setAndroidBottomNavigationBar:cI,setIOSBottomSafeArea:dI,setNavigationBarColor:_M,setNavigationBarLeftButton:NM,setNavigationBarTitle:bM,setStatusBar:fI,setStorage:AM,setupAd:VI,showCustomOAWidget:SA,showFunctionButtonWidget:nA,showOAWidget:eA,showToast:O4,startBeaconDiscovery:JM,stopBeaconDiscovery:XM,trackingManager:NA,unfollowOA:y4,vibrate:lL,viewOAQr:V4},Symbol.toStringTag,{value:"Module"}));var Im,gw,Mn=fl(xj,["createOrder","checkTransaction","createOrderIAP","selectPaymentMethod","purchase"]);(gw=(Im=tn())===null||Im===void 0?void 0:Im.appEnv)!=null&&gw.isMp&&(window.ZaloMiniAppSDK={},Object.assign(window.ZaloMiniAppSDK,xj));function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc.apply(null,arguments)}function tf(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zA=Re.createContext(void 0),$A=["theme"],BA=function(t){var n=t.theme,r=n===void 0?"light":n,s=tf(t,$A),i=k.useState(r||"light"),l=i[0],c=i[1];k.useEffect(function(){(l==="dark"||l==="light")&&document.body.setAttribute("zaui-theme",l)},[l]);var d=k.useCallback(function(m){var p=m.mode;p!==l&&(p==="dark"||p==="light")&&c(p)},[l]),h=Re.useMemo(function(){return{setThemeMode:d,themeMode:l}},[d,l]);return Re.createElement(zA.Provider,Jc({value:h},s))};function vj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=vj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function zs(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=vj(e))&&(r&&(r+=" "),r+=t);return r}var xw="zaui",du=function(t,n){return t?xw+"-"+t:xw};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function FA(e,t){if(Qc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UA(e){var t=FA(e,"string");return Qc(t)=="symbol"?t:t+""}function W0(e,t,n){return(t=UA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HA={zi_add_member:"zi_add_member",zi_add_member_solid:"zi_add_member_solid",zi_add_user:"zi_add_user",zi_add_user_solid:"zi_add_user_solid",zi_admin:"zi_admin",zi_create_group:"zi_create_group",zi_create_group_solid:"zi_create_group_solid",zi_group:"zi_group",zi_group_solid:"zi_group_solid",zi_members:"zi_members",zi_members_solid:"zi_members_solid",zi_stranger:"zi_stranger",zi_stranger_solid:"zi_stranger_solid",zi_switch_users:"zi_switch_users",zi_switch_users_solid:"zi_switch_users_solid",zi_user:"zi_user",zi_user_check:"zi_user_check",zi_user_circle:"zi_user_circle",zi_user_circle_solid:"zi_user_circle_solid",zi_user_search:"zi_user_search",zi_user_search_solid:"zi_user_search_solid",zi_user_settings:"zi_user_settings",zi_user_settings_solid:"zi_user_settings_solid",zi_user_solid:"zi_user_solid",zi_add_photo:"zi_add_photo",zi_camera:"zi_camera",zi_gallery:"zi_gallery",zi_link:"zi_link",zi_livestream:"zi_livestream",zi_pause:"zi_pause",zi_pause_solid:"zi_pause_solid",zi_photo:"zi_photo",zi_photo_search:"zi_photo_search",zi_photo_solid:"zi_photo_solid",zi_play:"zi_play",zi_play_solid:"zi_play_solid",zi_add_story:"zi_add_story",zi_ban:"zi_ban",zi_bullet_solid:"zi_bullet_solid",zi_check:"zi_check",zi_check_circle:"zi_check_circle",zi_check_circle_solid:"zi_check_circle_solid",zi_close:"zi_close",zi_close_circle:"zi_close_circle",zi_close_circle_solid:"zi_close_circle_solid",zi_copy:"zi_copy",zi_delete:"zi_delete",zi_drag_indicator_solid:"zi_drag_indicator_solid",zi_filter:"zi_filter",zi_filter_solid:"zi_filter_solid",zi_home:"zi_home",zi_leave:"zi_leave",zi_leave_solid:"zi_leave_solid",zi_list_1:"zi_list_1",zi_list_2:"zi_list_2",zi_minus_circle:"zi_minus_circle",zi_minus_circle_solid:"zi_minus_circle_solid",zi_more_diamond_solid:"zi_more_diamond_solid",zi_more_grid:"zi_more_grid",zi_more_grid_solid:"zi_more_grid_solid",zi_more_horiz:"zi_more_horiz",zi_more_horiz_solid:"zi_more_horiz_solid",zi_more_vert:"zi_more_vert",zi_plus:"zi_plus",zi_plus_circle:"zi_plus_circle",zi_plus_circle_solid:"zi_plus_circle_solid",zi_radio_checked:"zi_radio_checked",zi_radio_unchecked:"zi_radio_unchecked",zi_save_to_collection:"zi_save_to_collection",zi_search:"zi_search",zi_setting:"zi_setting",zi_tune:"zi_tune",zi_arrow_down:"zi_arrow_down",zi_arrow_left:"zi_arrow_left",zi_arrow_right:"zi_arrow_right",zi_arrow_up:"zi_arrow_up",zi_auto:"zi_auto",zi_auto_solid:"zi_auto_solid",zi_backup_arrow_solid:"zi_backup_arrow_solid",zi_chevron_double_down:"zi_chevron_double_down",zi_chevron_double_up:"zi_chevron_double_up",zi_chevron_down:"zi_chevron_down",zi_chevron_left:"zi_chevron_left",zi_chevron_left_header:"zi_chevron_left_header",zi_chevron_right:"zi_chevron_right",zi_chevron_up:"zi_chevron_up",zi_download:"zi_download",zi_download_solid:"zi_download_solid",zi_reorder_solid:"zi_reorder_solid",zi_reply:"zi_reply",zi_reply_solid:"zi_reply_solid",zi_retry:"zi_retry",zi_retry_solid:"zi_retry_solid",zi_share:"zi_share",zi_share_external_1:"zi_share_external_1",zi_share_external_2:"zi_share_external_2",zi_share_solid:"zi_share_solid",zi_unfold_less:"zi_unfold_less",zi_unfold_more:"zi_unfold_more",zi_upload:"zi_upload",zi_at:"zi_at",zi_bubble_multiselect:"zi_bubble_multiselect",zi_call:"zi_call",zi_call_solid:"zi_call_solid",zi_chat:"zi_chat",zi_chat_solid:"zi_chat_solid",zi_grid_solid:"zi_grid_solid",zi_location:"zi_location",zi_location_solid:"zi_location_solid",zi_mic:"zi_mic",zi_quote:"zi_quote",zi_quote_solid:"zi_quote_solid",zi_recall:"zi_recall",zi_send_solid:"zi_send_solid",zi_user_window_solid:"zi_user_window_solid",zi_video:"zi_video",zi_video_group:"zi_video_group",zi_video_solid:"zi_video_solid",zi_wifi:"zi_wifi",zi_wifi_off:"zi_wifi_off",zi_backup_solid:"zi_backup_solid",zi_backup_success_solid:"zi_backup_success_solid",zi_backup_warning_solid:"zi_backup_warning_solid",zi_bookmark:"zi_bookmark",zi_bookmark_delete:"zi_bookmark_delete",zi_favorite_list:"zi_favorite_list",zi_heart:"zi_heart",zi_heart_solid:"zi_heart_solid",zi_pin:"zi_pin",zi_pin_solid:"zi_pin_solid",zi_star:"zi_star",zi_star_solid:"zi_star_solid",zi_unpin:"zi_unpin",zi_calendar:"zi_calendar",zi_calendar_solid:"zi_calendar_solid",zi_clock_1:"zi_clock_1",zi_clock_1_solid:"zi_clock_1_solid",zi_clock_2:"zi_clock_2",zi_clock_2_solid:"zi_clock_2_solid",zi_memory:"zi_memory",zi_reminder:"zi_reminder",zi_reminder_delete:"zi_reminder_delete",zi_reminder_solid:"zi_reminder_solid",zi_edit:"zi_edit",zi_edit_delete:"zi_edit_delete",zi_edit_delete_solid:"zi_edit_delete_solid",zi_edit_solid:"zi_edit_solid",zi_edit_text:"zi_edit_text",zi_edit_text_solid:"zi_edit_text_solid",zi_post:"zi_post",zi_exclamation:"zi_exclamation",zi_help_circle:"zi_help_circle",zi_info_circle:"zi_info_circle",zi_info_circle_solid:"zi_info_circle_solid",zi_warning:"zi_warning",zi_warning_circle:"zi_warning_circle",zi_warning_circle_solid:"zi_warning_circle_solid",zi_warning_solid:"zi_warning_solid",zi_file:"zi_file",zi_inbox:"zi_inbox",zi_note:"zi_note",zi_note_delete:"zi_note_delete",zi_pcline:"zi_pcline",zi_poll:"zi_poll",zi_poll_solid:"zi_poll_solid",zi_qrline:"zi_qrline",zi_truyen_file:"zi_truyen_file",zi_wallpaper:"zi_wallpaper",zi_hide:"zi_hide",zi_key_solid:"zi_key_solid",zi_lock:"zi_lock",zi_lock_open_solid:"zi_lock_open_solid",zi_lock_solid:"zi_lock_solid",zi_notif:"zi_notif",zi_notif_off:"zi_notif_off",zi_notif_off_solid:"zi_notif_off_solid",zi_notif_ring:"zi_notif_ring",zi_shield_solid:"zi_shield_solid",zi_unhide:"zi_unhide",zi_unlock:"zi_unlock",zi_unlock_solid:"zi_unlock_solid"},ZA=["children","size","icon","style","className"];function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(n),!0).forEach(function(r){W0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ri=Re.forwardRef(function(e,t){var n,r=e.children,s=e.size,i=e.icon,l=e.style,c=e.className,d=tf(e,ZA),h=du("icon"),m=function(v){if(typeof v=="string"){var j=v.replace(/-/g,"_"),N=HA[j];return N||null}return null},p={};l&&(p=WA({},l));var x=zs(h,(n={},n[""+c]=c,n));typeof s=="number"&&(p.fontSize=s+"px");var y=m(i||r);return Re.createElement("i",Jc({ref:t,className:x,style:p},d),y)});function kx(e,t){return kx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kx(e,t)}function yj(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kx(e,t)}var bj={exports:{}},VA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KA=VA,GA=KA;function wj(){}function _j(){}_j.resetWarningCache=wj;var qA=function(){function e(r,s,i,l,c,d){if(d!==GA){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_j,resetWarningCache:wj};return n.PropTypes=n,n};bj.exports=qA();var kj=bj.exports;function YA(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function JA(e,t){e.classList?e.classList.add(t):YA(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function yw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function QA(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=yw(e.className,t):e.setAttribute("class",yw(e.className&&e.className.baseVal||"",t))}const bw={disabled:!1},Nj=Re.createContext(null);var jj=function(t){return t.scrollTop},ec="unmounted",_i="exited",ki="entering",No="entered",Nx="exiting",fs=function(e){yj(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var l=s,c=l&&!l.isMounting?r.enter:r.appear,d;return i.appearStatus=null,r.in?c?(d=_i,i.appearStatus=ki):d=No:r.unmountOnExit||r.mountOnEnter?d=ec:d=_i,i.state={status:d},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var l=s.in;return l&&i.status===ec?{status:_i}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==ki&&l!==No&&(i=ki):(l===ki||l===No)&&(i=Nx)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,l,c;return i=l=c=s,s!=null&&typeof s!="number"&&(i=s.exit,l=s.enter,c=s.appear!==void 0?s.appear:l),{exit:i,enter:l,appear:c}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===ki){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:nd.findDOMNode(this);l&&jj(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_i&&this.setState({status:ec})},n.performEnter=function(s){var i=this,l=this.props.enter,c=this.context?this.context.isMounting:s,d=this.props.nodeRef?[c]:[nd.findDOMNode(this),c],h=d[0],m=d[1],p=this.getTimeouts(),x=c?p.appear:p.enter;if(!s&&!l||bw.disabled){this.safeSetState({status:No},function(){i.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:ki},function(){i.props.onEntering(h,m),i.onTransitionEnd(x,function(){i.safeSetState({status:No},function(){i.props.onEntered(h,m)})})})},n.performExit=function(){var s=this,i=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:nd.findDOMNode(this);if(!i||bw.disabled){this.safeSetState({status:_i},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Nx},function(){s.props.onExiting(c),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:_i},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,i.nextCallback=null,s(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var l=this.props.nodeRef?this.props.nodeRef.current:nd.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],m=d[1];this.props.addEndListener(h,m)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===ec)return null;var i=this.props,l=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var c=tf(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Re.createElement(Nj.Provider,{value:null},typeof l=="function"?l(s,c):Re.cloneElement(Re.Children.only(l),c))},t}(Re.Component);fs.contextType=Nj;fs.propTypes={};function yo(){}fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yo,onEntering:yo,onEntered:yo,onExit:yo,onExiting:yo,onExited:yo};fs.UNMOUNTED=ec;fs.EXITED=_i;fs.ENTERING=ki;fs.ENTERED=No;fs.EXITING=Nx;var XA=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return JA(t,r)})},Am=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return QA(t,r)})},V0=function(e){yj(t,e);function t(){for(var r,s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return r=e.call.apply(e,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,d){var h=r.resolveArguments(c,d),m=h[0],p=h[1];r.removeClasses(m,"exit"),r.addClass(m,p?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,d)},r.onEntering=function(c,d){var h=r.resolveArguments(c,d),m=h[0],p=h[1],x=p?"appear":"enter";r.addClass(m,x,"active"),r.props.onEntering&&r.props.onEntering(c,d)},r.onEntered=function(c,d){var h=r.resolveArguments(c,d),m=h[0],p=h[1],x=p?"appear":"enter";r.removeClasses(m,x),r.addClass(m,x,"done"),r.props.onEntered&&r.props.onEntered(c,d)},r.onExit=function(c){var d=r.resolveArguments(c),h=d[0];r.removeClasses(h,"appear"),r.removeClasses(h,"enter"),r.addClass(h,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var d=r.resolveArguments(c),h=d[0];r.addClass(h,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var d=r.resolveArguments(c),h=d[0];r.removeClasses(h,"exit"),r.addClass(h,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,d){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,d]},r.getClassNames=function(c){var d=r.props.classNames,h=typeof d=="string",m=h&&d?d+"-":"",p=h?""+m+c:d[c],x=h?p+"-active":d[c+"Active"],y=h?p+"-done":d[c+"Done"];return{baseClassName:p,activeClassName:x,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(s,i,l){var c=this.getClassNames(i)[l+"ClassName"],d=this.getClassNames("enter"),h=d.doneClassName;i==="appear"&&l==="done"&&h&&(c+=" "+h),l==="active"&&s&&jj(s),c&&(this.appliedClasses[i][l]=c,XA(s,c))},n.removeClasses=function(s,i){var l=this.appliedClasses[i],c=l.base,d=l.active,h=l.done;this.appliedClasses[i]={},c&&Am(s,c),d&&Am(s,d),h&&Am(s,h)},n.render=function(){var s=this.props;s.classNames;var i=tf(s,["classNames"]);return Re.createElement(fs,Jc({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Re.Component);V0.defaultProps={classNames:""};V0.propTypes={};var e5=function(t,n){return t<=0||n<=0?0:t>n?100:Math.round(t/n*100*100)/100};function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function t5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(n),!0).forEach(function(r){W0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var n5=Re.forwardRef(function(e,t){var n,r=e.className,s=e.maxCompleted,i=s===void 0?100:s,l=e.completed,c=l===void 0?0:l,d=e.strokeWidth,h=e.strokeColor,m=e.trailColor,p=m===void 0?null:m,x=e.formatLabel,y=e.showLabel,b=du("progress"),v={},j={};typeof h=="string"&&(v={background:h}),typeof p=="string"&&(j={background:p});var N=e5(c,i),w=t5({width:N+"%"},v);d&&(j.height=d+"px");var S=null;y&&(S=x?x(c,i):N+"%");var P=zs(b,(n={},n[b+"-show-label"]=y,n),r);return Re.createElement("div",{ref:t,className:P},Re.createElement("div",{className:b+"-outer"},Re.createElement("div",{className:b+"-inner",style:j},Re.createElement("div",{className:b+"-completed",style:w}))),Re.createElement("span",{className:b+"-label"},S))}),Sh=function(e){return e.top="top",e.bottom="bottom",e}({}),Gt=function(e){return e.default="default",e.success="success",e.info="info",e.error="error",e.warning="warning",e.loading="loading",e.download="download",e.countdown="countdown",e["wifi-connected"]="wifi-connected",e["wifi-disconnected"]="wifi-disconnected",e}({}),K0=k.createContext(null),_w=2e3,jx=Sh.bottom,r5=250,G0=5e3,a5=2,fa=12,s5=function(){return Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none"},Re.createElement("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM2.49 12C2.49 17.2522 6.74777 21.51 12 21.51C17.2522 21.51 21.51 17.2522 21.51 12C21.51 6.74777 17.2522 2.49 12 2.49C6.74777 2.49 2.49 6.74777 2.49 12Z",fill:"#FFFFFF",fillOpacity:"1"}),Re.createElement("path",{d:"M15.6784 1.89361C15.9136 1.24748 16.6317 0.908557 17.25 1.20938C18.2892 1.71497 19.2519 2.369 20.1071 3.15267C21.2689 4.21731 22.2097 5.50037 22.8757 6.92858C23.5417 8.3568 23.9198 9.90221 23.9886 11.4766C24.0392 12.6355 23.9214 13.7933 23.6407 14.9143C23.4737 15.5814 22.7525 15.9136 22.1064 15.6784C21.4603 15.4433 21.1358 14.7295 21.2846 14.0582C21.4641 13.2486 21.5373 12.4172 21.5009 11.5852C21.4465 10.3375 21.1468 9.11276 20.619 7.9809C20.0912 6.84904 19.3456 5.83222 18.4249 4.98849C17.8108 4.42584 17.1269 3.94752 16.3914 3.5646C15.7815 3.24709 15.4433 2.53973 15.6784 1.89361Z",fill:"#52A0FF"}))},i5=function(){return Re.createElement(ri,{icon:"zi-wifi"})},o5=function(){return Re.createElement(ri,{icon:"zi-wifi-off"})},l5=function(){return Re.createElement(ri,{icon:"zi-download-solid"})},c5=function(){return Re.createElement(ri,{icon:"zi-close-circle-solid"})},u5=function(){return Re.createElement(ri,{icon:"zi-warning-solid"})},d5=function(){return Re.createElement(ri,{icon:"zi-info-circle-solid"})},h5=function(){return Re.createElement(ri,{icon:"zi-check-circle-solid"})},f5=function(t){switch(t){case Gt.download:return Re.createElement(l5,null);case Gt.error:return Re.createElement(c5,null);case Gt.warning:return Re.createElement(u5,null);case Gt.success:return Re.createElement(h5,null);case Gt["wifi-connected"]:return Re.createElement(i5,null);case Gt["wifi-disconnected"]:return Re.createElement(o5,null);case Gt.loading:return Re.createElement(s5,null);default:return Re.createElement(d5,null)}},m5=function(t){var n=t.duration,r=n===void 0?G0:n,s=du("snackbar-countdown"),i=r/1e3,l=k.useState(i),c=l[0],d=l[1],h=a5,m=fa-h/2,p=fa*2,x=fa*2,y="0 0 "+p+" "+x,b=m*Math.PI*2,v=c/i*100,j=b-b*v/100;return k.useEffect(function(){var N=setInterval(function(){c>0?d(function(w){return w-1}):clearInterval(N)},1e3);return function(){return clearInterval(N)}},[c]),Re.createElement("div",{className:s},Re.createElement("svg",{className:s+"-circle",width:fa*2,height:fa*2,viewBox:y},Re.createElement("circle",{className:s+"-background",cx:fa,cy:fa,r:m,strokeWidth:h+"px"}),Re.createElement("circle",{className:s+"-progress",cx:fa,cy:fa,r:m,strokeWidth:h+"px",style:{strokeDasharray:b,strokeDashoffset:j},transform:"rotate(-90)"}),Re.createElement("text",{className:s+"-counter",x:fa,y:m,dy:".4em",textAnchor:"middle"},c)))};function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function p5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(n),!0).forEach(function(r){W0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var g5=Re.forwardRef(function(e,t){var n,r,s=e.text,i=e.prefixIcon,l=e.action,c=e.icon,d=e.verticalAction,h=e.style,m=e.className,p=e.type,x=e.position,y=e.downloadProgress,b=y===void 0?0:y,v=e.duration,j=e.zIndex,N=k.useContext(K0),w=Object.values(Sh).includes(x)?x:jx,S=du("snackbar"),P;p!==Gt.default&&p!==Gt.countdown&&(P=f5(p)),p===Gt.countdown&&(P=Re.createElement(m5,{duration:v||G0}));var C=!c&&!P&&!i&&!l,U=zs(S,m,(n={},n[S+"-vertical-action"]=d,n[S+"-"+w]=w,n[S+"-text-only"]=C,n)),E=i||P||(c?Re.createElement(ri,{icon:"zi-info-circle-solid"}):null),Z=p===Gt.download?Re.createElement(n5,{className:S+"-progress",maxCompleted:100,completed:b}):null,q=function(H){H.preventDefault(),l&&l.close&&N&&(N.closeSnackbar==null||N.closeSnackbar()),l==null||l.onClick==null||l.onClick(H)},$=zs(S+"-prefix-icon",(r={},r[S+"-success"]=p===Gt.success,r[S+"-error"]=p===Gt.error,r[S+"-warning"]=p===Gt.warning,r[S+"-info"]=p===Gt.info,r[S+"-download"]=p===Gt.download,r[S+"-success"]=p===Gt.success,r[S+"-wifi-connected"]=p===Gt["wifi-connected"],r[S+"-wifi-disconnected"]=p===Gt["wifi-disconnected"],r[S+"-loading"]=p===Gt.loading,r)),D={};return h&&(D=p5({},h)),j&&(D.zIndex=j),Re.createElement("div",{className:U,ref:t,style:D},Re.createElement("div",{className:S+"-content"},Re.createElement("div",{className:S+"-desc-wrapper"},E&&Re.createElement("div",{className:$},E),s&&Re.createElement("div",{className:S+"-desc"},s)),Z),l&&Re.createElement("div",{role:"presentation",className:S+"-action",onClick:q},l.text))}),x5=Re.forwardRef(function(e,t){var n,r,s,i,l=k.useState(!1),c=l[0],d=l[1],h=k.useState(!1),m=h[0],p=h[1],x=k.useState(null),y=x[0],b=x[1],v=k.useState(""),j=v[0],N=v[1],w=k.useState(!1),S=w[0],P=w[1],C=k.useState(null),U=C[0],E=C[1],Z=k.useState(Gt.default),q=Z[0],$=Z[1],D=k.useState(Sh.bottom),J=D[0],H=D[1],W=k.useState(q===Gt.countdown?G0:_w),ie=W[0],ge=W[1],he=k.useRef(),V=k.useState(),fe=V[0],re=V[1],se=k.useState(),ce=se[0],Ne=se[1],Ee=k.useState(!1),_e=Ee[0],Me=Ee[1],Be=k.useState(0),Xe=Be[0],nt=Be[1];k.useImperativeHandle(t,function(){return he.current});var Fe=k.useCallback(function(ae){var De=ae.type,Ge=ae.position;N((ae==null?void 0:ae.text)||""),P(!!(ae!=null&&ae.icon)),E(ae==null?void 0:ae.prefixIcon),$(De||Gt.default),ge((ae==null?void 0:ae.duration)||_w),H(Ge||jx),Ne(ae==null?void 0:ae.action),Me(!!(ae!=null&&ae.verticalAction)),re(function(){return ae==null?void 0:ae.onClose}),nt(0)},[]),ve=k.useCallback(function(ae){c===!0?(d(!1),setTimeout(function(){Fe(ae),d(!0)},r5)):(Fe(ae),d(!0))},[c,Fe]),Ze=k.useCallback(function(){d(!1)},[]),et=k.useCallback(function(ae){nt(ae)},[]),oe=Object.values(Sh).includes(J)?J:jx,Ce=du("snackbar"),Se=k.useMemo(function(){return{openSnackbar:ve,closeSnackbar:Ze,setDownloadProgress:et}},[ve,Ze,et]),je=e.children,We=e.className,ue=e.style,Ye=e.zIndex;return Re.createElement(K0.Provider,{value:Se},je,Re.createElement(V0,{in:c,timeout:{enter:100,exit:100,appear:100},mountOnEnter:!0,unmountOnExit:!0,onEntered:function(){return p(!0)},onExited:function(){return p(!1)},onEnter:function(){clearTimeout(y);var De=q===Gt.countdown?ie+1e3:ie;b(setTimeout(function(){d(!1)},De))},onExit:function(){fe==null||fe()},classNames:{enter:zs(Ce+"-enter",(n={},n[Ce+"-enter-"+oe]=oe,n)),enterActive:zs(Ce+"-enter-active",(r={},r[Ce+"-enter-active-"+oe]=oe,r)),exitActive:zs(Ce+"-exit-active",(s={},s[Ce+"-exit-active-"+oe]=oe,s))},nodeRef:he},Re.createElement(g5,{ref:he,position:J,text:j,action:ce,icon:S,type:q,prefixIcon:U,duration:ie,style:ue,className:zs(Ce,We,(i={},i[Ce+"-"+oe+"-visible"]=m,i)),verticalAction:_e,downloadProgress:Xe,zIndex:Ye})))}),v5=function(){var t=k.useContext(K0),n=t||{},r=n.openSnackbar,s=n.closeSnackbar,i=n.setDownloadProgress,l=function(m){r==null||r(m)},c=function(){s==null||s()},d=function(m){i==null||i(m)};return{openSnackbar:l,closeSnackbar:c,setDownloadProgress:d}};const Nw=e=>{let t;const n=new Set,r=(h,m)=>{const p=typeof h=="function"?h(t):h;if(!Object.is(p,t)){const x=t;t=(m!=null?m:typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(y=>y(t,x))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:h=>(n.add(h),()=>n.delete(h))},d=t=e(r,s,c);return c},y5=e=>e?Nw(e):Nw,b5=e=>e;function w5(e,t=b5){const n=Re.useSyncExternalStore(e.subscribe,Re.useCallback(()=>t(e.getState()),[e,t]),Re.useCallback(()=>t(e.getInitialState()),[e,t]));return Re.useDebugValue(n),n}const jw=e=>{const t=y5(e),n=r=>w5(t,r);return Object.assign(n,t),n},sa=e=>e?jw(e):jw,$o=sa(e=>({toasts:[],addToast:(t,n)=>{const r=Date.now().toString();e(s=>({toasts:[...s.toasts,{id:r,type:t,message:n}]}))},removeToast:t=>{e(n=>({toasts:n.toasts.filter(r=>r.id!==t)}))}})),_5=()=>{const{openSnackbar:e}=v5(),t=$o(r=>r.toasts),n=$o(r=>r.removeToast);return k.useEffect(()=>{const r=t[t.length-1];r&&(e({text:r.message,type:r.type,position:"top",duration:3e3}),n(r.id))},[t,e,n]),null};/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sj=e=>{throw TypeError(e)},k5=(e,t,n)=>t.has(e)||Sj("Cannot "+n),Om=(e,t,n)=>(k5(e,t,"read from private field"),n?n.call(e):t.get(e)),N5=(e,t,n)=>t.has(e)?Sj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Sw="popstate";function j5(e={}){function t(r,s){let{pathname:i,search:l,hash:c}=r.location;return Xc("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ma(s)}return T5(t,n,null,e)}function bt(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function an(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S5(){return Math.random().toString(36).substring(2,10)}function Tw(e,t){return{usr:e.state,key:e.key,idx:t}}function Xc(e,t,n=null,r){return le(R({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ai(t):t),{state:n,key:t&&t.key||r||S5()})}function Ma({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ai(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function T5(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,c="POP",d=null,h=m();h==null&&(h=0,l.replaceState(le(R({},l.state),{idx:h}),""));function m(){return(l.state||{idx:null}).idx}function p(){c="POP";let j=m(),N=j==null?null:j-h;h=j,d&&d({action:c,location:v.location,delta:N})}function x(j,N){c="PUSH";let w=Xc(v.location,j,N);h=m()+1;let S=Tw(w,h),P=v.createHref(w);try{l.pushState(S,"",P)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(P)}i&&d&&d({action:c,location:v.location,delta:1})}function y(j,N){c="REPLACE";let w=Xc(v.location,j,N);h=m();let S=Tw(w,h),P=v.createHref(w);l.replaceState(S,"",P),i&&d&&d({action:c,location:v.location,delta:0})}function b(j){return Tj(j)}let v={get action(){return c},get location(){return e(s,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Sw,p),d=j,()=>{s.removeEventListener(Sw,p),d=null}},createHref(j){return t(s,j)},createURL:b,encodeLocation(j){let N=b(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:y,go(j){return l.go(j)}};return v}function Tj(e,t=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ma(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var tc,Ew=class{constructor(e){if(N5(this,tc,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Om(this,tc).has(e))return Om(this,tc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Om(this,tc).set(e,t)}};tc=new WeakMap;var E5=new Set(["lazy","caseSensitive","path","id","index","children"]);function C5(e){return E5.has(e)}var P5=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function M5(e){return P5.has(e)}function L5(e){return e.index===!0}function eu(e,t,n=[],r={},s=!1){return e.map((i,l)=>{let c=[...n,String(l)],d=typeof i.id=="string"?i.id:c.join("-");if(bt(i.index!==!0||!i.children,"Cannot specify children on an index route"),bt(s||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),L5(i)){let h=le(R({},i),{id:d});return r[d]=Cw(h,t(h)),h}else{let h=le(R({},i),{id:d,children:void 0});return r[d]=Cw(h,t(h)),i.children&&(h.children=eu(i.children,t,c,r,s)),h}})}function Cw(e,t){return Object.assign(e,R(R({},t),typeof t.lazy=="object"&&t.lazy!=null?{lazy:R(R({},e.lazy),t.lazy)}:{}))}function As(e,t,n="/"){return nc(e,t,n,!1)}function nc(e,t,n,r){let s=typeof t=="string"?ai(t):t,i=Fr(s.pathname||"/",n);if(i==null)return null;let l=Ej(e);A5(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=W5(i);c=H5(l[d],h,r)}return c}function I5(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function Ej(e,t=[],n=[],r="",s=!1){let i=(l,c,d=s,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&d)return;bt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let p=Ta([r,m.relativePath]),x=n.concat(m);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Ej(l.children,t,x,p,d)),!(l.path==null&&!l.index)&&t.push({path:p,score:F5(p,l.index),routesMeta:x})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,c);else for(let h of Cj(l.path))i(l,c,!0,h)}),t}function Cj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=Cj(r.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function A5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:U5(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var O5=/^:[\w-]+$/,R5=3,D5=2,z5=1,$5=10,B5=-2,Pw=e=>e==="*";function F5(e,t){let n=e.split("/"),r=n.length;return n.some(Pw)&&(r+=B5),t&&(r+=D5),n.filter(s=>!Pw(s)).reduce((s,i)=>s+(O5.test(i)?R5:i===""?z5:$5),r)}function U5(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function H5(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=i==="/"?t:t.slice(i.length)||"/",p=Th({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),x=d.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Th({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:Ta([i,p.pathname]),pathnameBase:q5(Ta([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=Ta([i,p.pathnameBase]))}return l}function Th(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Z5(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:p},x)=>{if(m==="*"){let b=c[x]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=c[x];return p&&!y?h[m]=void 0:h[m]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function Z5(e,t=!1,n=!0){an(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function W5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return an(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function V5({basename:e,pathname:t}){return t==="/"?e:Ta([e,t])}var K5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nf=e=>K5.test(e);function G5(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ai(e):e,i;if(n)if(nf(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),an(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?i=Mw(n.substring(1),"/"):i=Mw(n,t)}else i=t;return{pathname:i,search:Y5(r),hash:J5(s)}}function Mw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rf(e){let t=Pj(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function af(e,t,n,r=!1){let s;typeof e=="string"?s=ai(e):(s=R({},e),bt(!s.pathname||!s.pathname.includes("?"),Rm("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Rm("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Rm("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;s.pathname=x.join("/")}c=p>=0?t[p]:"/"}let d=G5(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Ta=e=>e.join("/").replace(/\/\/+/g,"/"),q5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Eh=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function tu(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function q0(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $s=Symbol("Uninstrumented");function Q5(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(s=>s({id:t.id,index:t.index,path:t.path,instrument(i){let l=Object.keys(n);for(let c of l)i[c]&&n[c].push(i[c])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let s=Bo(n.lazy,t.lazy,()=>{});s&&(r.lazy=s)}if(typeof t.lazy=="object"){let s=t.lazy;["middleware","loader","action"].forEach(i=>{let l=s[i],c=n[`lazy.${i}`];if(typeof l=="function"&&c.length>0){let d=Bo(c,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[i]:d}))}})}return["loader","action"].forEach(s=>{var l;let i=t[s];if(typeof i=="function"&&n[s].length>0){let c=(l=i[$s])!=null?l:i,d=Bo(n[s],c,(...h)=>Lw(h[0]));d&&(d[$s]=c,r[s]=d)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(s=>{var c;let i=(c=s[$s])!=null?c:s,l=Bo(n.middleware,i,(...d)=>Lw(d[0]));return l?(l[$s]=i,l):s})),r}function X5(e,t){var r,s;let n={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(l){let c=Object.keys(l);for(let d of c)l[d]&&n[d].push(l[d])}})),n.navigate.length>0){let i=(r=e.navigate[$s])!=null?r:e.navigate,l=Bo(n.navigate,i,(...c)=>{let[d,h]=c;return R({to:typeof d=="number"||typeof d=="string"?d:d?Ma(d):"."},Iw(e,h!=null?h:{}))});l&&(l[$s]=i,e.navigate=l)}if(n.fetch.length>0){let i=(s=e.fetch[$s])!=null?s:e.fetch,l=Bo(n.fetch,i,(...c)=>{let[d,,h,m]=c;return R({href:h!=null?h:".",fetcherKey:d},Iw(e,m!=null?m:{}))});l&&(l[$s]=i,e.fetch=l)}return e}function Bo(e,t,n){return e.length===0?null:(...r)=>O(this,null,function*(){let s=yield Mj(e,n(...r),()=>t(...r),e.length-1);if(s.type==="error")throw s.value;return s.value})}function Mj(e,t,n,r){return O(this,null,function*(){let s=e[r],i;if(s){let l,c=()=>O(this,null,function*(){return l?console.error("You cannot call instrumented handlers more than once"):l=Mj(e,t,n,r-1),i=yield l,bt(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0}});try{yield s(c,t)}catch(d){console.error("An instrumentation function threw an error:",d)}l||(yield c()),yield l}else try{i={type:"success",value:yield n()}}catch(l){i={type:"error",value:l}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}})}function Lw(e){let{request:t,context:n,params:r,unstable_pattern:s}=e;return{request:eO(t),params:R({},r),unstable_pattern:s,context:tO(n)}}function Iw(e,t){return R(R(R(R({currentUrl:Ma(e.state.location)},"formMethod"in t?{formMethod:t.formMethod}:{}),"formEncType"in t?{formEncType:t.formEncType}:{}),"formData"in t?{formData:t.formData}:{}),"body"in t?{body:t.body}:{})}function eO(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function tO(e){if(rO(e)){let t=R({},e);return Object.freeze(t),t}else return{get:t=>e.get(t)}}var nO=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rO(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===nO}var Lj=["POST","PUT","PATCH","DELETE"],aO=new Set(Lj),sO=["GET",...Lj],iO=new Set(sO),oO=new Set([301,302,303,307,308]),lO=new Set([307,308]),Dm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uO=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ij="remix-router-transitions",Aj=Symbol("ResetLoaderData");function dO(e){const t=e.window?e.window:typeof window!="undefined"?window:void 0,n=typeof t!="undefined"&&typeof t.document!="undefined"&&typeof t.document.createElement!="undefined";bt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],s=e.mapRouteProperties||uO,i=s;if(e.unstable_instrumentations){let B=e.unstable_instrumentations;i=G=>R(R({},s(G)),Q5(B.map(z=>z.route).filter(Boolean),G))}let l={},c=eu(e.routes,i,void 0,l),d,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let m=e.dataStrategy||gO,p=R({},e.future),x=null,y=new Set,b=null,v=null,j=null,N=e.hydrationData!=null,w=As(c,e.history.location,h),S=!1,P=null,C;if(w==null&&!e.patchRoutesOnNavigation){let B=Mr(404,{pathname:e.history.location.pathname}),{matches:G,route:z}=od(c);C=!0,w=G,P={[z.id]:B}}else if(w&&!e.hydrationData&&vs(w,c,e.history.location.pathname).active&&(w=null),w)if(w.some(B=>B.route.lazy))C=!1;else if(!w.some(B=>Y0(B.route)))C=!0;else{let B=e.hydrationData?e.hydrationData.loaderData:null,G=e.hydrationData?e.hydrationData.errors:null;if(G){let z=w.findIndex(ee=>G[ee.route.id]!==void 0);C=w.slice(0,z+1).every(ee=>!Tx(ee.route,B,G))}else C=w.every(z=>!Tx(z.route,B,G))}else{C=!1,w=[];let B=vs(null,c,e.history.location.pathname);B.active&&B.matches&&(S=!0,w=B.matches)}let U,E={historyAction:e.history.action,location:e.history.location,matches:w,initialized:C,navigation:Dm,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||P,fetchers:new Map,blockers:new Map},Z="POP",q=!1,$,D=!1,J=new Map,H=null,W=!1,ie=!1,ge=new Set,he=new Map,V=0,fe=-1,re=new Map,se=new Set,ce=new Map,Ne=new Map,Ee=new Set,_e=new Map,Me,Be=null;function Xe(){if(x=e.history.listen(({action:B,location:G,delta:z})=>{if(Me){Me(),Me=void 0;return}an(_e.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=oi({currentLocation:E.location,nextLocation:G,historyAction:B});if(ee&&z!=null){let X=new Promise(Oe=>{Me=Oe});e.history.go(z*-1),gs(ee,{state:"blocked",location:G,proceed(){gs(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),X.then(()=>e.history.go(z))},reset(){let Oe=new Map(E.blockers);Oe.set(ee,Ul),ve({blockers:Oe})}});return}return Ce(B,G)}),n){MO(t,J);let B=()=>LO(t,J);t.addEventListener("pagehide",B),H=()=>t.removeEventListener("pagehide",B)}return E.initialized||Ce("POP",E.location,{initialHydration:!0}),U}function nt(){x&&x(),H&&H(),y.clear(),$&&$.abort(),E.fetchers.forEach((B,G)=>ms(G)),E.blockers.forEach((B,G)=>ao(G))}function Fe(B){return y.add(B),()=>y.delete(B)}function ve(B,G={}){B.matches&&(B.matches=B.matches.map(X=>{let Oe=l[X.route.id],Ve=X.route;return Ve.element!==Oe.element||Ve.errorElement!==Oe.errorElement||Ve.hydrateFallbackElement!==Oe.hydrateFallbackElement?le(R({},X),{route:Oe}):X})),E=R(R({},E),B);let z=[],ee=[];E.fetchers.forEach((X,Oe)=>{X.state==="idle"&&(Ee.has(Oe)?z.push(Oe):ee.push(Oe))}),Ee.forEach(X=>{!E.fetchers.has(X)&&!he.has(X)&&z.push(X)}),[...y].forEach(X=>X(E,{deletedFetchers:z,viewTransitionOpts:G.viewTransitionOpts,flushSync:G.flushSync===!0})),z.forEach(X=>ms(X)),ee.forEach(X=>E.fetchers.delete(X))}function Ze(B,G,{flushSync:z}={}){var rt,lt;let ee=E.actionData!=null&&E.navigation.formMethod!=null&&Zn(E.navigation.formMethod)&&E.navigation.state==="loading"&&((rt=B.state)==null?void 0:rt._isRedirect)!==!0,X;G.actionData?Object.keys(G.actionData).length>0?X=G.actionData:X=null:ee?X=E.actionData:X=null;let Oe=G.loaderData?Hw(E.loaderData,G.loaderData,G.matches||[],G.errors):E.loaderData,Ve=E.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((St,gn)=>Ve.set(gn,Ul)));let tt=W?!1:oo(B,G.matches||E.matches),Qe=q===!0||E.navigation.formMethod!=null&&Zn(E.navigation.formMethod)&&((lt=B.state)==null?void 0:lt._isRedirect)!==!0;d&&(c=d,d=void 0),W||Z==="POP"||(Z==="PUSH"?e.history.push(B,B.state):Z==="REPLACE"&&e.history.replace(B,B.state));let ht;if(Z==="POP"){let St=J.get(E.location.pathname);St&&St.has(B.pathname)?ht={currentLocation:E.location,nextLocation:B}:J.has(B.pathname)&&(ht={currentLocation:B,nextLocation:E.location})}else if(D){let St=J.get(E.location.pathname);St?St.add(B.pathname):(St=new Set([B.pathname]),J.set(E.location.pathname,St)),ht={currentLocation:E.location,nextLocation:B}}ve(le(R({},G),{actionData:X,loaderData:Oe,historyAction:Z,location:B,initialized:!0,navigation:Dm,revalidation:"idle",restoreScrollPosition:tt,preventScrollReset:Qe,blockers:Ve}),{viewTransitionOpts:ht,flushSync:z===!0}),Z="POP",q=!1,D=!1,W=!1,ie=!1,Be==null||Be.resolve(),Be=null}function et(B,G){return O(this,null,function*(){if(typeof B=="number"){e.history.go(B);return}let z=Sx(E.location,E.matches,h,B,G==null?void 0:G.fromRouteId,G==null?void 0:G.relative),{path:ee,submission:X,error:Oe}=Aw(!1,z,G),Ve=E.location,tt=Xc(E.location,ee,G&&G.state);tt=R(R({},tt),e.history.encodeLocation(tt));let Qe=G&&G.replace!=null?G.replace:void 0,ht="PUSH";Qe===!0?ht="REPLACE":Qe===!1||X!=null&&Zn(X.formMethod)&&X.formAction===E.location.pathname+E.location.search&&(ht="REPLACE");let rt=G&&"preventScrollReset"in G?G.preventScrollReset===!0:void 0,lt=(G&&G.flushSync)===!0,St=oi({currentLocation:Ve,nextLocation:tt,historyAction:ht});if(St){gs(St,{state:"blocked",location:tt,proceed(){gs(St,{state:"proceeding",proceed:void 0,reset:void 0,location:tt}),et(B,G)},reset(){let gn=new Map(E.blockers);gn.set(St,Ul),ve({blockers:gn})}});return}yield Ce(ht,tt,{submission:X,pendingError:Oe,preventScrollReset:rt,replace:G&&G.replace,enableViewTransition:G&&G.viewTransition,flushSync:lt})})}function oe(){Be||(Be=IO()),_t(),ve({revalidation:"loading"});let B=Be.promise;return E.navigation.state==="submitting"?B:E.navigation.state==="idle"?(Ce(E.historyAction,E.location,{startUninterruptedRevalidation:!0}),B):(Ce(Z||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation,enableViewTransition:D===!0}),B)}function Ce(B,G,z){return O(this,null,function*(){$&&$.abort(),$=null,Z=B,W=(z&&z.startUninterruptedRevalidation)===!0,bl(E.location,E.matches),q=(z&&z.preventScrollReset)===!0,D=(z&&z.enableViewTransition)===!0;let ee=d||c,X=z&&z.overrideNavigation,Oe=z!=null&&z.initialHydration&&E.matches&&E.matches.length>0&&!S?E.matches:As(ee,G,h),Ve=(z&&z.flushSync)===!0;if(Oe&&E.initialized&&!ie&&NO(E.location,G)&&!(z&&z.submission&&Zn(z.submission.formMethod))){Ze(G,{matches:Oe},{flushSync:Ve});return}let tt=vs(Oe,ee,G.pathname);if(tt.active&&tt.matches&&(Oe=tt.matches),!Oe){let{error:on,notFoundMatches:mt,route:ft}=xs(G.pathname);Ze(G,{matches:mt,loaderData:{},errors:{[ft.id]:on}},{flushSync:Ve});return}$=new AbortController;let Qe=jo(e.history,G,$.signal,z&&z.submission),ht=e.getContext?yield e.getContext():new Ew,rt;if(z&&z.pendingError)rt=[Os(Oe).route.id,{type:"error",error:z.pendingError}];else if(z&&z.submission&&Zn(z.submission.formMethod)){let on=yield Se(Qe,G,z.submission,Oe,ht,tt.active,z&&z.initialHydration===!0,{replace:z.replace,flushSync:Ve});if(on.shortCircuited)return;if(on.pendingActionResult){let[mt,ft]=on.pendingActionResult;if(hr(ft)&&tu(ft.error)&&ft.error.status===404){$=null,Ze(G,{matches:on.matches,loaderData:{},errors:{[mt]:ft.error}});return}}Oe=on.matches||Oe,rt=on.pendingActionResult,X=zm(G,z.submission),Ve=!1,tt.active=!1,Qe=jo(e.history,Qe.url,Qe.signal)}let{shortCircuited:lt,matches:St,loaderData:gn,errors:cr}=yield je(Qe,G,Oe,ht,tt.active,X,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,Ve,rt);lt||($=null,Ze(G,le(R({matches:St||Oe},Zw(rt)),{loaderData:gn,errors:cr})))})}function Se(Qe,ht,rt,lt,St,gn,cr){return O(this,arguments,function*(B,G,z,ee,X,Oe,Ve,tt={}){_t();let on=CO(G,z);if(ve({navigation:on},{flushSync:tt.flushSync===!0}),Oe){let Ot=yield ys(ee,G.pathname,B.signal);if(Ot.type==="aborted")return{shortCircuited:!0};if(Ot.type==="error"){if(Ot.partialMatches.length===0){let{matches:Tn,route:On}=od(c);return{matches:Tn,pendingActionResult:[On.id,{type:"error",error:Ot.error}]}}let xn=Os(Ot.partialMatches).route.id;return{matches:Ot.partialMatches,pendingActionResult:[xn,{type:"error",error:Ot.error}]}}else if(Ot.matches)ee=Ot.matches;else{let{notFoundMatches:xn,error:Tn,route:On}=xs(G.pathname);return{matches:xn,pendingActionResult:[On.id,{type:"error",error:Tn}]}}}let mt,ft=Cd(ee,G);if(!ft.route.action&&!ft.route.lazy)mt={type:"error",error:Mr(405,{method:B.method,pathname:G.pathname,routeId:ft.route.id})};else{let Ot=Go(i,l,B,ee,ft,Ve?[]:r,X),xn=yield Je(B,Ot,X,null);if(mt=xn[ft.route.id],!mt){for(let Tn of ee)if(xn[Tn.route.id]){mt=xn[Tn.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(Ei(mt)){let Ot;return tt&&tt.replace!=null?Ot=tt.replace:Ot=Bw(mt.response.headers.get("Location"),new URL(B.url),h)===E.location.pathname+E.location.search,yield Ge(B,mt,!0,{submission:z,replace:Ot}),{shortCircuited:!0}}if(hr(mt)){let Ot=Os(ee,ft.route.id);return(tt&&tt.replace)!==!0&&(Z="PUSH"),{matches:ee,pendingActionResult:[Ot.route.id,mt,ft.route.id]}}return{matches:ee,pendingActionResult:[ft.route.id,mt]}})}function je(B,G,z,ee,X,Oe,Ve,tt,Qe,ht,rt,lt){return O(this,null,function*(){let St=Oe||zm(G,Ve),gn=Ve||tt||Vw(St),cr=!W&&!ht;if(X){if(cr){let vn=We(lt);ve(R({navigation:St},vn!==void 0?{actionData:vn}:{}),{flushSync:rt})}let Ct=yield ys(z,G.pathname,B.signal);if(Ct.type==="aborted")return{shortCircuited:!0};if(Ct.type==="error"){if(Ct.partialMatches.length===0){let{matches:_r,route:vt}=od(c);return{matches:_r,loaderData:{},errors:{[vt.id]:Ct.error}}}let vn=Os(Ct.partialMatches).route.id;return{matches:Ct.partialMatches,loaderData:{},errors:{[vn]:Ct.error}}}else if(Ct.matches)z=Ct.matches;else{let{error:vn,notFoundMatches:_r,route:vt}=xs(G.pathname);return{matches:_r,loaderData:{},errors:{[vt.id]:vn}}}}let on=d||c,{dsMatches:mt,revalidatingFetchers:ft}=Ow(B,ee,i,l,e.history,E,z,gn,G,ht?[]:r,ht===!0,ie,ge,Ee,ce,se,on,h,e.patchRoutesOnNavigation!=null,lt);if(fe=++V,!e.dataStrategy&&!mt.some(Ct=>Ct.shouldLoad)&&!mt.some(Ct=>Ct.route.middleware&&Ct.route.middleware.length>0)&&ft.length===0){let Ct=ii();return Ze(G,R(R({matches:z,loaderData:{},errors:lt&&hr(lt[1])?{[lt[0]]:lt[1].error}:null},Zw(lt)),Ct?{fetchers:new Map(E.fetchers)}:{}),{flushSync:rt}),{shortCircuited:!0}}if(cr){let Ct={};if(!X){Ct.navigation=St;let vn=We(lt);vn!==void 0&&(Ct.actionData=vn)}ft.length>0&&(Ct.fetchers=ue(ft)),ve(Ct,{flushSync:rt})}ft.forEach(Ct=>{Yn(Ct.key),Ct.controller&&he.set(Ct.key,Ct.controller)});let Ot=()=>ft.forEach(Ct=>Yn(Ct.key));$&&$.signal.addEventListener("abort",Ot);let{loaderResults:xn,fetcherResults:Tn}=yield zt(mt,ft,B,ee);if(B.signal.aborted)return{shortCircuited:!0};$&&$.signal.removeEventListener("abort",Ot),ft.forEach(Ct=>he.delete(Ct.key));let On=ld(xn);if(On)return yield Ge(B,On.result,!0,{replace:Qe}),{shortCircuited:!0};if(On=ld(Tn),On)return se.add(On.key),yield Ge(B,On.result,!0,{replace:Qe}),{shortCircuited:!0};let{loaderData:_l,errors:ci}=Uw(E,z,xn,lt,ft,Tn);ht&&E.errors&&(ci=R(R({},E.errors),ci));let za=ii(),bs=ro(fe),la=za||bs||ft.length>0;return R({matches:z,loaderData:_l,errors:ci},la?{fetchers:new Map(E.fetchers)}:{})})}function We(B){if(B&&!hr(B[1]))return{[B[0]]:B[1].data};if(E.actionData)return Object.keys(E.actionData).length===0?null:E.actionData}function ue(B){return B.forEach(G=>{let z=E.fetchers.get(G.key),ee=Hl(void 0,z?z.data:void 0);E.fetchers.set(G.key,ee)}),new Map(E.fetchers)}function Ye(B,G,z,ee){return O(this,null,function*(){Yn(B);let X=(ee&&ee.flushSync)===!0,Oe=d||c,Ve=Sx(E.location,E.matches,h,z,G,ee==null?void 0:ee.relative),tt=As(Oe,Ve,h),Qe=vs(tt,Oe,Ve);if(Qe.active&&Qe.matches&&(tt=Qe.matches),!tt){qn(B,G,Mr(404,{pathname:Ve}),{flushSync:X});return}let{path:ht,submission:rt,error:lt}=Aw(!0,Ve,ee);if(lt){qn(B,G,lt,{flushSync:X});return}let St=e.getContext?yield e.getContext():new Ew,gn=(ee&&ee.preventScrollReset)===!0;if(rt&&Zn(rt.formMethod)){yield ae(B,G,ht,tt,St,Qe.active,X,gn,rt);return}ce.set(B,{routeId:G,path:ht}),yield De(B,G,ht,tt,St,Qe.active,X,gn,rt)})}function ae(B,G,z,ee,X,Oe,Ve,tt,Qe){return O(this,null,function*(){_t(),ce.delete(B);let ht=E.fetchers.get(B);Et(B,PO(Qe,ht),{flushSync:Ve});let rt=new AbortController,lt=jo(e.history,z,rt.signal,Qe);if(Oe){let ct=yield ys(ee,new URL(lt.url).pathname,lt.signal,B);if(ct.type==="aborted")return;if(ct.type==="error"){qn(B,G,ct.error,{flushSync:Ve});return}else if(ct.matches)ee=ct.matches;else{qn(B,G,Mr(404,{pathname:z}),{flushSync:Ve});return}}let St=Cd(ee,z);if(!St.route.action&&!St.route.lazy){let ct=Mr(405,{method:Qe.formMethod,pathname:z,routeId:G});qn(B,G,ct,{flushSync:Ve});return}he.set(B,rt);let gn=V,cr=Go(i,l,lt,ee,St,r,X),on=yield Je(lt,cr,X,B),mt=on[St.route.id];if(!mt){for(let ct of cr)if(on[ct.route.id]){mt=on[ct.route.id];break}}if(lt.signal.aborted){he.get(B)===rt&&he.delete(B);return}if(Ee.has(B)){if(Ei(mt)||hr(mt)){Et(B,Ga(void 0));return}}else{if(Ei(mt))if(he.delete(B),fe>gn){Et(B,Ga(void 0));return}else return se.add(B),Et(B,Hl(Qe)),Ge(lt,mt,!1,{fetcherSubmission:Qe,preventScrollReset:tt});if(hr(mt)){qn(B,G,mt.error);return}}let ft=E.navigation.location||E.location,Ot=jo(e.history,ft,rt.signal),xn=d||c,Tn=E.navigation.state!=="idle"?As(xn,E.navigation.location,h):E.matches;bt(Tn,"Didn't find any matches after fetcher action");let On=++V;re.set(B,On);let _l=Hl(Qe,mt.data);E.fetchers.set(B,_l);let{dsMatches:ci,revalidatingFetchers:za}=Ow(Ot,X,i,l,e.history,E,Tn,Qe,ft,r,!1,ie,ge,Ee,ce,se,xn,h,e.patchRoutesOnNavigation!=null,[St.route.id,mt]);za.filter(ct=>ct.key!==B).forEach(ct=>{let $a=ct.key,Ba=E.fetchers.get($a),ws=Hl(void 0,Ba?Ba.data:void 0);E.fetchers.set($a,ws),Yn($a),ct.controller&&he.set($a,ct.controller)}),ve({fetchers:new Map(E.fetchers)});let bs=()=>za.forEach(ct=>Yn(ct.key));rt.signal.addEventListener("abort",bs);let{loaderResults:la,fetcherResults:Ct}=yield zt(ci,za,Ot,X);if(rt.signal.aborted)return;if(rt.signal.removeEventListener("abort",bs),re.delete(B),he.delete(B),za.forEach(ct=>he.delete(ct.key)),E.fetchers.has(B)){let ct=Ga(mt.data);E.fetchers.set(B,ct)}let vn=ld(la);if(vn)return Ge(Ot,vn.result,!1,{preventScrollReset:tt});if(vn=ld(Ct),vn)return se.add(vn.key),Ge(Ot,vn.result,!1,{preventScrollReset:tt});let{loaderData:_r,errors:vt}=Uw(E,Tn,la,void 0,za,Ct);ro(On),E.navigation.state==="loading"&&On>fe?(bt(Z,"Expected pending action"),$&&$.abort(),Ze(E.navigation.location,{matches:Tn,loaderData:_r,errors:vt,fetchers:new Map(E.fetchers)})):(ve({errors:vt,loaderData:Hw(E.loaderData,_r,Tn,vt),fetchers:new Map(E.fetchers)}),ie=!1)})}function De(B,G,z,ee,X,Oe,Ve,tt,Qe){return O(this,null,function*(){let ht=E.fetchers.get(B);Et(B,Hl(Qe,ht?ht.data:void 0),{flushSync:Ve});let rt=new AbortController,lt=jo(e.history,z,rt.signal);if(Oe){let ft=yield ys(ee,new URL(lt.url).pathname,lt.signal,B);if(ft.type==="aborted")return;if(ft.type==="error"){qn(B,G,ft.error,{flushSync:Ve});return}else if(ft.matches)ee=ft.matches;else{qn(B,G,Mr(404,{pathname:z}),{flushSync:Ve});return}}let St=Cd(ee,z);he.set(B,rt);let gn=V,cr=Go(i,l,lt,ee,St,r,X),mt=(yield Je(lt,cr,X,B))[St.route.id];if(he.get(B)===rt&&he.delete(B),!lt.signal.aborted){if(Ee.has(B)){Et(B,Ga(void 0));return}if(Ei(mt))if(fe>gn){Et(B,Ga(void 0));return}else{se.add(B),yield Ge(lt,mt,!1,{preventScrollReset:tt});return}if(hr(mt)){qn(B,G,mt.error);return}Et(B,Ga(mt.data))}})}function Ge(tt,Qe,ht){return O(this,arguments,function*(B,G,z,{submission:ee,fetcherSubmission:X,preventScrollReset:Oe,replace:Ve}={}){G.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let rt=G.response.headers.get("Location");bt(rt,"Expected a Location header on the redirect Response"),rt=Bw(rt,new URL(B.url),h);let lt=Xc(E.location,rt,{_isRedirect:!0});if(n){let ft=!1;if(G.response.headers.has("X-Remix-Reload-Document"))ft=!0;else if(nf(rt)){const Ot=Tj(rt,!0);ft=Ot.origin!==t.location.origin||Fr(Ot.pathname,h)==null}if(ft){Ve?t.location.replace(rt):t.location.assign(rt);return}}$=null;let St=Ve===!0||G.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:gn,formAction:cr,formEncType:on}=E.navigation;!ee&&!X&&gn&&cr&&on&&(ee=Vw(E.navigation));let mt=ee||X;if(lO.has(G.response.status)&&mt&&Zn(mt.formMethod))yield Ce(St,lt,{submission:le(R({},mt),{formAction:rt}),preventScrollReset:Oe||q,enableViewTransition:z?D:void 0});else{let ft=zm(lt,ee);yield Ce(St,lt,{overrideNavigation:ft,fetcherSubmission:X,preventScrollReset:Oe||q,enableViewTransition:z?D:void 0})}})}function Je(B,G,z,ee){return O(this,null,function*(){let X,Oe={};try{X=yield vO(m,B,G,ee,z,!1)}catch(Ve){return G.filter(tt=>tt.shouldLoad).forEach(tt=>{Oe[tt.route.id]={type:"error",error:Ve}}),Oe}if(B.signal.aborted)return Oe;for(let[Ve,tt]of Object.entries(X))if(TO(tt)){let Qe=tt.result;Oe[Ve]={type:"redirect",response:_O(Qe,B,Ve,G,h)}}else Oe[Ve]=yield wO(tt);return Oe})}function zt(B,G,z,ee){return O(this,null,function*(){let X=Je(z,B,ee,null),Oe=Promise.all(G.map(Qe=>O(this,null,function*(){if(Qe.matches&&Qe.match&&Qe.request&&Qe.controller){let rt=(yield Je(Qe.request,Qe.matches,ee,Qe.key))[Qe.match.route.id];return{[Qe.key]:rt}}else return Promise.resolve({[Qe.key]:{type:"error",error:Mr(404,{pathname:Qe.path})}})}))),Ve=yield X,tt=(yield Oe).reduce((Qe,ht)=>Object.assign(Qe,ht),{});return{loaderResults:Ve,fetcherResults:tt}})}function _t(){ie=!0,ce.forEach((B,G)=>{he.has(G)&&ge.add(G),Yn(G)})}function Et(B,G,z={}){E.fetchers.set(B,G),ve({fetchers:new Map(E.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function qn(B,G,z,ee={}){let X=Os(E.matches,G);ms(B),ve({errors:{[X.route.id]:z},fetchers:new Map(E.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function to(B){return Ne.set(B,(Ne.get(B)||0)+1),Ee.has(B)&&Ee.delete(B),E.fetchers.get(B)||cO}function no(B,G){Yn(B,G==null?void 0:G.reason),Et(B,Ga(null))}function ms(B){let G=E.fetchers.get(B);he.has(B)&&!(G&&G.state==="loading"&&re.has(B))&&Yn(B),ce.delete(B),re.delete(B),se.delete(B),Ee.delete(B),ge.delete(B),E.fetchers.delete(B)}function yl(B){let G=(Ne.get(B)||0)-1;G<=0?(Ne.delete(B),Ee.add(B)):Ne.set(B,G),ve({fetchers:new Map(E.fetchers)})}function Yn(B,G){let z=he.get(B);z&&(z.abort(G),he.delete(B))}function ps(B){for(let G of B){let z=to(G),ee=Ga(z.data);E.fetchers.set(G,ee)}}function ii(){let B=[],G=!1;for(let z of se){let ee=E.fetchers.get(z);bt(ee,`Expected fetcher: ${z}`),ee.state==="loading"&&(se.delete(z),B.push(z),G=!0)}return ps(B),G}function ro(B){let G=[];for(let[z,ee]of re)if(ee<B){let X=E.fetchers.get(z);bt(X,`Expected fetcher: ${z}`),X.state==="loading"&&(Yn(z),re.delete(z),G.push(z))}return ps(G),G.length>0}function Da(B,G){let z=E.blockers.get(B)||Ul;return _e.get(B)!==G&&_e.set(B,G),z}function ao(B){E.blockers.delete(B),_e.delete(B)}function gs(B,G){let z=E.blockers.get(B)||Ul;bt(z.state==="unblocked"&&G.state==="blocked"||z.state==="blocked"&&G.state==="blocked"||z.state==="blocked"&&G.state==="proceeding"||z.state==="blocked"&&G.state==="unblocked"||z.state==="proceeding"&&G.state==="unblocked",`Invalid blocker state transition: ${z.state} -> ${G.state}`);let ee=new Map(E.blockers);ee.set(B,G),ve({blockers:ee})}function oi({currentLocation:B,nextLocation:G,historyAction:z}){if(_e.size===0)return;_e.size>1&&an(!1,"A router only supports one blocker at a time");let ee=Array.from(_e.entries()),[X,Oe]=ee[ee.length-1],Ve=E.blockers.get(X);if(!(Ve&&Ve.state==="proceeding")&&Oe({currentLocation:B,nextLocation:G,historyAction:z}))return X}function xs(B){let G=Mr(404,{pathname:B}),z=d||c,{matches:ee,route:X}=od(z);return{notFoundMatches:ee,route:X,error:G}}function so(B,G,z){if(b=B,j=G,v=z||null,!N&&E.navigation===Dm){N=!0;let ee=oo(E.location,E.matches);ee!=null&&ve({restoreScrollPosition:ee})}return()=>{b=null,j=null,v=null}}function io(B,G){return v&&v(B,G.map(ee=>I5(ee,E.loaderData)))||B.key}function bl(B,G){if(b&&j){let z=io(B,G);b[z]=j()}}function oo(B,G){if(b){let z=io(B,G),ee=b[z];if(typeof ee=="number")return ee}return null}function vs(B,G,z){if(e.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:nc(G,z,h,!0)}}else return{active:!0,matches:nc(G,z,h,!0)||[]};return{active:!1,matches:null}}function ys(B,G,z,ee){return O(this,null,function*(){if(!e.patchRoutesOnNavigation)return{type:"success",matches:B};let X=B;for(;;){let Oe=d==null,Ve=d||c,tt=l;try{yield e.patchRoutesOnNavigation({signal:z,path:G,matches:X,fetcherKey:ee,patch:(rt,lt)=>{z.aborted||Rw(rt,lt,Ve,tt,i,!1)}})}catch(rt){return{type:"error",error:rt,partialMatches:X}}finally{Oe&&!z.aborted&&(c=[...c])}if(z.aborted)return{type:"aborted"};let Qe=As(Ve,G,h),ht=null;if(Qe){if(Object.keys(Qe[0].params).length===0)return{type:"success",matches:Qe};if(ht=nc(Ve,G,h,!0),!(ht&&X.length<ht.length&&lo(X,ht.slice(0,X.length))))return{type:"success",matches:Qe}}if(ht||(ht=nc(Ve,G,h,!0)),!ht||lo(X,ht))return{type:"success",matches:null};X=ht}})}function lo(B,G){return B.length===G.length&&B.every((z,ee)=>z.route.id===G[ee].route.id)}function li(B){l={},d=eu(B,i,void 0,l)}function wl(B,G,z=!1){let ee=d==null;Rw(B,G,d||c,l,i,z),ee&&(c=[...c],ve({}))}return U={get basename(){return h},get future(){return p},get state(){return E},get routes(){return c},get window(){return t},initialize:Xe,subscribe:Fe,enableScrollRestoration:so,navigate:et,fetch:Ye,revalidate:oe,createHref:B=>e.history.createHref(B),encodeLocation:B=>e.history.encodeLocation(B),getFetcher:to,resetFetcher:no,deleteFetcher:yl,dispose:nt,getBlocker:Da,deleteBlocker:ao,patchRoutes:wl,_internalFetchControllers:he,_internalSetRoutes:li,_internalSetStateDoNotUseOrYouWillBreakYourApp(B){ve(B)}},e.unstable_instrumentations&&(U=X5(U,e.unstable_instrumentations.map(B=>B.router).filter(Boolean))),U}function hO(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Sx(e,t,n,r,s,i){let l,c;if(s){l=[];for(let h of t)if(l.push(h),h.route.id===s){c=h;break}}else l=t,c=t[t.length-1];let d=af(r||".",rf(l),Fr(e.pathname,n)||e.pathname,i==="path");if(r==null&&(d.search=e.search,d.hash=e.hash),(r==null||r===""||r===".")&&c){let h=J0(d.search);if(c.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let m=new URLSearchParams(d.search),p=m.getAll("index");m.delete("index"),p.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();d.search=x?`?${x}`:""}}return n!=="/"&&(d.pathname=V5({basename:n,pathname:d.pathname})),Ma(d)}function Aw(e,t,n){if(!n||!hO(n))return{path:t};if(n.formMethod&&!EO(n.formMethod))return{path:t,error:Mr(405,{method:n.formMethod})};let r=()=>({path:t,error:Mr(400,{type:"invalid-body"})}),i=(n.formMethod||"get").toUpperCase(),l=Bj(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Zn(i))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[y,b])=>`${x}${y}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!Zn(i))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:i,formAction:l,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch(p){return r()}}}bt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=Cx(n.formData),d=n.formData;else if(n.body instanceof FormData)c=Cx(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=Fw(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=Fw(c)}catch(p){return r()}let h={formMethod:i,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Zn(h.formMethod))return{path:t,submission:h};let m=ai(t);return e&&m.search&&J0(m.search)&&c.append("index",""),m.search=`?${c}`,{path:Ma(m),submission:h}}function Ow(e,t,n,r,s,i,l,c,d,h,m,p,x,y,b,v,j,N,w,S){var W;let P=S?hr(S[1])?S[1].error:S[1].data:void 0,C=s.createURL(i.location),U=s.createURL(d),E;if(m&&i.errors){let ie=Object.keys(i.errors)[0];E=l.findIndex(ge=>ge.route.id===ie)}else if(S&&hr(S[1])){let ie=S[0];E=l.findIndex(ge=>ge.route.id===ie)-1}let Z=S?S[1].statusCode:void 0,q=Z&&Z>=400,$=le(R({currentUrl:C,currentParams:((W=i.matches[0])==null?void 0:W.params)||{},nextUrl:U,nextParams:l[0].params},c),{actionResult:P,actionStatus:Z}),D=q0(l.map(ie=>ie.route.path)),J=l.map((ie,ge)=>{let{route:he}=ie,V=null;if(E!=null&&ge>E?V=!1:he.lazy?V=!0:Y0(he)?m?V=Tx(he,i.loaderData,i.errors):fO(i.loaderData,i.matches[ge],ie)&&(V=!0):V=!1,V!==null)return Ex(n,r,e,D,ie,h,t,V);let fe=q?!1:p||C.pathname+C.search===U.pathname+U.search||C.search!==U.search||mO(i.matches[ge],ie),re=le(R({},$),{defaultShouldRevalidate:fe}),se=Ch(ie,re);return Ex(n,r,e,D,ie,h,t,se,re)}),H=[];return b.forEach((ie,ge)=>{if(m||!l.some(Ee=>Ee.route.id===ie.routeId)||y.has(ge))return;let he=i.fetchers.get(ge),V=he&&he.state!=="idle"&&he.data===void 0,fe=As(j,ie.path,N);if(!fe){if(w&&V)return;H.push({key:ge,routeId:ie.routeId,path:ie.path,matches:null,match:null,request:null,controller:null});return}if(v.has(ge))return;let re=Cd(fe,ie.path),se=new AbortController,ce=jo(s,ie.path,se.signal),Ne=null;if(x.has(ge))x.delete(ge),Ne=Go(n,r,ce,fe,re,h,t);else if(V)p&&(Ne=Go(n,r,ce,fe,re,h,t));else{let Ee=le(R({},$),{defaultShouldRevalidate:q?!1:p});Ch(re,Ee)&&(Ne=Go(n,r,ce,fe,re,h,t,Ee))}Ne&&H.push({key:ge,routeId:ie.routeId,path:ie.path,matches:Ne,match:re,request:ce,controller:se})}),{dsMatches:J,revalidatingFetchers:H}}function Y0(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Tx(e,t,n){if(e.lazy)return!0;if(!Y0(e))return!1;let r=t!=null&&e.id in t,s=n!=null&&n[e.id]!==void 0;return!r&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!s}function fO(e,t,n){let r=!t||n.route.id!==t.route.id,s=!e.hasOwnProperty(n.route.id);return r||s}function mO(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ch(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Rw(e,t,n,r,s,i){let l;if(e){let h=r[e];bt(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),l=h.children}else l=n;let c=[],d=[];if(t.forEach(h=>{let m=l.find(p=>Oj(h,p));m?d.push({existingRoute:m,newRoute:h}):c.push(h)}),c.length>0){let h=eu(c,s,[e||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...h)}if(i&&d.length>0)for(let h=0;h<d.length;h++){let{existingRoute:m,newRoute:p}=d[h],x=m,[y]=eu([p],s,[],{},!0);Object.assign(x,{element:y.element?y.element:x.element,errorElement:y.errorElement?y.errorElement:x.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:x.hydrateFallbackElement})}}function Oj(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var s;return(s=t.children)==null?void 0:s.some(i=>Oj(n,i))}):!1}var Dw=new WeakMap,Rj=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let s=n[t.id];if(bt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let i=s.lazy[e];if(!i)return;let l=Dw.get(s);l||(l={},Dw.set(s,l));let c=l[e];if(c)return c;let d=O(void 0,null,function*(){let h=C5(e),p=s[e]!==void 0&&e!=="hasErrorBoundary";if(h)an(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),l[e]=Promise.resolve();else if(p)an(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=yield i();x!=null&&(Object.assign(s,{[e]:x}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(x=>x===void 0)&&(s.lazy=void 0))});return l[e]=d,d},zw=new WeakMap;function pO(e,t,n,r,s){let i=n[e.id];if(bt(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let m=zw.get(i);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let p=O(this,null,function*(){bt(typeof e.lazy=="function","No lazy route function found");let x=yield e.lazy(),y={};for(let b in x){let v=x[b];if(v===void 0)continue;let j=M5(b),w=i[b]!==void 0&&b!=="hasErrorBoundary";j?an(!j,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):w?an(!w,`Route "${i.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=v}Object.assign(i,y),Object.assign(i,le(R({},r(i)),{lazy:void 0}))});return zw.set(i,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let l=Object.keys(e.lazy),c=[],d;for(let m of l){if(s&&s.includes(m))continue;let p=Rj({key:m,route:e,manifest:n,mapRouteProperties:r});p&&(c.push(p),m===t&&(d=p))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h==null||h.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}function $w(e){return O(this,null,function*(){let t=e.matches.filter(s=>s.shouldLoad),n={};return(yield Promise.all(t.map(s=>s.resolve()))).forEach((s,i)=>{n[t[i].route.id]=s}),n})}function gO(e){return O(this,null,function*(){return e.matches.some(t=>t.route.middleware)?Dj(e,()=>$w(e)):$w(e)})}function Dj(e,t){return xO(e,t,r=>r,jO,n);function n(r,s,i){if(i)return Promise.resolve(Object.assign(i.value,{[s]:{type:"error",result:r}}));{let{matches:l}=e,c=Math.min(Math.max(l.findIndex(h=>h.route.id===s),0),Math.max(l.findIndex(h=>h.unstable_shouldCallHandler()),0)),d=Os(l,l[c].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}function xO(e,t,n,r,s){return O(this,null,function*(){let{matches:i,request:l,params:c,context:d,unstable_pattern:h}=e,m=i.flatMap(x=>x.route.middleware?x.route.middleware.map(y=>[x.route.id,y]):[]);return yield zj({request:l,params:c,context:d,unstable_pattern:h},m,t,n,r,s)})}function zj(e,t,n,r,s,i,l=0){return O(this,null,function*(){var y;let{request:c}=e;if(c.signal.aborted)throw(y=c.signal.reason)!=null?y:new Error(`Request aborted: ${c.method} ${c.url}`);let d=t[l];if(!d)return yield n();let[h,m]=d,p,x=()=>O(this,null,function*(){if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:yield zj(e,t,n,r,s,i,l+1)},p.value}catch(b){return p={value:yield i(b,h,p)},p.value}});try{let b=yield m(e,x),v=b!=null?r(b):void 0;return s(v)?v:p?v!=null?v:p.value:(p={value:yield x()},p.value)}catch(b){return yield i(b,h,p)}})}function $j(e,t,n,r,s){let i=Rj({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),l=pO(r.route,Zn(n.method)?"action":"loader",t,e,s);return{middleware:i,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Ex(e,t,n,r,s,i,l,c,d=null){let h=!1,m=$j(e,t,n,s,i);return le(R({},s),{_lazyPromises:m,shouldLoad:c,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return h=!0,d?typeof p=="boolean"?Ch(s,le(R({},d),{defaultShouldRevalidate:p})):Ch(s,d):c},resolve(p){let{lazy:x,loader:y,middleware:b}=s.route,v=h||c||p&&!Zn(n.method)&&(x||y),j=b&&b.length>0&&!y&&!x;return v&&(Zn(n.method)||!j)?yO({request:n,unstable_pattern:r,match:s,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:p,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}})}function Go(e,t,n,r,s,i,l,c=null){return r.map(d=>d.route.id!==s.route.id?le(R({},d),{shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:$j(e,t,n,d,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}):Ex(e,t,n,q0(r.map(h=>h.route.path)),d,i,l,!0,c))}function vO(e,t,n,r,s,i){return O(this,null,function*(){n.some(h=>{var m;return(m=h._lazyPromises)==null?void 0:m.middleware})&&(yield Promise.all(n.map(h=>{var m;return(m=h._lazyPromises)==null?void 0:m.middleware})));let l={request:t,unstable_pattern:q0(n.map(h=>h.route.path)),params:n[0].params,context:s,matches:n},c=h=>{let m=l;return Dj(m,()=>h(le(R({},m),{fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}})))},d=yield e(le(R({},l),{fetcherKey:r,runClientMiddleware:c}));try{yield Promise.all(n.flatMap(h=>{var m,p;return[(m=h._lazyPromises)==null?void 0:m.handler,(p=h._lazyPromises)==null?void 0:p.route]}))}catch(h){}return d})}function yO(c){return O(this,arguments,function*({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:i,scopedContext:l}){let d,h,m=Zn(e.method),p=m?"action":"loader",x=y=>{let b,v=new Promise((w,S)=>b=S);h=()=>b(),e.signal.addEventListener("abort",h);let j=w=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${p}" [routeId: ${n.route.id}]`)):y({request:e,unstable_pattern:t,params:n.params,context:l},...w!==void 0?[w]:[]),N=O(this,null,function*(){try{return{type:"data",result:yield i?i(S=>j(S)):j()}}catch(w){return{type:"error",result:w}}});return Promise.race([N,v])};try{let y=m?n.route.action:n.route.loader;if(r||s)if(y){let b,[v]=yield Promise.all([x(y).catch(j=>{b=j}),r,s]);if(b!==void 0)throw b;d=v}else{yield r;let b=m?n.route.action:n.route.loader;if(b)[d]=yield Promise.all([x(b),s]);else if(p==="action"){let v=new URL(e.url),j=v.pathname+v.search;throw Mr(405,{method:e.method,pathname:j,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(y)d=yield x(y);else{let b=new URL(e.url),v=b.pathname+b.search;throw Mr(404,{pathname:v})}}catch(y){return{type:"error",result:y}}finally{h&&e.signal.removeEventListener("abort",h)}return d})}function bO(e){return O(this,null,function*(){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()})}function wO(e){return O(this,null,function*(){var r,s,i,l,c,d;let{result:t,type:n}=e;if(Fj(t)){let h;try{h=yield bO(t)}catch(m){return{type:"error",error:m}}return n==="error"?{type:"error",error:new Eh(t.status,t.statusText,h),statusCode:t.status,headers:t.headers}:{type:"data",data:h,statusCode:t.status,headers:t.headers}}return n==="error"?Ww(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(r=t.init)==null?void 0:r.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Eh(((i=t.init)==null?void 0:i.status)||500,void 0,t.data),statusCode:tu(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:tu(t)?t.status:void 0}:Ww(t)?{type:"data",data:t.data,statusCode:(c=t.init)==null?void 0:c.status,headers:(d=t.init)!=null&&d.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}})}function _O(e,t,n,r,s){let i=e.headers.get("Location");if(bt(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!nf(i)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);i=Sx(new URL(t.url),l,s,i),e.headers.set("Location",i)}return e}function Bw(e,t,n){if(nf(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=Fr(s.pathname,n)!=null;if(s.origin===t.origin&&i)return s.pathname+s.search+s.hash}return e}function jo(e,t,n,r){let s=e.createURL(Bj(t)).toString(),i={signal:n};if(r&&Zn(r.formMethod)){let{formMethod:l,formEncType:c}=r;i.method=l.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(r.json)):c==="text/plain"?i.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?i.body=Cx(r.formData):i.body=r.formData}return new Request(s,i)}function Cx(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Fw(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function kO(e,t,n,r=!1,s=!1){let i={},l=null,c,d=!1,h={},m=n&&hr(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let x=p.route.id,y=t[x];if(bt(!Ei(y),"Cannot handle redirect results in processLoaderData"),hr(y)){let b=y.error;if(m!==void 0&&(b=m,m=void 0),l=l||{},s)l[x]=b;else{let v=Os(e,x);l[v.route.id]==null&&(l[v.route.id]=b)}r||(i[x]=Aj),d||(d=!0,c=tu(y.error)?y.error.status:500),y.headers&&(h[x]=y.headers)}else i[x]=y.data,y.statusCode&&y.statusCode!==200&&!d&&(c=y.statusCode),y.headers&&(h[x]=y.headers)}),m!==void 0&&n&&(l={[n[0]]:m},n[2]&&(i[n[2]]=void 0)),{loaderData:i,errors:l,statusCode:c||200,loaderHeaders:h}}function Uw(e,t,n,r,s,i){let{loaderData:l,errors:c}=kO(t,n,r);return s.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:m,controller:p}=d;if(p&&p.signal.aborted)return;let x=i[h];if(bt(x,"Did not find corresponding fetcher result"),hr(x)){let y=Os(e.matches,m==null?void 0:m.route.id);c&&c[y.route.id]||(c=le(R({},c),{[y.route.id]:x.error})),e.fetchers.delete(h)}else if(Ei(x))bt(!1,"Unhandled fetcher revalidation redirect");else{let y=Ga(x.data);e.fetchers.set(h,y)}}),{loaderData:l,errors:c}}function Hw(e,t,n,r){let s=Object.entries(t).filter(([,i])=>i!==Aj).reduce((i,[l,c])=>(i[l]=c,i),{});for(let i of n){let l=i.route.id;if(!t.hasOwnProperty(l)&&e.hasOwnProperty(l)&&i.route.loader&&(s[l]=e[l]),r&&r.hasOwnProperty(l))break}return s}function Zw(e){return e?hr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Os(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function od(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Mr(e,{pathname:t,routeId:n,method:r,type:s,message:i}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",r&&t&&n?c=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c=`Route "${n}" does not match URL "${t}"`):e===404?(l="Not Found",c=`No route matches URL "${t}"`):e===405&&(l="Method Not Allowed",r&&t&&n?c=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Eh(e||500,l,new Error(c),!0)}function ld(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,s]=t[n];if(Ei(s))return{key:r,result:s}}}function Bj(e){let t=typeof e=="string"?ai(e):e;return Ma(le(R({},t),{hash:""}))}function NO(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function jO(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&SO(n))}function SO(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function TO(e){return Fj(e.result)&&oO.has(e.result.status)}function hr(e){return e.type==="error"}function Ei(e){return(e&&e.type)==="redirect"}function Ww(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Fj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body!="undefined"}function EO(e){return iO.has(e.toUpperCase())}function Zn(e){return aO.has(e.toUpperCase())}function J0(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Cd(e,t){let n=typeof t=="string"?ai(t).search:t.search;if(e[e.length-1].route.index&&J0(n||""))return e[e.length-1];let r=Pj(e);return r[r.length-1]}function Vw(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:i,json:l}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function zm(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CO(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Hl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PO(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ga(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function MO(e,t){try{let n=e.sessionStorage.getItem(Ij);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(s,new Set(i||[]))}}catch(n){}}function LO(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(Ij,JSON.stringify(n))}catch(r){an(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function IO(){let e,t,n=new Promise((r,s)=>{e=i=>O(this,null,function*(){r(i);try{yield n}catch(l){}}),t=i=>O(this,null,function*(){s(i);try{yield n}catch(l){}})});return{promise:n,resolve:e,reject:t}}var Ji=k.createContext(null);Ji.displayName="DataRouter";var hu=k.createContext(null);hu.displayName="DataRouterState";k.createContext(!1);var Q0=k.createContext({isTransitioning:!1});Q0.displayName="ViewTransition";var Uj=k.createContext(new Map);Uj.displayName="Fetchers";var AO=k.createContext(null);AO.displayName="Await";var ia=k.createContext(null);ia.displayName="Navigation";var sf=k.createContext(null);sf.displayName="Location";var Hr=k.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var X0=k.createContext(null);X0.displayName="RouteError";function OO(e,{relative:t}={}){bt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(ia),{hash:s,pathname:i,search:l}=fu(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:Ta([n,i])),r.createHref({pathname:c,search:l,hash:s})}function ml(){return k.useContext(sf)!=null}function Zr(){return bt(ml(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(sf).location}var Hj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zj(e){k.useContext(ia).static||k.useLayoutEffect(e)}function jt(){let{isDataRoute:e}=k.useContext(Hr);return e?YO():RO()}function RO(){bt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(Ji),{basename:t,navigator:n}=k.useContext(ia),{matches:r}=k.useContext(Hr),{pathname:s}=Zr(),i=JSON.stringify(rf(r)),l=k.useRef(!1);return Zj(()=>{l.current=!0}),k.useCallback((d,h={})=>{if(an(l.current,Hj),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=af(d,JSON.parse(i),s,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ta([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,i,s,e])}var DO=k.createContext(null);function zO(e){let t=k.useContext(Hr).outlet;return k.useMemo(()=>t&&k.createElement(DO.Provider,{value:e},t),[t,e])}function Ra(){let{matches:e}=k.useContext(Hr),t=e[e.length-1];return t?t.params:{}}function fu(e,{relative:t}={}){let{matches:n}=k.useContext(Hr),{pathname:r}=Zr(),s=JSON.stringify(rf(n));return k.useMemo(()=>af(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function $O(e,t,n,r,s){bt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(ia),{matches:l}=k.useContext(Hr),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let w=p&&p.path||"";Wj(h,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let x=Zr(),y;y=x;let b=y.pathname||"/",v=b;if(m!=="/"){let w=m.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let j=As(e,{pathname:v});return an(p||j!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),an(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),ZO(j&&j.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Ta([m,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:Ta([m,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),l,n,r,s)}function BO(){let e=qO(),t=tu(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,l)}var FO=k.createElement(BO,null),UO=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?k.createElement(Hr.Provider,{value:this.props.routeContext},k.createElement(X0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HO({routeContext:e,match:t,children:n}){let r=k.useContext(Ji);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Hr.Provider,{value:e},n)}function ZO(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n==null?void 0:n.errors;if(l!=null){let m=i.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);bt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:x,errors:y}=n,b=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let h=n&&r?(m,p)=>{var x,y,b;r(m,{location:n.location,params:(b=(y=(x=n.matches)==null?void 0:x[0])==null?void 0:y.params)!=null?b:{},errorInfo:p})}:void 0;return i.reduceRight((m,p,x)=>{let y,b=!1,v=null,j=null;n&&(y=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||FO,c&&(d<0&&x===0?(Wj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):d===x&&(b=!0,j=p.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,x+1)),w=()=>{let S;return y?S=v:b?S=j:p.route.Component?S=k.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=m,k.createElement(HO,{match:p,routeContext:{outlet:m,matches:N,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?k.createElement(UO,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:w(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):w()},null)}function ev(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WO(e){let t=k.useContext(Ji);return bt(t,ev(e)),t}function VO(e){let t=k.useContext(hu);return bt(t,ev(e)),t}function KO(e){let t=k.useContext(Hr);return bt(t,ev(e)),t}function tv(e){let t=KO(e),n=t.matches[t.matches.length-1];return bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function GO(){return tv("useRouteId")}function qO(){var r;let e=k.useContext(X0),t=VO("useRouteError"),n=tv("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function YO(){let{router:e}=WO("useNavigate"),t=tv("useNavigate"),n=k.useRef(!1);return Zj(()=>{n.current=!0}),k.useCallback((l,...c)=>O(this,[l,...c],function*(s,i={}){an(n.current,Hj),n.current&&(typeof s=="number"?e.navigate(s):yield e.navigate(s,R({fromRouteId:t},i)))}),[e,t])}var Kw={};function Wj(e,t,n){!t&&!Kw[e]&&(Kw[e]=!0,an(!1,n))}var Gw={};function qw(e,t){!e&&!Gw[t]&&(Gw[t]=!0,console.warn(t))}function JO(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&an(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:k.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&an(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:k.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&an(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:k.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var QO=["HydrateFallback","hydrateFallbackElement"],XO=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function eR({router:e,flushSync:t,unstable_onError:n}){let[r,s]=k.useState(e.state),[i,l]=k.useState(),[c,d]=k.useState({isTransitioning:!1}),[h,m]=k.useState(),[p,x]=k.useState(),[y,b]=k.useState(),v=k.useRef(new Map),j=k.useCallback(C=>{s(U=>(C.errors&&n&&Object.entries(C.errors).forEach(([E,Z])=>{var q,$,D;((q=U.errors)==null?void 0:q[E])!==Z&&n(Z,{location:C.location,params:(D=($=C.matches[0])==null?void 0:$.params)!=null?D:{}})}),C))},[n]),N=k.useCallback((C,{deletedFetchers:U,flushSync:E,viewTransitionOpts:Z})=>{C.fetchers.forEach(($,D)=>{$.data!==void 0&&v.current.set(D,$.data)}),U.forEach($=>v.current.delete($)),qw(E===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let q=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(qw(Z==null||q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Z||!q){t&&E?t(()=>j(C)):k.startTransition(()=>j(C));return}if(t&&E){t(()=>{p&&(h&&h.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>j(C))});$.finished.finally(()=>{t(()=>{m(void 0),x(void 0),l(void 0),d({isTransitioning:!1})})}),t(()=>x($));return}p?(h&&h.resolve(),p.skipTransition(),b({state:C,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(l(C),d({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[e.window,t,p,h,j]);k.useLayoutEffect(()=>e.subscribe(N),[e,N]),k.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new XO)},[c]),k.useEffect(()=>{if(h&&i&&e.window){let C=i,U=h.promise,E=e.window.document.startViewTransition(()=>O(this,null,function*(){k.startTransition(()=>j(C)),yield U}));E.finished.finally(()=>{m(void 0),x(void 0),l(void 0),d({isTransitioning:!1})}),x(E)}},[i,h,e.window,j]),k.useEffect(()=>{h&&i&&r.location.key===i.location.key&&h.resolve()},[h,p,r.location,i]),k.useEffect(()=>{!c.isTransitioning&&y&&(l(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[c.isTransitioning,y]);let w=k.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:C=>e.navigate(C),push:(C,U,E)=>e.navigate(C,{state:U,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(C,U,E)=>e.navigate(C,{replace:!0,state:U,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[e]),S=e.basename||"/",P=k.useMemo(()=>({router:e,navigator:w,static:!1,basename:S,unstable_onError:n}),[e,w,S,n]);return k.createElement(k.Fragment,null,k.createElement(Ji.Provider,{value:P},k.createElement(hu.Provider,{value:r},k.createElement(Uj.Provider,{value:v.current},k.createElement(Q0.Provider,{value:c},k.createElement(aR,{basename:S,location:r.location,navigationType:r.historyAction,navigator:w},k.createElement(tR,{routes:e.routes,future:e.future,state:r,unstable_onError:n})))))),null)}var tR=k.memo(nR);function nR({routes:e,future:t,state:n,unstable_onError:r}){return $O(e,void 0,n,r,t)}function Ph({to:e,replace:t,state:n,relative:r}){bt(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(ia);an(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(Hr),{pathname:l}=Zr(),c=jt(),d=af(e,rf(i),l,r==="path"),h=JSON.stringify(d);return k.useEffect(()=>{c(JSON.parse(h),{replace:t,state:n,relative:r})},[c,h,r,t,n]),null}function rR(e){return zO(e.context)}function aR({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){bt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof n=="string"&&(n=ai(n));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:x="default"}=n,y=k.useMemo(()=>{let b=Fr(d,l);return b==null?null:{location:{pathname:b,search:h,hash:m,state:p,key:x},navigationType:r}},[l,d,h,m,p,x,r]);return an(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:k.createElement(ia.Provider,{value:c},k.createElement(sf.Provider,{children:t,value:y}))}var Pd="get",Md="application/x-www-form-urlencoded";function of(e){return e!=null&&typeof e.tagName=="string"}function sR(e){return of(e)&&e.tagName.toLowerCase()==="button"}function iR(e){return of(e)&&e.tagName.toLowerCase()==="form"}function oR(e){return of(e)&&e.tagName.toLowerCase()==="input"}function lR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function cR(e,t){return e.button===0&&(!t||t==="_self")&&!lR(e)}var cd=null;function uR(){if(cd===null)try{new FormData(document.createElement("form"),0),cd=!1}catch(e){cd=!0}return cd}var dR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $m(e){return e!=null&&!dR.has(e)?(an(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Md}"`),null):e}function hR(e,t){let n,r,s,i,l;if(iR(e)){let c=e.getAttribute("action");r=c?Fr(c,t):null,n=e.getAttribute("method")||Pd,s=$m(e.getAttribute("enctype"))||Md,i=new FormData(e)}else if(sR(e)||oR(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(r=d?Fr(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||Pd,s=$m(e.getAttribute("formenctype"))||$m(c.getAttribute("enctype"))||Md,i=new FormData(c,e),!uR()){let{name:h,type:m,value:p}=e;if(m==="image"){let x=h?`${h}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else h&&i.append(h,p)}}else{if(of(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pd,r=null,s=Md,l=e}return i&&s==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nv(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function fR(e,t,n){let r=typeof e=="string"?new URL(e,typeof window=="undefined"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}function mR(e,t){return O(this,null,function*(){if(e.id in t)return t[e.id];try{let n=yield import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function pR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}function gR(e,t,n){return O(this,null,function*(){let r=yield Promise.all(e.map(s=>O(this,null,function*(){let i=t.routes[s.route.id];if(i){let l=yield mR(i,n);return l.links?l.links():[]}return[]})));return bR(r.flat(1).filter(pR).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?le(R({},s),{rel:"prefetch",as:"style"}):le(R({},s),{rel:"prefetch"})))})}function Yw(e,t,n,r,s,i){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var m;return n[h].pathname!==d.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,h)=>l(d,h)||c(d,h)):i==="data"?t.filter((d,h)=>{var p;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function xR(e,t,{includeHydrateFallback:n}={}){return vR(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function vR(e){return[...new Set(e)]}function yR(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function bR(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(yR(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function Vj(){let e=k.useContext(Ji);return nv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wR(){let e=k.useContext(hu);return nv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rv=k.createContext(void 0);rv.displayName="FrameworkContext";function Kj(){let e=k.useContext(rv);return nv(e,"You must render this element inside a <HydratedRouter> element"),e}function _R(e,t){let n=k.useContext(rv),[r,s]=k.useState(!1),[i,l]=k.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:p}=t,x=k.useRef(null);k.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=N=>{N.forEach(w=>{l(w.isIntersecting)})},j=new IntersectionObserver(v,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[e]),k.useEffect(()=>{if(r){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[r]);let y=()=>{s(!0)},b=()=>{s(!1),l(!1)};return n?e!=="intent"?[i,x,{}]:[i,x,{onFocus:Zl(c,y),onBlur:Zl(d,b),onMouseEnter:Zl(h,y),onMouseLeave:Zl(m,b),onTouchStart:Zl(p,y)}]:[!1,x,{}]}function Zl(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function kR(n){var r=n,{page:e}=r,t=Sr(r,["page"]);let{router:s}=Vj(),i=k.useMemo(()=>As(s.routes,e,s.basename),[s.routes,e,s.basename]);return i?k.createElement(jR,R({page:e,matches:i},t)):null}function NR(e){let{manifest:t,routeModules:n}=Kj(),[r,s]=k.useState([]);return k.useEffect(()=>{let i=!1;return gR(e,t,n).then(l=>{i||s(l)}),()=>{i=!0}},[e,t,n]),r}function jR(r){var s=r,{page:e,matches:t}=s,n=Sr(s,["page","matches"]);let i=Zr(),{manifest:l,routeModules:c}=Kj(),{basename:d}=Vj(),{loaderData:h,matches:m}=wR(),p=k.useMemo(()=>Yw(e,t,m,l,i,"data"),[e,t,m,l,i]),x=k.useMemo(()=>Yw(e,t,m,l,i,"assets"),[e,t,m,l,i]),y=k.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let j=new Set,N=!1;if(t.forEach(S=>{var C;let P=l.routes[S.route.id];!P||!P.hasLoader||(!p.some(U=>U.route.id===S.route.id)&&S.route.id in h&&((C=c[S.route.id])!=null&&C.shouldRevalidate)||P.hasClientLoader?N=!0:j.add(S.route.id))}),j.size===0)return[];let w=fR(e,d,"data");return N&&j.size>0&&w.searchParams.set("_routes",t.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[d,h,i,l,p,t,e,c]),b=k.useMemo(()=>xR(x,l),[x,l]),v=NR(x);return k.createElement(k.Fragment,null,y.map(j=>k.createElement("link",R({key:j,rel:"prefetch",as:"fetch",href:j},n))),b.map(j=>k.createElement("link",R({key:j,rel:"modulepreload",href:j},n))),v.map(({key:j,link:N})=>k.createElement("link",R({key:j,nonce:n.nonce},N))))}function SR(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Gj=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Gj&&(window.__reactRouterVersion="7.9.6")}catch(e){}function TR(e,t){return dO({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:j5({window:t==null?void 0:t.window}),hydrationData:ER(),routes:e,mapRouteProperties:JO,hydrationRouteProperties:QO,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function ER(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e=le(R({},e),{errors:CR(e.errors)})),e}function CR(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new Eh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let l=new i(s.message);l.stack="",n[r]=l}catch(l){}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}var qj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yj=k.forwardRef(function(b,y){var v=b,{onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:l,state:c,target:d,to:h,preventScrollReset:m,viewTransition:p}=v,x=Sr(v,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"]);let{basename:j}=k.useContext(ia),N=typeof h=="string"&&qj.test(h),w,S=!1;if(typeof h=="string"&&N&&(w=h,Gj))try{let D=new URL(window.location.href),J=h.startsWith("//")?new URL(D.protocol+h):new URL(h),H=Fr(J.pathname,j);J.origin===D.origin&&H!=null?h=H+J.search+J.hash:S=!0}catch(D){an(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=OO(h,{relative:s}),[C,U,E]=_R(r,x),Z=IR(h,{replace:l,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:p});function q(D){t&&t(D),D.defaultPrevented||Z(D)}let $=k.createElement("a",le(R(R({},x),E),{href:w||P,onClick:S||i?t:q,ref:SR(y,U),target:d,"data-discover":!N&&n==="render"?"true":void 0}));return C&&!N?k.createElement(k.Fragment,null,$,k.createElement(kR,{page:P})):$});Yj.displayName="Link";var PR=k.forwardRef(function(p,m){var x=p,{"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:l,viewTransition:c,children:d}=x,h=Sr(x,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let y=fu(l,{relative:h.relative}),b=Zr(),v=k.useContext(hu),{navigator:j,basename:N}=k.useContext(ia),w=v!=null&&zR(y)&&c===!0,S=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,P=b.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(P=P.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&N&&(C=Fr(C,N)||C);const U=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let E=P===S||!s&&P.startsWith(S)&&P.charAt(U)==="/",Z=C!=null&&(C===S||!s&&C.startsWith(S)&&C.charAt(S.length)==="/"),q={isActive:E,isPending:Z,isTransitioning:w},$=E?t:void 0,D;typeof r=="function"?D=r(q):D=[r,E?"active":null,Z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let J=typeof i=="function"?i(q):i;return k.createElement(Yj,le(R({},h),{"aria-current":$,className:D,ref:m,style:J,to:l,viewTransition:c}),typeof d=="function"?d(q):d)});PR.displayName="NavLink";var MR=k.forwardRef((b,y)=>{var v=b,{discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:l=Pd,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:p}=v,x=Sr(v,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"]);let j=RR(),N=DR(c,{relative:h}),w=l.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&qj.test(c),P=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let U=C.nativeEvent.submitter,E=(U==null?void 0:U.getAttribute("formmethod"))||l;j(U||C.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:s,state:i,relative:h,preventScrollReset:m,viewTransition:p})};return k.createElement("form",le(R({ref:y,method:w,action:N,onSubmit:r?d:P},x),{"data-discover":!S&&e==="render"?"true":void 0}))});MR.displayName="Form";function LR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jj(e){let t=k.useContext(Ji);return bt(t,LR(e)),t}function IR(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:l}={}){let c=jt(),d=Zr(),h=fu(e,{relative:i});return k.useCallback(m=>{if(cR(m,t)){m.preventDefault();let p=n!==void 0?n:Ma(d)===Ma(h);c(e,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:l})}},[d,c,h,n,r,t,e,s,i,l])}var AR=0,OR=()=>`__${String(++AR)}__`;function RR(){let{router:e}=Jj("useSubmit"),{basename:t}=k.useContext(ia),n=GO();return k.useCallback((i,...l)=>O(this,[i,...l],function*(r,s={}){let{action:c,method:d,encType:h,formData:m,body:p}=hR(r,t);if(s.navigate===!1){let x=s.fetcherKey||OR();yield e.fetch(x,n,s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||h,flushSync:s.flushSync})}else yield e.navigate(s.action||c,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||d,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})}),[e,t,n])}function DR(e,{relative:t}={}){let{basename:n}=k.useContext(ia),r=k.useContext(Hr);bt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i=R({},fu(e||".",{relative:t})),l=Zr();if(e==null){i.search=l.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ta([n,i.pathname])),Ma(i)}function zR(e,{relative:t}={}){let n=k.useContext(Q0);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jj("useViewTransitionState"),s=fu(e,{relative:t});if(!n.isTransitioning)return!1;let i=Fr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Fr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Th(s.pathname,l)!=null||Th(s.pathname,i)!=null}function $R(e){return k.createElement(eR,R({flushSync:A0.flushSync},e))}function BR(e,t){let n;try{n=e()}catch(s){return}return{getItem:s=>{var i;const l=d=>d===null?null:JSON.parse(d,void 0),c=(i=n.getItem(s))!=null?i:null;return c instanceof Promise?c.then(l):l(c)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Px=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Px(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Px(r)(n)}}}},FR=(e,t)=>(n,r,s)=>{let i=R({storage:BR(()=>localStorage),partialize:v=>v,version:0,merge:(v,j)=>R(R({},j),v)},t),l=!1;const c=new Set,d=new Set;let h=i.storage;if(!h)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...v)},r,s);const m=()=>{const v=i.partialize(R({},r()));return h.setItem(i.name,{state:v,version:i.version})},p=s.setState;s.setState=(v,j)=>(p(v,j),m());const x=e((...v)=>(n(...v),m()),r,s);s.getInitialState=()=>x;let y;const b=()=>{var v,j;if(!h)return;l=!1,c.forEach(w=>{var S;return w((S=r())!=null?S:x)});const N=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(v=r())!=null?v:x))||void 0;return Px(h.getItem.bind(h))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate){const S=i.migrate(w.state,w.version);return S instanceof Promise?S.then(P=>[!0,P]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var S;const[P,C]=w;if(y=i.merge(C,(S=r())!=null?S:x),n(y,!0),P)return m()}).then(()=>{N==null||N(y,void 0),y=r(),l=!0,d.forEach(w=>w(y))}).catch(w=>{N==null||N(void 0,w)})};return s.persist={setOptions:v=>{i=R(R({},i),v),v.storage&&(h=v.storage)},clearStorage:()=>{h==null||h.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>b(),hasHydrated:()=>l,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(d.add(v),()=>{d.delete(v)})},i.skipHydration||b(),y||x},pl=FR;function Qj(e,t){return function(){return e.apply(t,arguments)}}const{toString:UR}=Object.prototype,{getPrototypeOf:av}=Object,{iterator:lf,toStringTag:Xj}=Symbol,cf=(e=>t=>{const n=UR.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),oa=e=>(e=e.toLowerCase(),t=>cf(t)===e),uf=e=>t=>typeof t===e,{isArray:gl}=Array,cl=uf("undefined");function mu(e){return e!==null&&!cl(e)&&e.constructor!==null&&!cl(e.constructor)&&or(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const e2=oa("ArrayBuffer");function HR(e){let t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e2(e.buffer),t}const ZR=uf("string"),or=uf("function"),t2=uf("number"),pu=e=>e!==null&&typeof e=="object",WR=e=>e===!0||e===!1,Ld=e=>{if(cf(e)!=="object")return!1;const t=av(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xj in e)&&!(lf in e)},VR=e=>{if(!pu(e)||mu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},KR=oa("Date"),GR=oa("File"),qR=oa("Blob"),YR=oa("FileList"),JR=e=>pu(e)&&or(e.pipe),QR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||or(e.append)&&((t=cf(e))==="formdata"||t==="object"&&or(e.toString)&&e.toString()==="[object FormData]"))},XR=oa("URLSearchParams"),[e3,t3,n3,r3]=["ReadableStream","Request","Response","Headers"].map(oa),a3=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e=="undefined")return;let r,s;if(typeof e!="object"&&(e=[e]),gl(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(mu(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let c;for(r=0;r<l;r++)c=i[r],t.call(null,e[c],c,e)}}function n2(e,t){if(mu(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Ci=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,r2=e=>!cl(e)&&e!==Ci;function Mx(){const{caseless:e,skipUndefined:t}=r2(this)&&this||{},n={},r=(s,i)=>{const l=e&&n2(n,i)||i;Ld(n[l])&&Ld(s)?n[l]=Mx(n[l],s):Ld(s)?n[l]=Mx({},s):gl(s)?n[l]=s.slice():(!t||!cl(s))&&(n[l]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&gu(arguments[s],r);return n}const s3=(e,t,n,{allOwnKeys:r}={})=>(gu(t,(s,i)=>{n&&or(s)?e[i]=Qj(s,n):e[i]=s},{allOwnKeys:r}),e),i3=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),o3=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},l3=(e,t,n,r)=>{let s,i,l;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],(!r||r(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=n!==!1&&av(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},c3=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},u3=e=>{if(!e)return null;if(gl(e))return e;let t=e.length;if(!t2(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},d3=(e=>t=>e&&t instanceof e)(typeof Uint8Array!="undefined"&&av(Uint8Array)),h3=(e,t)=>{const r=(e&&e[lf]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},f3=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},m3=oa("HTMLFormElement"),p3=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Jw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),g3=oa("RegExp"),a2=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};gu(n,(s,i)=>{let l;(l=t(s,i,e))!==!1&&(r[i]=l||s)}),Object.defineProperties(e,r)},x3=e=>{a2(e,(t,n)=>{if(or(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(or(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},v3=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return gl(e)?r(e):r(String(e).split(t)),n},y3=()=>{},b3=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function w3(e){return!!(e&&or(e.append)&&e[Xj]==="FormData"&&e[lf])}const _3=e=>{const t=new Array(10),n=(r,s)=>{if(pu(r)){if(t.indexOf(r)>=0)return;if(mu(r))return r;if(!("toJSON"in r)){t[s]=r;const i=gl(r)?[]:{};return gu(r,(l,c)=>{const d=n(l,s+1);!cl(d)&&(i[c]=d)}),t[s]=void 0,i}}return r};return n(e,0)},k3=oa("AsyncFunction"),N3=e=>e&&(pu(e)||or(e))&&or(e.then)&&or(e.catch),s2=((e,t)=>e?setImmediate:t?((n,r)=>(Ci.addEventListener("message",({source:s,data:i})=>{s===Ci&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ci.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",or(Ci.postMessage)),j3=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Ci):typeof process!="undefined"&&process.nextTick||s2,S3=e=>e!=null&&or(e[lf]),ne={isArray:gl,isArrayBuffer:e2,isBuffer:mu,isFormData:QR,isArrayBufferView:HR,isString:ZR,isNumber:t2,isBoolean:WR,isObject:pu,isPlainObject:Ld,isEmptyObject:VR,isReadableStream:e3,isRequest:t3,isResponse:n3,isHeaders:r3,isUndefined:cl,isDate:KR,isFile:GR,isBlob:qR,isRegExp:g3,isFunction:or,isStream:JR,isURLSearchParams:XR,isTypedArray:d3,isFileList:YR,forEach:gu,merge:Mx,extend:s3,trim:a3,stripBOM:i3,inherits:o3,toFlatObject:l3,kindOf:cf,kindOfTest:oa,endsWith:c3,toArray:u3,forEachEntry:h3,matchAll:f3,isHTMLForm:m3,hasOwnProperty:Jw,hasOwnProp:Jw,reduceDescriptors:a2,freezeMethods:x3,toObjectSet:v3,toCamelCase:p3,noop:y3,toFiniteNumber:b3,findKey:n2,global:Ci,isContextDefined:r2,isSpecCompliantForm:w3,toJSONObject:_3,isAsyncFn:k3,isThenable:N3,setImmediate:s2,asap:j3,isIterable:S3};function gt(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}ne.inherits(gt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const i2=gt.prototype,o2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{o2[e]={value:e}});Object.defineProperties(gt,o2);Object.defineProperty(i2,"isAxiosError",{value:!0});gt.from=(e,t,n,r,s,i)=>{const l=Object.create(i2);ne.toFlatObject(e,l,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return gt.call(l,c,d,n,r,s),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const T3=null;function Lx(e){return ne.isPlainObject(e)||ne.isArray(e)}function l2(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function Qw(e,t,n){return e?e.concat(t).map(function(s,i){return s=l2(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function E3(e){return ne.isArray(e)&&!e.some(Lx)}const C3=ne.toFlatObject(ne,{},null,function(t){return/^is[A-Z]/.test(t)});function df(e,t,n){if(!ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!ne.isUndefined(j[v])});const r=n.metaTokens,s=n.visitor||m,i=n.dots,l=n.indexes,d=(n.Blob||typeof Blob!="undefined"&&Blob)&&ne.isSpecCompliantForm(t);if(!ne.isFunction(s))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(ne.isDate(b))return b.toISOString();if(ne.isBoolean(b))return b.toString();if(!d&&ne.isBlob(b))throw new gt("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(b)||ne.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,v,j){let N=b;if(b&&!j&&typeof b=="object"){if(ne.endsWith(v,"{}"))v=r?v:v.slice(0,-2),b=JSON.stringify(b);else if(ne.isArray(b)&&E3(b)||(ne.isFileList(b)||ne.endsWith(v,"[]"))&&(N=ne.toArray(b)))return v=l2(v),N.forEach(function(S,P){!(ne.isUndefined(S)||S===null)&&t.append(l===!0?Qw([v],P,i):l===null?v:v+"[]",h(S))}),!1}return Lx(b)?!0:(t.append(Qw(j,v,i),h(b)),!1)}const p=[],x=Object.assign(C3,{defaultVisitor:m,convertValue:h,isVisitable:Lx});function y(b,v){if(!ne.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(b),ne.forEach(b,function(N,w){(!(ne.isUndefined(N)||N===null)&&s.call(t,N,ne.isString(w)?w.trim():w,v,x))===!0&&y(N,v?v.concat(w):[w])}),p.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Xw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function sv(e,t){this._pairs=[],e&&df(e,this,t)}const c2=sv.prototype;c2.append=function(t,n){this._pairs.push([t,n])};c2.toString=function(t){const n=t?function(r){return t.call(this,r,Xw)}:Xw;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function P3(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function u2(e,t,n){if(!t)return e;const r=n&&n.encode||P3;ne.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=ne.isURLSearchParams(t)?t.toString():new sv(t,n).toString(r),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class e_{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ne.forEach(this.handlers,function(r){r!==null&&t(r)})}}const d2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M3=typeof URLSearchParams!="undefined"?URLSearchParams:sv,L3=typeof FormData!="undefined"?FormData:null,I3=typeof Blob!="undefined"?Blob:null,A3={isBrowser:!0,classes:{URLSearchParams:M3,FormData:L3,Blob:I3},protocols:["http","https","file","blob","url","data"]},iv=typeof window!="undefined"&&typeof document!="undefined",Ix=typeof navigator=="object"&&navigator||void 0,O3=iv&&(!Ix||["ReactNative","NativeScript","NS"].indexOf(Ix.product)<0),R3=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D3=iv&&window.location.href||"http://localhost",z3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:iv,hasStandardBrowserEnv:O3,hasStandardBrowserWebWorkerEnv:R3,navigator:Ix,origin:D3},Symbol.toStringTag,{value:"Module"})),$n=R(R({},z3),A3);function $3(e,t){return df(e,new $n.classes.URLSearchParams,R({visitor:function(n,r,s,i){return $n.isNode&&ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function B3(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function F3(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function h2(e){function t(n,r,s,i){let l=n[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=i>=n.length;return l=!l&&ne.isArray(s)?s.length:l,d?(ne.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!ne.isObject(s[l]))&&(s[l]=[]),t(n,r,s[l],i)&&ne.isArray(s[l])&&(s[l]=F3(s[l])),!c)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const n={};return ne.forEachEntry(e,(r,s)=>{t(B3(r),s,n,0)}),n}return null}function U3(e,t,n){if(ne.isString(e))try{return(t||JSON.parse)(e),ne.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const xu={transitional:d2,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=ne.isObject(t);if(i&&ne.isHTMLForm(t)&&(t=new FormData(t)),ne.isFormData(t))return s?JSON.stringify(h2(t)):t;if(ne.isArrayBuffer(t)||ne.isBuffer(t)||ne.isStream(t)||ne.isFile(t)||ne.isBlob(t)||ne.isReadableStream(t))return t;if(ne.isArrayBufferView(t))return t.buffer;if(ne.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $3(t,this.formSerializer).toString();if((c=ne.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return df(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),U3(t)):t}],transformResponse:[function(t){const n=this.transitional||xu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(ne.isResponse(t)||ne.isReadableStream(t))return t;if(t&&ne.isString(t)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?gt.from(c,gt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{xu.headers[e]={}});const H3=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z3=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||t[n]&&H3[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},t_=Symbol("internals");function Wl(e){return e&&String(e).trim().toLowerCase()}function Id(e){return e===!1||e==null?e:ne.isArray(e)?e.map(Id):String(e)}function W3(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const V3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Bm(e,t,n,r,s){if(ne.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!ne.isString(t)){if(ne.isString(r))return t.indexOf(r)!==-1;if(ne.isRegExp(r))return r.test(t)}}function K3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function G3(e,t){const n=ne.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,l){return this[r].call(this,t,s,i,l)},configurable:!0})})}let lr=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(c,d,h){const m=Wl(d);if(!m)throw new Error("header name must be a non-empty string");const p=ne.findKey(s,m);(!p||s[p]===void 0||h===!0||h===void 0&&s[p]!==!1)&&(s[p||d]=Id(c))}const l=(c,d)=>ne.forEach(c,(h,m)=>i(h,m,d));if(ne.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(ne.isString(t)&&(t=t.trim())&&!V3(t))l(Z3(t),n);else if(ne.isObject(t)&&ne.isIterable(t)){let c={},d,h;for(const m of t){if(!ne.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?ne.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(c,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Wl(t),t){const r=ne.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return W3(s);if(ne.isFunction(n))return n.call(this,s,r);if(ne.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Wl(t),t){const r=ne.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Bm(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(l){if(l=Wl(l),l){const c=ne.findKey(r,l);c&&(!n||Bm(r,r[c],c,n))&&(delete r[c],s=!0)}}return ne.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Bm(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return ne.forEach(this,(s,i)=>{const l=ne.findKey(r,i);if(l){n[l]=Id(s),delete n[i];return}const c=t?K3(i):String(i).trim();c!==i&&delete n[i],n[c]=Id(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ne.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[t_]=this[t_]={accessors:{}}).accessors,s=this.prototype;function i(l){const c=Wl(l);r[c]||(G3(s,l),r[c]=!0)}return ne.isArray(t)?t.forEach(i):i(t),this}};lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(lr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ne.freezeMethods(lr);function Fm(e,t){const n=this||xu,r=t||n,s=lr.from(r.headers);let i=r.data;return ne.forEach(e,function(c){i=c.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function f2(e){return!!(e&&e.__CANCEL__)}function xl(e,t,n){gt.call(this,e==null?"canceled":e,gt.ERR_CANCELED,t,n),this.name="CanceledError"}ne.inherits(xl,gt,{__CANCEL__:!0});function m2(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new gt("Request failed with status code "+n.status,[gt.ERR_BAD_REQUEST,gt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function q3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Y3(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),m=r[i];l||(l=h),n[s]=d,r[s]=h;let p=i,x=0;for(;p!==s;)x+=n[p++],p=p%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),h-l<t)return;const y=m&&h-m;return y?Math.round(x*1e3/y):void 0}}function J3(e,t){let n=0,r=1e3/t,s,i;const l=(h,m=Date.now())=>{n=m,s=null,i&&(clearTimeout(i),i=null),e(...h)};return[(...h)=>{const m=Date.now(),p=m-n;p>=r?l(h,m):(s=h,i||(i=setTimeout(()=>{i=null,l(s)},r-p)))},()=>s&&l(s)]}const Mh=(e,t,n=3)=>{let r=0;const s=Y3(50,250);return J3(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,d=l-r,h=s(d),m=l<=c;r=l;const p={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-l)/h:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},n)},n_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},r_=e=>(...t)=>ne.asap(()=>e(...t)),Q3=$n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,X3=$n.hasStandardBrowserEnv?{write(e,t,n,r,s,i,l){if(typeof document=="undefined")return;const c=[`${e}=${encodeURIComponent(t)}`];ne.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),ne.isString(r)&&c.push(`path=${r}`),ne.isString(s)&&c.push(`domain=${s}`),i===!0&&c.push("secure"),ne.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(e){if(typeof document=="undefined")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function eD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function p2(e,t,n){let r=!eD(t);return e&&(r||n==!1)?tD(e,t):t}const a_=e=>e instanceof lr?R({},e):e;function Vi(e,t){t=t||{};const n={};function r(h,m,p,x){return ne.isPlainObject(h)&&ne.isPlainObject(m)?ne.merge.call({caseless:x},h,m):ne.isPlainObject(m)?ne.merge({},m):ne.isArray(m)?m.slice():m}function s(h,m,p,x){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return r(void 0,h,p,x)}else return r(h,m,p,x)}function i(h,m){if(!ne.isUndefined(m))return r(void 0,m)}function l(h,m){if(ne.isUndefined(m)){if(!ne.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,p){if(p in t)return r(h,m);if(p in e)return r(void 0,h)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,m,p)=>s(a_(h),a_(m),p,!0)};return ne.forEach(Object.keys(R(R({},e),t)),function(m){const p=d[m]||s,x=p(e[m],t[m],m);ne.isUndefined(x)&&p!==c||(n[m]=x)}),n}const g2=e=>{const t=Vi({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:c}=t;if(t.headers=l=lr.from(l),t.url=u2(p2(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ne.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ne.isFunction(n.getHeaders)){const d=n.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,p])=>{h.includes(m.toLowerCase())&&l.set(m,p)})}}if($n.hasStandardBrowserEnv&&(r&&ne.isFunction(r)&&(r=r(t)),r||r!==!1&&Q3(t.url))){const d=s&&i&&X3.read(i);d&&l.set(s,d)}return t},nD=typeof XMLHttpRequest!="undefined",rD=nD&&function(e){return new Promise(function(n,r){const s=g2(e);let i=s.data;const l=lr.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=s,m,p,x,y,b;function v(){y&&y(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function N(){if(!j)return;const S=lr.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),C={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:S,config:e,request:j};m2(function(E){n(E),v()},function(E){r(E),v()},C),j=null}"onloadend"in j?j.onloadend=N:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(N)},j.onabort=function(){j&&(r(new gt("Request aborted",gt.ECONNABORTED,e,j)),j=null)},j.onerror=function(P){const C=P&&P.message?P.message:"Network Error",U=new gt(C,gt.ERR_NETWORK,e,j);U.event=P||null,r(U),j=null},j.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||d2;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),r(new gt(P,C.clarifyTimeoutError?gt.ETIMEDOUT:gt.ECONNABORTED,e,j)),j=null},i===void 0&&l.setContentType(null),"setRequestHeader"in j&&ne.forEach(l.toJSON(),function(P,C){j.setRequestHeader(C,P)}),ne.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),c&&c!=="json"&&(j.responseType=s.responseType),h&&([x,b]=Mh(h,!0),j.addEventListener("progress",x)),d&&j.upload&&([p,y]=Mh(d),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(m=S=>{j&&(r(!S||S.type?new xl(null,e,j):S),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const w=q3(s.url);if(w&&$n.protocols.indexOf(w)===-1){r(new gt("Unsupported protocol "+w+":",gt.ERR_BAD_REQUEST,e));return}j.send(i||null)})},aD=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(h){if(!s){s=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof gt?m:new xl(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,i(new gt(`timeout ${t} of ms exceeded`,gt.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),e=null)};e.forEach(h=>h.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>ne.asap(c),d}},sD=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},iD=function(e,t){return Wf(this,null,function*(){try{for(var n=sy(oD(e)),r,s,i;r=!(s=yield new pi(n.next())).done;r=!1){const l=s.value;yield*Vf(sD(l,t))}}catch(s){i=[s]}finally{try{r&&(s=n.return)&&(yield new pi(s.call(n)))}finally{if(i)throw i[0]}}})},oD=function(e){return Wf(this,null,function*(){if(e[Symbol.asyncIterator]){yield*Vf(e);return}const t=e.getReader();try{for(;;){const{done:n,value:r}=yield new pi(t.read());if(n)break;yield r}}finally{yield new pi(t.cancel())}})},s_=(e,t,n,r)=>{const s=iD(e,t);let i=0,l,c=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({pull(h){return O(this,null,function*(){try{const{done:m,value:p}=yield s.next();if(m){c(),h.close();return}let x=p.byteLength;if(n){let y=i+=x;n(y)}h.enqueue(new Uint8Array(p))}catch(m){throw c(m),m}})},cancel(h){return c(h),s.return()}},{highWaterMark:2})},i_=64*1024,{isFunction:ud}=ne,lD=(({Request:e,Response:t})=>({Request:e,Response:t}))(ne.global),{ReadableStream:o_,TextEncoder:l_}=ne.global,c_=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},cD=e=>{e=ne.merge.call({skipUndefined:!0},lD,e);const{fetch:t,Request:n,Response:r}=e,s=t?ud(t):typeof fetch=="function",i=ud(n),l=ud(r);if(!s)return!1;const c=s&&ud(o_),d=s&&(typeof l_=="function"?(b=>v=>b.encode(v))(new l_):b=>O(void 0,null,function*(){return new Uint8Array(yield new n(b).arrayBuffer())})),h=i&&c&&c_(()=>{let b=!1;const v=new n($n.origin,{body:new o_,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!v}),m=l&&c&&c_(()=>ne.isReadableStream(new r("").body)),p={stream:m&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(v,j)=>{let N=v&&v[b];if(N)return N.call(v);throw new gt(`Response type '${b}' is not supported`,gt.ERR_NOT_SUPPORT,j)})});const x=b=>O(void 0,null,function*(){if(b==null)return 0;if(ne.isBlob(b))return b.size;if(ne.isSpecCompliantForm(b))return(yield new n($n.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(b)||ne.isArrayBuffer(b))return b.byteLength;if(ne.isURLSearchParams(b)&&(b=b+""),ne.isString(b))return(yield d(b)).byteLength}),y=(b,v)=>O(void 0,null,function*(){const j=ne.toFiniteNumber(b.getContentLength());return j==null?x(v):j});return b=>O(void 0,null,function*(){let{url:v,method:j,data:N,signal:w,cancelToken:S,timeout:P,onDownloadProgress:C,onUploadProgress:U,responseType:E,headers:Z,withCredentials:q="same-origin",fetchOptions:$}=g2(b),D=t||fetch;E=E?(E+"").toLowerCase():"text";let J=aD([w,S&&S.toAbortSignal()],P),H=null;const W=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let ie;try{if(U&&h&&j!=="get"&&j!=="head"&&(ie=yield y(Z,N))!==0){let se=new n(v,{method:"POST",body:N,duplex:"half"}),ce;if(ne.isFormData(N)&&(ce=se.headers.get("content-type"))&&Z.setContentType(ce),se.body){const[Ne,Ee]=n_(ie,Mh(r_(U)));N=s_(se.body,i_,Ne,Ee)}}ne.isString(q)||(q=q?"include":"omit");const ge=i&&"credentials"in n.prototype,he=le(R({},$),{signal:J,method:j.toUpperCase(),headers:Z.normalize().toJSON(),body:N,duplex:"half",credentials:ge?q:void 0});H=i&&new n(v,he);let V=yield i?D(H,$):D(v,he);const fe=m&&(E==="stream"||E==="response");if(m&&(C||fe&&W)){const se={};["status","statusText","headers"].forEach(_e=>{se[_e]=V[_e]});const ce=ne.toFiniteNumber(V.headers.get("content-length")),[Ne,Ee]=C&&n_(ce,Mh(r_(C),!0))||[];V=new r(s_(V.body,i_,Ne,()=>{Ee&&Ee(),W&&W()}),se)}E=E||"text";let re=yield p[ne.findKey(p,E)||"text"](V,b);return!fe&&W&&W(),yield new Promise((se,ce)=>{m2(se,ce,{data:re,headers:lr.from(V.headers),status:V.status,statusText:V.statusText,config:b,request:H})})}catch(ge){throw W&&W(),ge&&ge.name==="TypeError"&&/Load failed|fetch/i.test(ge.message)?Object.assign(new gt("Network Error",gt.ERR_NETWORK,b,H),{cause:ge.cause||ge}):gt.from(ge,ge&&ge.code,b,H)}})},uD=new Map,x2=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let l=i.length,c=l,d,h,m=uD;for(;c--;)d=i[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:cD(t)),m=h;return h};x2();const ov={http:T3,xhr:rD,fetch:{get:x2}};ne.forEach(ov,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const u_=e=>`- ${e}`,dD=e=>ne.isFunction(e)||e===null||e===!1;function hD(e,t){e=ne.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let l=0;l<n;l++){r=e[l];let c;if(s=r,!dD(r)&&(s=ov[(c=String(r)).toLowerCase()],s===void 0))throw new gt(`Unknown adapter '${c}'`);if(s&&(ne.isFunction(s)||(s=s.get(t))))break;i[c||"#"+l]=s}if(!s){const l=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(u_).join(`
`):" "+u_(l[0]):"as no adapter specified";throw new gt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const v2={getAdapter:hD,adapters:ov};function Um(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xl(null,e)}function d_(e){return Um(e),e.headers=lr.from(e.headers),e.data=Fm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),v2.getAdapter(e.adapter||xu.adapter,e)(e).then(function(r){return Um(e),r.data=Fm.call(e,e.transformResponse,r),r.headers=lr.from(r.headers),r},function(r){return f2(r)||(Um(e),r&&r.response&&(r.response.data=Fm.call(e,e.transformResponse,r.response),r.response.headers=lr.from(r.response.headers))),Promise.reject(r)})}const y2="1.13.2",hf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const h_={};hf.transitional=function(t,n,r){function s(i,l){return"[Axios v"+y2+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,c)=>{if(t===!1)throw new gt(s(l," has been removed"+(n?" in "+n:"")),gt.ERR_DEPRECATED);return n&&!h_[l]&&(h_[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,c):!0}};hf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fD(e,t,n){if(typeof e!="object")throw new gt("options must be an object",gt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],l=t[i];if(l){const c=e[i],d=c===void 0||l(c,i,e);if(d!==!0)throw new gt("option "+i+" must be "+d,gt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new gt("Unknown option "+i,gt.ERR_BAD_OPTION)}}const Ad={assertOptions:fD,validators:hf},ma=Ad.validators;let Oi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new e_,response:new e_}}request(t,n){return O(this,null,function*(){try{return yield this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch(l){}}throw r}})}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Vi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Ad.assertOptions(r,{silentJSONParsing:ma.transitional(ma.boolean),forcedJSONParsing:ma.transitional(ma.boolean),clarifyTimeoutError:ma.transitional(ma.boolean)},!1),s!=null&&(ne.isFunction(s)?n.paramsSerializer={serialize:s}:Ad.assertOptions(s,{encode:ma.function,serialize:ma.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ad.assertOptions(n,{baseUrl:ma.spelling("baseURL"),withXsrfToken:ma.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&ne.merge(i.common,i[n.method]);i&&ne.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=lr.concat(l,i);const c=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(d=d&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let m,p=0,x;if(!d){const b=[d_.bind(this),void 0];for(b.unshift(...c),b.push(...h),x=b.length,m=Promise.resolve(n);p<x;)m=m.then(b[p++],b[p++]);return m}x=c.length;let y=n;for(;p<x;){const b=c[p++],v=c[p++];try{y=b(y)}catch(j){v.call(this,j);break}}try{m=d_.call(this,y)}catch(b){return Promise.reject(b)}for(p=0,x=h.length;p<x;)m=m.then(h[p++],h[p++]);return m}getUri(t){t=Vi(this.defaults,t);const n=p2(t.baseURL,t.url,t.allowAbsoluteUrls);return u2(n,t.params,t.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(t){Oi.prototype[t]=function(n,r){return this.request(Vi(r||{},{method:t,url:n,data:(r||{}).data}))}});ne.forEach(["post","put","patch"],function(t){function n(r){return function(i,l,c){return this.request(Vi(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Oi.prototype[t]=n(),Oi.prototype[t+"Form"]=n(!0)});let mD=class b2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const l=new Promise(c=>{r.subscribe(c),i=c}).then(s);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,c){r.reason||(r.reason=new xl(i,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new b2(function(s){t=s}),cancel:t}}};function pD(e){return function(n){return e.apply(null,n)}}function gD(e){return ne.isObject(e)&&e.isAxiosError===!0}const Ax={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ax).forEach(([e,t])=>{Ax[t]=e});function w2(e){const t=new Oi(e),n=Qj(Oi.prototype.request,t);return ne.extend(n,Oi.prototype,t,{allOwnKeys:!0}),ne.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return w2(Vi(e,s))},n}const sn=w2(xu);sn.Axios=Oi;sn.CanceledError=xl;sn.CancelToken=mD;sn.isCancel=f2;sn.VERSION=y2;sn.toFormData=df;sn.AxiosError=gt;sn.Cancel=sn.CanceledError;sn.all=function(t){return Promise.all(t)};sn.spread=pD;sn.isAxiosError=gD;sn.mergeConfig=Vi;sn.AxiosHeaders=lr;sn.formToJSON=e=>h2(ne.isHTMLForm(e)?new FormData(e):e);sn.getAdapter=v2.getAdapter;sn.HttpStatusCode=Ax;sn.default=sn;const{Axios:jF,AxiosError:SF,CanceledError:TF,isCancel:EF,CancelToken:CF,VERSION:PF,all:MF,Cancel:LF,isAxiosError:IF,spread:AF,toFormData:OF,AxiosHeaders:RF,HttpStatusCode:DF,formToJSON:zF,getAdapter:$F,mergeConfig:BF}=sn,_2="https://api.capkeosport.com/api/v1",qo=sn.create({baseURL:_2,timeout:1e4,headers:{"Content-Type":"application/json"}}),xD=()=>ff().accessToken,vD=()=>ff().refreshToken,yD=(e,t)=>{k2(e,t)};qo.interceptors.request.use(e=>{const t=xD();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>(console.error(" Request Error:",e),Promise.reject(e)));let Hm=!1,Ox=[];const f_=(e,t=null)=>{Ox.forEach(n=>{e?n.reject(e):n.resolve(t)}),Ox=[]};qo.interceptors.response.use(e=>e,e=>O(void 0,null,function*(){const t=e.config;if(!e.response)return console.error("Network Error:",e),Promise.reject(e);if(e.response.status===401&&!t._retry){if(Hm)return new Promise((r,s)=>{Ox.push({resolve:r,reject:s})}).then(r=>(t.headers.Authorization=`Bearer ${r}`,qo(t))).catch(r=>Promise.reject(r));t._retry=!0,Hm=!0;const n=vD();if(!n)return localStorage.removeItem("auth-storage"),window.location.href="/login",Promise.reject(e);try{const r=yield sn.post(`${_2}/auth/refresh`,{refreshToken:n},{headers:{"Content-Type":"application/json"}});if(r.data.success&&r.data.data){const{user:s,tokens:i}=r.data.data;return yD(i,s),t.headers.Authorization=`Bearer ${i.accessToken}`,f_(null,i.accessToken),qo(t)}}catch(r){return f_(r,null),localStorage.removeItem("auth-storage"),window.location.href="/login",Promise.reject(r)}finally{Hm=!1}}return e.response.status===403?(console.error("Access forbidden:",e),Promise.reject(e)):e.response.status===429?(console.warn("Rate limit exceeded:",e),Promise.reject(e)):(e.response.status>=500&&console.error("Server error:",e),Promise.reject(e))}));const Vl=e=>O(void 0,null,function*(){var t,n,r,s,i,l,c,d,h;try{return(yield qo.request(e)).data}catch(m){throw{success:!1,error:{code:((r=(n=(t=m.response)==null?void 0:t.data)==null?void 0:n.error)==null?void 0:r.code)||"UNKNOWN_ERROR",message:((l=(i=(s=m.response)==null?void 0:s.data)==null?void 0:i.error)==null?void 0:l.message)||m.message||"An unknown error occurred",details:((h=(d=(c=m.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:h.details)||[]},timestamp:new Date().toISOString()}}}),Pe={get:(e,t)=>Vl(R({method:"GET",url:e},t)),post:(e,t,n)=>Vl(R({method:"POST",url:e,data:t},n)),put:(e,t,n)=>Vl(R({method:"PUT",url:e,data:t},n)),patch:(e,t,n)=>Vl(R({method:"PATCH",url:e,data:t},n)),delete:(e,t)=>Vl(R({method:"DELETE",url:e},t))},Ja=(e,t,n)=>O(void 0,null,function*(){var s,i,l,c,d,h,m,p,x;const r=new FormData;r.append("file",t);try{return(yield qo.post(e,r,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:b=>{if(n&&b.total){const v=Math.round(b.loaded*100/b.total);n(v)}}})).data}catch(y){throw{success:!1,error:{code:((l=(i=(s=y.response)==null?void 0:s.data)==null?void 0:i.error)==null?void 0:l.code)||"UPLOAD_ERROR",message:((h=(d=(c=y.response)==null?void 0:c.data)==null?void 0:d.error)==null?void 0:h.message)||y.message||"Upload failed",details:((x=(p=(m=y.response)==null?void 0:m.data)==null?void 0:p.error)==null?void 0:x.details)||[]},timestamp:new Date().toISOString()}}}),cn=sa()(pl((e,t)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null,metadata:{},login:(n,r)=>{e({tokens:n,user:r,isAuthenticated:!0,error:null,metadata:le(R({},t().metadata),{authTimestamp:Date.now()})})},logout:()=>O(void 0,null,function*(){const{tokens:n}=t();if(n!=null&&n.accessToken)try{yield Pe.post("/auth/logout")}catch(r){console.error("Logout API call failed:",r)}e({user:null,tokens:null,isAuthenticated:!1,error:null,metadata:{}})}),updateUser:n=>{const r=t().user;r&&e({user:R(R({},r),n)})},clearError:()=>e({error:null}),setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),setMetadata:n=>e(r=>({metadata:R(R({},r.metadata),n)})),zaloLogin:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.post("/auth/zalo-login",n);if(i.success&&i.data){const{user:l,tokens:c}=i.data;e({user:l,tokens:c,isAuthenticated:!0,error:null,metadata:{authMethod:"zalo_oauth",authTimestamp:Date.now()}})}else throw new Error(((r=i.error)==null?void 0:r.message)||"Login failed")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"ng nhp tht bi";throw e({error:l}),i}finally{e({isLoading:!1})}}),zaloThreeStepVerify:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.post("/auth/zalo-three-step-verify",n);if(i.success&&i.data){const{user:l,tokens:c}=i.data;e({user:l,tokens:c,isAuthenticated:!0,error:null,metadata:{authMethod:"zalo_three_step",authTimestamp:Date.now(),silentAuthInProgress:!1}})}else throw new Error(((r=i.error)==null?void 0:r.message)||"Verification failed")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Xc thc tht bi";throw e({error:l}),i}finally{e({isLoading:!1})}}),refreshTokens:()=>O(void 0,null,function*(){const{tokens:n}=t();if(!(n!=null&&n.refreshToken))return!1;try{e({isLoading:!0,error:null});const r=yield Pe.post("/auth/refresh",{refreshToken:n.refreshToken});if(r.success&&r.data){const{user:s,tokens:i}=r.data;return e({user:s,tokens:i,error:null}),!0}else throw new Error("Token refresh failed")}catch(r){return console.error("Token refresh error:",r),e({user:null,tokens:null,isAuthenticated:!1,metadata:{}}),e({error:r.message||"Session expired. Please login again."}),!1}finally{e({isLoading:!1})}}),checkAuth:()=>O(void 0,null,function*(){const{tokens:n}=t();if(!(n!=null&&n.accessToken)){t().logout();return}try{e({isLoading:!0,error:null});const r=yield Pe.get("/auth/profile");if(r.success&&r.data)e({user:r.data,isAuthenticated:!0,error:null});else throw new Error("Invalid user session")}catch(r){if(console.error("Auth check error:",r),yield t().refreshTokens())try{const i=yield Pe.get("/auth/profile");i.success&&i.data&&e({user:i.data,isAuthenticated:!0,error:null})}catch(i){console.error("Retry auth check failed:",i),t().logout()}else t().logout()}finally{e({isLoading:!1})}}),getProfile:(n=!1)=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.get("/auth/profile",n?{noCache:!0}:void 0);if(i.success&&i.data)return e({user:i.data,error:null}),i.data;throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to fetch profile")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th ti thng tin";throw e({error:l}),i}finally{e({isLoading:!1})}}),updateProfile:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.put("/auth/profile",n);if(i.success&&i.data)return e({user:i.data,error:null}),i.data;throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to update profile")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th cp nht thng tin";throw e({error:l}),i}finally{e({isLoading:!1})}})}),{name:"auth-storage",partialize:e=>({user:e.user,tokens:e.tokens,isAuthenticated:e.isAuthenticated,metadata:e.metadata})})),vu=()=>cn(e=>e.user),lv=()=>{const e=cn();return{login:e.login,logout:e.logout,updateUser:e.updateUser,refreshTokens:e.refreshTokens,checkAuth:e.checkAuth,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,setMetadata:e.setMetadata,zaloLogin:e.zaloLogin,zaloThreeStepVerify:e.zaloThreeStepVerify,getProfile:e.getProfile,updateProfile:e.updateProfile}},ff=()=>{var t,n;const e=cn.getState();return{accessToken:((t=e.tokens)==null?void 0:t.accessToken)||null,refreshToken:((n=e.tokens)==null?void 0:n.refreshToken)||null}},k2=(e,t)=>{const n=cn.getState();t&&n.updateUser(t),cn.setState({tokens:e})},gc=()=>{const e=cn.getState(),{tokens:t,metadata:n}=e;if(!(t!=null&&t.refreshToken))return!1;if(n.authTimestamp){const r=Date.now()-n.authTimestamp,s=30*24*60*60*1e3;if(r>s)return!1}return!0},bD=Object.freeze(Object.defineProperty({__proto__:null,getTokens:ff,hasValidAuth:gc,updateTokens:k2,useAuthActions:lv,useAuthStore:cn,useUser:vu},Symbol.toStringTag,{value:"Module"}));class wD{constructor(){}getZaloAccessToken(){return O(this,null,function*(){return new Promise((t,n)=>{if(typeof Mn=="undefined"||!Mn.getAccessToken){console.warn(" Zalo getAccessToken not available"),n(new Error("Zalo access token not available"));return}console.log(" Step 1: Getting Zalo access token..."),Mn.getAccessToken({success:r=>{console.log(" Zalo access token received:",{hasAccessToken:!!r,tokenLength:(r==null?void 0:r.length)||0});const s=(r==null?void 0:r.access_token)||(r==null?void 0:r.accessToken)||r;s?t(s):n(new Error("No access token in response"))},fail:r=>{console.error(" Failed to get Zalo access token:",r),n(new Error("Failed to get Zalo access token"))}})})})}getZaloUserId(){return O(this,null,function*(){return new Promise((t,n)=>{if(typeof Mn=="undefined"||!Mn.getUserID){console.warn(" Zalo getUserID not available"),n(new Error("Zalo user ID not available"));return}console.log(" Step 2: Getting Zalo user ID..."),Mn.getUserID({success:r=>{console.log(" Zalo user ID received:",{hasUserId:!!r,userId:r});const s=(r==null?void 0:r.userID)||(r==null?void 0:r.userId)||r;s?t(s.toString()):n(new Error("No user ID in response"))},fail:r=>{console.error(" Failed to get Zalo user ID:",r),n(new Error("Failed to get Zalo user ID"))}})})})}getZaloPhoneNumber(){return O(this,null,function*(){return new Promise((t,n)=>{if(typeof Mn=="undefined"||!Mn.getPhoneNumber){console.warn(" Zalo getPhoneNumber not available"),n(new Error("Zalo phone number not available"));return}console.log(" Step 3: Getting Zalo phone number..."),Mn.getPhoneNumber({success:r=>{console.log(" Zalo phone number received:",{hasNumber:!!(r!=null&&r.number),hasCode:!!(r!=null&&r.code),hasToken:!!(r!=null&&r.token),response:r}),r!=null&&r.token?t(r.token):n(new Error("No phone number, token, or code in response"))},fail:r=>{console.error(" Failed to get Zalo phone number:",r),n(new Error("User denied phone number access"))}})})})}sendToBackend(t){return O(this,null,function*(){var n,r;try{console.log(" Step 4: Sending all Zalo data to backend...");const s={userAccessToken:t.userAccessToken,userId:t.userId,phoneNumberToken:t.phoneNumber,deviceFingerprint:t.deviceInfo||this.generateDeviceFingerprint(),sessionId:t.sessionId,timestamp:t.timestamp};console.log(" Request Body Summary:"),console.log("- userAccessToken:",t.userAccessToken?"PRESENT":"MISSING"),console.log("- userId:",t.userId),console.log("- phoneNumberToken:",t.phoneNumber?"PRESENT ("+t.phoneNumber.substring(0,10)+"...)":"MISSING"),console.log("- sessionId:",t.sessionId),console.log("- timestamp:",t.timestamp);const i="/auth/zalo-three-step-verify";console.log(" API Request:",i);let l;try{if(l=yield Pe.post(i,s),console.log(" Response received:",{success:l.success,hasData:!!l.data}),!l.success)throw new Error(((n=l.error)==null?void 0:n.message)||l.message||"Authentication failed")}catch(d){throw console.error(" Backend error response:",d),d}const c=l.data;return console.log(" Backend authentication successful:",{success:l.success,userId:(r=c.user)==null?void 0:r.id,hasTokens:!!c.tokens,user:c.user}),{success:l.success||!1,user:c.user?{id:c.user.id,zaloId:c.user.zaloId||c.user.id,name:c.user.name,phone:c.user.phone,avatar:c.user.avatar,verified:c.user.verified||!0,verificationMethod:"zalo_three_step"}:void 0,tokens:c.tokens?{accessToken:c.tokens.accessToken,refreshToken:c.tokens.refreshToken}:void 0,error:c.error,message:c.message}}catch(s){throw console.log(s),console.error(" Backend authentication failed:",s),s}})}generateDeviceFingerprint(){const t=window.navigator,n=window.screen,r={userAgent:t.userAgent,language:t.language,platform:t.platform,screen:`${n.width}x${n.height}`,colorDepth:n.colorDepth,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,timestamp:Date.now()};return btoa(JSON.stringify(r)).substring(0,64)}generateSessionId(){if(typeof window!="undefined"&&window.crypto){const t=new Uint8Array(16);return window.crypto.getRandomValues(t),Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}return Math.random().toString(36).substring(2,15)+Date.now().toString(36)}authenticateWithThreeSteps(){return O(this,null,function*(){var t,n;try{console.log(" Starting Zalo 3-Step authentication..."),console.log(" ZMP SDK available:",typeof Mn!="undefined"),console.log(" Step 1: Getting access token...");const r=yield this.getZaloAccessToken();console.log(" Access token received:",!!r),console.log(" Step 2: Getting user ID...");const s=yield this.getZaloUserId();console.log(" User ID received:",!!s),console.log(" Step 3: Getting phone number...");const i=yield this.getZaloPhoneNumber();console.log(" Phone number received:",!!i),console.log(" All Zalo data collected:",{hasAccessToken:!!r,hasUserId:!!s,hasPhoneNumber:!!i});const l=yield this.sendToBackend({userAccessToken:r,userId:s,phoneNumber:i,deviceInfo:this.generateDeviceFingerprint(),sessionId:this.generateSessionId(),timestamp:Date.now()}),c=((t=l.data)==null?void 0:t.user)||l.user,d=((n=l.data)==null?void 0:n.tokens)||l.tokens;if(l.success&&d&&c){console.log(" Storing authentication data:",{hasTokens:!!d,hasUser:!!c,verificationMethod:c.verificationMethod});const h={accessToken:d.accessToken,refreshToken:d.refreshToken,expiresIn:"3600"},m={id:c.id,zaloUserId:c.zaloId||c.id,name:c.name,phone:c.phone,avatar:c.avatar||void 0,verificationMethod:c.verificationMethod==="THREE_STEP"?"THREE_STEP":"OAUTH",isActive:!0,createdAt:new Date().toISOString()},p=cn.getState();p.login(h,m),p.setMetadata({silentAuthInProgress:!1}),console.log(" Authentication data stored successfully!")}return l}catch(r){return console.error(" 3-Step authentication failed:",r),{success:!1,error:r instanceof Error?r.message:"Authentication failed",message:"Khng th xc thc ti khon Zalo. Vui lng th li."}}})}hasPhonePermission(){const t=cn.getState(),{metadata:n}=t;return n.authMethod==="zalo_three_step"&&!!n.authTimestamp}attemptSilentAuth(){return O(this,null,function*(){try{console.log(" Attempting silent authentication...");const t=cn.getState(),{metadata:n}=t;if(n.silentAuthInProgress)return console.log(" Silent authentication already in progress..."),{success:!1,error:"Authentication in progress",message:"ang xc thc, vui lng i..."};t.setMetadata({silentAuthInProgress:!0});try{if(gc()&&n.authMethod==="zalo_three_step"){console.log(" Using valid authentication from store");const s=t.user;if(s)return{success:!0,user:{id:s.id,zaloId:s.zaloUserId||s.id,name:s.name,phone:s.phone,avatar:s.avatar,verified:!0,verificationMethod:"zalo_three_step"}}}if(!(yield this.checkAndRefreshToken()))return console.log(" Token validation failed, need full authentication"),{success:!1,error:"Token expired",message:"Phin ng nhp  ht hn"};if(gc()){console.log(" Silent authentication successful");const s=t.user;if(s)return{success:!0,user:{id:s.id,zaloId:s.zaloUserId||s.id,name:s.name,phone:s.phone,avatar:s.avatar,verified:!0,verificationMethod:"zalo_three_step"}}}return this.hasPhonePermission()?(console.log(" User has granted permission before, attempting 3-step auth..."),yield this.authenticateWithThreeSteps()):(console.log(" No cached permission, user needs to grant permission first"),{success:!1,error:"Permission not granted",message:"Vui lng cp quyn truy cp s in thoi"})}finally{t.setMetadata({silentAuthInProgress:!1})}}catch(t){return console.error(" Silent authentication failed:",t),cn.getState().setMetadata({silentAuthInProgress:!1}),{success:!1,error:t instanceof Error?t.message:"Silent authentication failed",message:"Khng th xc thc t ng"}}})}checkAndRefreshToken(){return O(this,null,function*(){try{const t=cn.getState(),{tokens:n,metadata:r}=t;if(!(n!=null&&n.refreshToken))return console.log(" No refresh token found"),!1;if(!r.authTimestamp)return console.log(" No auth timestamp found"),!1;const s=Date.now()-r.authTimestamp,i=50*60*1e3,l=30*24*60*60*1e3;if(s>l)return console.log(" Refresh token is expired, user must re-login"),this.logout(),!1;if(s>i){console.log(" Access token is approaching expiry, attempting refresh...");try{return(yield t.refreshTokens())?(console.log(" Token refresh successful"),!0):(console.log(" Token refresh failed"),this.logout(),!1)}catch(c){return console.error(" Token refresh error:",c),this.logout(),!1}}return!0}catch(t){return console.error(" Error checking token:",t),!1}})}mockAuthentication(){console.log(" BYPASS: Mock authentication started...");const t={success:!0,data:{user:{id:"298cdecd-17a3-4f22-b7df-96a0873e4fe0",zaloId:"603906499241891494",name:"Zalo User",phone:"+84338048340",avatar:"https://graph.zalo.me/v2.0/picture/603906499241891494",phoneVerified:!0,verificationMethod:"THREE_STEP",status:"active"},tokens:{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyOThjZGVjZC0xN2EzLTRmMjItYjdkZi05NmEwODczZTRmZTAiLCJ6YWxvVXNlcklkIjoiNjAzOTA2NDk5MjQxODkxNDk0IiwibmFtZSI6IlphbG8gVXNlciIsInZlcmlmaWNhdGlvbk1ldGhvZCI6IlRIUkVFX1NURVAiLCJwaG9uZVZlcmlmaWVkIjp0cnVlLCJsYXN0VmVyaWZpY2F0aW9uQXQiOiIyMDI2LTAyLTE2VDEwOjMwOjAwLjAwMFoiLCJpYXQiOjE3NzE1ODQyODAsImV4cCI6MTgwMzEyMDI4MH0.sgolPl3MQGLnppw0tyBhb_Si0kjqQT8oTS1CXwF8M4k",refreshToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyOThjZGVjZC0xN2EzLTRmMjItYjdkZi05NmEwODczZTRmZTAiLCJ0eXBlIjoicmVmcmVzaCIsInphbG9Vc2VySWQiOiI2MDM5MDY0OTkyNDE4OTE0OTQiLCJpYXQiOjE3NzE1ODQyODAsImV4cCI6MTgwMzEyMDI4MH0.NCED_O7H9HGHiF7Gy_jeffWlBCunU2qHK6uLhAgba1s"}}};return console.log(" BYPASS: Mock authentication successful!"),console.log(" User:",t.data.user),console.log(" Token:",t.data.tokens.accessToken.substring(0,20)+"..."),t}isAuthenticated(){const t=cn.getState(),{metadata:n,tokens:r}=t;return!(r!=null&&r.accessToken)||n.authMethod!=="zalo_three_step"?!1:gc()}getUserInfo(){const t=cn.getState(),{user:n,metadata:r}=t;return!n||r.authMethod!=="zalo_three_step"?null:le(R({},n),{authMethod:"zalo_three_step",lastAuth:r.authTimestamp})}logout(){cn.getState().logout()}getAccessToken(){var n;return((n=cn.getState().tokens)==null?void 0:n.accessToken)||null}}const Lh=new wD,_D=()=>a.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),Zm={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},textCenter:{textAlign:"center"},loadingText:{marginTop:"16px",color:"#666",fontSize:"14px"}},Rx=document.createElement("style");Rx.innerText=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;document.head.querySelector("style[data-spinner]")||(Rx.setAttribute("data-spinner","true"),document.head.appendChild(Rx));const Ut=({children:e})=>{const[t,n]=k.useState("checking");k.useEffect(()=>{r()},[]);const r=()=>O(void 0,null,function*(){console.log(" ProtectedRoute: Checking authentication state...");try{const i=cn.getState().metadata.authMethod;console.log("- Auth method:",i);let l=!1;if(i==="zalo_three_step"){if(l=Lh.isAuthenticated(),console.log("- Current auth valid:",l),!l){console.log("- Attempting silent authentication...");const c=yield Lh.attemptSilentAuth();c.success?(console.log(" Silent authentication successful"),l=!0):console.log(" Silent authentication failed:",c.message)}}else l=gc(),console.log("- General auth valid:",l);l?(console.log(" User is authenticated"),n("authenticated")):(console.log(" User not authenticated, redirecting to login"),n("need_login"))}catch(s){console.error(" Error in authentication check:",s),n("need_login")}});return t==="checking"?a.jsx("div",{style:Zm.container,children:a.jsxs("div",{style:Zm.textCenter,children:[a.jsx(_D,{}),a.jsx("p",{style:Zm.loadingText,children:"ang kim tra ng nhp..."})]})}):t==="need_login"?a.jsx(Ph,{to:"/login",replace:!0}):a.jsx(a.Fragment,{children:e})},A=({name:e,className:t="",filled:n=!1,size:r})=>{const s={xs:"text-base",sm:"text-lg",md:"text-xl",lg:"text-2xl",xl:"text-3xl","2xl":"text-4xl","3xl":"text-5xl"};return a.jsx("span",{className:`material-icons select-none ${s[r||"lg"]} ${t}`,style:{fontVariationSettings:`'FILL' ${n?1:0}, 'wght' 400, 'GRAD' 0, 'opsz' 24`},children:e})},N2={sm:"gap-2"},ut={caption:"text-xs",small:"text-sm",base:"text-base",lg:"text-xl",xl:"text-2xl","2xl":"text-[28px]","3xl":"text-[32px]","4xl":"text-[36px]"},cv={md:"text-lg",lg:"text-xl"},bo={height:"h-14",padding:"px-4",titleSize:ut.lg,iconButtonSize:"size-9"},kD={md:"rounded-xl"},vi={handshake:"handshake",stadium:"stadium",chat_bubble:"chat_bubble",groups:"groups"},$t={attack:{main:"text-red-500",bg:"bg-red-500/10",gradient:"from-red-500 to-orange-500",accent:"accent-red-500"},defense:{main:"text-blue-500",bg:"bg-blue-500/10",gradient:"from-blue-500 to-cyan-500",accent:"accent-blue-500"},technique:{main:"text-blue-500",bg:"bg-blue-500/10",gradient:"from-blue-500 to-cyan-500",accent:"accent-blue-500"}},Dr={attack:"flash_on",defense:"shield",technique:"sports_soccer"},Wm={FIVE:"Sn 5",SEVEN:"Sn 7",ELEVEN:"Sn 11"},yu=[Wm.FIVE,Wm.SEVEN,Wm.ELEVEN],mf=["Mi chi","Trung bnh","Nghip d","Bn chuyn","Chuyn nghip"],pr={MALE:"Nam",FEMALE:"N",MIXED:"Mixed"},m_=e=>e==="MALE"?pr.MALE:e==="FEMALE"?pr.FEMALE:e==="MIXED"?pr.MIXED:e==="Nam"||e==="N"||e==="Mixed"?e:pr.MALE,j2=e=>e==="Nam"?pr.MALE:e==="N"?pr.FEMALE:pr.MIXED,Vm={"Mi chi":{main:"text-gray-600",bg:"bg-gray-500/10",border:"border-gray-500/20",bgSolid:"bg-gray-500"},"Trung bnh":{main:"text-gray-600",bg:"bg-gray-500/10",border:"border-gray-500/20",bgSolid:"bg-gray-500"},"Nghip d":{main:"text-gray-600",bg:"bg-gray-500/10",border:"border-gray-500/20",bgSolid:"bg-gray-500"},"Bn chuyn":{main:"text-amber-500",bg:"bg-amber-500/10",border:"border-amber-500/20",bgSolid:"bg-amber-500"},"Chuyn nghip":{main:"text-amber-600",bg:"bg-amber-500/10",border:"border-amber-500/20",bgSolid:"bg-amber-600"}},uv="military_tech",bu=e=>e in Vm?Vm[e]:Vm["Mi chi"],Km={match:{text:"text-primary"},team:{text:"text-blue-500"}},ke=h=>{var m=h,{children:e,variant:t="primary",fullWidth:n=!1,icon:r,isLoading:s=!1,size:i="md",className:l="",disabled:c}=m,d=Sr(m,["children","variant","fullWidth","icon","isLoading","size","className","disabled"]);const p="rounded-xl font-semibold transition-all active:scale-[0.98] flex items-center justify-center disabled:opacity-70 disabled:cursor-not-allowed",x={sm:"h-10 px-4 py-2 text-sm",md:"h-11 px-5 py-2.5 text-base",lg:"h-12 px-6 py-3 text-lg"},y={primary:"bg-primary hover:bg-primary-dark text-background-dark shadow-lg shadow-primary/20",secondary:"bg-transparent border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-white hover:bg-gray-100 dark:hover:bg-white/5",ghost:"bg-transparent text-primary hover:bg-primary/10",danger:"bg-red-500/10 text-red-500 hover:bg-red-500/20"};return a.jsxs("button",le(R({className:`${p} ${x[i]} ${y[t]} ${N2.sm} ${n?"w-full":""} ${l}`,disabled:c||s},d),{children:[s&&a.jsx("span",{className:"animate-spin h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),r&&!s&&a.jsx(A,{name:r,className:cv.md}),e]}))},zr=i=>{var l=i,{label:e,icon:t,error:n,className:r=""}=l,s=Sr(l,["label","icon","error","className"]);return a.jsxs("div",{className:`flex flex-col ${N2.sm} ${r}`,children:[e&&a.jsx("label",{className:`font-medium text-gray-600 dark:text-text-secondary ml-1 ${ut.small}`,children:e}),a.jsxs("div",{className:"relative flex items-center",children:[t&&a.jsx("div",{className:"absolute left-4 text-gray-400 dark:text-gray-500 pointer-events-none z-10",children:a.jsx(A,{name:t,className:cv.lg})}),a.jsx("input",R({className:`w-full bg-white dark:bg-surface-dark border ${n?"border-red-500":"border-gray-200 dark:border-border-dark"} ${kD.md} h-11 ${t?"pl-12":"pl-4"} pr-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all ${ut.base}`},s))]}),n&&a.jsx("span",{className:`text-red-500 ml-1 ${ut.caption}`,children:n})]})},Kt=({title:e,showBack:t=!0,onBack:n,rightAction:r,transparent:s=!1})=>{const i=s?`absolute top-0 left-0 right-0 z-50 ${bo.padding} flex items-center ${bo.height} safe-area-top`:`sticky top-0 z-40 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md ${bo.padding} flex items-center border-b border-gray-200 dark:border-white/5 ${bo.height} safe-area-top`,l=s?"text-white":"text-slate-900 dark:text-white",c=s?"text-white hover:bg-white/10":"hover:bg-gray-200 dark:hover:bg-white/10";return a.jsxs("div",{className:i,children:[t&&a.jsx("button",{onClick:n,className:`flex items-center justify-center rounded-full transition-colors -ml-2 ${c} ${bo.iconButtonSize}`,children:a.jsx(A,{name:"arrow_back",className:cv.lg})}),e&&a.jsx("h1",{className:`flex-1 font-bold text-center ${l} ${bo.titleSize} ${t&&!r?"pr-8":""}`,children:e}),r&&a.jsx("div",{className:"-mr-2",children:r})]})},ND=[{id:"home",icon:"home",label:"Trang ch"},{id:"schedule",icon:"calendar_month",label:"Lch u"},{id:"match",icon:"sports_soccer",label:"",isFab:!0},{id:"team",icon:"groups",label:"i bng"},{id:"profile",icon:"person",label:"C nhn"}],jD=({activeTab:e,onTabChange:t})=>a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:a.jsx("div",{className:"flex items-stretch justify-around h-[72px] bg-white dark:bg-surface-dark border-t border-gray-200 dark:border-white/5 safe-area-bottom pt-4",children:ND.map(n=>{if(n.isFab)return a.jsx("div",{className:"relative -top-6 flex items-center justify-center",children:a.jsx("button",{onClick:()=>t(n.id),className:"h-[56px] w-[56px] rounded-full bg-primary flex items-center justify-center shadow-lg shadow-primary/40 hover:scale-105 active:scale-95 transition-all text-slate-900 border-4 border-white dark:border-surface-dark",children:a.jsx(A,{name:n.icon,className:"text-[28px]",filled:!0})})},n.id);const r=e===n.id;return a.jsxs("button",{onClick:()=>t(n.id),className:`flex flex-col items-center justify-center flex-1 max-w-[80px] h-full gap-0.5 px-1 ${r?"text-primary":"text-gray-400 dark:text-gray-500"}`,children:[a.jsx(A,{name:n.icon,filled:r,className:"text-[22px]"}),a.jsx("span",{className:"text-[10px] font-medium leading-tight whitespace-nowrap",children:n.label})]},n.id)})})}),Ae={login:"/login",onboarding:"/onboarding",dashboard:"/dashboard",profile:"/profile",profileEdit:"/profile/edit",teams:"/teams",teamsCreate:"/teams/create",teamDetail:e=>`/teams/${e}`,teamEdit:e=>`/teams/${e}/edit`,teamMembers:e=>`/teams/${e}/members`,memberAdd:e=>`/teams/${e}/members/add`,memberProfile:(e,t)=>`/teams/${e}/members/${t}`,teamShare:e=>`/teams/${e}/share`,matchFind:"/match/find",matchFound:"/match/found",matchSchedule:"/match/schedule",matchDetail:e=>`/match/${e}`,matchAttendance:e=>`/match/${e}/attendance`,matchUpdateScore:e=>`/match/${e}/update-score`,matchRematch:e=>`/match/${e}/rematch`,matchInvite:"/match/invite",opponentDetail:e=>`/match/opponent/${e}`,matchHistory:"/match/history",notifications:"/notifications",myInvites:"/my-invites",invitesReceived:"/invites/received",swipeHistory:"/swipe/history",swipeReceived:"/swipe/received",swipeStats:"/swipe/stats"},SD=()=>{const e=jt(),t=Zr(),[n,r]=k.useState("home");k.useEffect(()=>{const i=t.pathname;i==="/dashboard"||i==="/"?r("home"):i.startsWith("/teams")?r("team"):i.startsWith("/match")?i.includes("/schedule")?r("schedule"):r("match"):i.startsWith("/profile")&&r("profile")},[t.pathname]);const s=i=>{switch(r(i),i){case"home":e(Ae.dashboard,{replace:!0});break;case"schedule":e(Ae.matchSchedule,{replace:!0});break;case"match":e(Ae.matchFind,{replace:!0});break;case"team":e(Ae.teams,{replace:!0});break;case"profile":e(Ae.profile,{replace:!0});break}};return a.jsxs(a.Fragment,{children:[a.jsx(rR,{}),a.jsx(jD,{activeTab:n,onTabChange:s})]})},Jt=({src:e,size:t="md",className:n=""})=>{const r={sm:"h-10 w-10",md:"h-14 w-14",lg:"h-20 w-20",xl:"h-24 w-24"};return a.jsx("div",{className:`${r[t]} rounded-full bg-surface-dark border-2 border-gray-200 dark:border-white/10 p-0.5 overflow-hidden ${n}`,children:e?a.jsx("img",{src:e,alt:"Team",className:"w-full h-full object-cover rounded-full"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"T"})})})},ra=sa()(pl((e,t)=>({activeTab:"home",theme:"system",effectiveTheme:"dark",isModalOpen:!1,modalContent:null,globalLoading:!1,toast:null,isBottomSheetOpen:!1,bottomSheetContent:null,hideMatchBookingGuide:!1,setActiveTab:n=>e({activeTab:n}),setTheme:n=>{e({theme:n}),t().updateEffectiveTheme()},updateEffectiveTheme:()=>{const n=t();let r;if(n.theme==="system"?typeof window!="undefined"?r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r="light":r=n.theme,typeof document!="undefined"){const s=document.documentElement;r==="dark"?s.classList.add("dark"):s.classList.remove("dark")}e({effectiveTheme:r})},openModal:n=>e({isModalOpen:!0,modalContent:n}),closeModal:()=>e({isModalOpen:!1,modalContent:null}),setGlobalLoading:n=>e({globalLoading:n}),showToast:(n,r="info")=>e({toast:{message:n,type:r}}),hideToast:()=>e({toast:null}),openBottomSheet:n=>e({isBottomSheetOpen:!0,bottomSheetContent:n}),closeBottomSheet:()=>e({isBottomSheetOpen:!1,bottomSheetContent:null}),setHideMatchBookingGuide:n=>e({hideMatchBookingGuide:n})}),{name:"ui-storage",partialize:e=>({theme:e.theme,activeTab:e.activeTab,hideMatchBookingGuide:e.hideMatchBookingGuide})}));if(typeof window!="undefined"){ra.getState().updateEffectiveTheme();const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{ra.getState().theme==="system"&&ra.getState().updateEffectiveTheme()};e.addEventListener("change",t)}const S2=k.createContext(void 0),TD=()=>{const e=k.useContext(S2);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},ED=({children:e})=>{const{theme:t,setTheme:n,effectiveTheme:r}=ra();return k.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),i=()=>{ra.getState().updateEffectiveTheme()};return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[t]),a.jsx(S2.Provider,{value:{theme:t,setTheme:n,effectiveTheme:r},children:e})},CD=()=>{const{setTheme:e,effectiveTheme:t}=TD(),n=t==="dark",r=()=>{e(n?"light":"dark")};return a.jsxs("div",{onClick:r,className:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-white/5 active:bg-gray-50 dark:active:bg-white/5 cursor-pointer animate-slide-in-right",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 pb-1 rounded-xl bg-gray-100 dark:bg-white/10",children:a.jsx(A,{name:n?"dark_mode":"light_mode",className:"text-gray-500 text-lg"})}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:"Ch  hin th"})]}),a.jsx("button",{type:"button",role:"switch","aria-checked":n,onClick:s=>{s.stopPropagation(),r()},className:`
          relative inline-flex h-6 w-11 items-center rounded-full
          transition-colors duration-200 ease-in-out
          focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2
          ${n?"bg-primary":"bg-gray-200 dark:bg-gray-700"}
        `,children:a.jsx("span",{className:`
            inline-block h-5 w-5 transform rounded-full bg-white
            transition-transform duration-200 ease-in-out
            ${n?"translate-x-6":"translate-x-1"}
          `})})]})},pe=n=>{var r=n,{className:e=""}=r,t=Sr(r,["className"]);return a.jsx("div",R({className:`animate-pulse bg-gray-200 dark:bg-gray-700 rounded ${e}`},t))},Ri=()=>a.jsxs("div",{className:"bg-white dark:bg-surface-dark border-l-4 border-gray-300 dark:border-gray-600 rounded-r-2xl p-4 shadow-md",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pe,{className:"h-12 w-12 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(pe,{className:"h-4 w-48 mb-2"}),a.jsx(pe,{className:"h-5 w-36 mb-1"}),a.jsx(pe,{className:"h-3 w-20"})]})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsx(pe,{className:"h-9 flex-1 rounded-lg"}),a.jsx(pe,{className:"h-9 flex-1 rounded-lg"}),a.jsx(pe,{className:"h-9 w-9 rounded-full"})]})]}),PD=()=>a.jsxs("div",{className:"rounded-2xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 p-5 shadow-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx(pe,{className:"h-7 w-28 rounded-full"}),a.jsx(pe,{className:"h-10 w-10 rounded-lg"})]}),a.jsxs("div",{className:"flex gap-4 items-start mb-5",children:[a.jsx(pe,{className:"w-16 h-16 rounded-xl"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(pe,{className:"h-6 w-56"}),a.jsx(pe,{className:"h-5 w-40"}),a.jsx(pe,{className:"h-4 w-48"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 dark:border-white/5",children:[a.jsx(pe,{className:"flex-1 h-10 rounded-lg"}),a.jsx(pe,{className:"flex-1 h-10 rounded-lg"})]})]}),Gm=()=>a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(pe,{className:"h-10 w-10 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(pe,{className:"h-4 w-32 mb-2"}),a.jsx(pe,{className:"h-6 w-24 rounded-full"})]})]}),a.jsx(pe,{className:"h-16 w-full rounded-lg mb-3"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(pe,{className:"flex-1 h-10 rounded-lg"}),a.jsx(pe,{className:"flex-1 h-10 rounded-lg"})]})]}),qm=()=>a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm animate-pulse",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx(pe,{className:"h-7 w-28 rounded-full"}),a.jsx(pe,{className:"h-5 w-20"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[a.jsx(pe,{className:"h-14 w-14 rounded-full"}),a.jsx(pe,{className:"h-4 w-20"})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3",children:[a.jsx(pe,{className:"h-8 w-16"}),a.jsx(pe,{className:"h-4 w-12 mt-1"})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[a.jsx(pe,{className:"h-14 w-14 rounded-full"}),a.jsx(pe,{className:"h-4 w-20"})]})]}),a.jsx(pe,{className:"h-10 w-full rounded-lg"})]}),Ym=()=>a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-0 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden animate-pulse",children:[a.jsx(pe,{className:"h-1.5 w-full"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between mb-4",children:[a.jsx(pe,{className:"h-4 w-16"}),a.jsx(pe,{className:"h-4 w-24"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(pe,{className:"h-14 w-14 rounded-full"}),a.jsx(pe,{className:"h-8 w-16"}),a.jsx(pe,{className:"h-14 w-14 rounded-full"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(pe,{className:"flex-1 h-9 rounded-lg"}),a.jsx(pe,{className:"flex-1 h-9 rounded-lg"})]})]})]}),Jm=()=>a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm animate-pulse",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx(pe,{className:"h-16 w-16 rounded-full shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(pe,{className:"h-5 w-40 mb-2 rounded"}),a.jsx(pe,{className:"h-4 w-24 rounded"})]})]}),a.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:a.jsx(pe,{className:"h-16 w-full rounded-lg"})})]}),MD=()=>a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[a.jsxs("div",{className:"relative",children:[a.jsx(pe,{className:"h-40 w-full"}),a.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:a.jsx(pe,{className:"size-24 rounded-full border-4 border-background-light dark:border-background-dark"})})]}),a.jsxs("div",{className:"mt-12 text-center px-4",children:[a.jsx(pe,{className:"h-8 w-48 mx-auto mb-3 rounded"}),a.jsxs("div",{className:"flex justify-center gap-2",children:[a.jsx(pe,{className:"h-8 w-20 rounded-full"}),a.jsx(pe,{className:"h-8 w-20 rounded-full"})]})]}),a.jsx("div",{className:"px-4 mt-6",children:a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5 space-y-4 shadow-sm",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx(pe,{className:"size-8 rounded-full shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(pe,{className:"h-3 w-16 mb-2 rounded"}),a.jsx(pe,{className:"h-4 w-48 rounded"})]})]}),a.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(pe,{className:"size-8 rounded-full shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(pe,{className:"h-3 w-16 mb-2 rounded"}),a.jsx(pe,{className:"h-4 w-32 rounded"})]})]}),a.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(pe,{className:"size-8 rounded-full shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(pe,{className:"h-3 w-16 mb-2 rounded"}),a.jsx(pe,{className:"h-4 w-full rounded"})]})]})]})}),a.jsxs("div",{className:"px-4 mt-6",children:[a.jsx(pe,{className:"h-6 w-28 mb-3 rounded"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[1,2,3].map(e=>a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[a.jsx(pe,{className:"size-10 rounded-full"}),a.jsx(pe,{className:"h-3 w-12 rounded"}),a.jsx(pe,{className:"h-6 w-10 rounded"})]},e))})]}),a.jsxs("div",{className:"px-4 mt-6",children:[a.jsx(pe,{className:"h-6 w-40 mb-3 rounded"}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-3",children:[[1,2,3].map(e=>a.jsx(pe,{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark"},e)),a.jsx(pe,{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx(pe,{className:"h-4 w-20 mb-1 rounded"}),a.jsx(pe,{className:"h-3 w-24 rounded"})]})]}),a.jsx(pe,{className:"size-8 rounded-full"})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/90 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5 z-40",children:a.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[a.jsx(pe,{className:"flex-1 h-11 rounded-lg"}),a.jsx(pe,{className:"flex-[1.5] h-11 rounded-lg"})]})})]}),LD=()=>a.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-primary/10 to-transparent pointer-events-none z-0"}),a.jsxs("div",{className:"relative z-50 pt-12 pb-2 px-4 flex justify-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-md pl-4 pr-5 py-2 rounded-full shadow-lg border border-white/5",children:[a.jsx(pe,{className:"h-6 w-6 rounded-full"}),a.jsx(pe,{className:"h-4 w-32"}),a.jsx(pe,{className:"h-4 w-4"})]}),a.jsx(pe,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full"}),a.jsx(pe,{className:"absolute right-4 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full"})]}),a.jsxs("div",{className:"flex-1 flex items-center justify-center p-4 z-10 relative overflow-visible",children:[a.jsx(pe,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[calc(50%+8px)] w-[82%] h-[calc(100%-24px)] rounded-[2.5rem] border opacity-40"}),a.jsx(pe,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[calc(50%+4px)] w-[82%] h-[calc(100%-24px)] rounded-[2.5rem] border opacity-70"}),a.jsxs("div",{className:"relative w-full max-w-[360px] h-[72vh] max-h-[660px] bg-surface-light dark:bg-surface-dark rounded-[2.5rem] shadow-2xl border border-gray-200 dark:border-white/10 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"relative h-[35%] w-full bg-surface-light overflow-hidden shrink-0",children:[a.jsx(pe,{className:"w-full h-full"}),a.jsx("div",{className:"absolute inset-0 bg-surface-light/60 dark:bg-surface-dark/60"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface-light dark:from-surface-dark via-transparent to-transparent"}),a.jsx(pe,{className:"absolute top-4 left-4 h-7 w-24 rounded-lg"})]}),a.jsxs("div",{className:"flex-1 flex flex-col pt-16 px-6 pb-6 items-center bg-surface-light dark:bg-surface-dark",children:[a.jsx("div",{className:"absolute top-[22%] left-1/2 -translate-x-1/2 z-10",children:a.jsx(pe,{className:"w-28 h-28 rounded-full border-4 border-surface-light dark:border-surface-dark"})}),a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(pe,{className:"h-7 w-40"}),a.jsx(pe,{className:"h-6 w-6 rounded-full"})]}),a.jsx(pe,{className:"h-4 w-28 mb-1"}),a.jsx(pe,{className:"h-4 w-32 mb-4"}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-lg bg-primary/10 border border-primary/20",children:[a.jsx(pe,{className:"h-4 w-4 rounded-full"}),a.jsx(pe,{className:"h-4 w-12"})]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 rounded-lg bg-white/5 border border-white/10",children:[a.jsx(pe,{className:"h-4 w-4 rounded-full"}),a.jsx(pe,{className:"h-4 w-20"})]})]}),a.jsx(pe,{className:"h-10 w-full rounded-lg mb-6"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 w-full mb-auto",children:[a.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5",children:[a.jsx(pe,{className:"h-3 w-12 mb-1"}),a.jsx(pe,{className:"h-6 w-8"}),a.jsx(pe,{className:"w-full h-1.5 rounded-full"})]}),a.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5",children:[a.jsx(pe,{className:"h-3 w-12 mb-1"}),a.jsx(pe,{className:"h-6 w-8"}),a.jsx(pe,{className:"w-full h-1.5 rounded-full"})]}),a.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5",children:[a.jsx(pe,{className:"h-3 w-12 mb-1"}),a.jsx(pe,{className:"h-6 w-8"}),a.jsx(pe,{className:"w-full h-1.5 rounded-full"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full mt-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-white/5",children:[a.jsx(pe,{className:"h-5 w-5 rounded-full"}),a.jsxs("div",{className:"flex flex-col items-start gap-1",children:[a.jsx(pe,{className:"h-2 w-12"}),a.jsx(pe,{className:"h-4 w-16"})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 py-3 px-4 rounded-xl border border-gray-200 dark:border-white/5",children:[a.jsx(pe,{className:"h-5 w-5 rounded-full"}),a.jsxs("div",{className:"flex flex-col items-start gap-1",children:[a.jsx(pe,{className:"h-2 w-12"}),a.jsx(pe,{className:"h-4 w-16"})]})]})]})]})]}),a.jsx("div",{className:"absolute w-full max-w-[360px] h-[72vh] max-h-[660px] bg-surface-light dark:bg-surface-dark rounded-[2.5rem] shadow-2xl border border-gray-200 dark:border-white/10 scale-95 translate-y-2 opacity-60"})]}),a.jsxs("div",{className:"relative z-20 w-full flex items-center justify-center gap-10 pb-12 pt-4 px-6 shrink-0",children:[a.jsx(pe,{className:"w-[72px] h-[72px] rounded-full"}),a.jsx(pe,{className:"w-[84px] h-[84px] rounded-full"})]})]}),Ki=({icon:e="inbox",title:t,description:n,actionLabel:r,onAction:s,className:i=""})=>a.jsxs("div",{className:`flex flex-col items-center justify-center px-6 text-center ${i||"py-12"}`,children:[e&&a.jsx("div",{className:"mb-4 text-gray-400 dark:text-gray-500",children:a.jsx(A,{name:e,className:"text-5xl",filled:!0})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:t}),n&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-text-secondary mb-4 max-w-xs",children:n}),r&&s&&a.jsx("button",{onClick:s,className:"mt-2 px-6 py-2 bg-primary text-white rounded-full text-sm font-semibold hover:bg-primary/90 transition-colors",children:r})]}),ID=({onRefresh:e,onFindMatch:t})=>a.jsx(Ki,{icon:"sports_soccer",title:"Cha c trn u no",description:"Hy cp ko vi i khc  c trn u th v",actionLabel:t?"Cp ko ngay":e?"Lm mi":void 0,onAction:t||e,className:"py-6"}),AD=({onCreateTeam:e})=>a.jsx(Ki,{icon:"group_off",title:"Cha c i bng",description:"Hy to i bng u tin ca bn  bt u tm kim i th",actionLabel:e?"To i ngay":void 0,onAction:e}),vl=({title:e="C li xy ra",message:t,onRetry:n,retryLabel:r="Th li",className:s="",showIcon:i=!0})=>a.jsxs("div",{className:`flex flex-col items-center justify-center py-12 px-6 text-center ${s}`,children:[i&&a.jsx("div",{className:"mb-4 text-red-500 dark:text-red-400",children:a.jsx(A,{name:"error_outline",className:"text-5xl"})}),e&&a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:e}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-text-secondary mb-6 max-w-xs",children:t}),n&&a.jsxs(ke,{onClick:n,className:"min-w-[120px]",children:[a.jsx(A,{name:"refresh",className:"mr-2"}),r]})]}),OD=({error:e="Khng th ti d liu",onRetry:t})=>a.jsx("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:a.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:a.jsx(vl,{title:"Khng th ti trang ch",message:e||"Khng th ti d liu",onRetry:t,retryLabel:"Ti li trang"})})}),RD=({match:e,isAdmin:t=!0,canEditRequest:n=!1,onAccept:r,onDecline:s,onCancel:i,onConfirm:l,onSendRequest:c,onEditRequest:d,onShowGuide:h,index:m=0})=>{var P;const p=jt(),[x,y]=k.useState(!1),b=((P=e.teamB.name)==null?void 0:P.length)>24?`${e.teamB.name.slice(0,24)}...`:e.teamB.name,v=e.teamB.level?bu(e.teamB.level):null,j=Math.min(m*75,375),N=()=>{switch(e.type){case"matched":return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md shadow-purple-500/20",children:[a.jsx(A,{name:"handshake",size:"sm"}),a.jsx("span",{className:"text-xs font-bold",children:" match"})]});case"received":return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-md shadow-yellow-500/20 animate-status-pulse",children:[a.jsx(A,{name:"notifications",size:"sm"}),a.jsx("span",{className:"text-xs font-bold",children:"Li mi mi"})]});case"sent":return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gradient-to-r from-gray-400 to-gray-500 text-white shadow-sm",children:[a.jsx(A,{name:"schedule",size:"sm"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-bold leading-tight",children:" gi"}),a.jsx("span",{className:"text-[10px] opacity-90",children:"Ch phn hi"})]})]});case"accepted":return a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gradient-to-r from-green-500 to-green-600 text-white shadow-md shadow-green-500/20",children:[a.jsx(A,{name:"check_circle",size:"sm"}),a.jsx("span",{className:"text-xs font-bold",children:" ng "})]});default:return null}},w=()=>{switch(e.type){case"matched":return"from-purple-500 via-purple-500/50 to-transparent";case"received":return"from-yellow-500 via-yellow-500/50 to-transparent";case"sent":return"from-gray-400 via-gray-400/50 to-transparent";case"accepted":return"from-green-500 via-green-500/50 to-transparent";default:return"from-transparent via-transparent to-transparent"}},S=()=>{if(!t)return a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[a.jsx(A,{name:"info",size:"sm",className:"text-gray-500"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ch qun tr vin c thc hin thao tc"})]});switch(e.type){case"matched":return a.jsxs("div",{className:"flex gap-3 mt-3 button-press",onClick:C=>C.stopPropagation(),children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-11 text-sm",icon:"close",onClick:()=>i==null?void 0:i(e.id),children:"B qua"}),a.jsx(ke,{className:"flex-1 h-11 text-sm font-semibold shadow-lg shadow-primary/20",icon:"send",onClick:()=>c==null?void 0:c(e.id),children:"Gi li mi"})]});case"received":return a.jsxs("div",{className:"flex gap-3 mt-3 button-press",onClick:C=>C.stopPropagation(),children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-11 text-sm",icon:"close",onClick:()=>s==null?void 0:s(e.id),children:"T chi"}),a.jsx(ke,{className:"flex-1 h-11 text-sm font-semibold shadow-lg shadow-yellow-500/20 bg-gradient-to-r from-yellow-500 to-yellow-600 text-white",icon:"check",onClick:()=>r==null?void 0:r(e.id),children:"Chp nhn"})]});case"sent":return n?a.jsxs("div",{className:"flex gap-3 mt-3 button-press",onClick:C=>C.stopPropagation(),children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-11 text-sm",icon:"edit",onClick:()=>d==null?void 0:d(e.id),children:"Sa"}),a.jsx(ke,{variant:"secondary",className:"flex-1 h-11 text-sm border-red-200 text-red-600 hover:bg-red-50 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-900/10",icon:"undo",onClick:()=>i==null?void 0:i(e.id),children:"Hy li mi"})]}):a.jsx("div",{className:"flex gap-3 mt-3 button-press",onClick:C=>C.stopPropagation(),children:a.jsx(ke,{variant:"secondary",className:"flex-1 h-11 text-sm border-red-200 text-red-600 hover:bg-red-50 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-900/10",icon:"undo",onClick:()=>i==null?void 0:i(e.id),children:"Hy li mi"})});case"accepted":return a.jsxs("div",{className:"mt-3 button-press",onClick:C=>C.stopPropagation(),children:[a.jsx(ke,{className:"w-full h-12 text-sm font-semibold shadow-lg shadow-green-500/20 bg-gradient-to-r from-green-500 to-green-600 text-white mb-2",icon:"handshake",onClick:()=>l==null?void 0:l(e.id),children:"Cht ko"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-xs",icon:"chat",onClick:()=>{},children:"Nhn tin"}),a.jsx(ke,{variant:"secondary",className:"w-10 h-10 px-0",icon:"help_outline",onClick:()=>h==null?void 0:h(),title:"Xem hng dn cht ko"})]})]});default:return null}};return a.jsxs("div",{className:`
        bg-white dark:bg-surface-dark rounded-xl border border-gray-100 dark:border-white/5 shadow-sm relative overflow-hidden transition-all cursor-pointer
        card-entrance
        hover:border-primary/30 active:scale-[0.99]
      `,style:{animationDelay:`${j}ms`},onClick:()=>p(Ae.matchDetail(e.id)),children:[a.jsx("div",{className:`h-1 w-full bg-gradient-to-r ${w()} animate-status-shimmer`}),e.type==="matched"&&a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-purple-500/10 to-transparent rounded-bl-full -mr-12 -mt-12 pointer-events-none"}),e.type==="received"&&a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-yellow-500/10 to-transparent rounded-bl-full -mr-12 -mt-12 pointer-events-none"}),e.type==="accepted"&&a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-green-500/10 to-transparent rounded-bl-full -mr-12 -mt-12 pointer-events-none"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[a.jsx("div",{className:"flex-shrink-0",children:N()}),a.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1 -mr-1",onClick:C=>{C.stopPropagation()},children:a.jsx(A,{name:"more_vert"})})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Jt,{src:e.teamB.logo||"",size:"md"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h4",{className:"flex items-center gap-2 font-bold text-base text-slate-900 dark:text-white",children:[a.jsx("span",{className:"truncate",title:e.teamB.name,children:b}),a.jsx("button",{className:"flex-shrink-0 size-6 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/10 border border-gray-200 dark:border-white/10 shadow-sm hover:bg-gray-200 dark:hover:bg-white/15 transition-colors",onClick:C=>{C.stopPropagation(),p(Ae.teamDetail(e.teamB.id))},"aria-label":`Xem thng tin ${e.teamB.name}`,children:a.jsx(A,{name:"info",size:"xs",className:"text-gray-500"})})]}),e.teamB.level&&v&&a.jsxs("div",{className:`mt-1 inline-flex items-center gap-1 px-2 py-0.5 rounded-md text-[10px] font-bold uppercase ${v.main} ${v.bg}`,children:[a.jsx(A,{name:"military_tech",size:"xs"}),a.jsx("span",{children:e.teamB.level})]})]})]}),e.type==="matched"?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-500/10 p-3 rounded-lg border border-purple-200 dark:border-purple-500/20",children:[a.jsx(A,{name:"auto_awesome",size:"sm",className:"shrink-0"}),a.jsx("span",{className:"text-xs font-medium",children:" hp c thnh cng! Hy gi li mi vi y  thng tin thi gian, a im  cht ko."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm bg-gray-50 dark:bg-white/5 p-3 rounded-lg border border-gray-100 dark:border-white/5 mb-3",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(A,{name:"calendar_today",size:"sm",className:`text-gray-500 mb-1 ${!e.date&&"text-gray-300 dark:text-gray-600"}`}),a.jsx("span",{className:`font-bold text-slate-900 dark:text-white ${!e.date&&"text-gray-400 dark:text-gray-500"}`,children:e.date||"---"}),a.jsx("span",{className:"text-[10px] uppercase text-gray-400 mt-0.5",children:"Ngy"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(A,{name:"schedule",size:"sm",className:`text-gray-500 mb-1 ${!e.time&&"text-gray-300 dark:text-gray-600"}`}),a.jsx("span",{className:`font-bold text-slate-900 dark:text-white ${!e.time&&"text-gray-400 dark:text-gray-500"}`,children:e.time||"TBD"}),a.jsx("span",{className:"text-[10px] uppercase text-gray-400 mt-0.5",children:"Gi"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(A,{name:"sports_soccer",size:"sm",className:`text-gray-500 mb-1 ${!e.proposedPitch&&"text-gray-300 dark:text-gray-600"}`}),a.jsx("span",{className:`font-bold text-slate-900 dark:text-white ${!e.proposedPitch&&"text-gray-400 dark:text-gray-500"}`,children:e.proposedPitch||"TBD"}),a.jsx("span",{className:"text-[10px] uppercase text-gray-400 mt-0.5",children:"Loi sn"})]})]}),e.notes&&a.jsx("div",{className:`
                bg-gray-50 dark:bg-white/5 p-3 rounded-lg border border-gray-100 dark:border-white/5
                transition-all duration-300 ease-in-out overflow-hidden
                ${x?"notes-expanded":""}
              `,children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(A,{name:"edit_note",size:"xs",className:"text-gray-400 mt-0.5 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("span",{className:`text-xs text-gray-600 dark:text-gray-400 ${x?"":"line-clamp-2"}`,children:[a.jsx("span",{className:"font-medium",children:"Ghi ch: "}),e.notes]}),e.notes.length>100&&a.jsx("button",{onClick:C=>{C.stopPropagation(),y(!x)},className:"ml-1 text-primary text-xs font-medium hover:underline",children:x?"Thu gn":"Xem thm"})]}),e.notes.length>100&&!x&&a.jsx(A,{name:"expand_more",size:"xs",className:"text-gray-400 shrink-0 mt-1"}),x&&a.jsx(A,{name:"expand_less",size:"xs",className:"text-gray-400 shrink-0 mt-1"})]})})]}),S()]})]})},DD=({match:e,myTeam:t,isAdmin:n=!0,onFinish:r,onUpdateScore:s,onCancel:i,onConfirmAttendance:l,onAttendanceView:c,onSubmitResult:d,onConfirmResult:h})=>{const m=jt(),p=e.status==="live"?"live":e.status==="finished"?"finished":"upcoming",x=()=>{switch(p){case"upcoming":return a.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-blue-500/10 text-blue-600 dark:text-blue-400 border border-blue-500/20",children:"Sp din ra"});case"live":return a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold px-2 py-0.5 rounded-md bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20",children:[a.jsxs("span",{className:"relative flex h-2 w-2",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),"ang "]});case"finished":return a.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-gray-500/10 text-gray-500 border border-gray-500/20",children:"Va kt thc"})}},y=()=>{var w,S,P,C;const b=e.result!==void 0,v=e.resultLocked===!0,N=t.id===e.teamA.id?(S=(w=e.resultConfirmations)==null?void 0:w.teamA)==null?void 0:S.confirmed:(C=(P=e.resultConfirmations)==null?void 0:P.teamB)==null?void 0:C.confirmed;if(b&&v)return a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-green-600",children:[a.jsx(A,{name:"verified",size:"sm"}),a.jsx("span",{className:"text-xs font-medium",children:" xc nhn bi c 2 i"})]});if(b&&!v)return a.jsxs("div",{className:"flex gap-3 mt-4",onClick:U=>U.stopPropagation(),children:[!N&&a.jsx(ke,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"edit",onClick:()=>d==null?void 0:d(e.id),children:"Sa kt qu"}),a.jsx(ke,{className:`flex-1 h-9 text-xs ${N?"bg-green-500 text-white":"bg-primary text-slate-900"}`,icon:N?"check_circle":"verified",onClick:()=>h==null?void 0:h(e.id),children:N?" xc nhn":"Xc nhn"})]});switch(p){case"upcoming":return a.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-100 dark:border-white/5",onClick:U=>U.stopPropagation(),children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"how_to_reg",onClick:()=>l==null?void 0:l(e.id),children:"im danh"}),a.jsx(ke,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"person_off",onClick:()=>i==null?void 0:i(e.id),children:"Bo bn"}),a.jsx(ke,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"groups",onClick:()=>c==null?void 0:c(e.id),children:"Lc lng"})]});case"live":return a.jsxs("div",{className:"flex gap-3 mt-4",onClick:U=>U.stopPropagation(),children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-xs border-red-200 text-red-600 hover:bg-red-50 dark:border-red-900/30 dark:text-red-400 dark:hover:bg-red-900/10",icon:"flag",onClick:()=>r==null?void 0:r(e.id),children:"Kt thc"}),a.jsx(ke,{className:"flex-[1.5] h-10 text-xs bg-red-500 text-white hover:bg-red-600 shadow-red-500/30",icon:"scoreboard",onClick:()=>d==null?void 0:d(e.id),children:"Cp nht t s"})]});case"finished":return a.jsx("div",{className:"flex gap-3 mt-4",onClick:U=>U.stopPropagation(),children:a.jsx(ke,{className:"flex-1 h-9 text-xs bg-primary text-slate-900",icon:"scoreboard",onClick:()=>d==null?void 0:d(e.id),children:"Cp nht kt qu"})})}};return a.jsxs("div",{onClick:()=>m(Ae.matchDetail(e.id)),className:`bg-white dark:bg-surface-dark p-4 rounded-xl border shadow-sm transition-all cursor-pointer hover:border-primary/50 active:scale-[0.99] ${p==="live"?"border-red-500/30 ring-1 ring-red-500/20":"border-gray-100 dark:border-white/5"}`,children:[e.proposedPitch&&a.jsx("div",{className:"flex justify-start mb-2",children:a.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded bg-primary/20 text-primary",children:e.proposedPitch})}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[x(),a.jsxs("div",{className:"flex items-start gap-1.5",children:[a.jsx("div",{className:"w-5 h-5 bg-gray-100 dark:bg-white/5 rounded-md flex items-center justify-center shrink-0 mt-0.5",children:a.jsx(A,{name:"place",className:"text-primary",size:"xs"})}),a.jsx("div",{className:"flex-1 min-w-0",children:e.locationName?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"text-xs font-bold text-slate-900 dark:text-white truncate text-left hover:text-primary transition-colors",onClick:b=>{if(b.stopPropagation(),e.locationMapLink){const v=e.locationMapLink,j="comgooglemaps://",N=Date.now();window.location.href=j,setTimeout(()=>{Date.now()-N<600&&(window.location.href=v)},500)}},children:e.locationName}),a.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 line-clamp-1",children:e.locationAddress})]}):a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:e.location})})]})]}),e.notes&&a.jsxs("div",{className:"mb-3 text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-white/5 p-2 rounded-lg border border-gray-100 dark:border-white/5",children:[a.jsx("span",{className:"font-medium",children:"Ghi ch: "}),e.notes]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[a.jsx(Jt,{src:t.logo||"",size:"sm"}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:t.name})]}),a.jsx("div",{className:"flex flex-col items-center justify-center w-1/3",children:p==="upcoming"&&!e.result?a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-2xl font-bold text-slate-900 dark:text-white block",children:e.time}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:e.date})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`text-3xl font-extrabold font-mono block ${p==="live"?"text-red-500":"text-slate-900 dark:text-white"}`,children:e.result?`${e.result.teamAScore} - ${e.result.teamBScore}`:e.scoreA!==void 0&&e.scoreB!==void 0?`${e.scoreA} - ${e.scoreB}`:"VS"}),e.resultLocked?a.jsxs("span",{className:"text-xs text-green-600 font-bold flex items-center justify-center gap-1 mt-1",children:[a.jsx(A,{name:"verified",size:"xs"})," cht"]}):p==="live"?a.jsx("span",{className:"text-xs text-red-500 font-bold animate-pulse",children:e.time}):e.result?a.jsxs("span",{className:"text-xs text-gray-500 flex items-center justify-center gap-1 mt-1",children:[a.jsx(A,{name:"schedule",size:"xs"}),"Ch xc nhn"]}):null]})}),a.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[a.jsx(Jt,{src:e.teamB.logo||"",size:"sm"}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:e.teamB.name})]})]}),y()]})},zD=({match:e,myTeam:t,isAdmin:n=!0,onViewDetail:r,onRematch:s})=>{const i=jt(),c=e.scoreA===void 0||e.scoreB===void 0?"D":e.scoreA>e.scoreB?"W":e.scoreA<e.scoreB?"L":"D",d=e.scoreA!==void 0&&e.scoreB!==void 0?`${e.scoreA} - ${e.scoreB}`:"VS",h=()=>{switch(c){case"W":return"bg-green-500";case"L":return"bg-red-500";case"D":return"bg-gray-400"}},m=()=>{switch(c){case"W":return"THNG";case"L":return"THUA";case"D":return"HA"}},p=()=>{switch(c){case"W":return"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400";case"L":return"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400";case"D":return"bg-gray-100 text-gray-600 dark:bg-white/10 dark:text-gray-300"}};return a.jsxs("div",{onClick:()=>i(Ae.matchDetail(e.id)),className:"bg-white dark:bg-surface-dark p-0 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm overflow-hidden cursor-pointer hover:border-primary/50 active:scale-[0.99] transition-all",children:[a.jsx("div",{className:`h-1.5 w-full ${h()}`}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 text-xs text-gray-500 font-medium",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(A,{name:"calendar_today",className:"text-xs"}),e.date]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(A,{name:"location_on",className:"text-xs"}),e.location]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[a.jsx(Jt,{src:t.logo||"",size:"sm"}),a.jsx("span",{className:"text-xs font-bold text-center truncate w-full",children:t.name})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center w-1/3",children:[a.jsx("div",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-widest",children:d}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full mt-1 ${p()}`,children:m()})]}),a.jsxs("div",{className:"flex flex-col items-center gap-2 w-1/3",children:[a.jsx(Jt,{src:e.teamB.logo||"",size:"sm"}),a.jsx("span",{className:"text-xs font-bold text-center truncate w-full",children:e.teamB.name})]})]}),a.jsx("div",{className:"flex gap-3 pt-3 border-t border-gray-100 dark:border-white/5",onClick:x=>x.stopPropagation(),children:n?a.jsxs(a.Fragment,{children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-9 text-xs",icon:"info",onClick:()=>r==null?void 0:r(e.id),children:"Chi tit"}),a.jsx(ke,{className:"flex-1 h-9 text-xs",icon:"replay",onClick:()=>s==null?void 0:s(e.id),children:" li"})]}):a.jsxs("div",{className:"flex items-center justify-center gap-2 w-full",children:[a.jsx(A,{name:"info",size:"sm",className:"text-gray-500"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Ch qun tr vin c thc hin thao tc"})]})})]})]})},p_={lat:10.7769,lng:106.7009},$D=e=>{if(!e)return pr.MALE;const t=e.toUpperCase();return t==="MALE"?pr.MALE:t==="FEMALE"?pr.FEMALE:pr.MIXED},Ih=(e,t)=>({center:{lat:p_.lat,lng:p_.lng},radius:15,level:e?[e]:mf.slice(0,3),gender:t?[$D(t)]:Object.values(pr),activeOnly:!0,sortBy:"distance",sortOrder:"ASC"}),Bs=sa()(pl((e,t)=>({filters:Ih(),hasAppliedFilters:!1,teams:[],currentIndex:0,totalAvailable:0,isLoading:!1,isRefreshing:!1,error:null,matchedTeam:null,matchedMatch:null,stats:null,statsLoading:!1,_fetchedStats:!1,setFilters:n=>e(r=>({filters:R(R({},r.filters),n)})),setHasAppliedFilters:n=>e({hasAppliedFilters:n}),resetFilters:(n,r)=>e({filters:Ih(n,r),hasAppliedFilters:!1}),setTeams:(n,r)=>e({teams:n,totalAvailable:r,currentIndex:0}),setCurrentIndex:n=>e({currentIndex:n}),nextCard:()=>e(n=>({currentIndex:n.currentIndex+1})),setMatchedTeam:n=>e({matchedTeam:n}),setMatchedMatch:n=>e({matchedMatch:n}),setLoading:n=>e({isLoading:n}),setRefreshing:n=>e({isRefreshing:n}),setError:n=>e({error:n}),clearError:()=>e({error:null}),setStats:n=>e({stats:n}),discoverTeams:n=>O(void 0,null,function*(){var r,s;try{const i=t(),l=n||{center:i.filters.center,radius:i.filters.radius,level:i.filters.level,gender:i.filters.gender,minRating:i.filters.minRating,minPlayers:i.filters.minPlayers,maxPlayers:i.filters.maxPlayers,activeOnly:i.filters.activeOnly,excludeIds:i.filters.excludeIds,sortBy:i.filters.sortBy,sortOrder:i.filters.sortOrder};e({isLoading:!0,error:null});const c=yield Pe.post("/discovery",l);if(c.success&&c.data)return e({teams:c.data.teams,totalAvailable:c.data.total,currentIndex:0,error:null}),c.data.teams;throw new Error(((r=c.error)==null?void 0:r.message)||"Failed to discover teams")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th tm kim i";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}}),getStats:(n=!1)=>O(void 0,null,function*(){var r,s;try{const i=t();if(i.statsLoading||!n&&i._fetchedStats&&i.stats)return i.stats;e({statsLoading:!0,error:null});const l=yield Pe.get("/discovery/stats");if(l.success&&l.data)return e({stats:l.data,_fetchedStats:!0,error:null}),l.data;throw new Error(((r=l.error)==null?void 0:r.message)||"Failed to fetch stats")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th ti thng k";throw e({error:l,statsLoading:!1}),i}finally{e({statsLoading:!1})}}),getRecommendations:()=>O(void 0,null,function*(){var n,r;try{e({isLoading:!0,error:null});const s=yield Pe.get("/discovery/recommendations");if(s.success&&s.data)return t().setFilters(s.data),s.data;throw new Error(((n=s.error)==null?void 0:n.message)||"Failed to get recommendations")}catch(s){const i=((r=s.error)==null?void 0:r.message)||s.message||"Khng th ly gi ";throw e({error:i,isLoading:!1}),s}finally{e({isLoading:!1})}})}),{name:"discovery-storage",partialize:e=>({filters:e.filters,hasAppliedFilters:e.hasAppliedFilters}),skipHydration:!1,version:1})),BD="modulepreload",FD=function(e,t){return new URL(e,t).href},g_={},ur=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const l=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=FD(h,r),h in g_)return;g_[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(!!r)for(let b=l.length-1;b>=0;b--){const v=l[b];if(v.href===h&&(!m||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":BD,m||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((b,v)=>{y.addEventListener("load",b),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},Qm=()=>{var e;return(e=cn.getState().user)==null?void 0:e.id},T2=e=>e?e.userRole==="admin":!1,Od=e=>e==="admin",Xm=(e,t)=>{var r;const n=e.userRole||"member";return{id:e.id,name:e.name,logo:e.logo||e.avatar||"",level:e.level,gender:e.gender,description:e.description,memberCount:e.membersCount||((r=e.members)==null?void 0:r.length)||0,isCaptain:t?e.createdBy===t:!1,userRole:n}},ep=e=>{var t,n,r;return{id:e.id,name:((t=e.user)==null?void 0:t.name)||e.name||"Unknown",avatar:((n=e.user)==null?void 0:n.avatar)||e.avatar||"",role:((r=e.role)==null?void 0:r.toLowerCase())||"player",number:e.jerseyNumber||e.number}},Vn=sa()(pl((e,t)=>({_hasFetchedMyTeams:!1,myTeams:[],selectedTeam:null,teamMembers:[],teamDetailsCache:{},currentTeamId:null,currentTeamDetail:null,isTeamDetailLoading:!1,isTeamDetailRefreshing:!1,teamDetailError:null,currentOpponentId:null,currentOpponentDetail:null,isOpponentDetailLoading:!1,isOpponentDetailRefreshing:!1,opponentDetailError:null,sentInvites:[],receivedInvites:[],inviteToken:null,isLoading:!1,error:null,setMyTeams:n=>e({myTeams:n}),setSelectedTeam:n=>e({selectedTeam:n}),setTeamMembers:n=>e({teamMembers:n}),setSentInvites:n=>e({sentInvites:n}),setReceivedInvites:n=>e({receivedInvites:n}),setInviteToken:n=>e({inviteToken:n}),setCurrentTeamId:n=>e({currentTeamId:n}),setCurrentTeamDetail:n=>e({currentTeamDetail:n}),setTeamDetailLoading:n=>e({isTeamDetailLoading:n}),setTeamDetailRefreshing:n=>e({isTeamDetailRefreshing:n}),setTeamDetailError:n=>e({teamDetailError:n}),setCurrentOpponentId:n=>e({currentOpponentId:n}),setCurrentOpponentDetail:n=>e({currentOpponentDetail:n}),setOpponentDetailLoading:n=>e({isOpponentDetailLoading:n}),setOpponentDetailRefreshing:n=>e({isOpponentDetailRefreshing:n}),setOpponentDetailError:n=>e({opponentDetailError:n}),clearTeamDetail:()=>e({currentTeamId:null,currentTeamDetail:null,isTeamDetailLoading:!1,isTeamDetailRefreshing:!1,teamDetailError:null}),clearOpponentDetail:()=>e({currentOpponentId:null,currentOpponentDetail:null,isOpponentDetailLoading:!1,isOpponentDetailRefreshing:!1,opponentDetailError:null}),addTeam:n=>e(r=>({myTeams:[...r.myTeams,n]})),updateTeam:(n,r)=>e(s=>{var i;return{myTeams:s.myTeams.map(l=>l.id===n?R(R({},l),r):l),selectedTeam:((i=s.selectedTeam)==null?void 0:i.id)===n?R(R({},s.selectedTeam),r):s.selectedTeam}}),removeTeam:n=>e(r=>{var s;return{myTeams:r.myTeams.filter(i=>i.id!==n),selectedTeam:((s=r.selectedTeam)==null?void 0:s.id)===n?null:r.selectedTeam}}),addMember:n=>e(r=>({teamMembers:[...r.teamMembers,n]})),removeMember:n=>e(r=>({teamMembers:r.teamMembers.filter(s=>s.id!==n)})),updateMember:(n,r)=>e(s=>({teamMembers:s.teamMembers.map(i=>i.id===n?R(R({},i),r):i)})),clearError:()=>e({error:null}),setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),fetchMyTeams:(n=!1)=>O(void 0,null,function*(){try{const r=t();if(r.isLoading){console.log("[TeamStore] Skipping fetchMyTeams - already loading");return}if(!n&&r._hasFetchedMyTeams){console.log("[TeamStore] Already fetched myTeams, use forceRefresh=true to refresh");return}e({isLoading:!0,error:null});const s=yield Pe.get("/teams/my-teams");if(s.success&&s.data){const i=Array.isArray(s.data)?s.data:[],l=Qm(),c=i.map(h=>Xm(h,l));e({_hasFetchedMyTeams:!0,myTeams:c,error:null}),!t().selectedTeam&&c.length>0&&e({selectedTeam:c[0]})}}catch(r){console.error("[TeamStore] Fetch my teams error:",r),e({error:r.message||"Khng th ti danh sch i"})}finally{e({isLoading:!1})}}),getTeamById:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.get(`/teams/${n}`);if(i.success&&i.data)return e(l=>({teamDetailsCache:le(R({},l.teamDetailsCache),{[n]:i.data}),isLoading:!1})),i.data;throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to fetch team")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th ti thng tin i";throw e({error:l,isLoading:!1}),i}}),fetchTeamDetail:(n,r=!1)=>O(void 0,null,function*(){var s,i;try{const l=t();if(l.isTeamDetailLoading&&!l.isTeamDetailRefreshing){console.log("[TeamStore] Skipping fetchTeamDetail - already loading");return}if(!r&&l.currentTeamId===n&&l.currentTeamDetail){console.log("[TeamStore] Using cached team detail for:",n);return}e(r?{isTeamDetailRefreshing:!0,teamDetailError:null}:{isTeamDetailLoading:!0,teamDetailError:null,currentTeamId:n});const h=yield(yield ur(()=>Promise.resolve().then(()=>tp),[],import.meta.url)).TeamService.getTeamById(n);if(h.success&&h.data)e({currentTeamDetail:h.data,currentTeamId:n,isTeamDetailLoading:!1,isTeamDetailRefreshing:!1,teamDetailError:null}),e(m=>({teamDetailsCache:le(R({},m.teamDetailsCache),{[n]:h.data})})),console.log("[TeamStore] Successfully fetched team detail for:",n);else throw new Error(((s=h.error)==null?void 0:s.message)||"Failed to fetch team detail")}catch(l){console.error("[TeamStore] Fetch team detail error:",l);const c=((i=l.error)==null?void 0:i.message)||l.message||"Khng th ti thng tin i";throw e({teamDetailError:c,isTeamDetailLoading:!1,isTeamDetailRefreshing:!1}),l}}),fetchOpponentDetail:(n,r=!1)=>O(void 0,null,function*(){var s,i;try{const l=t();if(l.isOpponentDetailLoading&&!l.isOpponentDetailRefreshing){console.log("[TeamStore] Skipping fetchOpponentDetail - already loading");return}e(r?{isOpponentDetailRefreshing:!0,opponentDetailError:null}:{isOpponentDetailLoading:!0,opponentDetailError:null,currentOpponentId:n});const h=yield(yield ur(()=>Promise.resolve().then(()=>tp),void 0,import.meta.url)).TeamService.getTeamById(n,{includeRecentMatches:!0});if(h.success&&h.data)e({currentOpponentDetail:h.data,currentOpponentId:n,isOpponentDetailLoading:!1,isOpponentDetailRefreshing:!1,opponentDetailError:null}),e(m=>({teamDetailsCache:le(R({},m.teamDetailsCache),{[n]:h.data})})),console.log("[TeamStore] Successfully fetched opponent detail for:",n);else throw new Error(((s=h.error)==null?void 0:s.message)||"Failed to fetch opponent detail")}catch(l){console.error("[TeamStore] Fetch opponent detail error:",l);const c=((i=l.error)==null?void 0:i.message)||l.message||"Khng th ti thng tin i i th";throw e({opponentDetailError:c,isOpponentDetailLoading:!1,isOpponentDetailRefreshing:!1}),l}}),createTeam:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.post("/teams",n);if(i.success&&i.data){const l=Xm(i.data,Qm());return e(c=>({myTeams:[...c.myTeams,l],error:null})),l}else throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to create team")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th to i";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}}),updateTeamById:(n,r)=>O(void 0,null,function*(){var s,i;try{e({isLoading:!0,error:null});const l=yield Pe.patch(`/teams/${n}`,r);if(l.success&&l.data){const c=Xm(l.data,Qm());t().updateTeam(n,c),e(d=>({teamDetailsCache:le(R({},d.teamDetailsCache),{[n]:l.data}),error:null}))}else throw new Error(((s=l.error)==null?void 0:s.message)||"Failed to update team")}catch(l){const c=((i=l.error)==null?void 0:i.message)||l.message||"Khng th cp nht i";throw e({error:c,isLoading:!1}),l}finally{e({isLoading:!1})}}),deleteTeam:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.delete(`/teams/${n}`);if(i.success)t().removeTeam(n),e(l=>{const c=R({},l.teamDetailsCache);return delete c[n],{teamDetailsCache:c}});else throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to delete team")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th xa i";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}}),getTeamMembers:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.get(`/teams/${n}/members`);if(i.success&&i.data){const c=(Array.isArray(i.data)?i.data:[]).map(d=>ep(d));return e({teamMembers:c,error:null}),c}else throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to fetch team members")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th ti danh sch thnh vin";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}}),addMemberToTeam:(n,r)=>O(void 0,null,function*(){var s,i;try{e({isLoading:!0,error:null});const l=yield Pe.post(`/teams/${n}/members`,r);if(l.success&&l.data){const c=ep(l.data);t().addMember(c)}else throw new Error(((s=l.error)==null?void 0:s.message)||"Failed to add member")}catch(l){const c=((i=l.error)==null?void 0:i.message)||l.message||"Khng th thm thnh vin";throw e({error:c,isLoading:!1}),l}finally{e({isLoading:!1})}}),removeMemberFromTeam:(n,r)=>O(void 0,null,function*(){var s,i;try{e({isLoading:!0,error:null});const l=yield Pe.delete(`/teams/${n}/members/${r}`);if(l.success)t().removeMember(r);else throw new Error(((s=l.error)==null?void 0:s.message)||"Failed to remove member")}catch(l){const c=((i=l.error)==null?void 0:i.message)||l.message||"Khng th xa thnh vin";throw e({error:c,isLoading:!1}),l}finally{e({isLoading:!1})}}),updateMemberRole:(n,r,s)=>O(void 0,null,function*(){var i,l;try{e({isLoading:!0,error:null});const c=yield Pe.patch(`/teams/${n}/members/${r}`,{role:s});if(c.success&&c.data){const d=ep(c.data);t().updateMember(r,d)}else throw new Error(((i=c.error)==null?void 0:i.message)||"Failed to update member role")}catch(c){const d=((l=c.error)==null?void 0:l.message)||c.message||"Khng th cp nht vai tr";throw e({error:d,isLoading:!1}),c}finally{e({isLoading:!1})}}),updateMemberAdminRole:(n,r,s)=>O(void 0,null,function*(){try{(yield(yield ur(()=>Promise.resolve().then(()=>tp),void 0,import.meta.url)).TeamService.updateMemberAdminRole(n,r,s)).success&&(yield t().getTeamMembers(n))}catch(i){throw console.error("Failed to update member admin role:",i),i}}),fetchSentInvites:(n,r)=>O(void 0,null,function*(){try{e({isLoading:!0,error:null});const l=yield(yield ur(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url)).default.getSentInvites(n,r);l.success&&l.data&&e({sentInvites:l.data.invitations,isLoading:!1})}catch(s){console.error("[TeamStore] Fetch sent invites error:",s),e({error:s.message||"Khng th ti li mi  gi",isLoading:!1})}}),fetchReceivedInvites:n=>O(void 0,null,function*(){try{e({isLoading:!0,error:null});const i=yield(yield ur(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url)).default.getMyInvites(n);i.success&&i.data&&e({receivedInvites:i.data.invitations,isLoading:!1})}catch(r){console.error("[TeamStore] Fetch received invites error:",r),e({error:r.message||"Khng th ti li mi",isLoading:!1})}}),respondInvite:(n,r,s)=>O(void 0,null,function*(){try{e({isLoading:!0,error:null}),(yield(yield ur(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url)).default.respondToInvite({inviteId:n,action:r,declineMessage:s})).success&&(yield t().fetchReceivedInvites())}catch(i){throw console.error("[TeamStore] Respond invite error:",i),e({error:i.message||"Khng th phn hi li mi",isLoading:!1}),i}finally{e({isLoading:!1})}}),cancelInvite:n=>O(void 0,null,function*(){var r;try{if(e({isLoading:!0,error:null}),(yield(yield ur(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url)).default.cancelInvite(n)).success){const c=t();(r=c.selectedTeam)!=null&&r.id&&(yield t().fetchSentInvites(c.selectedTeam.id))}}catch(s){throw console.error("[TeamStore] Cancel invite error:",s),e({error:s.message||"Khng th hy li mi",isLoading:!1}),s}finally{e({isLoading:!1})}}),resendInvite:n=>O(void 0,null,function*(){var r;try{if(e({isLoading:!0,error:null}),(yield(yield ur(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url)).default.resendInvite(n)).success){const c=t();(r=c.selectedTeam)!=null&&r.id&&(yield t().fetchSentInvites(c.selectedTeam.id))}}catch(s){throw console.error("[TeamStore] Resend invite error:",s),e({error:s.message||"Khng th gi li li mi",isLoading:!1}),s}finally{e({isLoading:!1})}}),createInviteToken:(n,r)=>O(void 0,null,function*(){try{e({isLoading:!0,error:null});const l=yield(yield ur(()=>Promise.resolve().then(()=>_o),void 0,import.meta.url)).default.createInviteToken(n,r);if(l.success&&l.data)return e({inviteToken:l.data,isLoading:!1}),l.data;e({isLoading:!1})}catch(s){throw console.error("[TeamStore] Create invite token error:",s),e({error:s.message||"Khng th to m mi",isLoading:!1}),s}})}),{name:"team-storage",partialize:e=>({_hasFetchedMyTeams:e._hasFetchedMyTeams,myTeams:e.myTeams,selectedTeam:e.selectedTeam})})),Qi=()=>Vn(e=>e.myTeams),La=()=>Vn(e=>e.selectedTeam),E2=()=>Vn(e=>e.sentInvites),C2=()=>Vn(e=>e.receivedInvites),Xi=()=>{const e=Vn();return{setMyTeams:e.setMyTeams,setSelectedTeam:e.setSelectedTeam,setTeamMembers:e.setTeamMembers,setSentInvites:e.setSentInvites,setReceivedInvites:e.setReceivedInvites,setInviteToken:e.setInviteToken,setCurrentTeamId:e.setCurrentTeamId,setCurrentTeamDetail:e.setCurrentTeamDetail,setTeamDetailLoading:e.setTeamDetailLoading,setTeamDetailRefreshing:e.setTeamDetailRefreshing,setTeamDetailError:e.setTeamDetailError,setCurrentOpponentId:e.setCurrentOpponentId,setCurrentOpponentDetail:e.setCurrentOpponentDetail,setOpponentDetailLoading:e.setOpponentDetailLoading,setOpponentDetailRefreshing:e.setOpponentDetailRefreshing,setOpponentDetailError:e.setOpponentDetailError,clearTeamDetail:e.clearTeamDetail,clearOpponentDetail:e.clearOpponentDetail,addTeam:e.addTeam,updateTeam:e.updateTeam,removeTeam:e.removeTeam,addMember:e.addMember,removeMember:e.removeMember,updateMember:e.updateMember,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,fetchMyTeams:e.fetchMyTeams,getTeamById:e.getTeamById,fetchTeamDetail:e.fetchTeamDetail,fetchOpponentDetail:e.fetchOpponentDetail,createTeam:e.createTeam,updateTeamById:e.updateTeamById,deleteTeam:e.deleteTeam,getTeamMembers:e.getTeamMembers,addMemberToTeam:e.addMemberToTeam,removeMemberFromTeam:e.removeMemberFromTeam,updateMemberRole:e.updateMemberRole,updateMemberAdminRole:e.updateMemberAdminRole,fetchSentInvites:e.fetchSentInvites,fetchReceivedInvites:e.fetchReceivedInvites,respondInvite:e.respondInvite,cancelInvite:e.cancelInvite,resendInvite:e.resendInvite,createInviteToken:e.createInviteToken}},UD=Object.freeze(Object.defineProperty({__proto__:null,hasAdminPermission:Od,isAdmin:T2,useMyTeams:Qi,useReceivedInvites:C2,useSelectedTeam:La,useSentInvites:E2,useTeamActions:Xi,useTeamStore:Vn},Symbol.toStringTag,{value:"Module"})),x_=({isOpen:e,onClose:t,onApply:n,required:r=!1,requiredText:s="Bt buc chn b lc  tip tc",isChange:i=!1,onChange:l})=>{console.log("FilterBottomSheet render, isOpen:",e,"required:",r,"isChange:",i);const{filters:c,setFilters:d}=Bs(),h=La();k.useEffect(()=>{console.log("FilterBottomSheet isOpen:",e)},[e]);const[m,p]=k.useState(c.radius),[x,y]=k.useState(c.level),[b,v]=k.useState(c.gender),[j,N]=k.useState(c.sortBy),[w,S]=k.useState("default");k.useEffect(()=>{if(e){p(c.radius),y(c.level),v(c.gender),N(c.sortBy);const $=localStorage.getItem("discovery-location-source");S($||"default")}},[e,c]);const P=()=>{const $=Ih(h==null?void 0:h.level,h==null?void 0:h.gender);p($.radius),y($.level),v($.gender),N($.sortBy),S("default")},C=()=>{d({radius:m,level:x,gender:b,sortBy:j}),i&&l?l(w):n(w),t()},U=()=>{r||t()},E=()=>{r||t()},Z=$=>{x.includes($)?x.length>1&&y(x.filter(D=>D!==$)):y([...x,$])},q=$=>{b.includes($)?b.length>1&&v(b.filter(D=>D!==$)):v([...b,$])};return e?a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:U}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[calc(100dvh-80px)] overflow-y-auto",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"B lc tm kim"}),r&&a.jsx("span",{className:"text-xs text-primary font-medium mt-1",children:s})]}),!r&&a.jsx("button",{onClick:E,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3 block",children:"V tr tm kim"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>S("current"),className:`w-full p-3 rounded-xl border-2 transition-all ${w==="current"?"bg-primary/10 border-primary":"bg-gray-50 dark:bg-white/5 border-gray-200 dark:border-gray-700 hover:border-primary/50"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w==="current"?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`,children:a.jsx(A,{name:"location",className:`${w==="current"?"text-white":"text-gray-500"}`})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"V tr hin ti"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"S dng v tr ca bn"})]}),w==="current"&&a.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:a.jsx(A,{name:"check",className:"text-white text-xs"})})]})}),a.jsx("button",{onClick:()=>S("stadium"),className:`w-full p-3 rounded-xl border-2 transition-all ${w==="stadium"?"bg-blue-50 dark:bg-blue-900/20 border-blue-400 dark:border-blue-500":"bg-gray-50 dark:bg-white/5 border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w==="stadium"?"bg-blue-500":"bg-gray-200 dark:bg-gray-700"}`,children:a.jsx(A,{name:"stadium",className:`${w==="stadium"?"text-white":"text-gray-500"}`})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"V tr sn nh"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:h!=null&&h.name?`Gn ${h.name}`:"Sn bng ca i"})]}),w==="stadium"&&a.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:a.jsx(A,{name:"check",className:"text-white text-xs"})})]})}),a.jsx("button",{onClick:()=>S("default"),className:`w-full p-3 rounded-xl border-2 transition-all ${w==="default"?"bg-gray-100 border-gray-400":"bg-gray-50 dark:bg-white/5 border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${w==="default"?"bg-gray-400":"bg-gray-200 dark:bg-gray-700"}`,children:a.jsx(A,{name:"place",className:`${w==="default"?"text-white":"text-gray-500"}`})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Mc nh"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"H Ch Minh"})]}),w==="default"&&a.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-400 flex items-center justify-center",children:a.jsx(A,{name:"check",className:"text-white text-xs"})})]})})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Bn knh tm kim"}),a.jsxs("span",{className:"text-sm font-bold text-primary",children:[m,"km"]})]}),a.jsx("input",{type:"range",min:"5",max:"50",step:"5",value:m,onChange:$=>p(Number($.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary"}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[a.jsx("span",{children:"5km"}),a.jsx("span",{children:"50km"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3 block",children:"Trnh "}),a.jsx("div",{className:"flex flex-wrap gap-2",children:mf.map($=>{const D=x.includes($);return a.jsx("button",{onClick:()=>Z($),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${D?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:$},$)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3 block",children:"Gii tnh"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.values(pr).map($=>{const D=b.includes($);return a.jsx("button",{onClick:()=>q($),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${D?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:$},$)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold text-slate-900 dark:text-white mb-3 block",children:"Sp xp theo"}),a.jsx("div",{className:"flex gap-2",children:[{value:"distance",label:"Khong cch"},{value:"quality",label:"Cht lng"},{value:"activity",label:"Hot ng"}].map($=>{const D=j===$.value;return a.jsx("button",{onClick:()=>N($.value),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${D?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:$.label},$.value)})})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(ke,{variant:"secondary",className:"flex-1",onClick:P,children:"Reset"}),a.jsx(ke,{className:"flex-1",onClick:C,children:"p dng"})]})]})]})]}):null},Zt={getMatches:e=>O(void 0,null,function*(){const t=e!=null&&e.statuses?le(R({},e),{statuses:Array.isArray(e.statuses)?e.statuses.join(","):e.statuses}):e;return Pe.get("/matches",{params:t})}),getMatchById:e=>O(void 0,null,function*(){return Pe.get(`/matches/${e}`)}),sendInvitation:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/invite`,t)}),sendMatchRequest:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/request`,t)}),updateMatchRequest:(e,t)=>O(void 0,null,function*(){return Pe.patch(`/matches/${e}/request`,t)}),acceptMatchRequest:e=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/accept`)}),declineMatchRequest:e=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/decline`)}),confirmMatch:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/confirm`,t)}),finishMatch:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/finish`,t)}),cancelMatch:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/cancel`,t)}),rematch:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/rematch`,t)}),getMatchHistory:e=>O(void 0,null,function*(){return Pe.get("/matches",{params:le(R({},e),{status:"FINISHED"})})}),getMatchAttendance:e=>O(void 0,null,function*(){return Pe.get(`/matches/${e}/attendance`)}),getMyAttendance:e=>O(void 0,null,function*(){return Pe.get(`/matches/${e}/attendance/my`)}),updateAttendance:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/attendance`,t)}),submitResult:(e,t)=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/result`,t)}),confirmResult:e=>O(void 0,null,function*(){return Pe.post(`/matches/${e}/result/confirm`)}),getResult:e=>O(void 0,null,function*(){return Pe.get(`/matches/${e}/result`)}),uploadResultFiles:(e,t)=>O(void 0,null,function*(){const n=new FormData;return t.forEach(r=>n.append("files",r)),Pe.post(`/matches/${e}/result/files`,n,{headers:{"Content-Type":"multipart/form-data"}})})},HD=e=>{switch(e){case"MATCHED":case"REQUESTED":case"ACCEPTED":return"pending";case"CONFIRMED":return"upcoming";case"FINISHED":case"CANCELLED":return"finished";default:return"pending"}},ZD=(e,t)=>{try{let n=e;if(e.includes("/")){const[h,m,p]=e.split("/");n=`${p}-${m}-${h}`}const r=new Date(`${n}T${t}`),s=new Date,i=r.getTime(),l=s.getTime(),c=2*60*60*1e3,d=i+c;return l<i?"upcoming":l>=i&&l<d?"live":"finished"}catch(n){return console.error("[getMatchStage] Error parsing date/time:",n),"upcoming"}},wo=(e,t)=>{var l,c,d,h,m,p,x,y,b,v,j,N,w,S;let n;switch(e.status){case"MATCHED":n="matched";break;case"REQUESTED":e.requestedByTeam===t?n="sent":n="received";break;case"ACCEPTED":n="accepted";break;case"CONFIRMED":case"FINISHED":case"CANCELLED":n=void 0;break;default:n=void 0}const r=e.date||e.proposedDate||"",s=e.time||e.proposedTime||"";let i=HD(e.status);if(e.status==="CONFIRMED"){const P=ZD(r,s);P==="live"?i="live":P==="finished"&&(i="finished")}return R({id:e.id,teamA:{id:((l=e.teamA)==null?void 0:l.id)||e.teamAId||"",name:((c=e.teamA)==null?void 0:c.name)||"Team A",logo:(d=e.teamA)==null?void 0:d.logo,level:(h=e.teamA)==null?void 0:h.level},teamB:{id:((m=e.teamB)==null?void 0:m.id)||e.teamBId||"",name:((p=e.teamB)==null?void 0:p.name)||"Team B",logo:(x=e.teamB)==null?void 0:x.logo,level:(y=e.teamB)==null?void 0:y.level},scoreA:(b=e.score)==null?void 0:b.teamA,scoreB:(v=e.score)==null?void 0:v.teamB,time:s||"TBD",date:r||"TBD",location:((j=e.location)==null?void 0:j.address)||e.proposedPitch||"TBD",locationName:(N=e.location)==null?void 0:N.name,locationAddress:(w=e.location)==null?void 0:w.address,locationMapLink:(S=e.location)==null?void 0:S.mapLink,status:i,type:n,requestedByTeam:e.requestedByTeam,acceptedByTeam:e.acceptedByTeam,proposedPitch:e.proposedPitch,notes:e.notes},e.result&&{result:{teamAScore:e.result.teamAScore,teamBScore:e.result.teamBScore,notes:e.result.notes,fileIds:e.result.fileIds,lastUpdatedBy:e.result.lastUpdatedBy,lastUpdatedAt:e.result.lastUpdatedAt,files:e.result.files},resultConfirmations:e.result.confirmations,resultLocked:e.result.locked,canEditResult:e.result.canEdit})},bn=sa()(pl((e,t)=>({pendingMatches:[],upcomingMatches:[],liveMatches:[],historyMatches:[],selectedMatch:null,isLoading:!1,error:null,pagination:{pending:{page:1,limit:10,total:0,totalPages:0,hasMore:!0},upcoming:{page:1,limit:10,total:0,totalPages:0,hasMore:!0},history:{page:1,limit:10,total:0,totalPages:0,hasMore:!0}},isLoadingMore:{pending:!1,upcoming:!1,history:!1},_fetchedTabs:{},_activeTabs:{},setPendingMatches:n=>e({pendingMatches:n}),setUpcomingMatches:n=>e({upcomingMatches:n}),setLiveMatches:n=>e({liveMatches:n}),setHistoryMatches:n=>e({historyMatches:n}),setSelectedMatch:n=>e({selectedMatch:n}),clearAllData:()=>e({pendingMatches:[],upcomingMatches:[],historyMatches:[],_fetchedTabs:{},_activeTabs:{},pagination:{pending:{page:1,limit:10,total:0,totalPages:0,hasMore:!0},upcoming:{page:1,limit:10,total:0,totalPages:0,hasMore:!0},history:{page:1,limit:10,total:0,totalPages:0,hasMore:!0}}}),getActiveTab:n=>n&&t()._activeTabs[n]||"pending",setActiveTab:(n,r)=>{n&&e(s=>({_activeTabs:le(R({},s._activeTabs),{[n]:r})}))},updatePagination:(n,r)=>e(s=>({pagination:le(R({},s.pagination),{[n]:R(R({},s.pagination[n]),r)})})),addMatch:(n,r)=>e(s=>({[n]:[...s[n],r]})),updateMatch:(n,r)=>e(s=>{var i;return{pendingMatches:s.pendingMatches.map(l=>l.id===n?R(R({},l),r):l),upcomingMatches:s.upcomingMatches.map(l=>l.id===n?R(R({},l),r):l),liveMatches:s.liveMatches.map(l=>l.id===n?R(R({},l),r):l),historyMatches:s.historyMatches.map(l=>l.id===n?R(R({},l),r):l),selectedMatch:((i=s.selectedMatch)==null?void 0:i.id)===n?R(R({},s.selectedMatch),r):s.selectedMatch}}),removeMatch:n=>e(r=>{var s;return{pendingMatches:r.pendingMatches.filter(i=>i.id!==n),upcomingMatches:r.upcomingMatches.filter(i=>i.id!==n),liveMatches:r.liveMatches.filter(i=>i.id!==n),historyMatches:r.historyMatches.filter(i=>i.id!==n),selectedMatch:((s=r.selectedMatch)==null?void 0:s.id)===n?null:r.selectedMatch}}),clearError:()=>e({error:null}),setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),fetchUpcomingMatches:(n,r=1,s=!1)=>O(void 0,null,function*(){var i;try{const l=t();if(r===1&&l.isLoading){console.log("[MatchStore] Skipping fetchUpcomingMatches - already loading");return}if(r>1&&l.isLoadingMore.upcoming){console.log("[MatchStore] Skipping fetchUpcomingMatches - already loading more");return}if(!s&&r===1&&((i=l._fetchedTabs[n||""])==null?void 0:i.upcoming)&&l.upcomingMatches.length>0){console.log("[MatchStore] Skipping fetchUpcomingMatches - already has data for team:",n);return}e(r===1?{isLoading:!0,error:null}:d=>({isLoadingMore:le(R({},d.isLoadingMore),{upcoming:!0})}));const c=yield Zt.getMatches({statuses:["CONFIRMED"],teamId:n,page:r,limit:10,includeResult:!0});if(c.success&&c.data){const h=(Array.isArray(c.data.matches)?c.data.matches:[]).map(m=>wo(m,n));e(m=>{var p,x,y,b,v,j;return{upcomingMatches:r===1||s?h:[...m.upcomingMatches,...h],liveMatches:h.filter(N=>N.status==="live"),_fetchedTabs:n?le(R({},m._fetchedTabs),{[n]:le(R({},m._fetchedTabs[n||""]),{upcoming:!0})}):m._fetchedTabs,pagination:le(R({},m.pagination),{upcoming:{page:((p=c.data.pagination)==null?void 0:p.page)||r,limit:((x=c.data.pagination)==null?void 0:x.limit)||20,total:((y=c.data.pagination)==null?void 0:y.total)||0,totalPages:((b=c.data.pagination)==null?void 0:b.totalPages)||1,hasMore:(((v=c.data.pagination)==null?void 0:v.page)||r)<(((j=c.data.pagination)==null?void 0:j.totalPages)||1)}}),error:null}}),console.log("[MatchStore] Successfully fetched upcoming matches (page",r,"):",h.length)}}catch(l){console.error("[MatchStore] Fetch upcoming matches error:",l),e({error:l.message||"Khng th ti trn u sp ti"})}finally{e(r===1?{isLoading:!1}:l=>({isLoadingMore:le(R({},l.isLoadingMore),{upcoming:!1})}))}}),fetchPendingMatches:(n,r=1,s=!1,i)=>O(void 0,null,function*(){var l;try{const c=t();if(r===1&&c.isLoading){console.log("[MatchStore] Skipping fetchPendingMatches - already loading");return}if(r>1&&c.isLoadingMore.pending){console.log("[MatchStore] Skipping fetchPendingMatches - already loading more");return}if(!s&&r===1&&((l=c._fetchedTabs[n||""])==null?void 0:l.pending)&&c.pendingMatches.length>0){console.log("[MatchStore] Skipping fetchPendingMatches - already has data for team:",n);return}e(r===1?{isLoading:!0,error:null}:h=>({isLoadingMore:le(R({},h.isLoadingMore),{pending:!0})}));const d=yield Zt.getMatches({statuses:i?i==="matched"?["MATCHED"]:["REQUESTED","ACCEPTED"]:["MATCHED","REQUESTED","ACCEPTED"],teamId:n,page:r,limit:10});if(d.success&&d.data){const m=(Array.isArray(d.data.matches)?d.data.matches:[]).map(p=>wo(p,n));e(p=>{var x,y,b,v,j,N;return{pendingMatches:r===1||s?m:[...p.pendingMatches,...m],_fetchedTabs:n?le(R({},p._fetchedTabs),{[n]:le(R({},p._fetchedTabs[n||""]),{pending:!0})}):p._fetchedTabs,pagination:le(R({},p.pagination),{pending:{page:((x=d.data.pagination)==null?void 0:x.page)||r,limit:((y=d.data.pagination)==null?void 0:y.limit)||20,total:((b=d.data.pagination)==null?void 0:b.total)||0,totalPages:((v=d.data.pagination)==null?void 0:v.totalPages)||1,hasMore:(((j=d.data.pagination)==null?void 0:j.page)||r)<(((N=d.data.pagination)==null?void 0:N.totalPages)||1)}}),error:null}}),console.log("[MatchStore] Successfully fetched pending matches (page",r,"):",m.length)}}catch(c){console.error("[MatchStore] Fetch pending matches error:",c),e({error:c.message||"Khng th ti li mi trn u"})}finally{e(r===1?{isLoading:!1}:c=>({isLoadingMore:le(R({},c.isLoadingMore),{pending:!1})}))}}),fetchHistoryMatches:(n,r=1,s=!1)=>O(void 0,null,function*(){var i;try{const l=t();if(r===1&&l.isLoading){console.log("[MatchStore] Skipping fetchHistoryMatches - already loading");return}if(r>1&&l.isLoadingMore.history){console.log("[MatchStore] Skipping fetchHistoryMatches - already loading more");return}if(!s&&r===1&&((i=l._fetchedTabs[n||""])==null?void 0:i.history)&&l.historyMatches.length>0){console.log("[MatchStore] Skipping fetchHistoryMatches - already has data for team:",n);return}e(r===1?{isLoading:!0,error:null}:d=>({isLoadingMore:le(R({},d.isLoadingMore),{history:!0})}));const c=yield Zt.getMatches({statuses:["FINISHED"],teamId:n,page:r,limit:10});if(c.success&&c.data){const h=(Array.isArray(c.data.matches)?c.data.matches:[]).map(m=>wo(m,n));e(m=>{var p,x,y,b,v,j;return{historyMatches:r===1||s?h:[...m.historyMatches,...h],_fetchedTabs:n?le(R({},m._fetchedTabs),{[n]:le(R({},m._fetchedTabs[n||""]),{history:!0})}):m._fetchedTabs,pagination:le(R({},m.pagination),{history:{page:((p=c.data.pagination)==null?void 0:p.page)||r,limit:((x=c.data.pagination)==null?void 0:x.limit)||20,total:((y=c.data.pagination)==null?void 0:y.total)||0,totalPages:((b=c.data.pagination)==null?void 0:b.totalPages)||1,hasMore:(((v=c.data.pagination)==null?void 0:v.page)||r)<(((j=c.data.pagination)==null?void 0:j.totalPages)||1)}}),error:null}}),console.log("[MatchStore] Successfully fetched history matches (page",r,"):",h.length)}}catch(l){console.error("[MatchStore] Fetch history matches error:",l),e({error:l.message||"Khng th ti lch s trn u"})}finally{e(r===1?{isLoading:!1}:l=>({isLoadingMore:le(R({},l.isLoadingMore),{history:!1})}))}}),acceptMatch:n=>O(void 0,null,function*(){try{(yield Zt.acceptMatchRequest(n)).success&&e(s=>({pendingMatches:s.pendingMatches.filter(i=>i.id!==n)}))}catch(r){throw r}}),declineMatch:n=>O(void 0,null,function*(){try{(yield Zt.declineMatchRequest(n)).success&&e(s=>({pendingMatches:s.pendingMatches.filter(i=>i.id!==n)}))}catch(r){throw r}}),confirmMatch:(n,r)=>O(void 0,null,function*(){try{(yield Zt.confirmMatch(n,r)).success}catch(s){throw s}}),sendMatchRequest:(n,r)=>O(void 0,null,function*(){try{const s=yield Zt.sendMatchRequest(n,r);if(s.success&&s.data){const i=t().currentTeamId;e(l=>({pendingMatches:l.pendingMatches.map(c=>c.id===n?wo(s.data,i):c)}))}}catch(s){throw s}}),updateMatchRequest:(n,r)=>O(void 0,null,function*(){try{const s=yield Zt.updateMatchRequest(n,r);if(s.success&&s.data){const i=t().currentTeamId;e(l=>({pendingMatches:l.pendingMatches.map(c=>c.id===n?wo(s.data,i):c)}))}}catch(s){throw s}}),finishMatch:(n,r)=>O(void 0,null,function*(){try{(yield Zt.finishMatch(n,r)).success&&e(i=>({upcomingMatches:i.upcomingMatches.filter(l=>l.id!==n)}))}catch(s){throw s}}),cancelMatch:(n,r)=>O(void 0,null,function*(){try{(yield Zt.cancelMatch(n,r)).success&&e(i=>({pendingMatches:i.pendingMatches.filter(l=>l.id!==n),upcomingMatches:i.upcomingMatches.filter(l=>l.id!==n)}))}catch(s){throw s}}),rematch:(n,r)=>O(void 0,null,function*(){try{const s=yield Zt.rematch(n,r);if(s.success&&s.data){const i=wo(s.data);e(l=>({pendingMatches:[...l.pendingMatches,i]}))}}catch(s){throw s}}),submitMatchResult:(n,r)=>O(void 0,null,function*(){try{e({isLoading:!0,error:null});const s=yield Zt.submitResult(n,r);if(s.success&&s.data){const i=s.data.data;e(l=>({upcomingMatches:l.upcomingMatches.map(d=>d.id===n?le(R({},d),{result:i.result?{teamAScore:i.result.teamAScore,teamBScore:i.result.teamBScore,notes:i.result.notes,fileIds:i.result.fileIds,lastUpdatedBy:i.result.lastUpdatedBy,lastUpdatedAt:i.result.lastUpdatedAt}:void 0,resultConfirmations:i.confirmations,resultLocked:i.locked,canEditResult:i.canEdit}):d),isLoading:!1}))}}catch(s){throw e({error:s.message||"Khng th lu kt qu",isLoading:!1}),s}}),confirmMatchResult:n=>O(void 0,null,function*(){try{e({isLoading:!0,error:null});const r=yield Zt.confirmResult(n);if(r.success&&r.data){const s=r.data.data,{matchStatus:i,locked:l}=s;e(i==="FINISHED"?c=>{const d=c.upcomingMatches.find(h=>h.id===n);return d?{upcomingMatches:c.upcomingMatches.filter(h=>h.id!==n),historyMatches:[le(R({},d),{status:"finished",resultLocked:!0}),...c.historyMatches],isLoading:!1}:{isLoading:!1}}:c=>({upcomingMatches:c.upcomingMatches.map(d=>d.id===n?le(R({},d),{resultLocked:l}):d),isLoading:!1}))}}catch(r){throw e({error:r.message||"Khng th xc nhn kt qu",isLoading:!1}),r}}),getMatchResult:n=>O(void 0,null,function*(){try{const r=yield Zt.getResult(n);return r.success&&r.data?r.data.data:null}catch(r){return console.error("[MatchStore] Error getting match result:",r),null}})}),{name:"match-storage",partialize:e=>({selectedMatch:e.selectedMatch})})),WD=()=>bn(e=>e.pendingMatches),P2=()=>bn(e=>e.upcomingMatches),VD=()=>bn(e=>e.liveMatches),KD=()=>bn(e=>e.historyMatches),GD=()=>bn(e=>e.selectedMatch),qD=()=>bn(e=>e.isLoading),YD=()=>bn(e=>e.pagination),JD=()=>bn(e=>e.isLoadingMore),eo=()=>{const e=bn();return{setPendingMatches:e.setPendingMatches,setUpcomingMatches:e.setUpcomingMatches,setLiveMatches:e.setLiveMatches,setHistoryMatches:e.setHistoryMatches,setSelectedMatch:e.setSelectedMatch,addMatch:e.addMatch,updateMatch:e.updateMatch,removeMatch:e.removeMatch,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,clearAllData:e.clearAllData,updatePagination:e.updatePagination,getActiveTab:e.getActiveTab,setActiveTab:e.setActiveTab,fetchUpcomingMatches:e.fetchUpcomingMatches,fetchPendingMatches:e.fetchPendingMatches,fetchHistoryMatches:e.fetchHistoryMatches,acceptMatch:e.acceptMatch,declineMatch:e.declineMatch,sendMatchRequest:e.sendMatchRequest,updateMatchRequest:e.updateMatchRequest,confirmMatch:e.confirmMatch,finishMatch:e.finishMatch,cancelMatch:e.cancelMatch,rematch:e.rematch,submitMatchResult:e.submitMatchResult,confirmMatchResult:e.confirmMatchResult,getMatchResult:e.getMatchResult}},QD=Object.freeze(Object.defineProperty({__proto__:null,default:bn,useHistoryMatches:KD,useIsLoadingMatches:qD,useIsLoadingMore:JD,useLiveMatches:VD,useMatchActions:eo,useMatchStore:bn,usePagination:YD,usePendingMatches:WD,useSelectedMatch:GD,useUpcomingMatches:P2},Symbol.toStringTag,{value:"Module"})),M2=({isOpen:e,mode:t,matchId:n,myTeam:r,opponentTeam:s,initialData:i,onClose:l,onSuccess:c})=>{const d=eo(),[h,m]=k.useState(""),[p,x]=k.useState(""),[y,b]=k.useState(""),[v,j]=k.useState(""),[N,w]=k.useState(!1),[S,P]=k.useState(null);k.useEffect(()=>{t==="edit"&&i?(m(i.proposedDate||""),x(i.proposedTime||""),b(i.proposedPitch||""),j(i.notes||"")):(m(""),x(""),b(""),j(""))},[t,i,e]);const C=()=>O(void 0,null,function*(){if(!h||!p||!y){P("Vui lng in y  thng tin ngy, gi v sn d kin");return}w(!0),P(null);try{if(t==="send"){const E={proposedDate:h,proposedTime:p,proposedPitch:y,notes:v||void 0};yield d.sendMatchRequest(n,E)}else{const E={proposedDate:h,proposedTime:p,proposedPitch:y,notes:v||void 0};yield d.updateMatchRequest(n,E)}c()}catch(E){console.error("Match request error:",E),P(E.message||"C li xy ra, vui lng th li")}finally{w(!1)}}),U=()=>{N||l()};return e?a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:U}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[90vh] overflow-y-auto",children:[N&&a.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm rounded-t-3xl",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:t==="send"?"ang gi li mi...":"ang cp nht..."})]}),a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:t==="send"?"Gi li mi giao lu":"Cp nht li mi"}),a.jsx("button",{onClick:U,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx(Jt,{src:r.logo||"",size:"md"}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:r.name})]}),a.jsx("div",{className:"flex flex-col items-center justify-center px-4",children:a.jsx("div",{className:"text-2xl font-black text-primary",children:"VS"})}),a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx(Jt,{src:s.logo||"",size:"md"}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center",children:s.name})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx(zr,{label:"Ngy d kin",type:"date",value:h,onChange:E=>m(E.target.value),className:"flex-1",required:!0}),a.jsx(zr,{label:"Gi d kin",type:"time",value:p,onChange:E=>x(E.target.value),className:"flex-1",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1 mb-2 block",children:["Loi sn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:yu.map(E=>a.jsx("button",{type:"button",onClick:()=>b(E),className:`py-2.5 px-3 rounded-xl text-sm font-medium transition-all ${y===E?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:E},E))})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ghi ch (Ty chn)"}),a.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-3 text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none",placeholder:"Ghi ch: mi giao lu chn thnh, chia s sn 50/50,...",value:v,onChange:E=>j(E.target.value),maxLength:200}),a.jsxs("p",{className:"text-xs text-gray-400 text-right",children:[v.length,"/200"]})]})]}),S&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:S})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(ke,{className:"w-full py-3.5",onClick:C,disabled:N,children:N?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin"}),t==="send"?"ang gi...":"ang cp nht..."]}):a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"send"}),t==="send"?"Gi li mi":"Cp nht"]})}),a.jsx("button",{onClick:U,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hy"})]}),t==="send"&&a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(A,{name:"info",className:"text-blue-500 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Gi li mi cht ko"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi gi li mi, i th s nhn c thng bo v c th chp nhn  ln lch u."})]})]})})]})]}):null},v_=["#11d473","#facc15","#3b82f6","#ef4444","#ffffff","#fbbf24","#10b981"],XD=()=>Array.from({length:30},(e,t)=>({id:t,color:v_[Math.floor(Math.random()*v_.length)],size:Math.random()*10+6,left:`${Math.random()*100}%`,delay:`${Math.random()*.6}s`,drift:`${(Math.random()-.5)*200}px`})),ez=({isOpen:e,matchedTeam:t,myTeamLogo:n,myTeamName:r,myTeamId:s,matchId:i,onKeepSwiping:l})=>{var N;const[c,d]=k.useState(!1),[h,m]=k.useState([]);if(k.useEffect(()=>{e?(m(XD()),navigator.vibrate&&navigator.vibrate([80,40,80,40,120])):setTimeout(()=>m([]),500)},[e]),!e||!t)return null;const p={id:t.id,name:t.name,logo:t.logo,level:t.level},x={id:s||"",name:r||"i ca bn",logo:n},y=i||t.id,b=()=>{d(!0)},v=()=>{d(!1),l()},j=()=>{d(!1)};return a.jsxs("div",{className:"match-modal-overlay",children:[a.jsx("div",{className:"match-modal-backdrop"}),a.jsxs("div",{className:"match-modal-content",children:[a.jsx("div",{className:"football-field-bg"}),a.jsx("div",{className:"energy-ring"}),a.jsx("div",{className:"energy-ring"}),a.jsx("div",{className:"energy-ring"}),[...Array(12)].map((w,S)=>a.jsx("div",{className:"sparkle",style:{left:`${20+S*6}%`,top:`${20+S%4*20}%`,animationDelay:`${S*.2}s`}},`sparkle-${S}`)),a.jsx("div",{className:"confetti-container",children:h.map(w=>a.jsx("div",{className:"confetti-particle",style:{"--drift":w.drift,left:w.left,width:`${w.size}px`,height:`${w.size}px`,backgroundColor:w.color,animationDelay:w.delay}},w.id))}),a.jsxs("div",{className:"match-header",children:[a.jsx("div",{className:"match-badge",children:a.jsx(A,{name:"sports_soccer",className:"match-icon",filled:!0})}),a.jsx("h2",{className:"match-title",children:"MATCH KO!"}),a.jsxs("p",{className:"match-subtitle",children:[a.jsx("span",{className:"team-names",children:r})," v ",a.jsx("span",{className:"team-names",children:t.name}),"  tm thy nhau!"]})]}),a.jsxs("div",{className:"scoreboard",children:[a.jsxs("div",{className:"team-score team-score-left",children:[a.jsxs("div",{className:"team-avatar-container",children:[a.jsx("div",{className:"team-avatar",children:n?a.jsx("img",{src:n,alt:r,className:"team-avatar-image"}):a.jsx("div",{className:"team-avatar-placeholder team-avatar-placeholder-my",children:(r==null?void 0:r.charAt(0))||"T"})}),a.jsx("div",{className:"team-avatar-glow"})]}),a.jsx("p",{className:"team-name",children:r||"i ca bn"})]}),a.jsxs("div",{className:"vs-section",children:[a.jsx("div",{className:"vs-badge",children:a.jsx("span",{className:"vs-text",children:"VS"})}),a.jsx("span",{className:"match-label",children:"I TH"})]}),a.jsxs("div",{className:"team-score team-score-right",children:[a.jsxs("div",{className:"team-avatar-container",children:[a.jsx("div",{className:"team-avatar",children:t.logo?a.jsx("img",{src:t.logo,alt:t.name,className:"team-avatar-image"}):a.jsx("div",{className:"team-avatar-placeholder team-avatar-placeholder-opponent",children:((N=t.name)==null?void 0:N.charAt(0))||"T"})}),a.jsx("div",{className:"team-avatar-glow"})]}),a.jsx("p",{className:"team-name",children:t.name})]})]}),a.jsxs("div",{className:`actions-section${c?" actions-section-hidden":""}`,children:[a.jsxs("button",{onClick:b,className:"action-button action-button-primary",children:[a.jsx("span",{className:"button-icon",children:a.jsx(A,{name:"send",filled:!0})}),a.jsx("span",{className:"button-text",children:"Gi li mi giao lu"})]}),a.jsxs("button",{onClick:l,className:"action-button action-button-secondary",children:[a.jsx("span",{className:"button-icon",children:a.jsx(A,{name:"refresh"})}),a.jsx("span",{className:"button-text",children:"Tip tc tm ko"})]})]}),c&&a.jsx("div",{className:"match-dim-overlay"})]}),c&&a.jsx(M2,{isOpen:c,mode:"send",matchId:y,myTeam:x,opponentTeam:p,onClose:j,onSuccess:v})]})},Pi={createTeam:e=>O(void 0,null,function*(){return Pe.post("/teams",e)}),getMyTeams:()=>O(void 0,null,function*(){return Pe.get("/teams/my-teams")}),getTeamById:(e,t)=>O(void 0,null,function*(){const n=t!=null&&t.includeRecentMatches?{includeRecentMatches:"true"}:void 0;return Pe.get(`/teams/${e}`,n?{params:n}:void 0)}),updateTeam:(e,t)=>O(void 0,null,function*(){return Pe.patch(`/teams/${e}`,t)}),deleteTeam:e=>O(void 0,null,function*(){return Pe.delete(`/teams/${e}`)}),getTeamMembers:e=>O(void 0,null,function*(){return Pe.get(`/teams/${e}/members`)}),addMember:(e,t)=>O(void 0,null,function*(){return Pe.post(`/teams/${e}/members`,t)}),removeMember:(e,t)=>O(void 0,null,function*(){return Pe.delete(`/teams/${e}/members/${t}`)}),updateMemberRole:(e,t,n)=>O(void 0,null,function*(){return Pe.patch(`/teams/${e}/members/${t}`,n)}),updateMemberAdminRole:(e,t,n)=>O(void 0,null,function*(){return Pe.put(`/teams/${e}/members/${t}/role`,{role:n})}),archiveTeam:e=>O(void 0,null,function*(){return Pe.patch(`/teams/${e}/archive`)})},tp=Object.freeze(Object.defineProperty({__proto__:null,TeamService:Pi},Symbol.toStringTag,{value:"Module"})),tz={MALE:"Nam",FEMALE:"N",MIXED:"Mixed",Nam:"Nam",N:"N",Mixed:"Mixed"},y_={discoverTeams:e=>O(void 0,null,function*(){var n;const t=le(R({},e),{gender:(n=e.gender)==null?void 0:n.map(r=>tz[r]||r)});return Pe.post("/discovery",t)}),getStats:()=>O(void 0,null,function*(){return Pe.get("/discovery/stats")}),getRecommendations:()=>O(void 0,null,function*(){return Pe.get("/discovery/recommendations")})},Ah={uploadFile:(e,t)=>O(void 0,null,function*(){const n=new FormData;return n.append("file",e.file),e.fileType&&n.append("fileType",e.fileType),Pe.post("/files/upload",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:r=>{if(t&&r.total){const s=Math.round(r.loaded*100/r.total);t(s)}}})}),uploadTeamLogo:(e,t,n)=>O(void 0,null,function*(){return Ja(`/files/team/${e}/logo`,t,n)}),uploadTeamBanner:(e,t,n)=>O(void 0,null,function*(){return Ja(`/files/team/${e}/banners`,t,n)}),uploadUserAvatar:(e,t)=>O(void 0,null,function*(){return Ja("/files/user/avatar",e,t)}),uploadUserBanner:(e,t)=>O(void 0,null,function*(){return Ja("/files/user/banner",e,t)}),getEntityFiles:(e,t,n)=>O(void 0,null,function*(){const r=n?{fileType:n}:{};return Pe.get(`/files/entity/${e}/${t}`,{params:r})}),deleteFile:e=>O(void 0,null,function*(){return Pe.delete(`/files/${e}`)})},rc={createSwipe:e=>O(void 0,null,function*(){return Pe.post("/swipes",e)}),getSwipeHistory:(e,t)=>O(void 0,null,function*(){return Pe.get(`/swipes/team/${e}`,{params:t})}),getReceivedSwipes:(e,t)=>O(void 0,null,function*(){return Pe.get(`/swipes/team/${e}/received`,{params:t})}),getSwipeStats:e=>O(void 0,null,function*(){return Pe.get(`/swipes/team/${e}/stats`)}),checkSwipeEligibility:(e,t)=>O(void 0,null,function*(){return Pe.post(`/swipes/check/${e}/${t}`)}),undoSwipe:e=>O(void 0,null,function*(){return Pe.post(`/swipes/${e}/undo`)})};class nz{constructor(){this.basePath="/team-invites",this.teamsPath="/teams"}createInviteToken(t,n){return O(this,null,function*(){var r,s,i,l,c,d;try{return yield Pe.post(`${this.teamsPath}/${t}/invite-token`,n)}catch(h){return{success:!1,error:{code:((s=(r=h.response)==null?void 0:r.data)==null?void 0:s.code)||"CREATE_INVITE_TOKEN_ERROR",message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.message)||"Khng th to m mi",details:(d=(c=h.response)==null?void 0:c.data)==null?void 0:d.details}}}})}inviteByPhone(t,n){return O(this,null,function*(){var r,s,i,l,c,d;try{return yield Pe.post(`${this.basePath}/teams/${t}/invite-by-phone`,n)}catch(h){return{success:!1,error:{code:((s=(r=h.response)==null?void 0:r.data)==null?void 0:s.code)||"INVITE_BY_PHONE_ERROR",message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.message)||"Khng th gi li mi",details:(d=(c=h.response)==null?void 0:c.data)==null?void 0:d.details}}}})}getMyInvites(t){return O(this,null,function*(){var n,r,s,i,l,c;try{return yield Pe.get(`${this.basePath}/my-invites`,{params:t})}catch(d){return{success:!1,error:{code:((r=(n=d.response)==null?void 0:n.data)==null?void 0:r.code)||"GET_MY_INVITES_ERROR",message:((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||"Khng th ti li mi",details:(c=(l=d.response)==null?void 0:l.data)==null?void 0:c.details}}}})}getSentInvites(t,n){return O(this,null,function*(){var r,s,i,l,c,d;try{return yield Pe.get(`${this.basePath}/teams/${t}/sent-invites`,{params:n})}catch(h){return{success:!1,error:{code:((s=(r=h.response)==null?void 0:r.data)==null?void 0:s.code)||"GET_SENT_INVITES_ERROR",message:((l=(i=h.response)==null?void 0:i.data)==null?void 0:l.message)||"Khng th ti li mi  gi",details:(d=(c=h.response)==null?void 0:c.data)==null?void 0:d.details}}}})}respondToInvite(t){return O(this,null,function*(){var n,r,s,i,l,c;try{return yield Pe.post(`${this.basePath}/respond`,t)}catch(d){return{success:!1,error:{code:((r=(n=d.response)==null?void 0:n.data)==null?void 0:r.code)||"RESPOND_INVITE_ERROR",message:((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||"Khng th phn hi li mi",details:(c=(l=d.response)==null?void 0:l.data)==null?void 0:c.details}}}})}cancelInvite(t){return O(this,null,function*(){var n,r,s,i,l,c;try{return yield Pe.delete(`${this.basePath}/${t}/cancel`)}catch(d){return{success:!1,error:{code:((r=(n=d.response)==null?void 0:n.data)==null?void 0:r.code)||"CANCEL_INVITE_ERROR",message:((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||"Khng th hy li mi",details:(c=(l=d.response)==null?void 0:l.data)==null?void 0:c.details}}}})}resendInvite(t){return O(this,null,function*(){var n,r,s,i,l,c;try{return yield Pe.post(`${this.basePath}/${t}/resend`)}catch(d){return{success:!1,error:{code:((r=(n=d.response)==null?void 0:n.data)==null?void 0:r.code)||"RESEND_INVITE_ERROR",message:((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||"Khng th gi li li mi",details:(c=(l=d.response)==null?void 0:l.data)==null?void 0:c.details}}}})}}const L2=new nz,_o=Object.freeze(Object.defineProperty({__proto__:null,default:L2},Symbol.toStringTag,{value:"Module"}));var I2=(e=>(e.NEW_MATCH="new_match",e.MATCH_STATUS_CHANGE="match_status_change",e.TEAM_INVITATION="team_invitation",e.TEAM_REMOVAL="team_removal",e.MATCH_REMINDER="match_reminder",e.MATCH_RESULT="match_result",e.NEW_LIKE="new_like",e.NEW_FOLLOWER="new_follower",e.SYSTEM_ANNOUNCEMENT="system_announcement",e))(I2||{});const rz=({isOpen:e,matchId:t,myTeam:n,onClose:r,onSuccess:s})=>{var b;const i=jt(),[l,c]=k.useState(""),[d,h]=k.useState(!1),[m,p]=k.useState(null),x=()=>O(void 0,null,function*(){var v;h(!0),p(null);try{const j=yield Zt.sendInvitation(t,{message:l||"Cho i th, hy cng ln lch u nh!"});j.success?(s(),i(Ae.matchDetail(t))):p(((v=j.error)==null?void 0:v.message)||"Gi li mi tht bi")}catch(j){console.error("Send invitation error:",j),p(j.message||"C li xy ra, vui lng th li")}finally{h(!1)}}),y=()=>{r(),i(Ae.matchDetail(t))};return e?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:r}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mi i u"}),a.jsx("button",{onClick:r,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"size-16 rounded-full border-2 border-primary overflow-hidden bg-surface-dark",children:n.logo?a.jsx("img",{src:n.logo,alt:n.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-xl",children:((b=n.name)==null?void 0:b.charAt(0))||"T"})}),a.jsx("span",{className:"text-xs font-medium text-primary mt-1",children:"i ca bn"})]}),a.jsx("div",{className:"flex flex-col items-center",children:a.jsx("div",{className:"size-10 rounded-full bg-surface-dark border-2 border-gray-300 dark:border-gray-600 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-gray-500",children:"VS"})})}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"size-16 rounded-full border-2 border-primary overflow-hidden bg-surface-dark",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white font-bold text-xl",children:"?"})}),a.jsx("span",{className:"text-xs font-medium text-primary mt-1",children:"i th"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Li nhn (ty chn)"}),a.jsx("textarea",{value:l,onChange:v=>c(v.target.value),placeholder:"Nhp li nhn cho i th...",rows:3,maxLength:200,className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 resize-none"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[l.length,"/200"]})]}),m&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:m})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(ke,{className:"w-full py-3.5",onClick:x,disabled:d,children:d?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin"}),"ang gi..."]}):a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"send"}),"Gi li mi"]})}),a.jsx("button",{onClick:y,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Xem chi tit ko"})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(A,{name:"info",className:"text-blue-500 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Gi li mi cht ko"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi gi li mi, i th s nhn c thng bo v c th chp nhn  ln lch u."})]})]})})]})]}):null},az=({isOpen:e,onClose:t,teamId:n,onAddByPhone:r})=>{const s=jt();if(!e)return null;const i=()=>{t(),n&&s(Ae.teamShare(n))},l=()=>{t(),r?r():n&&s(Ae.memberAdd(n))};return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Thm thnh vin"}),a.jsx("button",{onClick:t,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-98 transition-all border border-gray-100 dark:border-white/5",children:[a.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:a.jsx(A,{name:"qr_code_2",className:"text-xl"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"Chia s QR Code"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:" thnh vin qut tham gia i"})]}),a.jsx(A,{name:"arrow_forward_ios",className:"text-gray-400 text-sm"})]}),a.jsxs("button",{onClick:l,className:"w-full flex items-center gap-4 p-4 rounded-xl bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-98 transition-all border border-gray-100 dark:border-white/5",children:[a.jsx("div",{className:"size-12 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500",children:a.jsx(A,{name:"add_ic_call",className:"text-xl"})}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:"font-semibold text-slate-900 dark:text-white",children:"Thm bng s in thoi"}),a.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Nhp ST  mi thnh vin"})]}),a.jsx(A,{name:"arrow_forward_ios",className:"text-gray-400 text-sm"})]})]}),a.jsx("button",{onClick:t,className:"w-full mt-4 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-semibold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hu"})]})]})},sz=({options:e,selected:t,onChange:n,className:r=""})=>a.jsx("div",{className:`sticky top-0 z-10 bg-background-light dark:bg-background-dark border-b border-gray-200 dark:border-white/5 ${r}`,children:a.jsx("div",{className:"flex overflow-x-auto scrollbar-hide gap-2 px-4 py-3",children:e.map(s=>a.jsx("button",{onClick:()=>n(s),className:`shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${t===s?"bg-primary text-white shadow-sm":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:s},s))})}),iz=({invite:e,onAccept:t,onDecline:n,onViewTeam:r,isLoading:s=!1})=>{const i=jt(),l=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"accepted":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"declined":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"expired":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";case"cancelled":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";default:return"bg-gray-100 text-gray-600"}},c=m=>{switch(m){case"pending":return"Ch x l";case"accepted":return" chp nhn";case"declined":return" t chi";case"expired":return"Ht hn";case"cancelled":return" hy";default:return m}},d=e.status==="pending",h=e.status==="accepted";return a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3 cursor-pointer",onClick:()=>i(Ae.teamDetail(e.teamId)),children:[a.jsx(Jt,{src:e.teamLogo,size:"lg",className:"shadow-sm"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:e.teamName}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium shrink-0 ${l(e.status)}`,children:c(e.status)})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.inviterName,"  mi bn tham gia"]}),e.teamLevel&&a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[e.teamLevel," ",e.teamGender&&` ${e.teamGender==="MALE"?"Nam":e.teamGender==="FEMALE"?"N":"Mixed"}`]})]})]}),(e.position||e.role||e.customMessage)&&a.jsxs("div",{className:"space-y-1 mb-3 px-2",children:[e.role&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Vai tr:"})," ",e.role==="admin"?"Qun tr vin":"Thnh vin"]}),e.position&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"V tr:"})," ",e.position]}),e.jerseyNumber&&a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"S o:"})," ",e.jerseyNumber]}),e.customMessage&&a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 italic mt-2",children:['"',e.customMessage,'"']})]}),d&&!s&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ke,{variant:"secondary",size:"sm",fullWidth:!0,onClick:n,className:"flex-1",children:"T chi"}),a.jsx(ke,{variant:"primary",size:"sm",fullWidth:!0,onClick:t,className:"flex-1",children:"Chp nhn"})]}),d&&s&&a.jsx("div",{className:"flex items-center justify-center py-2",children:a.jsx("div",{className:"animate-pulse text-gray-400 text-sm",children:"ang x l..."})}),h&&a.jsx("button",{onClick:()=>i(Ae.teamDetail(e.teamId)),className:"w-full text-center text-sm text-primary font-medium py-2 rounded-xl border border-primary/20 hover:bg-primary/5 transition-colors",children:"Xem i"}),e.expiresAt&&d&&a.jsxs("p",{className:"text-xs text-gray-400 text-center mt-2",children:["Ht hn: ",new Date(e.expiresAt).toLocaleString("vi-VN")]})]})},oz=({invite:e,onCancel:t,onResend:n,isLoading:r=!1})=>{const s=m=>{switch(m){case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"accepted":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"declined":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"expired":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";case"cancelled":return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400";default:return"bg-gray-100 text-gray-600"}},i=m=>{switch(m){case"pending":return"Ch x l";case"accepted":return" chp nhn";case"declined":return" t chi";case"expired":return"Ht hn";case"cancelled":return" hy";default:return m}},l=e.status==="pending",c=l,d=e.status==="expired"||e.status==="declined",h=()=>{if(!e.expiresAt)return null;const m=new Date(e.expiresAt).getTime()-Date.now();if(m<=0)return" ht hn";const p=Math.floor(m/6e4),x=Math.floor(p/60);return x>0?`${x}h ${p%60}p`:`${p}p`};return a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl p-4 shadow-sm border border-gray-100 dark:border-white/5",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${s(e.status)}`,children:i(e.status)}),e.expiresAt&&l&&a.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[a.jsx(A,{name:"schedule",className:"text-sm"}),h()]})]}),a.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:e.invitedPhone||"Ngi dng"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[e.position&&`V tr: ${e.position}`,e.position&&e.role&&"  ",e.role&&`${e.role==="admin"?"Qun tr vin":"Thnh vin"}`]})]})}),e.customMessage&&a.jsx("div",{className:"mb-3 px-3 py-2 bg-gray-50 dark:bg-white/5 rounded-xl",children:a.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 italic",children:['"',e.customMessage,'"']})}),a.jsxs("div",{className:"flex gap-2",children:[c&&!r&&a.jsx(ke,{variant:"secondary",size:"sm",fullWidth:!0,onClick:t,className:"flex-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Hy li mi"}),d&&!r&&a.jsx(ke,{variant:"secondary",size:"sm",fullWidth:!0,onClick:n,className:"flex-1",children:"Gi li"}),r&&a.jsx("div",{className:"flex-1 text-center text-sm text-gray-400 py-2",children:"ang x l..."})]}),a.jsxs("p",{className:"text-xs text-gray-400 text-center mt-3",children:["Gi: ",new Date(e.createdAt).toLocaleString("vi-VN")]})]})},lz=({isOpen:e,onClose:t,onConfirm:n,isLoading:r=!1})=>{const[s,i]=k.useState("");if(!e)return null;const l=()=>{n(s.trim()||void 0),i("")},c=()=>{r||(i(""),t())};return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:c}),a.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-2xl animate-slide-up",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"size-16 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mx-auto mb-3",children:a.jsx(A,{name:"close",className:"text-3xl text-red-500"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"T chi li mi?"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Bn c th nhp l do (ty chn)"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("textarea",{value:s,onChange:d=>i(d.target.value),placeholder:"VD:  tham gia i khc, bn rn...",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-3 min-h-[100px] text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all resize-none",maxLength:200,disabled:r}),a.jsxs("p",{className:"text-xs text-gray-400 text-right mt-1",children:[s.length,"/200"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:c,disabled:r,className:"flex-1 py-3 rounded-xl border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400 font-semibold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors disabled:opacity-50",children:"Hy"}),a.jsx("button",{onClick:l,disabled:r,className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-semibold hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"ang x l..."]}):"T chi"})]})]})]})},A2=()=>{k.useEffect(()=>{const e=window.visualViewport;if(!e)return;let t;const n=()=>{document.body.style.height=`${e.height}px`,document.documentElement.style.height=`${e.height}px`},r=()=>{requestAnimationFrame(n)};return t=document.body.style.height,e.addEventListener("resize",r),e.addEventListener("scroll",r),()=>{e.removeEventListener("resize",r),e.removeEventListener("scroll",r),t!==void 0?(document.body.style.height=t,document.documentElement.style.height=t):(document.body.style.height="",document.documentElement.style.height="")}},[])},pf=({isOpen:e,onClose:t,type:n,title:r,description:s,icon:i,iconColor:l="text-red-500",inputPlaceholder:c="Nhp l do (ty chn)...",inputMaxLength:d=200,primaryButtonText:h,onPrimaryAction:m,secondaryButtonText:p="Hy",isLoading:x=!1})=>{const[y,b]=k.useState("");if(A2(),k.useEffect(()=>{e&&b("")},[e]),k.useEffect(()=>{const w=S=>{S.key==="Escape"&&e&&!x&&t()};return e&&window.addEventListener("keydown",w),()=>{window.removeEventListener("keydown",w)}},[e,x,t]),!e)return null;const v=()=>{n==="input"?m(y.trim()):m()},j=()=>{x||(b(""),t())},N=()=>l.includes("red")?"bg-red-100 dark:bg-red-900/30":l.includes("orange")?"bg-orange-100 dark:bg-orange-900/30":l.includes("green")?"bg-green-100 dark:bg-green-900/30":"bg-gray-100 dark:bg-white/5";return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:j}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[calc(100dvh-80px)] overflow-y-auto",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"text-center mb-4",children:[i&&a.jsx("div",{className:`size-16 rounded-full ${N()} flex items-center justify-center mx-auto mb-3`,children:a.jsx(A,{name:i,className:`text-3xl ${l}`})}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:r}),s&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:s})]}),n==="input"&&a.jsxs("div",{className:"mb-4",children:[a.jsx("textarea",{value:y,onChange:w=>b(w.target.value),placeholder:c,className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-3 min-h-[100px] text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",maxLength:d,disabled:x,autoFocus:!0}),a.jsxs("p",{className:"text-xs text-gray-400 text-right mt-1",children:[y.length,"/",d]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:j,disabled:x,className:"flex-1 py-3 rounded-xl border border-gray-200 dark:border-white/10 text-gray-600 dark:text-gray-400 font-semibold hover:bg-gray-50 dark:hover:bg-white/5 transition-colors disabled:opacity-50",children:p}),a.jsx("button",{onClick:v,disabled:x,className:`flex-1 py-3 rounded-xl font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${l.includes("red")?"bg-red-500 text-white hover:bg-red-600":l.includes("orange")?"bg-orange-500 text-white hover:bg-orange-600":"bg-primary text-slate-900 hover:bg-primary/90"}`,children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"ang x l..."]}):h})]})]})]})},cz=({isOpen:e,onClose:t,matchId:n,onAttendanceUpdate:r})=>{const s=cn(D=>D.user),i=ra(D=>D.showToast),[l,c]=k.useState(!1),[d,h]=k.useState(null),[m,p]=k.useState(null),[x,y]=k.useState("A"),[b,v]=k.useState(!1),[j,N]=k.useState(!1),w=k.useCallback(()=>O(void 0,null,function*(){if(n)try{c(!0);const[D,J]=yield Promise.all([Zt.getMatchAttendance(n),Zt.getMyAttendance(n)]);D.success&&D.data&&h(D.data),J.success&&p(J.data)}catch(D){console.error("Failed to fetch attendance:",D),i(D.message||"Khng th ti danh sch im danh","error")}finally{c(!1)}}),[n,i]);k.useEffect(()=>{e&&w()},[e,w]);const S=(D,J)=>O(void 0,null,function*(){if(n)try{v(!0);const H=yield Zt.updateAttendance(n,{status:D,reason:J});H.success&&H.data&&(p(H.data),i({PENDING:" hy xc nhn",CONFIRMED:" xc nhn tham gia!",DECLINED:" bo bn"}[D],"success"),yield w(),r==null||r())}catch(H){console.error("Failed to update attendance:",H),i(H.message||"Khng th cp nht im danh","error")}finally{v(!1)}}),P=()=>{S("CONFIRMED")},C=()=>{N(!0)},U=D=>{N(!1),S("DECLINED",D)},E=()=>{S("PENDING")},Z=(D,J)=>{switch(D){case"PENDING":return a.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-gray-500/10 text-gray-500 border border-gray-500/20",children:"Cha phn hi"});case"CONFIRMED":return a.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:"C mt"});case"DECLINED":return a.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20",children:["Bn ",J&&`(${J})`]})}},q=()=>{if(!m)return null;const D=m.status;return a.jsxs("div",{className:"flex gap-3",children:[D==="PENDING"&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:b,onClick:C,children:"Bo bn"}),a.jsx(ke,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:b,onClick:P,children:"S tham gia"})]}),D==="CONFIRMED"&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:b,onClick:C,children:"Bo bn"}),a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:b,onClick:E,children:"Cha xc nhn"})]}),D==="DECLINED"&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:b,onClick:P,children:"S tham gia"}),a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:b,onClick:E,children:"Cha xc nhn"})]})]})};if(k.useEffect(()=>{const D=J=>{J.key==="Escape"&&e&&!b&&t()};return e&&window.addEventListener("keydown",D),()=>{window.removeEventListener("keydown",D)}},[e,b,t]),!e)return null;const $=x==="A"?d==null?void 0:d.teamA:d==null?void 0:d.teamB;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",style:{zIndex:9999},children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>!b&&t()}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[calc(100dvh-80px)] overflow-y-auto",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsx("div",{className:"text-center mb-4",children:a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Lc lng im danh"})}),l?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"text-gray-500",children:"ang ti..."})}):!d||!$?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(A,{name:"event_busy",className:"text-5xl text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Khng th ti thng tin im danh"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl flex",children:[a.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${x==="A"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>y("A"),children:(d==null?void 0:d.teamA.name)||"i nh"}),a.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${x==="B"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>y("B"),children:(d==null?void 0:d.teamB.name)||"i khch"})]})}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Tnh trng im danh"}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-2xl font-bold text-primary",children:$.summary.confirmed}),a.jsxs("span",{className:"text-gray-500",children:["/",$.summary.total]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${$.summary.confirmedPercentage}%`}})}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["C mt: ",$.summary.confirmed]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Bn: ",$.summary.declined]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Cha tr li: ",$.summary.pending]})]})]})]})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-bold text-base mb-3",children:"Danh sch thnh vin"}),$.attendance.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(A,{name:"person_off",className:"text-4xl text-gray-400 mb-2"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Cha c d liu im danh"})]}):a.jsx("div",{className:"space-y-2",children:$.attendance.map(D=>{const J=s&&D.userId===s.id;return a.jsxs("div",{className:`bg-white dark:bg-[#1A2C23] rounded-xl p-3 shadow-sm border border-gray-100 dark:border-gray-800/50 flex items-center gap-3 ${J?"ring-2 ring-primary/20":""}`,children:[a.jsx("div",{className:"relative",children:D.avatar?a.jsx("img",{src:D.avatar,alt:D.fullName,className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:a.jsx(A,{name:"person",className:"text-gray-500"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:D.fullName}),J&&a.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded bg-primary/20 text-primary",children:"Bn"})]}),D.phone&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:D.phone})]}),a.jsx("div",{children:Z(D.status,D.reason)})]},D.id)})})]}),m&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-800 pt-4",children:[a.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-3 mb-3 border border-gray-100 dark:border-gray-800/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(A,{name:"person",className:"text-primary"}),a.jsx("p",{className:"font-medium text-sm",children:"Trng thi ca bn"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Z(m.status,m.reason),m.responseTime&&a.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.responseTime).toLocaleString("vi-VN")})]})]}),q()]})]})]})]}),a.jsx(pf,{isOpen:j,onClose:()=>N(!1),type:"input",title:"Bo bn",description:"Nhp l do bn khng th tham gia trn u ny",icon:"event_busy",iconColor:"text-orange-500",inputPlaceholder:"L do bo bn (ty chn)...",inputMaxLength:200,primaryButtonText:"Xc nhn bo bn",onPrimaryAction:U,secondaryButtonText:"Hy",isLoading:b})]})},uz=({isOpen:e,onClose:t,matchId:n,myTeam:r,opponentTeam:s,onSuccess:i})=>{const l=eo(),[c,d]=k.useState(""),[h,m]=k.useState(""),[p,x]=k.useState(""),[y,b]=k.useState(""),[v,j]=k.useState(!1),[N,w]=k.useState(null),S=()=>O(void 0,null,function*(){if(!c||!h||!p){w("Vui lng in y  thng tin ngy, gi v sn d kin");return}j(!0),w(null);try{yield l.rematch(n,{proposedDate:c,proposedTime:h,proposedPitch:p,notes:y||void 0}),i()}catch(C){console.error("Rematch error:",C),w(C.message||"C li xy ra, vui lng th li")}finally{j(!1)}}),P=()=>{v||t()};return e?a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:P}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[calc(100dvh-80px)] overflow-y-auto",children:[v&&a.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm rounded-t-3xl",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"ang gi li mi..."})]}),a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:" li"}),a.jsx("button",{onClick:P,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx(Jt,{src:r.logo||"",size:"md"}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:r.name}),a.jsx("span",{className:"text-[10px] text-primary",children:"i ca bn"})]}),a.jsx("div",{className:"flex flex-col items-center justify-center px-4",children:a.jsx("div",{className:"text-2xl font-black text-primary",children:"VS"})}),a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jt,{src:s.logo||"",size:"md"}),a.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-orange-500 text-white text-[8px] font-bold rounded-full",children:"C"})]}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:s.name}),s.level&&a.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:s.level})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Ngy d kin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:c,onChange:C=>d(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Gi d kin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"time",value:h,onChange:C=>m(C.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Loi sn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:yu.map(C=>a.jsx("button",{type:"button",onClick:()=>x(C),className:`py-2.5 px-3 rounded-xl text-sm font-medium transition-all ${p===C?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:C},C))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Ghi ch ",a.jsx("span",{className:"text-gray-400",children:"(Ty chn)"})]}),a.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-xl p-3 text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none",placeholder:"Nhn tin cho i bn v o u, ko nc...",value:y,onChange:C=>b(C.target.value),maxLength:200}),a.jsxs("p",{className:"text-xs text-gray-400 text-right mt-1",children:[y.length,"/200"]})]})]}),N&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:N})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(ke,{className:"w-full py-3.5",onClick:S,disabled:v,children:v?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin"}),"ang gi..."]}):a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"replay"}),"Gi li mi"]})}),a.jsx("button",{onClick:P,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hy"})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(A,{name:"info",className:"text-blue-500 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Gi li mi ti u"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi gi li mi, i th c s nhn c thng bo v c th chp nhn  ln lch u."})]})]})})]})]}):null};function dz(e,t){const n=k.useRef(t);k.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const hz=1;function fz(e){return Object.freeze({__version:hz,map:e})}function mz(e,t){return Object.freeze(R(R({},e),t))}const O2=k.createContext(null),R2=O2.Provider;function D2(){const e=k.useContext(O2);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function pz(e){function t(n,r){const{instance:s,context:i}=e(n).current;return k.useImperativeHandle(r,()=>s),n.children==null?null:Re.createElement(R2,{value:i},n.children)}return k.forwardRef(t)}function gz(e){function t(n,r){const{instance:s}=e(n).current;return k.useImperativeHandle(r,()=>s),null}return k.forwardRef(t)}function xz(e,t){const n=k.useRef();k.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function z2(e,t){var r;const n=(r=e.pane)!=null?r:t.pane;return n?le(R({},e),{pane:n}):e}var Dx={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(uT,function(n){var r="1.9.4";function s(o){var u,f,g,_;for(f=1,g=arguments.length;f<g;f++){_=arguments[f];for(u in _)o[u]=_[u]}return o}var i=Object.create||function(){function o(){}return function(u){return o.prototype=u,new o}}();function l(o,u){var f=Array.prototype.slice;if(o.bind)return o.bind.apply(o,f.call(arguments,1));var g=f.call(arguments,2);return function(){return o.apply(u,g.length?g.concat(f.call(arguments)):arguments)}}var c=0;function d(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function h(o,u,f){var g,_,T,F;return F=function(){g=!1,_&&(T.apply(f,_),_=!1)},T=function(){g?_=arguments:(o.apply(f,arguments),setTimeout(F,u),g=!0)},T}function m(o,u,f){var g=u[1],_=u[0],T=g-_;return o===g&&f?o:((o-_)%T+T)%T+_}function p(){return!1}function x(o,u){if(u===!1)return o;var f=Math.pow(10,u===void 0?6:u);return Math.round(o*f)/f}function y(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function b(o){return y(o).split(/\s+/)}function v(o,u){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?i(o.options):{});for(var f in u)o.options[f]=u[f];return o.options}function j(o,u,f){var g=[];for(var _ in o)g.push(encodeURIComponent(f?_.toUpperCase():_)+"="+encodeURIComponent(o[_]));return(!u||u.indexOf("?")===-1?"?":"&")+g.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function w(o,u){return o.replace(N,function(f,g){var _=u[g];if(_===void 0)throw new Error("No value provided for variable "+f);return typeof _=="function"&&(_=_(u)),_})}var S=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function P(o,u){for(var f=0;f<o.length;f++)if(o[f]===u)return f;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var E=0;function Z(o){var u=+new Date,f=Math.max(0,16-(u-E));return E=u+f,window.setTimeout(o,f)}var q=window.requestAnimationFrame||U("RequestAnimationFrame")||Z,$=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function D(o,u,f){if(f&&q===Z)o.call(u);else return q.call(window,l(o,u))}function J(o){o&&$.call(window,o)}var H={__proto__:null,extend:s,create:i,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:m,falseFn:p,formatNum:x,trim:y,splitWords:b,setOptions:v,getParamString:j,template:w,isArray:S,indexOf:P,emptyImageUrl:C,requestFn:q,cancelFn:$,requestAnimFrame:D,cancelAnimFrame:J};function W(){}W.extend=function(o){var u=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=u.__super__=this.prototype,g=i(f);g.constructor=u,u.prototype=g;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(u[_]=this[_]);return o.statics&&s(u,o.statics),o.includes&&(ie(o.includes),s.apply(null,[g].concat(o.includes))),s(g,o),delete g.statics,delete g.includes,g.options&&(g.options=f.options?i(f.options):{},s(g.options,o.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,F=g._initHooks.length;T<F;T++)g._initHooks[T].call(this)}},u},W.include=function(o){var u=this.prototype.options;return s(this.prototype,o),o.options&&(this.prototype.options=u,this.mergeOptions(o.options)),this},W.mergeOptions=function(o){return s(this.prototype.options,o),this},W.addInitHook=function(o){var u=Array.prototype.slice.call(arguments,1),f=typeof o=="function"?o:function(){this[o].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function ie(o){if(!(typeof L=="undefined"||!L||!L.Mixin)){o=S(o)?o:[o];for(var u=0;u<o.length;u++)o[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ge={on:function(o,u,f){if(typeof o=="object")for(var g in o)this._on(g,o[g],u);else{o=b(o);for(var _=0,T=o.length;_<T;_++)this._on(o[_],u,f)}return this},off:function(o,u,f){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var g in o)this._off(g,o[g],u);else{o=b(o);for(var _=arguments.length===1,T=0,F=o.length;T<F;T++)_?this._off(o[T]):this._off(o[T],u,f)}return this},_on:function(o,u,f,g){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(o,u,f)===!1){f===this&&(f=void 0);var _={fn:u,ctx:f};g&&(_.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(_)}},_off:function(o,u,f){var g,_,T;if(this._events&&(g=this._events[o],!!g)){if(arguments.length===1){if(this._firingCount)for(_=0,T=g.length;_<T;_++)g[_].fn=p;delete this._events[o];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var F=this._listens(o,u,f);if(F!==!1){var Q=g[F];this._firingCount&&(Q.fn=p,this._events[o]=g=g.slice()),g.splice(F,1)}}},fire:function(o,u,f){if(!this.listens(o,f))return this;var g=s({},u,{type:o,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var _=this._events[o];if(_){this._firingCount=this._firingCount+1||1;for(var T=0,F=_.length;T<F;T++){var Q=_[T],te=Q.fn;Q.once&&this.off(o,te,Q.ctx),te.call(Q.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(o,u,f,g){typeof o!="string"&&console.warn('"string" type argument expected');var _=u;typeof u!="function"&&(g=!!u,_=void 0,f=void 0);var T=this._events&&this._events[o];if(T&&T.length&&this._listens(o,_,f)!==!1)return!0;if(g){for(var F in this._eventParents)if(this._eventParents[F].listens(o,u,f,g))return!0}return!1},_listens:function(o,u,f){if(!this._events)return!1;var g=this._events[o]||[];if(!u)return!!g.length;f===this&&(f=void 0);for(var _=0,T=g.length;_<T;_++)if(g[_].fn===u&&g[_].ctx===f)return _;return!1},once:function(o,u,f){if(typeof o=="object")for(var g in o)this._on(g,o[g],u,!0);else{o=b(o);for(var _=0,T=o.length;_<T;_++)this._on(o[_],u,f,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[d(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[d(o)],this},_propagateEvent:function(o){for(var u in this._eventParents)this._eventParents[u].fire(o.type,s({layer:o.target,propagatedFrom:o.target},o),!0)}};ge.addEventListener=ge.on,ge.removeEventListener=ge.clearAllEventListeners=ge.off,ge.addOneTimeEventListener=ge.once,ge.fireEvent=ge.fire,ge.hasEventListeners=ge.listens;var he=W.extend(ge);function V(o,u,f){this.x=f?Math.round(o):o,this.y=f?Math.round(u):u}var fe=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(o){return this.clone()._add(re(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(re(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new V(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new V(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(o){o=re(o);var u=o.x-this.x,f=o.y-this.y;return Math.sqrt(u*u+f*f)},equals:function(o){return o=re(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=re(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function re(o,u,f){return o instanceof V?o:S(o)?new V(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new V(o.x,o.y):new V(o,u,f)}function se(o,u){if(o)for(var f=u?[o,u]:o,g=0,_=f.length;g<_;g++)this.extend(f[g])}se.prototype={extend:function(o){var u,f;if(!o)return this;if(o instanceof V||typeof o[0]=="number"||"x"in o)u=f=re(o);else if(o=ce(o),u=o.min,f=o.max,!u||!f)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=f.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(o){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var u,f;return typeof o[0]=="number"||o instanceof V?o=re(o):o=ce(o),o instanceof se?(u=o.min,f=o.max):u=f=o,u.x>=this.min.x&&f.x<=this.max.x&&u.y>=this.min.y&&f.y<=this.max.y},intersects:function(o){o=ce(o);var u=this.min,f=this.max,g=o.min,_=o.max,T=_.x>=u.x&&g.x<=f.x,F=_.y>=u.y&&g.y<=f.y;return T&&F},overlaps:function(o){o=ce(o);var u=this.min,f=this.max,g=o.min,_=o.max,T=_.x>u.x&&g.x<f.x,F=_.y>u.y&&g.y<f.y;return T&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var u=this.min,f=this.max,g=Math.abs(u.x-f.x)*o,_=Math.abs(u.y-f.y)*o;return ce(re(u.x-g,u.y-_),re(f.x+g,f.y+_))},equals:function(o){return o?(o=ce(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ce(o,u){return!o||o instanceof se?o:new se(o,u)}function Ne(o,u){if(o)for(var f=u?[o,u]:o,g=0,_=f.length;g<_;g++)this.extend(f[g])}Ne.prototype={extend:function(o){var u=this._southWest,f=this._northEast,g,_;if(o instanceof _e)g=o,_=o;else if(o instanceof Ne){if(g=o._southWest,_=o._northEast,!g||!_)return this}else return o?this.extend(Me(o)||Ee(o)):this;return!u&&!f?(this._southWest=new _e(g.lat,g.lng),this._northEast=new _e(_.lat,_.lng)):(u.lat=Math.min(g.lat,u.lat),u.lng=Math.min(g.lng,u.lng),f.lat=Math.max(_.lat,f.lat),f.lng=Math.max(_.lng,f.lng)),this},pad:function(o){var u=this._southWest,f=this._northEast,g=Math.abs(u.lat-f.lat)*o,_=Math.abs(u.lng-f.lng)*o;return new Ne(new _e(u.lat-g,u.lng-_),new _e(f.lat+g,f.lng+_))},getCenter:function(){return new _e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _e(this.getNorth(),this.getWest())},getSouthEast:function(){return new _e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof _e||"lat"in o?o=Me(o):o=Ee(o);var u=this._southWest,f=this._northEast,g,_;return o instanceof Ne?(g=o.getSouthWest(),_=o.getNorthEast()):g=_=o,g.lat>=u.lat&&_.lat<=f.lat&&g.lng>=u.lng&&_.lng<=f.lng},intersects:function(o){o=Ee(o);var u=this._southWest,f=this._northEast,g=o.getSouthWest(),_=o.getNorthEast(),T=_.lat>=u.lat&&g.lat<=f.lat,F=_.lng>=u.lng&&g.lng<=f.lng;return T&&F},overlaps:function(o){o=Ee(o);var u=this._southWest,f=this._northEast,g=o.getSouthWest(),_=o.getNorthEast(),T=_.lat>u.lat&&g.lat<f.lat,F=_.lng>u.lng&&g.lng<f.lng;return T&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,u){return o?(o=Ee(o),this._southWest.equals(o.getSouthWest(),u)&&this._northEast.equals(o.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ee(o,u){return o instanceof Ne?o:new Ne(o,u)}function _e(o,u,f){if(isNaN(o)||isNaN(u))throw new Error("Invalid LatLng object: ("+o+", "+u+")");this.lat=+o,this.lng=+u,f!==void 0&&(this.alt=+f)}_e.prototype={equals:function(o,u){if(!o)return!1;o=Me(o);var f=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return f<=(u===void 0?1e-9:u)},toString:function(o){return"LatLng("+x(this.lat,o)+", "+x(this.lng,o)+")"},distanceTo:function(o){return Xe.distance(this,Me(o))},wrap:function(){return Xe.wrapLatLng(this)},toBounds:function(o){var u=180*o/40075017,f=u/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-u,this.lng-f],[this.lat+u,this.lng+f])},clone:function(){return new _e(this.lat,this.lng,this.alt)}};function Me(o,u,f){return o instanceof _e?o:S(o)&&typeof o[0]!="object"?o.length===3?new _e(o[0],o[1],o[2]):o.length===2?new _e(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new _e(o.lat,"lng"in o?o.lng:o.lon,o.alt):u===void 0?null:new _e(o,u,f)}var Be={latLngToPoint:function(o,u){var f=this.projection.project(o),g=this.scale(u);return this.transformation._transform(f,g)},pointToLatLng:function(o,u){var f=this.scale(u),g=this.transformation.untransform(o,f);return this.projection.unproject(g)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var u=this.projection.bounds,f=this.scale(o),g=this.transformation.transform(u.min,f),_=this.transformation.transform(u.max,f);return new se(g,_)},infinite:!1,wrapLatLng:function(o){var u=this.wrapLng?m(o.lng,this.wrapLng,!0):o.lng,f=this.wrapLat?m(o.lat,this.wrapLat,!0):o.lat,g=o.alt;return new _e(f,u,g)},wrapLatLngBounds:function(o){var u=o.getCenter(),f=this.wrapLatLng(u),g=u.lat-f.lat,_=u.lng-f.lng;if(g===0&&_===0)return o;var T=o.getSouthWest(),F=o.getNorthEast(),Q=new _e(T.lat-g,T.lng-_),te=new _e(F.lat-g,F.lng-_);return new Ne(Q,te)}},Xe=s({},Be,{wrapLng:[-180,180],R:6371e3,distance:function(o,u){var f=Math.PI/180,g=o.lat*f,_=u.lat*f,T=Math.sin((u.lat-o.lat)*f/2),F=Math.sin((u.lng-o.lng)*f/2),Q=T*T+Math.cos(g)*Math.cos(_)*F*F,te=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*te}}),nt=6378137,Fe={R:nt,MAX_LATITUDE:85.0511287798,project:function(o){var u=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,o.lat),-f),_=Math.sin(g*u);return new V(this.R*o.lng*u,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(o){var u=180/Math.PI;return new _e((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*u,o.x*u/this.R)},bounds:function(){var o=nt*Math.PI;return new se([-o,-o],[o,o])}()};function ve(o,u,f,g){if(S(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=u,this._c=f,this._d=g}ve.prototype={transform:function(o,u){return this._transform(o.clone(),u)},_transform:function(o,u){return u=u||1,o.x=u*(this._a*o.x+this._b),o.y=u*(this._c*o.y+this._d),o},untransform:function(o,u){return u=u||1,new V((o.x/u-this._b)/this._a,(o.y/u-this._d)/this._c)}};function Ze(o,u,f,g){return new ve(o,u,f,g)}var et=s({},Xe,{code:"EPSG:3857",projection:Fe,transformation:function(){var o=.5/(Math.PI*Fe.R);return Ze(o,.5,-o,.5)}()}),oe=s({},et,{code:"EPSG:900913"});function Ce(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Se(o,u){var f="",g,_,T,F,Q,te;for(g=0,T=o.length;g<T;g++){for(Q=o[g],_=0,F=Q.length;_<F;_++)te=Q[_],f+=(_?"L":"M")+te.x+" "+te.y;f+=u?X.svg?"z":"x":""}return f||"M0 0"}var je=document.documentElement.style,We="ActiveXObject"in window,ue=We&&!document.addEventListener,Ye="msLaunchUri"in navigator&&!("documentMode"in document),ae=ee("webkit"),De=ee("android"),Ge=ee("android 2")||ee("android 3"),Je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zt=De&&ee("Google")&&Je<537&&!("AudioNode"in window),_t=!!window.opera,Et=!Ye&&ee("chrome"),qn=ee("gecko")&&!ae&&!_t&&!We,to=!Et&&ee("safari"),no=ee("phantom"),ms="OTransition"in je,yl=navigator.platform.indexOf("Win")===0,Yn=We&&"transition"in je,ps="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ge,ii="MozPerspective"in je,ro=!window.L_DISABLE_3D&&(Yn||ps||ii)&&!ms&&!no,Da=typeof orientation!="undefined"||ee("mobile"),ao=Da&&ae,gs=Da&&ps,oi=!window.PointerEvent&&window.MSPointerEvent,xs=!!(window.PointerEvent||oi),so="ontouchstart"in window||!!window.TouchEvent,io=!window.L_NO_TOUCH&&(so||xs),bl=Da&&_t,oo=Da&&qn,vs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ys=function(){var o=!1;try{var u=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",p,u),window.removeEventListener("testPassiveEventSupport",p,u)}catch(f){}return o}(),lo=function(){return!!document.createElement("canvas").getContext}(),li=!!(document.createElementNS&&Ce("svg").createSVGRect),wl=!!li&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),B=!li&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var u=o.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch(f){return!1}}(),G=navigator.platform.indexOf("Mac")===0,z=navigator.platform.indexOf("Linux")===0;function ee(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var X={ie:We,ielt9:ue,edge:Ye,webkit:ae,android:De,android23:Ge,androidStock:zt,opera:_t,chrome:Et,gecko:qn,safari:to,phantom:no,opera12:ms,win:yl,ie3d:Yn,webkit3d:ps,gecko3d:ii,any3d:ro,mobile:Da,mobileWebkit:ao,mobileWebkit3d:gs,msPointer:oi,pointer:xs,touch:io,touchNative:so,mobileOpera:bl,mobileGecko:oo,retina:vs,passiveEvents:ys,canvas:lo,svg:li,vml:B,inlineSvg:wl,mac:G,linux:z},Oe=X.msPointer?"MSPointerDown":"pointerdown",Ve=X.msPointer?"MSPointerMove":"pointermove",tt=X.msPointer?"MSPointerUp":"pointerup",Qe=X.msPointer?"MSPointerCancel":"pointercancel",ht={touchstart:Oe,touchmove:Ve,touchend:tt,touchcancel:Qe},rt={touchstart:Tn,touchmove:xn,touchend:xn,touchcancel:xn},lt={},St=!1;function gn(o,u,f){return u==="touchstart"&&Ot(),rt[u]?(f=rt[u].bind(this,f),o.addEventListener(ht[u],f,!1),f):(console.warn("wrong event specified:",u),p)}function cr(o,u,f){if(!ht[u]){console.warn("wrong event specified:",u);return}o.removeEventListener(ht[u],f,!1)}function on(o){lt[o.pointerId]=o}function mt(o){lt[o.pointerId]&&(lt[o.pointerId]=o)}function ft(o){delete lt[o.pointerId]}function Ot(){St||(document.addEventListener(Oe,on,!0),document.addEventListener(Ve,mt,!0),document.addEventListener(tt,ft,!0),document.addEventListener(Qe,ft,!0),St=!0)}function xn(o,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var f in lt)u.touches.push(lt[f]);u.changedTouches=[u],o(u)}}function Tn(o,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&En(u),xn(o,u)}function On(o){var u={},f,g;for(g in o)f=o[g],u[g]=f&&f.bind?f.bind(o):f;return o=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var _l=200;function ci(o,u){o.addEventListener("dblclick",u);var f=0,g;function _(T){if(T.detail!==1){g=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var F=vv(T);if(!(F.some(function(te){return te instanceof HTMLLabelElement&&te.attributes.for})&&!F.some(function(te){return te instanceof HTMLInputElement||te instanceof HTMLSelectElement}))){var Q=Date.now();Q-f<=_l?(g++,g===2&&u(On(T))):g=1,f=Q}}}return o.addEventListener("click",_),{dblclick:u,simDblclick:_}}function za(o,u){o.removeEventListener("dblclick",u.dblclick),o.removeEventListener("click",u.simDblclick)}var bs=ku(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),la=ku(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ct=la==="webkitTransition"||la==="OTransition"?la+"End":"transitionend";function vn(o){return typeof o=="string"?document.getElementById(o):o}function _r(o,u){var f=o.style[u]||o.currentStyle&&o.currentStyle[u];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(o,null);f=g?g[u]:null}return f==="auto"?null:f}function vt(o,u,f){var g=document.createElement(o);return g.className=u||"",f&&f.appendChild(g),g}function ct(o){var u=o.parentNode;u&&u.removeChild(o)}function $a(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ba(o){var u=o.parentNode;u&&u.lastChild!==o&&u.appendChild(o)}function ws(o){var u=o.parentNode;u&&u.firstChild!==o&&u.insertBefore(o,u.firstChild)}function wf(o,u){if(o.classList!==void 0)return o.classList.contains(u);var f=_u(o);return f.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(f)}function yt(o,u){if(o.classList!==void 0)for(var f=b(u),g=0,_=f.length;g<_;g++)o.classList.add(f[g]);else if(!wf(o,u)){var T=_u(o);_f(o,(T?T+" ":"")+u)}}function ln(o,u){o.classList!==void 0?o.classList.remove(u):_f(o,y((" "+_u(o)+" ").replace(" "+u+" "," ")))}function _f(o,u){o.className.baseVal===void 0?o.className=u:o.className.baseVal=u}function _u(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function kr(o,u){"opacity"in o.style?o.style.opacity=u:"filter"in o.style&&dS(o,u)}function dS(o,u){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=o.filters.item(g)}catch(_){if(u===1)return}u=Math.round(u*100),f?(f.Enabled=u!==100,f.Opacity=u):o.style.filter+=" progid:"+g+"(opacity="+u+")"}function ku(o){for(var u=document.documentElement.style,f=0;f<o.length;f++)if(o[f]in u)return o[f];return!1}function ui(o,u,f){var g=u||new V(0,0);o.style[bs]=(X.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function hn(o,u){o._leaflet_pos=u,X.any3d?ui(o,u):(o.style.left=u.x+"px",o.style.top=u.y+"px")}function di(o){return o._leaflet_pos||new V(0,0)}var kl,Nl,kf;if("onselectstart"in document)kl=function(){pt(window,"selectstart",En)},Nl=function(){Bt(window,"selectstart",En)};else{var jl=ku(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);kl=function(){if(jl){var o=document.documentElement.style;kf=o[jl],o[jl]="none"}},Nl=function(){jl&&(document.documentElement.style[jl]=kf,kf=void 0)}}function Nf(){pt(window,"dragstart",En)}function jf(){Bt(window,"dragstart",En)}var Nu,Sf;function Tf(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ju(),Nu=o,Sf=o.style.outlineStyle,o.style.outlineStyle="none",pt(window,"keydown",ju))}function ju(){Nu&&(Nu.style.outlineStyle=Sf,Nu=void 0,Sf=void 0,Bt(window,"keydown",ju))}function gv(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Ef(o){var u=o.getBoundingClientRect();return{x:u.width/o.offsetWidth||1,y:u.height/o.offsetHeight||1,boundingClientRect:u}}var hS={__proto__:null,TRANSFORM:bs,TRANSITION:la,TRANSITION_END:Ct,get:vn,getStyle:_r,create:vt,remove:ct,empty:$a,toFront:Ba,toBack:ws,hasClass:wf,addClass:yt,removeClass:ln,setClass:_f,getClass:_u,setOpacity:kr,testProp:ku,setTransform:ui,setPosition:hn,getPosition:di,get disableTextSelection(){return kl},get enableTextSelection(){return Nl},disableImageDrag:Nf,enableImageDrag:jf,preventOutline:Tf,restoreOutline:ju,getSizedParentNode:gv,getScale:Ef};function pt(o,u,f,g){if(u&&typeof u=="object")for(var _ in u)Pf(o,_,u[_],f);else{u=b(u);for(var T=0,F=u.length;T<F;T++)Pf(o,u[T],f,g)}return this}var ca="_leaflet_events";function Bt(o,u,f,g){if(arguments.length===1)xv(o),delete o[ca];else if(u&&typeof u=="object")for(var _ in u)Mf(o,_,u[_],f);else if(u=b(u),arguments.length===2)xv(o,function(Q){return P(u,Q)!==-1});else for(var T=0,F=u.length;T<F;T++)Mf(o,u[T],f,g);return this}function xv(o,u){for(var f in o[ca]){var g=f.split(/\d/)[0];(!u||u(g))&&Mf(o,g,null,null,f)}}var Cf={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pf(o,u,f,g){var _=u+d(f)+(g?"_"+d(g):"");if(o[ca]&&o[ca][_])return this;var T=function(Q){return f.call(g||o,Q||window.event)},F=T;!X.touchNative&&X.pointer&&u.indexOf("touch")===0?T=gn(o,u,T):X.touch&&u==="dblclick"?T=ci(o,T):"addEventListener"in o?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?o.addEventListener(Cf[u]||u,T,X.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(T=function(Q){Q=Q||window.event,If(o,Q)&&F(Q)},o.addEventListener(Cf[u],T,!1)):o.addEventListener(u,F,!1):o.attachEvent("on"+u,T),o[ca]=o[ca]||{},o[ca][_]=T}function Mf(o,u,f,g,_){_=_||u+d(f)+(g?"_"+d(g):"");var T=o[ca]&&o[ca][_];if(!T)return this;!X.touchNative&&X.pointer&&u.indexOf("touch")===0?cr(o,u,T):X.touch&&u==="dblclick"?za(o,T):"removeEventListener"in o?o.removeEventListener(Cf[u]||u,T,!1):o.detachEvent("on"+u,T),o[ca][_]=null}function hi(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Lf(o){return Pf(o,"wheel",hi),this}function Sl(o){return pt(o,"mousedown touchstart dblclick contextmenu",hi),o._leaflet_disable_click=!0,this}function En(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function fi(o){return En(o),hi(o),this}function vv(o){if(o.composedPath)return o.composedPath();for(var u=[],f=o.target;f;)u.push(f),f=f.parentNode;return u}function yv(o,u){if(!u)return new V(o.clientX,o.clientY);var f=Ef(u),g=f.boundingClientRect;return new V((o.clientX-g.left)/f.x-u.clientLeft,(o.clientY-g.top)/f.y-u.clientTop)}var fS=X.linux&&X.chrome?window.devicePixelRatio:X.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bv(o){return X.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/fS:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function If(o,u){var f=u.relatedTarget;if(!f)return!0;try{for(;f&&f!==o;)f=f.parentNode}catch(g){return!1}return f!==o}var mS={__proto__:null,on:pt,off:Bt,stopPropagation:hi,disableScrollPropagation:Lf,disableClickPropagation:Sl,preventDefault:En,stop:fi,getPropagationPath:vv,getMousePosition:yv,getWheelDelta:bv,isExternalTarget:If,addListener:pt,removeListener:Bt},wv=he.extend({run:function(o,u,f,g){this.stop(),this._el=o,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=di(o),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(o){var u=+new Date-this._startTime,f=this._duration*1e3;u<f?this._runFrame(this._easeOut(u/f),o):(this._runFrame(1),this._complete())},_runFrame:function(o,u){var f=this._startPos.add(this._offset.multiplyBy(o));u&&f._round(),hn(this._el,f),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Mt=he.extend({options:{crs:et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,u){u=v(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Me(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=la&&X.any3d&&!X.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pt(this._proxy,Ct,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,u,f){if(u=u===void 0?this._zoom:this._limitZoom(u),o=this._limitCenter(Me(o),u,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=s({animate:f.animate},f.zoom),f.pan=s({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,u,f.zoom):this._tryAnimatedPan(o,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(o,u,f.pan&&f.pan.noMoveStart),this},setZoom:function(o,u){return this._loaded?this.setView(this.getCenter(),o,{zoom:u}):(this._zoom=o,this)},zoomIn:function(o,u){return o=o||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,u)},zoomOut:function(o,u){return o=o||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,u)},setZoomAround:function(o,u,f){var g=this.getZoomScale(u),_=this.getSize().divideBy(2),T=o instanceof V?o:this.latLngToContainerPoint(o),F=T.subtract(_).multiplyBy(1-1/g),Q=this.containerPointToLatLng(_.add(F));return this.setView(Q,u,{zoom:f})},_getBoundsCenterZoom:function(o,u){u=u||{},o=o.getBounds?o.getBounds():Ee(o);var f=re(u.paddingTopLeft||u.padding||[0,0]),g=re(u.paddingBottomRight||u.padding||[0,0]),_=this.getBoundsZoom(o,!1,f.add(g));if(_=typeof u.maxZoom=="number"?Math.min(u.maxZoom,_):_,_===1/0)return{center:o.getCenter(),zoom:_};var T=g.subtract(f).divideBy(2),F=this.project(o.getSouthWest(),_),Q=this.project(o.getNorthEast(),_),te=this.unproject(F.add(Q).divideBy(2).add(T),_);return{center:te,zoom:_}},fitBounds:function(o,u){if(o=Ee(o),!o.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(o,u);return this.setView(f.center,f.zoom,u)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,u){return this.setView(o,this._zoom,{pan:u})},panBy:function(o,u){if(o=re(o).round(),u=u||{},!o.x&&!o.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wv,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,f,u.duration||.25,u.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,u,f){if(f=f||{},f.animate===!1||!X.any3d)return this.setView(o,u,f);this._stop();var g=this.project(this.getCenter()),_=this.project(o),T=this.getSize(),F=this._zoom;o=Me(o),u=u===void 0?F:u;var Q=Math.max(T.x,T.y),te=Q*this.getZoomScale(F,u),me=_.distanceTo(g)||1,Le=1.42,at=Le*Le;function kt(fn){var Du=fn?-1:1,nT=fn?te:Q,rT=te*te-Q*Q+Du*at*at*me*me,aT=2*nT*at*me,Zf=rT/aT,ty=Math.sqrt(Zf*Zf+1)-Zf,sT=ty<1e-9?-18:Math.log(ty);return sT}function Un(fn){return(Math.exp(fn)-Math.exp(-fn))/2}function _n(fn){return(Math.exp(fn)+Math.exp(-fn))/2}function jr(fn){return Un(fn)/_n(fn)}var Jn=kt(0);function po(fn){return Q*(_n(Jn)/_n(Jn+Le*fn))}function QS(fn){return Q*(_n(Jn)*jr(Jn+Le*fn)-Un(Jn))/at}function XS(fn){return 1-Math.pow(1-fn,1.5)}var eT=Date.now(),Xv=(kt(1)-Jn)/Le,tT=f.duration?1e3*f.duration:1e3*Xv*.8;function ey(){var fn=(Date.now()-eT)/tT,Du=XS(fn)*Xv;fn<=1?(this._flyToFrame=D(ey,this),this._move(this.unproject(g.add(_.subtract(g).multiplyBy(QS(Du)/me)),F),this.getScaleZoom(Q/po(Du),F),{flyTo:!0})):this._move(o,u)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),ey.call(this),this},flyToBounds:function(o,u){var f=this._getBoundsCenterZoom(o,u);return this.flyTo(f.center,f.zoom,u)},setMaxBounds:function(o){return o=Ee(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var u=this.options.minZoom;return this.options.minZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var u=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&u!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,u){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,Ee(o));return f.equals(g)||this.panTo(g,u),this._enforcingBounds=!1,this},panInside:function(o,u){u=u||{};var f=re(u.paddingTopLeft||u.padding||[0,0]),g=re(u.paddingBottomRight||u.padding||[0,0]),_=this.project(this.getCenter()),T=this.project(o),F=this.getPixelBounds(),Q=ce([F.min.add(f),F.max.subtract(g)]),te=Q.getSize();if(!Q.contains(T)){this._enforcingBounds=!0;var me=T.subtract(Q.getCenter()),Le=Q.extend(T).getSize().subtract(te);_.x+=me.x<0?-Le.x:Le.x,_.y+=me.y<0?-Le.y:Le.y,this.panTo(this.unproject(_),u),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=s({animate:!1,pan:!0},o===!0?{animate:!0}:o);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=u.divideBy(2).round(),_=f.divideBy(2).round(),T=g.subtract(_);return!T.x&&!T.y?this:(o.animate&&o.pan?this.panBy(T):(o.pan&&this._rawPanBy(T),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=s({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=l(this._handleGeolocationResponse,this),f=l(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,f,o):navigator.geolocation.getCurrentPosition(u,f,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var u=o.code,f=o.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var u=o.coords.latitude,f=o.coords.longitude,g=new _e(u,f),_=g.toBounds(o.coords.accuracy*2),T=this._locateOptions;if(T.setView){var F=this.getBoundsZoom(_);this.setView(g,T.maxZoom?Math.min(F,T.maxZoom):F)}var Q={latlng:g,bounds:_,timestamp:o.timestamp};for(var te in o.coords)typeof o.coords[te]=="number"&&(Q[te]=o.coords[te]);this.fire("locationfound",Q)}},addHandler:function(o,u){if(!u)return this;var f=this[o]=new u(this);return this._handlers.push(f),this.options[o]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(u){this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ct(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,u){var f="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),g=vt("div",f,u||this._mapPane);return o&&(this._panes[o]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),u=this.unproject(o.getBottomLeft()),f=this.unproject(o.getTopRight());return new Ne(u,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,u,f){o=Ee(o),f=re(f||[0,0]);var g=this.getZoom()||0,_=this.getMinZoom(),T=this.getMaxZoom(),F=o.getNorthWest(),Q=o.getSouthEast(),te=this.getSize().subtract(f),me=ce(this.project(Q,g),this.project(F,g)).getSize(),Le=X.any3d?this.options.zoomSnap:1,at=te.x/me.x,kt=te.y/me.y,Un=u?Math.max(at,kt):Math.min(at,kt);return g=this.getScaleZoom(Un,g),Le&&(g=Math.round(g/(Le/100))*(Le/100),g=u?Math.ceil(g/Le)*Le:Math.floor(g/Le)*Le),Math.max(_,Math.min(T,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,u){var f=this._getTopLeftPoint(o,u);return new se(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,u){var f=this.options.crs;return u=u===void 0?this._zoom:u,f.scale(o)/f.scale(u)},getScaleZoom:function(o,u){var f=this.options.crs;u=u===void 0?this._zoom:u;var g=f.zoom(o*f.scale(u));return isNaN(g)?1/0:g},project:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Me(o),u)},unproject:function(o,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(re(o),u)},layerPointToLatLng:function(o){var u=re(o).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(o){var u=this.project(Me(o))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Me(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(Ee(o))},distance:function(o,u){return this.options.crs.distance(Me(o),Me(u))},containerPointToLayerPoint:function(o){return re(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return re(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var u=this.containerPointToLayerPoint(re(o));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Me(o)))},mouseEventToContainerPoint:function(o){return yv(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var u=this._container=vn(o);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pt(u,"scroll",this._onScroll,this),this._containerId=d(u)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&X.any3d,yt(o,"leaflet-container"+(X.touch?" leaflet-touch":"")+(X.retina?" leaflet-retina":"")+(X.ielt9?" leaflet-oldie":"")+(X.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=_r(o,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),hn(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(o.markerPane,"leaflet-zoom-hide"),yt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,u,f){hn(this._mapPane,new V(0,0));var g=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var _=this._zoom!==u;this._moveStart(_,f)._move(o,u)._moveEnd(_),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(o,u){return o&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(o,u,f,g){u===void 0&&(u=this._zoom);var _=this._zoom!==u;return this._zoom=u,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),g?f&&f.pinch&&this.fire("zoom",f):((_||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){hn(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[d(this._container)]=this;var u=o?Bt:pt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),X.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,u){for(var f=[],g,_=u==="mouseout"||u==="mouseover",T=o.target||o.srcElement,F=!1;T;){if(g=this._targets[d(T)],g&&(u==="click"||u==="preclick")&&this._draggableMoved(g)){F=!0;break}if(g&&g.listens(u,!0)&&(_&&!If(T,o)||(f.push(g),_))||T===this._container)break;T=T.parentNode}return!f.length&&!F&&!_&&this.listens(u,!0)&&(f=[this]),f},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var u=o.target||o.srcElement;if(!(!this._loaded||u._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(u))){var f=o.type;f==="mousedown"&&Tf(u),this._fireDOMEvent(o,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,u,f){if(o.type==="click"){var g=s({},o);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var _=this._findEventTargets(o,u);if(f){for(var T=[],F=0;F<f.length;F++)f[F].listens(u,!0)&&T.push(f[F]);_=T.concat(_)}if(_.length){u==="contextmenu"&&En(o);var Q=_[0],te={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var me=Q.getLatLng&&(!Q._radius||Q._radius<=10);te.containerPoint=me?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(o),te.layerPoint=this.containerPointToLayerPoint(te.containerPoint),te.latlng=me?Q.getLatLng():this.layerPointToLatLng(te.layerPoint)}for(F=0;F<_.length;F++)if(_[F].fire(u,te,!0),te.originalEvent._stopped||_[F].options.bubblingMouseEvents===!1&&P(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,u=this._handlers.length;o<u;o++)this._handlers[o].disable()},whenReady:function(o,u){return this._loaded?o.call(u||this,{target:this}):this.on("load",o,u),this},_getMapPanePos:function(){return di(this._mapPane)||new V(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,u){var f=o&&u!==void 0?this._getNewPixelOrigin(o,u):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,u){var f=this.getSize()._divideBy(2);return this.project(o,u)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,u,f){var g=this._getNewPixelOrigin(f,u);return this.project(o,u)._subtract(g)},_latLngBoundsToNewLayerBounds:function(o,u,f){var g=this._getNewPixelOrigin(f,u);return ce([this.project(o.getSouthWest(),u)._subtract(g),this.project(o.getNorthWest(),u)._subtract(g),this.project(o.getSouthEast(),u)._subtract(g),this.project(o.getNorthEast(),u)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,u,f){if(!f)return o;var g=this.project(o,u),_=this.getSize().divideBy(2),T=new se(g.subtract(_),g.add(_)),F=this._getBoundsOffset(T,f,u);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?o:this.unproject(g.add(F),u)},_limitOffset:function(o,u){if(!u)return o;var f=this.getPixelBounds(),g=new se(f.min.add(o),f.max.add(o));return o.add(this._getBoundsOffset(g,u))},_getBoundsOffset:function(o,u,f){var g=ce(this.project(u.getNorthEast(),f),this.project(u.getSouthWest(),f)),_=g.min.subtract(o.min),T=g.max.subtract(o.max),F=this._rebound(_.x,-T.x),Q=this._rebound(_.y,-T.y);return new V(F,Q)},_rebound:function(o,u){return o+u>0?Math.round(o-u)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(u))},_limitZoom:function(o){var u=this.getMinZoom(),f=this.getMaxZoom(),g=X.any3d?this.options.zoomSnap:1;return g&&(o=Math.round(o/g)*g),Math.max(u,Math.min(f,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ln(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,u){var f=this._getCenterOffset(o)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,u),!0)},_createAnimProxy:function(){var o=this._proxy=vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(u){var f=bs,g=this._proxy.style[f];ui(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),u=this.getZoom();ui(this._proxy,this.project(o,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,u,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(u),_=this._getCenterOffset(o)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(_)?!1:(D(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(o,u,!0)},this),!0)},_animateZoom:function(o,u,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=u,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:u,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ln(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pS(o,u){return new Mt(o,u)}var Wr=W.extend({options:{position:"topright"},initialize:function(o){v(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var u=this._map;return u&&u.removeControl(this),this.options.position=o,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var u=this._container=this.onAdd(o),f=this.getPosition(),g=o._controlCorners[f];return yt(u,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(u,g.firstChild):g.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Tl=function(o){return new Wr(o)};Mt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},u="leaflet-",f=this._controlContainer=vt("div",u+"control-container",this._container);function g(_,T){var F=u+_+" "+u+T;o[_+T]=vt("div",F,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ct(this._controlCorners[o]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _v=Wr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,u,f,g){return f<g?-1:g<f?1:0}},initialize:function(o,u,f){v(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in o)this._addLayer(o[g],g);for(g in u)this._addLayer(u[g],g,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Wr.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,u){return this._addLayer(o,u),this._map?this._update():this},addOverlay:function(o,u){return this._addLayer(o,u,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var u=this._getLayer(d(o));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):ln(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ln(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",u=this._container=vt("div",o),f=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Sl(u),Lf(u);var g=this._section=vt("section",o+"-list");f&&(this._map.on("click",this.collapse,this),pt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=vt("a",o+"-toggle",u);_.href="#",_.title="Layers",_.setAttribute("role","button"),pt(_,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){En(T),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=vt("div",o+"-base",g),this._separator=vt("div",o+"-separator",g),this._overlaysList=vt("div",o+"-overlays",g),u.appendChild(g)},_getLayer:function(o){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&d(this._layers[u].layer)===o)return this._layers[u]},_addLayer:function(o,u,f){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:u,overlay:f}),this.options.sortLayers&&this._layers.sort(l(function(g,_){return this.options.sortFunction(g.layer,_.layer,g.name,_.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$a(this._baseLayersList),$a(this._overlaysList),this._layerControlInputs=[];var o,u,f,g,_=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),u=u||g.overlay,o=o||!g.overlay,_+=g.overlay?0:1;return this.options.hideSingleBase&&(o=o&&_>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=u&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var u=this._getLayer(d(o.target)),f=u.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;f&&this._map.fire(f,u)},_createRadioElement:function(o,u){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(u?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(o){var u=document.createElement("label"),f=this._map.hasLayer(o.layer),g;o.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+d(this),f),this._layerControlInputs.push(g),g.layerId=d(o.layer),pt(g,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+o.name;var T=document.createElement("span");u.appendChild(T),T.appendChild(g),T.appendChild(_);var F=o.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,u,f,g=[],_=[];this._handlingClick=!0;for(var T=o.length-1;T>=0;T--)u=o[T],f=this._getLayer(u.layerId).layer,u.checked?g.push(f):u.checked||_.push(f);for(T=0;T<_.length;T++)this._map.hasLayer(_[T])&&this._map.removeLayer(_[T]);for(T=0;T<g.length;T++)this._map.hasLayer(g[T])||this._map.addLayer(g[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,u,f,g=this._map.getZoom(),_=o.length-1;_>=0;_--)u=o[_],f=this._getLayer(u.layerId).layer,u.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,pt(o,"click",En),this.expand();var u=this;setTimeout(function(){Bt(o,"click",En),u._preventClick=!1})}}),gS=function(o,u,f){return new _v(o,u,f)},Af=Wr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var u="leaflet-control-zoom",f=vt("div",u+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,u+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,u+"-out",f,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,u,f,g,_){var T=vt("a",f,g);return T.innerHTML=o,T.href="#",T.title=u,T.setAttribute("role","button"),T.setAttribute("aria-label",u),Sl(T),pt(T,"click",fi),pt(T,"click",_,this),pt(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var o=this._map,u="leaflet-disabled";ln(this._zoomInButton,u),ln(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(yt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(yt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Af,this.addControl(this.zoomControl))});var xS=function(o){return new Af(o)},kv=Wr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var u="leaflet-control-scale",f=vt("div",u),g=this.options;return this._addScales(g,u+"-line",f),o.on(g.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),f},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,u,f){o.metric&&(this._mScale=vt("div",u,f)),o.imperial&&(this._iScale=vt("div",u,f))},_update:function(){var o=this._map,u=o.getSize().y/2,f=o.distance(o.containerPointToLatLng([0,u]),o.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(f)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var u=this._getRoundNum(o),f=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,f,u/o)},_updateImperial:function(o){var u=o*3.2808399,f,g,_;u>5280?(f=u/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(_=this._getRoundNum(u),this._updateScale(this._iScale,_+" ft",_/u))},_updateScale:function(o,u,f){o.style.width=Math.round(this.options.maxWidth*f)+"px",o.innerHTML=u},_getRoundNum:function(o){var u=Math.pow(10,(Math.floor(o)+"").length-1),f=o/u;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,u*f}}),vS=function(o){return new kv(o)},yS='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Of=Wr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(X.inlineSvg?yS+" ":"")+"Leaflet</a>"},initialize:function(o){v(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=vt("div","leaflet-control-attribution"),Sl(this._container);for(var u in o._layers)o._layers[u].getAttribution&&this.addAttribution(o._layers[u].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var u in this._attributions)this._attributions[u]&&o.push(u);var f=[];this.options.prefix&&f.push(this.options.prefix),o.length&&f.push(o.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new Of().addTo(this)});var bS=function(o){return new Of(o)};Wr.Layers=_v,Wr.Zoom=Af,Wr.Scale=kv,Wr.Attribution=Of,Tl.layers=gS,Tl.zoom=xS,Tl.scale=vS,Tl.attribution=bS;var ua=W.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ua.addTo=function(o,u){return o.addHandler(u,this),this};var wS={Events:ge},Nv=X.touch?"touchstart mousedown":"mousedown",_s=he.extend({options:{clickTolerance:3},initialize:function(o,u,f,g){v(this,g),this._element=o,this._dragStartTarget=u||o,this._preventOutline=f},enable:function(){this._enabled||(pt(this._dragStartTarget,Nv,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_s._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,Nv,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!wf(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){_s._dragging===this&&this.finishDrag();return}if(!(_s._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(_s._dragging=this,this._preventOutline&&Tf(this._element),Nf(),kl(),!this._moving)){this.fire("down");var u=o.touches?o.touches[0]:o,f=gv(this._element);this._startPoint=new V(u.clientX,u.clientY),this._startPos=di(this._element),this._parentScale=Ef(f);var g=o.type==="mousedown";pt(document,g?"mousemove":"touchmove",this._onMove,this),pt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var u=o.touches&&o.touches.length===1?o.touches[0]:o,f=new V(u.clientX,u.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,En(o),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),hn(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){ln(document.body,"leaflet-dragging"),this._lastTarget&&(ln(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),jf(),Nl();var u=this._moved&&this._moving;this._moving=!1,_s._dragging=!1,u&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function jv(o,u,f){var g,_=[1,4,2,8],T,F,Q,te,me,Le,at,kt;for(T=0,Le=o.length;T<Le;T++)o[T]._code=mi(o[T],u);for(Q=0;Q<4;Q++){for(at=_[Q],g=[],T=0,Le=o.length,F=Le-1;T<Le;F=T++)te=o[T],me=o[F],te._code&at?me._code&at||(kt=Su(me,te,at,u,f),kt._code=mi(kt,u),g.push(kt)):(me._code&at&&(kt=Su(me,te,at,u,f),kt._code=mi(kt,u),g.push(kt)),g.push(te));o=g}return o}function Sv(o,u){var f,g,_,T,F,Q,te,me,Le;if(!o||o.length===0)throw new Error("latlngs not passed");Nr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var at=Me([0,0]),kt=Ee(o),Un=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Un<1700&&(at=Rf(o));var _n=o.length,jr=[];for(f=0;f<_n;f++){var Jn=Me(o[f]);jr.push(u.project(Me([Jn.lat-at.lat,Jn.lng-at.lng])))}for(Q=te=me=0,f=0,g=_n-1;f<_n;g=f++)_=jr[f],T=jr[g],F=_.y*T.x-T.y*_.x,te+=(_.x+T.x)*F,me+=(_.y+T.y)*F,Q+=F*3;Q===0?Le=jr[0]:Le=[te/Q,me/Q];var po=u.unproject(re(Le));return Me([po.lat+at.lat,po.lng+at.lng])}function Rf(o){for(var u=0,f=0,g=0,_=0;_<o.length;_++){var T=Me(o[_]);u+=T.lat,f+=T.lng,g++}return Me([u/g,f/g])}var _S={__proto__:null,clipPolygon:jv,polygonCenter:Sv,centroid:Rf};function Tv(o,u){if(!u||!o.length)return o.slice();var f=u*u;return o=jS(o,f),o=NS(o,f),o}function Ev(o,u,f){return Math.sqrt(El(o,u,f,!0))}function kS(o,u,f){return El(o,u,f)}function NS(o,u){var f=o.length,g=typeof Uint8Array!="undefined"?Uint8Array:Array,_=new g(f);_[0]=_[f-1]=1,Df(o,_,u,0,f-1);var T,F=[];for(T=0;T<f;T++)_[T]&&F.push(o[T]);return F}function Df(o,u,f,g,_){var T=0,F,Q,te;for(Q=g+1;Q<=_-1;Q++)te=El(o[Q],o[g],o[_],!0),te>T&&(F=Q,T=te);T>f&&(u[F]=1,Df(o,u,f,g,F),Df(o,u,f,F,_))}function jS(o,u){for(var f=[o[0]],g=1,_=0,T=o.length;g<T;g++)SS(o[g],o[_])>u&&(f.push(o[g]),_=g);return _<T-1&&f.push(o[T-1]),f}var Cv;function Pv(o,u,f,g,_){var T=g?Cv:mi(o,f),F=mi(u,f),Q,te,me;for(Cv=F;;){if(!(T|F))return[o,u];if(T&F)return!1;Q=T||F,te=Su(o,u,Q,f,_),me=mi(te,f),Q===T?(o=te,T=me):(u=te,F=me)}}function Su(o,u,f,g,_){var T=u.x-o.x,F=u.y-o.y,Q=g.min,te=g.max,me,Le;return f&8?(me=o.x+T*(te.y-o.y)/F,Le=te.y):f&4?(me=o.x+T*(Q.y-o.y)/F,Le=Q.y):f&2?(me=te.x,Le=o.y+F*(te.x-o.x)/T):f&1&&(me=Q.x,Le=o.y+F*(Q.x-o.x)/T),new V(me,Le,_)}function mi(o,u){var f=0;return o.x<u.min.x?f|=1:o.x>u.max.x&&(f|=2),o.y<u.min.y?f|=4:o.y>u.max.y&&(f|=8),f}function SS(o,u){var f=u.x-o.x,g=u.y-o.y;return f*f+g*g}function El(o,u,f,g){var _=u.x,T=u.y,F=f.x-_,Q=f.y-T,te=F*F+Q*Q,me;return te>0&&(me=((o.x-_)*F+(o.y-T)*Q)/te,me>1?(_=f.x,T=f.y):me>0&&(_+=F*me,T+=Q*me)),F=o.x-_,Q=o.y-T,g?F*F+Q*Q:new V(_,T)}function Nr(o){return!S(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]!="undefined"}function Mv(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Nr(o)}function Lv(o,u){var f,g,_,T,F,Q,te,me;if(!o||o.length===0)throw new Error("latlngs not passed");Nr(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Le=Me([0,0]),at=Ee(o),kt=at.getNorthWest().distanceTo(at.getSouthWest())*at.getNorthEast().distanceTo(at.getNorthWest());kt<1700&&(Le=Rf(o));var Un=o.length,_n=[];for(f=0;f<Un;f++){var jr=Me(o[f]);_n.push(u.project(Me([jr.lat-Le.lat,jr.lng-Le.lng])))}for(f=0,g=0;f<Un-1;f++)g+=_n[f].distanceTo(_n[f+1])/2;if(g===0)me=_n[0];else for(f=0,T=0;f<Un-1;f++)if(F=_n[f],Q=_n[f+1],_=F.distanceTo(Q),T+=_,T>g){te=(T-g)/_,me=[Q.x-te*(Q.x-F.x),Q.y-te*(Q.y-F.y)];break}var Jn=u.unproject(re(me));return Me([Jn.lat+Le.lat,Jn.lng+Le.lng])}var TS={__proto__:null,simplify:Tv,pointToSegmentDistance:Ev,closestPointOnSegment:kS,clipSegment:Pv,_getEdgeIntersection:Su,_getBitCode:mi,_sqClosestPointOnSegment:El,isFlat:Nr,_flat:Mv,polylineCenter:Lv},zf={project:function(o){return new V(o.lng,o.lat)},unproject:function(o){return new _e(o.y,o.x)},bounds:new se([-180,-90],[180,90])},$f={R:6378137,R_MINOR:6356752314245179e-9,bounds:new se([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var u=Math.PI/180,f=this.R,g=o.lat*u,_=this.R_MINOR/f,T=Math.sqrt(1-_*_),F=T*Math.sin(g),Q=Math.tan(Math.PI/4-g/2)/Math.pow((1-F)/(1+F),T/2);return g=-f*Math.log(Math.max(Q,1e-10)),new V(o.lng*u*f,g)},unproject:function(o){for(var u=180/Math.PI,f=this.R,g=this.R_MINOR/f,_=Math.sqrt(1-g*g),T=Math.exp(-o.y/f),F=Math.PI/2-2*Math.atan(T),Q=0,te=.1,me;Q<15&&Math.abs(te)>1e-7;Q++)me=_*Math.sin(F),me=Math.pow((1-me)/(1+me),_/2),te=Math.PI/2-2*Math.atan(T*me)-F,F+=te;return new _e(F*u,o.x*u/f)}},ES={__proto__:null,LonLat:zf,Mercator:$f,SphericalMercator:Fe},CS=s({},Xe,{code:"EPSG:3395",projection:$f,transformation:function(){var o=.5/(Math.PI*$f.R);return Ze(o,.5,-o,.5)}()}),Iv=s({},Xe,{code:"EPSG:4326",projection:zf,transformation:Ze(1/180,1,-1/180,.5)}),PS=s({},Be,{projection:zf,transformation:Ze(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,u){var f=u.lng-o.lng,g=u.lat-o.lat;return Math.sqrt(f*f+g*g)},infinite:!0});Be.Earth=Xe,Be.EPSG3395=CS,Be.EPSG3857=et,Be.EPSG900913=oe,Be.EPSG4326=Iv,Be.Simple=PS;var Vr=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[d(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[d(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var u=o.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var f=this.getEvents();u.on(f,this),this.once("remove",function(){u.off(f,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var u=d(o);return this._layers[u]?this:(this._layers[u]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var u=d(o);return this._layers[u]?(this._loaded&&o.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return d(o)in this._layers},eachLayer:function(o,u){for(var f in this._layers)o.call(u,this._layers[f]);return this},_addLayers:function(o){o=o?S(o)?o:[o]:[];for(var u=0,f=o.length;u<f;u++)this.addLayer(o[u])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[d(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var u=d(o);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,u=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var _=this._zoomBoundLayers[g].options;o=_.minZoom===void 0?o:Math.min(o,_.minZoom),u=_.maxZoom===void 0?u:Math.max(u,_.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=o===1/0?void 0:o,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var co=Vr.extend({initialize:function(o,u){v(this,u),this._layers={};var f,g;if(o)for(f=0,g=o.length;f<g;f++)this.addLayer(o[f])},addLayer:function(o){var u=this.getLayerId(o);return this._layers[u]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var u=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(o){var u=typeof o=="number"?o:this.getLayerId(o);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var u=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[o]&&g[o].apply(g,u);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,u){for(var f in this._layers)o.call(u,this._layers[f]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return d(o)}}),MS=function(o,u){return new co(o,u)},Fa=co.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),co.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),co.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Ne;for(var u in this._layers){var f=this._layers[u];o.extend(f.getBounds?f.getBounds():f.getLatLng())}return o}}),LS=function(o,u){return new Fa(o,u)},uo=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){v(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,u){var f=this._getIconUrl(o);if(!f){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(g,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(o,u){var f=this.options,g=f[u+"Size"];typeof g=="number"&&(g=[g,g]);var _=re(g),T=re(u==="shadow"&&f.shadowAnchor||f.iconAnchor||_&&_.divideBy(2,!0));o.className="leaflet-marker-"+u+" "+(f.className||""),T&&(o.style.marginLeft=-T.x+"px",o.style.marginTop=-T.y+"px"),_&&(o.style.width=_.x+"px",o.style.height=_.y+"px")},_createImg:function(o,u){return u=u||document.createElement("img"),u.src=o,u},_getIconUrl:function(o){return X.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function IS(o){return new uo(o)}var Cl=uo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Cl.imagePath!="string"&&(Cl.imagePath=this._detectIconPath()),(this.options.imagePath||Cl.imagePath)+uo.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var u=function(f,g,_){var T=g.exec(f);return T&&T[_]};return o=u(o,/^url\((['"])?(.+)\1\)$/,2),o&&u(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=vt("div","leaflet-default-icon-path",document.body),u=_r(o,"background-image")||_r(o,"backgroundImage");if(document.body.removeChild(o),u=this._stripUrl(u),u)return u;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Av=ua.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new _s(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ln(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var u=this._marker,f=u._map,g=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,T=di(u._icon),F=f.getPixelBounds(),Q=f.getPixelOrigin(),te=ce(F.min._subtract(Q).add(_),F.max._subtract(Q).subtract(_));if(!te.contains(T)){var me=re((Math.max(te.max.x,T.x)-te.max.x)/(F.max.x-te.max.x)-(Math.min(te.min.x,T.x)-te.min.x)/(F.min.x-te.min.x),(Math.max(te.max.y,T.y)-te.max.y)/(F.max.y-te.max.y)-(Math.min(te.min.y,T.y)-te.min.y)/(F.min.y-te.min.y)).multiplyBy(g);f.panBy(me,{animate:!1}),this._draggable._newPos._add(me),this._draggable._startPos._add(me),hn(u._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=D(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,o)))},_onDrag:function(o){var u=this._marker,f=u._shadow,g=di(u._icon),_=u._map.layerPointToLatLng(g);f&&hn(f,g),u._latlng=_,o.latlng=_,o.oldLatLng=this._oldLatLng,u.fire("move",o).fire("drag",o)},_onDragEnd:function(o){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Tu=Vr.extend({options:{icon:new Cl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,u){v(this,u),this._latlng=Me(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var u=this._latlng;return this._latlng=Me(o),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=o.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,o.title&&(f.title=o.title),f.tagName==="IMG"&&(f.alt=o.alt||"")),yt(f,u),o.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(f,"focus",this._panOnFocus,this);var _=o.icon.createShadow(this._shadow),T=!1;_!==this._shadow&&(this._removeShadow(),T=!0),_&&(yt(_,u),_.alt=""),this._shadow=_,o.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&T&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&hn(this._icon,o),this._shadow&&hn(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Av)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Av(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&kr(this._icon,o),this._shadow&&kr(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var u=this.options.icon.options,f=u.iconSize?re(u.iconSize):re(0,0),g=u.iconAnchor?re(u.iconAnchor):re(0,0);o.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function AS(o,u){return new Tu(o,u)}var ks=Vr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return v(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Eu=ks.extend({options:{fill:!0,radius:10},initialize:function(o,u){v(this,u),this._latlng=Me(o),this._radius=this.options.radius},setLatLng:function(o){var u=this._latlng;return this._latlng=Me(o),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var u=o&&o.radius||this._radius;return ks.prototype.setStyle.call(this,o),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,u=this._radiusY||o,f=this._clickTolerance(),g=[o+f,u+f];this._pxBounds=new se(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function OS(o,u){return new Eu(o,u)}var Bf=Eu.extend({initialize:function(o,u,f){if(typeof u=="number"&&(u=s({},f,{radius:u})),v(this,u),this._latlng=Me(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ks.prototype.setStyle,_project:function(){var o=this._latlng.lng,u=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===Xe.distance){var _=Math.PI/180,T=this._mRadius/Xe.R/_,F=f.project([u+T,o]),Q=f.project([u-T,o]),te=F.add(Q).divideBy(2),me=f.unproject(te).lat,Le=Math.acos((Math.cos(T*_)-Math.sin(u*_)*Math.sin(me*_))/(Math.cos(u*_)*Math.cos(me*_)))/_;(isNaN(Le)||Le===0)&&(Le=T/Math.cos(Math.PI/180*u)),this._point=te.subtract(f.getPixelOrigin()),this._radius=isNaN(Le)?0:te.x-f.project([me,o-Le]).x,this._radiusY=te.y-F.y}else{var at=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(at).x}this._updateBounds()}});function RS(o,u,f){return new Bf(o,u,f)}var Ua=ks.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,u){v(this,u),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var u=1/0,f=null,g=El,_,T,F=0,Q=this._parts.length;F<Q;F++)for(var te=this._parts[F],me=1,Le=te.length;me<Le;me++){_=te[me-1],T=te[me];var at=g(o,_,T,!0);at<u&&(u=at,f=g(o,_,T))}return f&&(f.distance=Math.sqrt(u)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lv(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,u){return u=u||this._defaultShape(),o=Me(o),u.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Ne,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Nr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var u=[],f=Nr(o),g=0,_=o.length;g<_;g++)f?(u[g]=Me(o[g]),this._bounds.extend(u[g])):u[g]=this._convertLatLngs(o[g]);return u},_project:function(){var o=new se;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),u=new V(o,o);this._rawPxBounds&&(this._pxBounds=new se([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(o,u,f){var g=o[0]instanceof _e,_=o.length,T,F;if(g){for(F=[],T=0;T<_;T++)F[T]=this._map.latLngToLayerPoint(o[T]),f.extend(F[T]);u.push(F)}else for(T=0;T<_;T++)this._projectLatlngs(o[T],u,f)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,f,g,_,T,F,Q,te;for(f=0,_=0,T=this._rings.length;f<T;f++)for(te=this._rings[f],g=0,F=te.length;g<F-1;g++)Q=Pv(te[g],te[g+1],o,g,!0),Q&&(u[_]=u[_]||[],u[_].push(Q[0]),(Q[1]!==te[g+1]||g===F-2)&&(u[_].push(Q[1]),_++))}},_simplifyPoints:function(){for(var o=this._parts,u=this.options.smoothFactor,f=0,g=o.length;f<g;f++)o[f]=Tv(o[f],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,u){var f,g,_,T,F,Q,te=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(f=0,T=this._parts.length;f<T;f++)for(Q=this._parts[f],g=0,F=Q.length,_=F-1;g<F;_=g++)if(!(!u&&g===0)&&Ev(o,Q[_],Q[g])<=te)return!0;return!1}});function DS(o,u){return new Ua(o,u)}Ua._flat=Mv;var ho=Ua.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sv(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var u=Ua.prototype._convertLatLngs.call(this,o),f=u.length;return f>=2&&u[0]instanceof _e&&u[0].equals(u[f-1])&&u.pop(),u},_setLatLngs:function(o){Ua.prototype._setLatLngs.call(this,o),Nr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Nr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,u=this.options.weight,f=new V(u,u);if(o=new se(o.min.subtract(f),o.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,_=this._rings.length,T;g<_;g++)T=jv(this._rings[g],o,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var u=!1,f,g,_,T,F,Q,te,me;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(T=0,te=this._parts.length;T<te;T++)for(f=this._parts[T],F=0,me=f.length,Q=me-1;F<me;Q=F++)g=f[F],_=f[Q],g.y>o.y!=_.y>o.y&&o.x<(_.x-g.x)*(o.y-g.y)/(_.y-g.y)+g.x&&(u=!u);return u||Ua.prototype._containsPoint.call(this,o,!0)}});function zS(o,u){return new ho(o,u)}var Ha=Fa.extend({initialize:function(o,u){v(this,u),this._layers={},o&&this.addData(o)},addData:function(o){var u=S(o)?o:o.features,f,g,_;if(u){for(f=0,g=u.length;f<g;f++)_=u[f],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var T=this.options;if(T.filter&&!T.filter(o))return this;var F=Cu(o,T);return F?(F.feature=Lu(o),F.defaultOptions=F.options,this.resetStyle(F),T.onEachFeature&&T.onEachFeature(o,F),this.addLayer(F)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=s({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(u){this._setLayerStyle(u,o)},this)},_setLayerStyle:function(o,u){o.setStyle&&(typeof u=="function"&&(u=u(o.feature)),o.setStyle(u))}});function Cu(o,u){var f=o.type==="Feature"?o.geometry:o,g=f?f.coordinates:null,_=[],T=u&&u.pointToLayer,F=u&&u.coordsToLatLng||Ff,Q,te,me,Le;if(!g&&!f)return null;switch(f.type){case"Point":return Q=F(g),Ov(T,o,Q,u);case"MultiPoint":for(me=0,Le=g.length;me<Le;me++)Q=F(g[me]),_.push(Ov(T,o,Q,u));return new Fa(_);case"LineString":case"MultiLineString":return te=Pu(g,f.type==="LineString"?0:1,F),new Ua(te,u);case"Polygon":case"MultiPolygon":return te=Pu(g,f.type==="Polygon"?1:2,F),new ho(te,u);case"GeometryCollection":for(me=0,Le=f.geometries.length;me<Le;me++){var at=Cu({geometry:f.geometries[me],type:"Feature",properties:o.properties},u);at&&_.push(at)}return new Fa(_);case"FeatureCollection":for(me=0,Le=f.features.length;me<Le;me++){var kt=Cu(f.features[me],u);kt&&_.push(kt)}return new Fa(_);default:throw new Error("Invalid GeoJSON object.")}}function Ov(o,u,f,g){return o?o(u,f):new Tu(f,g&&g.markersInheritOptions&&g)}function Ff(o){return new _e(o[1],o[0],o[2])}function Pu(o,u,f){for(var g=[],_=0,T=o.length,F;_<T;_++)F=u?Pu(o[_],u-1,f):(f||Ff)(o[_]),g.push(F);return g}function Uf(o,u){return o=Me(o),o.alt!==void 0?[x(o.lng,u),x(o.lat,u),x(o.alt,u)]:[x(o.lng,u),x(o.lat,u)]}function Mu(o,u,f,g){for(var _=[],T=0,F=o.length;T<F;T++)_.push(u?Mu(o[T],Nr(o[T])?0:u-1,f,g):Uf(o[T],g));return!u&&f&&_.length>0&&_.push(_[0].slice()),_}function fo(o,u){return o.feature?s({},o.feature,{geometry:u}):Lu(u)}function Lu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Hf={toGeoJSON:function(o){return fo(this,{type:"Point",coordinates:Uf(this.getLatLng(),o)})}};Tu.include(Hf),Bf.include(Hf),Eu.include(Hf),Ua.include({toGeoJSON:function(o){var u=!Nr(this._latlngs),f=Mu(this._latlngs,u?1:0,!1,o);return fo(this,{type:(u?"Multi":"")+"LineString",coordinates:f})}}),ho.include({toGeoJSON:function(o){var u=!Nr(this._latlngs),f=u&&!Nr(this._latlngs[0]),g=Mu(this._latlngs,f?2:u?1:0,!0,o);return u||(g=[g]),fo(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),co.include({toMultiPoint:function(o){var u=[];return this.eachLayer(function(f){u.push(f.toGeoJSON(o).geometry.coordinates)}),fo(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(o){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(o);var f=u==="GeometryCollection",g=[];return this.eachLayer(function(_){if(_.toGeoJSON){var T=_.toGeoJSON(o);if(f)g.push(T.geometry);else{var F=Lu(T);F.type==="FeatureCollection"?g.push.apply(g,F.features):g.push(F)}}}),f?fo(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Rv(o,u){return new Ha(o,u)}var $S=Rv,Iu=Vr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,u,f){this._url=o,this._bounds=Ee(u),v(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ba(this._image),this},bringToBack:function(){return this._map&&ws(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=Ee(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",u=this._image=o?this._url:vt("img");if(yt(u,"leaflet-image-layer"),this._zoomAnimated&&yt(u,"leaflet-zoom-animated"),this.options.className&&yt(u,this.options.className),u.onselectstart=p,u.onmousemove=p,u.onload=l(this.fire,this,"load"),u.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(o){var u=this._map.getZoomScale(o.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;ui(this._image,f,u)},_reset:function(){var o=this._image,u=new se(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=u.getSize();hn(o,u.min),o.style.width=f.x+"px",o.style.height=f.y+"px"},_updateOpacity:function(){kr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),BS=function(o,u,f){return new Iu(o,u,f)},Dv=Iu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",u=this._image=o?this._url:vt("video");if(yt(u,"leaflet-image-layer"),this._zoomAnimated&&yt(u,"leaflet-zoom-animated"),this.options.className&&yt(u,this.options.className),u.onselectstart=p,u.onmousemove=p,u.onloadeddata=l(this.fire,this,"load"),o){for(var f=u.getElementsByTagName("source"),g=[],_=0;_<f.length;_++)g.push(f[_].src);this._url=f.length>0?g:[u.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var F=vt("source");F.src=this._url[T],u.appendChild(F)}}});function FS(o,u,f){return new Dv(o,u,f)}var zv=Iu.extend({_initImage:function(){var o=this._image=this._url;yt(o,"leaflet-image-layer"),this._zoomAnimated&&yt(o,"leaflet-zoom-animated"),this.options.className&&yt(o,this.options.className),o.onselectstart=p,o.onmousemove=p}});function US(o,u,f){return new zv(o,u,f)}var da=Vr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,u){o&&(o instanceof _e||S(o))?(this._latlng=Me(o),v(this,u)):(v(this,o),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&kr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&kr(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(kr(this._container,0),this._removeTimeout=setTimeout(l(ct,void 0,this._container),200)):ct(this._container),this.options.interactive&&(ln(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Me(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ba(this._container),this},bringToBack:function(){return this._map&&ws(this._container),this},_prepareOpen:function(o){var u=this._source;if(!u._map)return!1;if(u instanceof Fa){u=null;var f=this._source._layers;for(var g in f)if(f[g]._map){u=f[g];break}if(!u)return!1;this._source=u}if(!o)if(u.getCenter)o=u.getCenter();else if(u.getLatLng)o=u.getLatLng();else if(u.getBounds)o=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")o.innerHTML=u;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),u=re(this.options.offset),f=this._getAnchor();this._zoomAnimated?hn(this._container,o.add(f)):u=u.add(o).add(f);var g=this._containerBottom=-u.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=g+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(o,u,f,g){var _=u;return _ instanceof o||(_=new o(g).setContent(u)),f&&_.setLatLng(f),_}}),Vr.include({_initOverlay:function(o,u,f,g){var _=f;return _ instanceof o?(v(_,g),_._source=this):(_=u&&!g?u:new o(g,this),_.setContent(f)),_}});var Au=da.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,da.prototype.openOn.call(this,o)},onAdd:function(o){da.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ks||this._source.on("preclick",hi))},onRemove:function(o){da.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ks||this._source.off("preclick",hi))},getEvents:function(){var o=da.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",u=this._container=vt("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=vt("div",o+"-content-wrapper",u);if(this._contentNode=vt("div",o+"-content",f),Sl(u),Lf(this._contentNode),pt(u,"contextmenu",hi),this._tipContainer=vt("div",o+"-tip-container",u),this._tip=vt("div",o+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=vt("a",o+"-close-button",u);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',pt(g,"click",function(_){En(_),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,u=o.style;u.width="",u.whiteSpace="nowrap";var f=o.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),u.width=f+1+"px",u.whiteSpace="",u.height="";var g=o.offsetHeight,_=this.options.maxHeight,T="leaflet-popup-scrolled";_&&g>_?(u.height=_+"px",yt(o,T)):ln(o,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),f=this._getAnchor();hn(this._container,u.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,u=parseInt(_r(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+u,g=this._containerWidth,_=new V(this._containerLeft,-f-this._containerBottom);_._add(di(this._container));var T=o.layerPointToContainerPoint(_),F=re(this.options.autoPanPadding),Q=re(this.options.autoPanPaddingTopLeft||F),te=re(this.options.autoPanPaddingBottomRight||F),me=o.getSize(),Le=0,at=0;T.x+g+te.x>me.x&&(Le=T.x+g-me.x+te.x),T.x-Le-Q.x<0&&(Le=T.x-Q.x),T.y+f+te.y>me.y&&(at=T.y+f-me.y+te.y),T.y-at-Q.y<0&&(at=T.y-Q.y),(Le||at)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Le,at]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),HS=function(o,u){return new Au(o,u)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(o,u,f){return this._initOverlay(Au,o,u,f).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Vr.include({bindPopup:function(o,u){return this._popup=this._initOverlay(Au,this._popup,o,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Fa||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){fi(o);var u=o.layer||o.target;if(this._popup._source===u&&!(u instanceof ks)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=u,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ou=da.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){da.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){da.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=da.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",u=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=vt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var u,f,g=this._map,_=this._container,T=g.latLngToContainerPoint(g.getCenter()),F=g.layerPointToContainerPoint(o),Q=this.options.direction,te=_.offsetWidth,me=_.offsetHeight,Le=re(this.options.offset),at=this._getAnchor();Q==="top"?(u=te/2,f=me):Q==="bottom"?(u=te/2,f=0):Q==="center"?(u=te/2,f=me/2):Q==="right"?(u=0,f=me/2):Q==="left"?(u=te,f=me/2):F.x<T.x?(Q="right",u=0,f=me/2):(Q="left",u=te+(Le.x+at.x)*2,f=me/2),o=o.subtract(re(u,f,!0)).add(Le).add(at),ln(_,"leaflet-tooltip-right"),ln(_,"leaflet-tooltip-left"),ln(_,"leaflet-tooltip-top"),ln(_,"leaflet-tooltip-bottom"),yt(_,"leaflet-tooltip-"+Q),hn(_,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&kr(this._container,o)},_animateZoom:function(o){var u=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(u)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ZS=function(o,u){return new Ou(o,u)};Mt.include({openTooltip:function(o,u,f){return this._initOverlay(Ou,o,u,f).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Vr.include({bindTooltip:function(o,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ou,this._tooltip,o,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var u=o?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[u](f),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Fa||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&(pt(u,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),pt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var u=typeof o.getElement=="function"&&o.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var u=o.latlng,f,g;this._tooltip.options.sticky&&o.originalEvent&&(f=this._map.mouseEventToContainerPoint(o.originalEvent),g=this._map.containerPointToLayerPoint(f),u=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(u)}});var $v=uo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var u=o&&o.tagName==="DIV"?o:document.createElement("div"),f=this.options;if(f.html instanceof Element?($a(u),u.appendChild(f.html)):u.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=re(f.bgPos);u.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function WS(o){return new $v(o)}uo.Default=Cl;var Pl=Vr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:X.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){v(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ct(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ba(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ws(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof V?o:new V(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var u=this.getPane().children,f=-o(-1/0,1/0),g=0,_=u.length,T;g<_;g++)T=u[g].style.zIndex,u[g]!==this._container&&T&&(f=o(f,+T));isFinite(f)&&(this.options.zIndex=f+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!X.ielt9){kr(this._container,this.options.opacity);var o=+new Date,u=!1,f=!1;for(var g in this._tiles){var _=this._tiles[g];if(!(!_.current||!_.loaded)){var T=Math.min(1,(o-_.loaded)/200);kr(_.el,T),T<1?u=!0:(_.active?f=!0:this._onOpaqueTile(_),_.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),u&&(J(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,u=this.options.maxZoom;if(o!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===o?(this._levels[f].el.style.zIndex=u-Math.abs(o-f),this._onUpdateLevel(f)):(ct(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[o],_=this._map;return g||(g=this._levels[o]={},g.el=vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=u,g.origin=_.project(_.unproject(_.getPixelOrigin()),o).round(),g.zoom=o,this._setZoomTransform(g,_.getCenter(),_.getZoom()),p(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var o,u,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)u=this._tiles[o],u.retain=u.current;for(o in this._tiles)if(u=this._tiles[o],u.current&&!u.active){var g=u.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var u in this._tiles)this._tiles[u].coords.z===o&&this._removeTile(u)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ct(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,u,f,g){var _=Math.floor(o/2),T=Math.floor(u/2),F=f-1,Q=new V(+_,+T);Q.z=+F;var te=this._tileCoordsToKey(Q),me=this._tiles[te];return me&&me.active?(me.retain=!0,!0):(me&&me.loaded&&(me.retain=!0),F>g?this._retainParent(_,T,F,g):!1)},_retainChildren:function(o,u,f,g){for(var _=2*o;_<2*o+2;_++)for(var T=2*u;T<2*u+2;T++){var F=new V(_,T);F.z=f+1;var Q=this._tileCoordsToKey(F),te=this._tiles[Q];if(te&&te.active){te.retain=!0;continue}else te&&te.loaded&&(te.retain=!0);f+1<g&&this._retainChildren(_,T,f+1,g)}},_resetView:function(o){var u=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var u=this.options;return u.minNativeZoom!==void 0&&o<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<o?u.maxNativeZoom:o},_setView:function(o,u,f,g){var _=Math.round(u);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var T=this.options.updateWhenZooming&&_!==this._tileZoom;(!g||T)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(o),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(o,u)},_setZoomTransforms:function(o,u){for(var f in this._levels)this._setZoomTransform(this._levels[f],o,u)},_setZoomTransform:function(o,u,f){var g=this._map.getZoomScale(f,o.zoom),_=o.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(u,f)).round();X.any3d?ui(o.el,_,g):hn(o.el,_)},_resetGrid:function(){var o=this._map,u=o.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,u.wrapLng[0]],g).x/f.x),Math.ceil(o.project([0,u.wrapLng[1]],g).x/f.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([u.wrapLat[0],0],g).y/f.x),Math.ceil(o.project([u.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var u=this._map,f=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),g=u.getZoomScale(f,this._tileZoom),_=u.project(o,this._tileZoom).floor(),T=u.getSize().divideBy(g*2);return new se(_.subtract(T),_.add(T))},_update:function(o){var u=this._map;if(u){var f=this._clampZoom(u.getZoom());if(o===void 0&&(o=u.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(o),_=this._pxBoundsToTileRange(g),T=_.getCenter(),F=[],Q=this.options.keepBuffer,te=new se(_.getBottomLeft().subtract([Q,-Q]),_.getTopRight().add([Q,-Q]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var me in this._tiles){var Le=this._tiles[me].coords;(Le.z!==this._tileZoom||!te.contains(new V(Le.x,Le.y)))&&(this._tiles[me].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(o,f);return}for(var at=_.min.y;at<=_.max.y;at++)for(var kt=_.min.x;kt<=_.max.x;kt++){var Un=new V(kt,at);if(Un.z=this._tileZoom,!!this._isValidTile(Un)){var _n=this._tiles[this._tileCoordsToKey(Un)];_n?_n.current=!0:F.push(Un)}}if(F.sort(function(Jn,po){return Jn.distanceTo(T)-po.distanceTo(T)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jr=document.createDocumentFragment();for(kt=0;kt<F.length;kt++)this._addTile(F[kt],jr);this._level.el.appendChild(jr)}}}},_isValidTile:function(o){var u=this._map.options.crs;if(!u.infinite){var f=this._globalTileRange;if(!u.wrapLng&&(o.x<f.min.x||o.x>f.max.x)||!u.wrapLat&&(o.y<f.min.y||o.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(o);return Ee(this.options.bounds).overlaps(g)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var u=this._map,f=this.getTileSize(),g=o.scaleBy(f),_=g.add(f),T=u.unproject(g,o.z),F=u.unproject(_,o.z);return[T,F]},_tileCoordsToBounds:function(o){var u=this._tileCoordsToNwSe(o),f=new Ne(u[0],u[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var u=o.split(":"),f=new V(+u[0],+u[1]);return f.z=+u[2],f},_removeTile:function(o){var u=this._tiles[o];u&&(ct(u.el),delete this._tiles[o],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){yt(o,"leaflet-tile");var u=this.getTileSize();o.style.width=u.x+"px",o.style.height=u.y+"px",o.onselectstart=p,o.onmousemove=p,X.ielt9&&this.options.opacity<1&&kr(o,this.options.opacity)},_addTile:function(o,u){var f=this._getTilePos(o),g=this._tileCoordsToKey(o),_=this.createTile(this._wrapCoords(o),l(this._tileReady,this,o));this._initTile(_),this.createTile.length<2&&D(l(this._tileReady,this,o,null,_)),hn(_,f),this._tiles[g]={el:_,coords:o,current:!0},u.appendChild(_),this.fire("tileloadstart",{tile:_,coords:o})},_tileReady:function(o,u,f){u&&this.fire("tileerror",{error:u,tile:f,coords:o});var g=this._tileCoordsToKey(o);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(kr(f.el,0),J(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),u||(yt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),X.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var u=new V(this._wrapX?m(o.x,this._wrapX):o.x,this._wrapY?m(o.y,this._wrapY):o.y);return u.z=o.z,u},_pxBoundsToTileRange:function(o){var u=this.getTileSize();return new se(o.min.unscaleBy(u).floor(),o.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function VS(o){return new Pl(o)}var mo=Pl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,u){this._url=o,u=v(this,u),u.detectRetina&&X.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,u){return this._url===o&&u===void 0&&(u=!0),this._url=o,u||this.redraw(),this},createTile:function(o,u){var f=document.createElement("img");return pt(f,"load",l(this._tileOnLoad,this,u,f)),pt(f,"error",l(this._tileOnError,this,u,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(o),f},getTileUrl:function(o){var u={r:X.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-o.y;this.options.tms&&(u.y=f),u["-y"]=f}return w(this._url,s(u,this.options))},_tileOnLoad:function(o,u){X.ielt9?setTimeout(l(o,this,null,u),0):o(null,u)},_tileOnError:function(o,u,f){var g=this.options.errorTileUrl;g&&u.getAttribute("src")!==g&&(u.src=g),o(f,u)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,u=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(o=u-o),o+g},_getSubdomain:function(o){var u=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var o,u;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(u=this._tiles[o].el,u.onload=p,u.onerror=p,!u.complete)){u.src=C;var f=this._tiles[o].coords;ct(u),delete this._tiles[o],this.fire("tileabort",{tile:u,coords:f})}},_removeTile:function(o){var u=this._tiles[o];if(u)return u.el.setAttribute("src",C),Pl.prototype._removeTile.call(this,o)},_tileReady:function(o,u,f){if(!(!this._map||f&&f.getAttribute("src")===C))return Pl.prototype._tileReady.call(this,o,u,f)}});function Bv(o,u){return new mo(o,u)}var Fv=mo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,u){this._url=o;var f=s({},this.defaultWmsParams);for(var g in u)g in this.options||(f[g]=u[g]);u=v(this,u);var _=u.detectRetina&&X.retina?2:1,T=this.getTileSize();f.width=T.x*_,f.height=T.y*_,this.wmsParams=f},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,mo.prototype.onAdd.call(this,o)},getTileUrl:function(o){var u=this._tileCoordsToNwSe(o),f=this._crs,g=ce(f.project(u[0]),f.project(u[1])),_=g.min,T=g.max,F=(this._wmsVersion>=1.3&&this._crs===Iv?[_.y,_.x,T.y,T.x]:[_.x,_.y,T.x,T.y]).join(","),Q=mo.prototype.getTileUrl.call(this,o);return Q+j(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(o,u){return s(this.wmsParams,o),u||this.redraw(),this}});function KS(o,u){return new Fv(o,u)}mo.WMS=Fv,Bv.wms=KS;var Za=Vr.extend({options:{padding:.1},initialize:function(o){v(this,o),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,u){var f=this._map.getZoomScale(u,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,u),T=g.multiplyBy(-f).add(_).subtract(this._map._getNewPixelOrigin(o,u));X.any3d?ui(this._container,T,f):hn(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,u=this._map.getSize(),f=this._map.containerPointToLayerPoint(u.multiplyBy(-o)).round();this._bounds=new se(f,f.add(u.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uv=Za.extend({options:{tolerance:0},getEvents:function(){var o=Za.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Za.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");pt(o,"mousemove",this._onMouseMove,this),pt(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pt(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,ct(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var u in this._layers)o=this._layers[u],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Za.prototype._update.call(this);var o=this._bounds,u=this._container,f=o.getSize(),g=X.retina?2:1;hn(u,o.min),u.width=g*f.x,u.height=g*f.y,u.style.width=f.x+"px",u.style.height=f.y+"px",X.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Za.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[d(o)]=o;var u=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var u=o._order,f=u.next,g=u.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete o._order,delete this._layers[d(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var u=o.options.dashArray.split(/[, ]+/),f=[],g,_;for(_=0;_<u.length;_++){if(g=Number(u[_]),isNaN(g))return;f.push(g)}o.options._dashArray=f}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var u=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new se,this._redrawBounds.extend(o._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(o._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var u=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,u=this._redrawBounds;if(this._ctx.save(),u){var f=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)o=g.layer,(!u||o._pxBounds&&o._pxBounds.intersects(u))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,u){if(this._drawing){var f,g,_,T,F=o._parts,Q=F.length,te=this._ctx;if(Q){for(te.beginPath(),f=0;f<Q;f++){for(g=0,_=F[f].length;g<_;g++)T=F[f][g],te[g?"lineTo":"moveTo"](T.x,T.y);u&&te.closePath()}this._fillStroke(te,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var u=o._point,f=this._ctx,g=Math.max(Math.round(o._radius),1),_=(Math.max(Math.round(o._radiusY),1)||g)/g;_!==1&&(f.save(),f.scale(1,_)),f.beginPath(),f.arc(u.x,u.y/_,g,0,Math.PI*2,!1),_!==1&&f.restore(),this._fillStroke(f,o)}},_fillStroke:function(o,u){var f=u.options;f.fill&&(o.globalAlpha=f.fillOpacity,o.fillStyle=f.fillColor||f.color,o.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(o.setLineDash&&o.setLineDash(u.options&&u.options._dashArray||[]),o.globalAlpha=f.opacity,o.lineWidth=f.weight,o.strokeStyle=f.color,o.lineCap=f.lineCap,o.lineJoin=f.lineJoin,o.stroke())},_onClick:function(o){for(var u=this._map.mouseEventToLayerPoint(o),f,g,_=this._drawFirst;_;_=_.next)f=_.layer,f.options.interactive&&f._containsPoint(u)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,u)}},_handleMouseOut:function(o){var u=this._hoveredLayer;u&&(ln(this._container,"leaflet-interactive"),this._fireEvent([u],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,u){if(!this._mouseHoverThrottled){for(var f,g,_=this._drawFirst;_;_=_.next)f=_.layer,f.options.interactive&&f._containsPoint(u)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(o),g&&(yt(this._container,"leaflet-interactive"),this._fireEvent([g],o,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,u,f){this._map._fireDOMEvent(u,f||u.type,o)},_bringToFront:function(o){var u=o._order;if(u){var f=u.next,g=u.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(o)}},_bringToBack:function(o){var u=o._order;if(u){var f=u.next,g=u.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(o)}}});function Hv(o){return X.canvas?new Uv(o):null}var Ml=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch(o){}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),GS={_initContainer:function(){this._container=vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Za.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var u=o._container=Ml("shape");yt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",o._path=Ml("path"),u.appendChild(o._path),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){var u=o._container;this._container.appendChild(u),o.options.interactive&&o.addInteractiveTarget(u)},_removePath:function(o){var u=o._container;ct(u),o.removeInteractiveTarget(u),delete this._layers[d(o)]},_updateStyle:function(o){var u=o._stroke,f=o._fill,g=o.options,_=o._container;_.stroked=!!g.stroke,_.filled=!!g.fill,g.stroke?(u||(u=o._stroke=Ml("stroke")),_.appendChild(u),u.weight=g.weight+"px",u.color=g.color,u.opacity=g.opacity,g.dashArray?u.dashStyle=S(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=g.lineCap.replace("butt","flat"),u.joinstyle=g.lineJoin):u&&(_.removeChild(u),o._stroke=null),g.fill?(f||(f=o._fill=Ml("fill")),_.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(_.removeChild(f),o._fill=null)},_updateCircle:function(o){var u=o._point.round(),f=Math.round(o._radius),g=Math.round(o._radiusY||f);this._setPath(o,o._empty()?"M0 0":"AL "+u.x+","+u.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(o,u){o._path.v=u},_bringToFront:function(o){Ba(o._container)},_bringToBack:function(o){ws(o._container)}},Ru=X.vml?Ml:Ce,Ll=Za.extend({_initContainer:function(){this._container=Ru("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ru("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Za.prototype._update.call(this);var o=this._bounds,u=o.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,f.setAttribute("width",u.x),f.setAttribute("height",u.y)),hn(f,o.min),f.setAttribute("viewBox",[o.min.x,o.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(o){var u=o._path=Ru("path");o.options.className&&yt(u,o.options.className),o.options.interactive&&yt(u,"leaflet-interactive"),this._updateStyle(o),this._layers[d(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ct(o._path),o.removeInteractiveTarget(o._path),delete this._layers[d(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var u=o._path,f=o.options;u&&(f.stroke?(u.setAttribute("stroke",f.color),u.setAttribute("stroke-opacity",f.opacity),u.setAttribute("stroke-width",f.weight),u.setAttribute("stroke-linecap",f.lineCap),u.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?u.setAttribute("stroke-dasharray",f.dashArray):u.removeAttribute("stroke-dasharray"),f.dashOffset?u.setAttribute("stroke-dashoffset",f.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),f.fill?(u.setAttribute("fill",f.fillColor||f.color),u.setAttribute("fill-opacity",f.fillOpacity),u.setAttribute("fill-rule",f.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(o,u){this._setPath(o,Se(o._parts,u))},_updateCircle:function(o){var u=o._point,f=Math.max(Math.round(o._radius),1),g=Math.max(Math.round(o._radiusY),1)||f,_="a"+f+","+g+" 0 1,0 ",T=o._empty()?"M0 0":"M"+(u.x-f)+","+u.y+_+f*2+",0 "+_+-f*2+",0 ";this._setPath(o,T)},_setPath:function(o,u){o._path.setAttribute("d",u)},_bringToFront:function(o){Ba(o._path)},_bringToBack:function(o){ws(o._path)}});X.vml&&Ll.include(GS);function Zv(o){return X.svg||X.vml?new Ll(o):null}Mt.include({getRenderer:function(o){var u=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var u=this._paneRenderers[o];return u===void 0&&(u=this._createRenderer({pane:o}),this._paneRenderers[o]=u),u},_createRenderer:function(o){return this.options.preferCanvas&&Hv(o)||Zv(o)}});var Wv=ho.extend({initialize:function(o,u){ho.prototype.initialize.call(this,this._boundsToLatLngs(o),u)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=Ee(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function qS(o,u){return new Wv(o,u)}Ll.create=Ru,Ll.pointsToPath=Se,Ha.geometryToLayer=Cu,Ha.coordsToLatLng=Ff,Ha.coordsToLatLngs=Pu,Ha.latLngToCoords=Uf,Ha.latLngsToCoords=Mu,Ha.getFeature=fo,Ha.asFeature=Lu,Mt.mergeOptions({boxZoom:!0});var Vv=ua.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),kl(),Nf(),this._startPoint=this._map.mouseEventToContainerPoint(o),pt(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=vt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var u=new se(this._point,this._startPoint),f=u.getSize();hn(this._box,u.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(ct(this._box),ln(this._container,"leaflet-crosshair")),Nl(),jf(),Bt(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var u=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",Vv),Mt.mergeOptions({doubleClickZoom:!0});var Kv=ua.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var u=this._map,f=u.getZoom(),g=u.options.zoomDelta,_=o.originalEvent.shiftKey?f-g:f+g;u.options.doubleClickZoom==="center"?u.setZoom(_):u.setZoomAround(o.containerPoint,_)}});Mt.addInitHook("addHandler","doubleClickZoom",Kv),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gv=ua.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new _s(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ln(this._map._container,"leaflet-grab"),ln(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=Ee(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var u=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(u),this._prunePositions(u)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,u){return o-(o-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;o.x<u.min.x&&(o.x=this._viscousLimit(o.x,u.min.x)),o.y<u.min.y&&(o.y=this._viscousLimit(o.y,u.min.y)),o.x>u.max.x&&(o.x=this._viscousLimit(o.x,u.max.x)),o.y>u.max.y&&(o.y=this._viscousLimit(o.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,u=Math.round(o/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,_=(g-u+f)%o+u-f,T=(g+u+f)%o-u-f,F=Math.abs(_+f)<Math.abs(T+f)?_:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(o){var u=this._map,f=u.options,g=!f.inertia||o.noInertia||this._times.length<2;if(u.fire("dragend",o),g)u.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,F=f.easeLinearity,Q=_.multiplyBy(F/T),te=Q.distanceTo([0,0]),me=Math.min(f.inertiaMaxSpeed,te),Le=Q.multiplyBy(me/te),at=me/(f.inertiaDeceleration*F),kt=Le.multiplyBy(-at/2).round();!kt.x&&!kt.y?u.fire("moveend"):(kt=u._limitOffset(kt,u.options.maxBounds),D(function(){u.panBy(kt,{duration:at,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",Gv),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qv=ua.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),pt(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,u=document.documentElement,f=o.scrollTop||u.scrollTop,g=o.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var u=this._panKeys={},f=this.keyCodes,g,_;for(g=0,_=f.left.length;g<_;g++)u[f.left[g]]=[-1*o,0];for(g=0,_=f.right.length;g<_;g++)u[f.right[g]]=[o,0];for(g=0,_=f.down.length;g<_;g++)u[f.down[g]]=[0,o];for(g=0,_=f.up.length;g<_;g++)u[f.up[g]]=[0,-1*o]},_setZoomDelta:function(o){var u=this._zoomKeys={},f=this.keyCodes,g,_;for(g=0,_=f.zoomIn.length;g<_;g++)u[f.zoomIn[g]]=o;for(g=0,_=f.zoomOut.length;g<_;g++)u[f.zoomOut[g]]=-o},_addHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var u=o.keyCode,f=this._map,g;if(u in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[u],o.shiftKey&&(g=re(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset(re(g),f.options.maxBounds)),f.options.worldCopyJump){var _=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(_)}else f.panBy(g)}else if(u in this._zoomKeys)f.setZoom(f.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;fi(o)}}});Mt.addInitHook("addHandler","keyboard",qv),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yv=ua.extend({addHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var u=bv(o),f=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),g),fi(o)},_performZoom:function(){var o=this._map,u=o.getZoom(),f=this._map.options.zoomSnap||0;o._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,T=f?Math.ceil(_/f)*f:_,F=o._limitZoom(u+(this._delta>0?T:-T))-u;this._delta=0,this._startTime=null,F&&(o.options.scrollWheelZoom==="center"?o.setZoom(u+F):o.setZoomAround(this._lastMousePos,u+F))}});Mt.addInitHook("addHandler","scrollWheelZoom",Yv);var YS=600;Mt.mergeOptions({tapHold:X.touchNative&&X.safari&&X.mobile,tapTolerance:15});var Jv=ua.extend({addHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var u=o.touches[0];this._startPos=this._newPos=new V(u.clientX,u.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(pt(document,"touchend",En),pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),YS),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Bt(document,"touchend",En),Bt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(o){var u=o.touches[0];this._newPos=new V(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,u){var f=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});f._simulated=!0,u.target.dispatchEvent(f)}});Mt.addInitHook("addHandler","tapHold",Jv),Mt.mergeOptions({touchZoom:X.touch,bounceAtZoomLimits:!0});var Qv=ua.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ln(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var u=this._map;if(!(!o.touches||o.touches.length!==2||u._animatingZoom||this._zooming)){var f=u.mouseEventToContainerPoint(o.touches[0]),g=u.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),En(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var u=this._map,f=u.mouseEventToContainerPoint(o.touches[0]),g=u.mouseEventToContainerPoint(o.touches[1]),_=f.distanceTo(g)/this._startDist;if(this._zoom=u.getScaleZoom(_,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&_<1||this._zoom>u.getMaxZoom()&&_>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var T=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(_===1&&T.x===0&&T.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var F=l(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(F,this,!0),En(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Qv),Mt.BoxZoom=Vv,Mt.DoubleClickZoom=Kv,Mt.Drag=Gv,Mt.Keyboard=qv,Mt.ScrollWheelZoom=Yv,Mt.TapHold=Jv,Mt.TouchZoom=Qv,n.Bounds=se,n.Browser=X,n.CRS=Be,n.Canvas=Uv,n.Circle=Bf,n.CircleMarker=Eu,n.Class=W,n.Control=Wr,n.DivIcon=$v,n.DivOverlay=da,n.DomEvent=mS,n.DomUtil=hS,n.Draggable=_s,n.Evented=he,n.FeatureGroup=Fa,n.GeoJSON=Ha,n.GridLayer=Pl,n.Handler=ua,n.Icon=uo,n.ImageOverlay=Iu,n.LatLng=_e,n.LatLngBounds=Ne,n.Layer=Vr,n.LayerGroup=co,n.LineUtil=TS,n.Map=Mt,n.Marker=Tu,n.Mixin=wS,n.Path=ks,n.Point=V,n.PolyUtil=_S,n.Polygon=ho,n.Polyline=Ua,n.Popup=Au,n.PosAnimation=wv,n.Projection=ES,n.Rectangle=Wv,n.Renderer=Za,n.SVG=Ll,n.SVGOverlay=zv,n.TileLayer=mo,n.Tooltip=Ou,n.Transformation=ve,n.Util=H,n.VideoOverlay=Dv,n.bind=l,n.bounds=ce,n.canvas=Hv,n.circle=RS,n.circleMarker=OS,n.control=Tl,n.divIcon=WS,n.extend=s,n.featureGroup=LS,n.geoJSON=Rv,n.geoJson=$S,n.gridLayer=VS,n.icon=IS,n.imageOverlay=BS,n.latLng=Me,n.latLngBounds=Ee,n.layerGroup=MS,n.map=pS,n.marker=AS,n.point=re,n.polygon=zS,n.polyline=DS,n.popup=HS,n.rectangle=qS,n.setOptions=v,n.stamp=d,n.svg=Zv,n.svgOverlay=US,n.tileLayer=Bv,n.tooltip=ZS,n.transformation=Ze,n.version=r,n.videoOverlay=FS;var JS=window.L;n.noConflict=function(){return window.L=JS,this},window.L=n})})(Dx,Dx.exports);var gf=Dx.exports;const vz=$x(gf);function $2(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function B2(e,t){return t==null?function(r,s){const i=k.useRef();return i.current||(i.current=e(r,s)),i}:function(r,s){const i=k.useRef();i.current||(i.current=e(r,s));const l=k.useRef(r),{instance:c}=i.current;return k.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,s]),i}}function yz(e,t){k.useEffect(function(){var s;return((s=t.layerContainer)!=null?s:t.map).addLayer(e.instance),function(){var l;(l=t.layerContainer)==null||l.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function F2(e){return function(n){const r=D2(),s=e(z2(n,r),r);return dz(r.map,n.attribution),xz(s.current,n.eventHandlers),yz(s.current,r),s}}function bz(e,t){const n=B2(e,t),r=F2(n);return pz(r)}function wz(e,t){const n=B2(e,t),r=F2(n);return gz(r)}function _z(e,t,n){const{opacity:r,zIndex:s}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function U2(){return D2().map}function kz(e){const t=U2();return k.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function zx(){return zx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zx.apply(this,arguments)}function Nz(x,p){var y=x,{bounds:e,boundsOptions:t,center:n,children:r,className:s,id:i,placeholder:l,style:c,whenReady:d,zoom:h}=y,m=Sr(y,["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"]);const[b]=k.useState({className:s,id:i,style:c}),[v,j]=k.useState(null);k.useImperativeHandle(p,()=>{var S;return(S=v==null?void 0:v.map)!=null?S:null},[v]);const N=k.useCallback(S=>{if(S!==null&&v===null){const P=new gf.Map(S,m);n!=null&&h!=null?P.setView(n,h):e!=null&&P.fitBounds(e,t),d!=null&&P.whenReady(d),j(fz(P))}},[]);k.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const w=v?Re.createElement(R2,{value:v},r):l!=null?l:null;return Re.createElement("div",zx({},b,{ref:N}),w)}const jz=k.forwardRef(Nz),Sz=bz(function(s,r){var i=s,{position:t}=i,n=Sr(i,["position"]);const l=new gf.Marker(t,n);return $2(l,mz(r,{overlayContainer:l}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Tz=wz(function(s,r){var i=s,{url:t}=i,n=Sr(i,["url"]);const l=new gf.TileLayer(t,z2(n,r));return $2(l,r)},function(t,n,r){_z(t,n,r);const{url:s}=n;s!=null&&s!==r.url&&t.setUrl(s)}),b_=[10.8231,106.6297],Ez=15,Cz=()=>new vz.DivIcon({className:"custom-marker",html:`
      <div style="
        width: 30px;
        height: 30px;
        position: relative;
      ">
        <svg viewBox="0 0 24 24" fill="#3b82f6" style="
          width: 100%;
          height: 100%;
          filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        ">
          <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
        </svg>
        <div style="
          position: absolute;
          bottom: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 8px;
          height: 8px;
          background: white;
          border: 2px solid #3b82f6;
          border-radius: 50%;
        "></div>
      </div>
    `,iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]}),Pz=Cz(),Mz=({center:e})=>{const t=U2();return Re.useEffect(()=>{t.setView(e)},[e,t]),null},Lz=({position:e,onPositionChange:t})=>(kz({click(n){t(n.latlng.lat,n.latlng.lng)}}),a.jsx(Sz,{draggable:!0,eventHandlers:{dragend(n){const s=n.target.getLatLng();t(s.lat,s.lng)}},position:e,icon:Pz})),Iz=({isOpen:e,onClose:t,onConfirm:n,initialPosition:r,stadiumName:s="sn bng",placeDetail:i})=>{const[l,c]=k.useState(()=>r!=null&&r.lat&&(r!=null&&r.lng)?[Number(r.lat),Number(r.lng)]:b_),[d,h]=k.useState(!1);Re.useEffect(()=>{e?setTimeout(()=>{h(!0)},100):h(!1)},[e]),Re.useEffect(()=>{e&&(r!=null&&r.lat&&(r!=null&&r.lng)?c([Number(r.lat),Number(r.lng)]):c(b_))},[e,r]);const m=()=>{n(l[0],l[1]),t()};return e?a.jsxs("div",{className:"fixed inset-0 z-[70] flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl animate-slide-up shadow-2xl max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mt-4 shrink-0"}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-white/10 shrink-0",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Xc nhn v tr"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:(i==null?void 0:i.name)||s})]}),a.jsx("button",{onClick:t,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors shrink-0 ml-2",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),i&&a.jsx("div",{className:"px-6 py-3 bg-blue-50 dark:bg-blue-900/20 border-b border-blue-100 dark:border-blue-800/30 shrink-0",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(A,{name:"info",className:"text-blue-600 dark:text-blue-400 mt-0.5 shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Thng tin t Goong"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-0.5 truncate",children:i.formattedAddress}),i.district&&a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:[i.district,i.city?`, ${i.city}`:""]})]})]})}),a.jsxs("div",{className:"shrink-0 bg-gray-100 dark:bg-gray-800",style:{height:"350px",width:"100%"},children:[d&&a.jsxs(jz,{center:l,zoom:Ez,style:{height:"100%",width:"100%"},zoomControl:!0,children:[a.jsx(Mz,{center:l}),a.jsx(Tz,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:19}),a.jsx(Lz,{position:l,onPositionChange:(p,x)=>c([p,x])})]}),!d&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-primary border-t-transparent animate-spin"})})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 dark:bg-white/5 border-t border-gray-200 dark:border-white/10 shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(A,{name:"place",className:"text-primary"}),a.jsxs("span",{className:"font-mono text-gray-600 dark:text-gray-300",children:[l[0].toFixed(6),", ",l[1].toFixed(6)]})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Ko th marker  iu chnh v tr chnh xc"})]}),a.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-white/10 shrink-0",children:[a.jsxs("button",{onClick:m,className:"w-full py-3.5 bg-primary hover:bg-primary-dark text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[a.jsx(A,{name:"check"}),"Xc nhn v tr ny"]}),a.jsx("button",{onClick:t,className:"w-full py-3.5 mt-2 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hy"})]})]})]}):null},w_={autocompleteStadiums:(e,t=10)=>O(void 0,null,function*(){return yield Pe.get("/stadiums/autocomplete",{params:{q:e,limit:t}})}),getStadiumById:e=>O(void 0,null,function*(){return yield Pe.get(`/stadiums/${e}`)}),getPlaceDetail:(e,t)=>O(void 0,null,function*(){const n=t?{sessionToken:t}:void 0;return Pe.get(`/stadiums/place-detail/${e}`,n?{params:n}:void 0)}),bookStadiumSlot:(e,t)=>O(void 0,null,function*(){throw console.warn("Stadium booking not yet implemented"),new Error("Stadium booking feature coming soon")})},dv=({value:e,onChange:t,error:n,disabled:r=!1})=>{const[s,i]=k.useState((e==null?void 0:e.name)||""),[l,c]=k.useState([]),[d,h]=k.useState(!1),[m,p]=k.useState(!1),[x,y]=k.useState(!1),[b,v]=k.useState(null),[j,N]=k.useState(null),[w,S]=k.useState(!1),P=k.useRef(null),C=k.useRef(null),U=k.useRef();k.useEffect(()=>{i(e?e.name:"")},[e]),k.useEffect(()=>{const W=ie=>{C.current&&!C.current.contains(ie.target)&&p(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),k.useEffect(()=>{if(clearTimeout(U.current),e){c([]),p(!1);return}if(s.length<2){c([]),p(!1);return}return h(!0),U.current=setTimeout(()=>O(void 0,null,function*(){try{const ge=((yield w_.autocompleteStadiums(s,10))||[]).map(he=>le(R({},he),{lat:he.lat?Number(he.lat):void 0,lng:he.lng?Number(he.lng):void 0}));c(ge),p(!0)}catch(W){console.error("Stadium search error:",W),c([]),p(!1)}finally{h(!1)}}),1e3),()=>clearTimeout(U.current)},[s,e]);const E=W=>O(void 0,null,function*(){if(p(!1),W.source==="goong_places"&&(!W.lat||!W.lng)){S(!0);try{const ge=yield w_.getPlaceDetail(W.placeId,W.sessionToken);ge.result?(v(W),N(ge.result),y(!0)):ge.status==="SESSION_ERROR"?(console.error("Session token expired for place:",W.placeId),v(W),N(null),y(!0)):(console.error("Failed to fetch place detail:",ge.error),v(W),N(null),y(!0))}catch(ge){console.error("Error fetching place detail:",ge),v(W),N(null),y(!0)}finally{S(!1)}}else v(W),N(null),y(!0)}),Z=(W,ie)=>{if(b){const ge=le(R({},b),{lat:W,lng:ie});i(ge.name),t(ge,{lat:W,lng:ie},j||void 0),v(null),N(null)}},q=()=>{y(!1),v(null),N(null)},$=()=>{if(!s||!s.trim())return;const W={id:`custom-${Date.now()}`,name:s.trim(),mapUrl:"",matchCount:0,homeTeamCount:0,lat:void 0,lng:void 0};v(W),y(!0),c([]),p(!1)},D=()=>{var W;i(""),t(null),c([]),(W=P.current)==null||W.focus()},J=W=>{W.key==="Enter"&&l.length===0&&!d&&s.length>=2&&(W.preventDefault(),$())},H=s.trim()!==""&&l.length===0&&!d;return a.jsxs("div",{className:"relative",ref:C,children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:P,type:"text",value:s,onChange:W=>i(W.target.value),onFocus:()=>{s.length>=2&&!e&&l.length>0&&p(!0)},onKeyDown:J,placeholder:"Tm kim sn bng...",disabled:r,className:`w-full px-4 py-3.5 rounded-xl bg-white dark:bg-surface-dark border pr-24 text-slate-900 dark:text-white placeholder:text-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all ${n?"border-red-500 focus:ring-red-500":"border-gray-200 dark:border-white/10"} ${r?"opacity-50 cursor-not-allowed":""}`}),s&&!r&&a.jsx("button",{type:"button",onClick:D,className:"absolute right-12 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(A,{name:"close",className:"text-lg"})}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:d?a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary border-t-transparent animate-spin"}):a.jsx(A,{name:"search",className:"text-gray-400"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Nhp tn sn  tm kim, sau  xc nhn v tr trn bn "}),m&&!r&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-xl shadow-lg max-h-64 overflow-y-auto",children:d?a.jsxs("div",{className:"px-4 py-6 text-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary border-t-transparent animate-spin mx-auto mb-2"}),"ang tm kim..."]}):l.length>0?a.jsx(a.Fragment,{children:l.map(W=>a.jsx("button",{type:"button",onClick:()=>E(W),className:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-white/5 transition-colors border-b border-gray-100 dark:border-white/5 last:border-0",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:a.jsx(A,{name:"place",className:"text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:W.name}),W.source==="goong_places"&&a.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-[10px] font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 shrink-0",children:"Goong"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:W.address||W.description||(W.district&&W.city?`${W.district}, ${W.city}`:"Cha c a ch")}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[W.source==="database"&&W.matchCount!==void 0&&W.matchCount>0&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[a.jsx(A,{name:"sports_soccer",className:"text-xs"}),W.matchCount," trn"]}),W.source==="database"&&W.homeTeamCount!==void 0&&W.homeTeamCount>0&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-primary",children:[a.jsx(A,{name:"home",className:"text-xs"}),W.homeTeamCount," sn nh"]})]})]})]})},W.id))}):a.jsxs("div",{className:"px-4 py-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center shrink-0",children:a.jsx(A,{name:"info",className:"text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:"Sn ny cha c trong h thng"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Bn c th thm sn mi v chn v tr trn bn "})]})]}),H&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-white/5",children:a.jsxs("button",{type:"button",onClick:$,className:"w-full px-3 py-2 bg-green-500 hover:bg-green-600 text-white text-sm font-medium rounded-lg transition-colors",children:[' Thm sn "',s,'" v chn v tr']})})]})}),a.jsx(Iz,{isOpen:x,onClose:q,onConfirm:Z,initialPosition:j!=null&&j.lat&&(j!=null&&j.lng)?{lat:j.lat,lng:j.lng}:b!=null&&b.lat&&(b!=null&&b.lng)?{lat:b.lat,lng:b.lng}:void 0,stadiumName:(j==null?void 0:j.name)||(b==null?void 0:b.name)||"sn bng",placeDetail:j?{name:j.name,formattedAddress:j.formattedAddress,district:j.district,city:j.city}:void 0},(b==null?void 0:b.id)||"map-picker"),n&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800 mt-2",children:[a.jsx(A,{name:"error",className:"text-red-500 shrink-0"}),a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:n})]})]})},H2=({isOpen:e,onAllow:t,onDeny:n})=>e?a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:n}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(A,{name:"place",className:"w-8 h-8 text-primary"})})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Tm sn gn bn"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cho php truy cp v tr  tm sn bng gn khu vc ca bn"})]}),a.jsxs("div",{className:"mb-6 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(A,{name:"check",className:"w-3 h-3 text-green-600 dark:text-green-400"})}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Tm kim sn bng gn v tr ca bn nht"})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(A,{name:"check",className:"w-3 h-3 text-green-600 dark:text-green-400"})}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Hin th khong cch t bn n sn"})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(A,{name:"check",className:"w-3 h-3 text-green-600 dark:text-green-400"})}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Gi  cc sn bi ph bin  khu vc ln cn"})]})]}),a.jsx("div",{className:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(A,{name:"shield",className:"text-amber-500 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-amber-900 dark:text-amber-100 font-medium mb-1",children:"Quyn ring t"}),a.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"V tr ca bn ch c s dng  tm kim sn bng gn . Chng ti khng lu tr hay chia s thng tin v tr ca bn."})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("button",{onClick:t,className:"w-full py-3.5 rounded-xl bg-primary text-white font-bold hover:bg-primary/90 transition-colors flex items-center justify-center gap-2",children:[a.jsx(A,{name:"place"}),"Cho php truy cp"]}),a.jsx("button",{onClick:n,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Khng, cm n"})]})]})]}):null,dd={lat:10.7769,lng:106.7009},Z2=(e={})=>{const{storageKey:t="location_permission_asked",showExplanation:n=!0,explanationTitle:r,explanationReasons:s}=e,[i,l]=k.useState(!1),c=k.useRef(null),d=k.useCallback(()=>new Promise(p=>{let x=!1;if(console.log(localStorage.getItem(t)),typeof window!="undefined")try{x=localStorage.getItem(t)==="true"}catch(y){}if(x){Mn.getLocation().then(y=>{p({lat:y.latitude,lng:y.longitude})}).catch(()=>{console.warn("Zalo location error, using default location"),p(dd)});return}if(!n){if(typeof window!="undefined")try{localStorage.setItem(t,"true")}catch(y){}Mn.getLocation().then(y=>{p({lat:y.latitude,lng:y.longitude})}).catch(()=>{console.warn("Zalo location error, using default location"),p(dd)});return}if(typeof window!="undefined")try{localStorage.setItem(t,"true")}catch(y){}l(!0),c.current={resolve:y=>p(y)}}),[t,n]),h=k.useCallback(p=>O(void 0,null,function*(){l(!1),c.current&&(p?setTimeout(()=>O(void 0,null,function*(){var x,y;try{const b=yield Mn.getLocation();(x=c.current)==null||x.resolve({lat:b.latitude,lng:b.longitude})}catch(b){console.warn("Zalo location error:",b),(y=c.current)==null||y.resolve(dd)}}),100):(c.current.resolve(dd),c.current=null))}),[]),m=k.useCallback(()=>{if(typeof window!="undefined")try{localStorage.removeItem(t)}catch(p){}},[t]);return{showPermissionModal:i,getLocation:d,handlePermissionResponse:h,resetPermission:m}},Az=({isOpen:e,onClose:t,matchId:n,match:r,myTeam:s,opponentTeam:i,onSuccess:l})=>{const c=eo(),{showPermissionModal:d,getLocation:h,handlePermissionResponse:m}=Z2({storageKey:"confirm_match_location_permission",showExplanation:!0});k.useEffect(()=>{e&&h().catch(()=>{})},[e]);const[p,x]=k.useState(""),[y,b]=k.useState(""),[v,j]=k.useState(null),[N,w]=k.useState(null),[S,P]=k.useState(null),[C,U]=k.useState(null),[E,Z]=k.useState(!1),[q,$]=k.useState(null);k.useEffect(()=>{r!=null&&r.date&&x(r.date),r!=null&&r.time&&b(r.time)},[r]);const D=()=>O(void 0,null,function*(){if(!p||!y){$("Vui lng chn ngy v gi thi u");return}if(!v){$("Vui lng chn sn thi u");return}if(!N){$("Vui lng xc nhn v tr sn trn bn ");return}Z(!0),$(null);try{let H={date:p,time:y};S==="database"&&(v!=null&&v.id)&&!v.id.startsWith("goong_")?(H.stadiumId=v.id,N!=null&&N.lat&&(N!=null&&N.lng)&&(H.stadiumLat=N.lat,H.stadiumLng=N.lng)):S==="goong_places"?(H.goongPlaceId=v==null?void 0:v.placeId,H.stadiumName=(C==null?void 0:C.name)||(v==null?void 0:v.name),H.stadiumLat=N.lat,H.stadiumLng=N.lng,H.stadiumAddress=(C==null?void 0:C.formattedAddress)||(v==null?void 0:v.address),H.stadiumDistrict=(C==null?void 0:C.district)||(v==null?void 0:v.district),H.stadiumCity=(C==null?void 0:C.city)||(v==null?void 0:v.city)):(H.stadiumName=v==null?void 0:v.name,H.stadiumLat=N.lat,H.stadiumLng=N.lng,H.stadiumAddress=v==null?void 0:v.address,H.stadiumDistrict=v==null?void 0:v.district,H.stadiumCity=v==null?void 0:v.city),yield c.confirmMatch(n,H),l()}catch(H){console.error("Confirm match error:",H),$(H.message||"C li xy ra, vui lng th li")}finally{Z(!1)}}),J=()=>{E||t()};return e?a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:J}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl max-h-[90vh] overflow-y-auto",children:[E&&a.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm rounded-t-3xl",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin mb-4"}),a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"ang cht ko..."})]}),a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Cht ko"}),a.jsx("button",{onClick:J,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gray-50 dark:bg-white/5 rounded-2xl",children:[a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx(Jt,{src:s.logo||"",size:"md"}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:s.name})]}),a.jsx("div",{className:"flex flex-col items-center justify-center px-4",children:a.jsx("div",{className:"text-2xl font-black text-primary",children:"VS"})}),a.jsxs("div",{className:"flex flex-col items-center gap-2 flex-1",children:[a.jsx(Jt,{src:i.logo||"",size:"md"}),a.jsx("span",{className:"text-xs font-bold truncate w-full text-center text-slate-900 dark:text-white",children:i.name}),i.level&&a.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:i.level})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Ngy thi u ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:p,onChange:H=>x(H.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Gi thi u ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"time",value:y,onChange:H=>b(H.target.value),className:"w-full px-4 py-3 rounded-xl bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:["Sn thi u ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(dv,{value:v,onChange:(H,W,ie)=>{j(H),P((H==null?void 0:H.source)||"custom"),U(ie||null),W&&w(W)},error:q&&!v?"Vui lng chn sn thi u":void 0})]})]}),q&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:q})}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx(ke,{className:"w-full py-3.5",onClick:D,disabled:E,children:E?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin"}),"ang cht..."]}):a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx(A,{name:"handshake"}),"Xc nhn cht ko"]})}),a.jsx("button",{onClick:J,className:"w-full py-3.5 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hy"})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(A,{name:"info",className:"text-blue-500 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-medium mb-1",children:"Cht ko trn u"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Sau khi cht ko, thng tin trn u s c gi n i th v trn u s chuyn sang trng thi Lch u."})]})]})})]}),d&&a.jsx(H2,{isOpen:d,onAllow:()=>m(!0),onDeny:()=>m(!1)})]}):null},Oz=({isOpen:e,onClose:t})=>{const[n,r]=k.useState("chat"),[s,i]=k.useState(!1),l=ra(b=>b.setHideMatchBookingGuide),c=["chat","approach","confirm"],d=c.indexOf(n),h=()=>{d<c.length-1?r(c[d+1]):p()},m=()=>{d>0&&r(c[d-1])},p=()=>{s&&l(!0),t()},x=b=>{i(b.target.checked)},y=()=>{switch(n){case"chat":return a.jsxs("div",{className:"flex flex-col items-center text-center w-full px-4",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/30",children:a.jsx(A,{name:vi.chat_bubble,className:"text-white",size:"3xl"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-blue-300 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-1 -left-3 w-4 h-4 rounded-full bg-blue-400 animate-pulse delay-100"})]}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:"Trao i vi i bn"}),a.jsxs("p",{className:"text-base text-gray-600 dark:text-gray-400 leading-relaxed max-w-sm",children:["Nhn tin vi admin i i th  thng nht"," ",a.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"ngy, gi"})," v"," ",a.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"a im"})," thi u"]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-200 dark:border-blue-800 w-full",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(A,{name:"lightbulb",className:"text-blue-500 mt-0.5"}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Mo"}),a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Nn trao i r rng v loi sn (5 ngi/7 ngi) v khung gi mong mun"})]})]})})]});case"approach":return a.jsxs("div",{className:"flex flex-col items-center w-full px-4",children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:"Chn cch thc cht ko"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Tnh trng ca bn hin ti?"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[a.jsxs("div",{className:"relative p-5 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-2xl border-2 border-green-200 dark:border-green-800/50 cursor-pointer hover:border-green-400 dark:hover:border-green-600 transition-all active:scale-95",onClick:h,children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center shadow-lg shadow-green-500/30 mb-3",children:a.jsx(A,{name:vi.stadium,className:"text-white",size:"xl"})}),a.jsx("h4",{className:"text-base font-bold text-green-700 dark:text-green-300 mb-2",children:" c sn"}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 leading-snug",children:"Bit sn s  v c thng tin r rng"})]}),a.jsx("div",{className:"absolute top-3 right-3 w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:a.jsx(A,{name:"check",size:"xs",className:"text-white"})})]}),a.jsxs("div",{className:"relative p-5 bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-2xl border-2 border-orange-200 dark:border-orange-800/50 cursor-pointer hover:border-orange-400 dark:hover:border-orange-600 transition-all active:scale-95",onClick:h,children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center shadow-lg shadow-orange-500/30 mb-3",children:a.jsx(A,{name:vi.groups,className:"text-white",size:"xl"})}),a.jsx("h4",{className:"text-base font-bold text-orange-700 dark:text-orange-300 mb-2",children:"Cha c sn"}),a.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400 leading-snug",children:"Cn trao i thm v thi gian, a im"})]}),a.jsx("div",{className:"absolute top-3 right-3 w-5 h-5 rounded-full bg-orange-500 flex items-center justify-center",children:a.jsx(A,{name:"check",size:"xs",className:"text-white"})})]})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4 text-center",children:"Chn mt trong hai trng hp trn  tip tc"})]});case"confirm":return a.jsxs("div",{className:"flex flex-col items-center text-center w-full px-4",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center shadow-lg shadow-purple-500/30",children:a.jsx(A,{name:vi.handshake,className:"text-white",size:"3xl"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-purple-300 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-1 -left-3 w-4 h-4 rounded-full bg-purple-400 animate-pulse delay-100"})]}),a.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:"Cht ko trn u"}),a.jsxs("p",{className:"text-base text-gray-600 dark:text-gray-400 leading-relaxed max-w-sm mb-6",children:["Sau khi  thng nht, nhp"," ",a.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"ngy, gi"})," v"," ",a.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"chn sn"}),"  hon tt"]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-full border border-blue-200 dark:border-blue-800",children:[a.jsx(A,{name:vi.chat_bubble,size:"xs",className:"text-blue-500"}),a.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:"Chat"})]}),a.jsx(A,{name:"arrow_forward",size:"xs",className:"text-gray-400"}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 dark:bg-green-900/20 rounded-full border border-green-200 dark:border-green-800",children:[a.jsx(A,{name:vi.stadium,size:"xs",className:"text-green-500"}),a.jsx("span",{className:"text-xs font-medium text-green-700 dark:text-green-300",children:"Thng nht"})]}),a.jsx(A,{name:"arrow_forward",size:"xs",className:"text-gray-400"}),a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-purple-50 dark:bg-purple-900/20 rounded-full border border-purple-200 dark:border-purple-800",children:[a.jsx(A,{name:vi.handshake,size:"xs",className:"text-purple-500"}),a.jsx("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-300",children:"Cht ko"})]})]})]})}};return e?a.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center px-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:p}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center",children:a.jsx(A,{name:"school",className:"text-white text-sm"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Hng dn cht ko"}),a.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:["Bc ",d+1," / ",c.length]})]})]}),a.jsx("button",{onClick:p,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400 text-sm"})})]}),a.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:c.map((b,v)=>a.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${v===d?"w-8 bg-gradient-to-r from-blue-500 to-purple-500":v<d?"w-8 bg-gradient-to-r from-blue-500 to-purple-500/30":"w-2 bg-gray-200 dark:bg-gray-700"}`},b))}),a.jsx("div",{className:"min-h-[320px] flex items-center justify-center px-4",children:y()}),a.jsxs("div",{className:"flex items-center gap-3 mt-6 px-4",children:[d>0?a.jsx("button",{onClick:m,className:"flex-1 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold hover:bg-gray-200 dark:hover:bg-white/10 transition-all active:scale-95",children:"Quay li"}):a.jsx("div",{className:"flex-1"}),a.jsx("button",{onClick:h,className:"flex-[2] py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl font-bold hover:from-blue-600 hover:to-purple-600 transition-all shadow-lg shadow-blue-500/25 active:scale-95 flex items-center justify-center gap-2",children:d===c.length-1?a.jsxs(a.Fragment,{children:[a.jsx(A,{name:"check_circle",size:"sm"})," hiu"]}):a.jsxs(a.Fragment,{children:["Tip tc",a.jsx(A,{name:"arrow_forward",size:"sm"})]})})]}),d===c.length-1&&a.jsxs("label",{className:"flex items-center justify-center gap-2 mt-4 px-4 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:x,className:"w-4 h-4 rounded border-gray-300 text-primary focus:ring-primary focus:ring-offset-0"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Khng hin hng dn ny li"})]})]})]}):null},Rz=({isOpen:e,onClose:t,matchId:n,myTeam:r,opponentTeam:s,initialData:i,onSuccess:l})=>{var C,U,E;const c=eo(),[d,h]=k.useState((C=i==null?void 0:i.teamAScore)!=null?C:0),[m,p]=k.useState((U=i==null?void 0:i.teamBScore)!=null?U:0),[x,y]=k.useState((E=i==null?void 0:i.notes)!=null?E:""),[b,v]=k.useState(!1),[j,N]=k.useState(null);A2(),k.useEffect(()=>{var Z,q,$;e&&(h((Z=i==null?void 0:i.teamAScore)!=null?Z:0),p((q=i==null?void 0:i.teamBScore)!=null?q:0),y(($=i==null?void 0:i.notes)!=null?$:""),N(null))},[e,i]);const w=()=>O(void 0,null,function*(){if(d<0||m<0){N("T s khng c m");return}v(!0),N(null);try{yield c.submitMatchResult(n,{teamAScore:d,teamBScore:m,notes:x.trim()||void 0}),l()}catch(Z){console.error("Submit result error:",Z),N(Z.message||"C li xy ra, vui lng th li")}finally{v(!1)}}),S=()=>{b||t()},P=(Z,q)=>{Z==="A"?h($=>Math.max(0,$+q)):p($=>Math.max(0,$+q))};return e?a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:S}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe-with-nav animate-slide-up shadow-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:(i==null?void 0:i.teamAScore)!==void 0?"Sa kt qu":"Nhp kt qu"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Nhp t s trn u"})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx(Jt,{src:r.logo,size:"md"}),a.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white mt-2 text-center",children:r.name})]}),a.jsx("div",{className:"text-gray-400 font-bold text-sm",children:"VS"}),a.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx(Jt,{src:s.logo,size:"md"}),a.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white mt-2 text-center",children:s.name})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-white/5 rounded-xl p-4 mb-4",children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-900 dark:text-white mb-3",children:["T s ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{type:"button",className:"w-10 h-10 rounded-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 flex items-center justify-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all",onClick:()=>P("A",-1),disabled:b,children:a.jsx(A,{name:"remove",size:"sm"})}),a.jsx("input",{type:"number",min:0,value:d,onChange:Z=>h(Math.max(0,parseInt(Z.target.value)||0)),className:"w-20 h-14 text-center text-2xl font-bold text-slate-900 dark:text-white bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:b}),a.jsx("button",{type:"button",className:"w-10 h-10 rounded-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 flex items-center justify-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all",onClick:()=>P("A",1),disabled:b,children:a.jsx(A,{name:"add",size:"sm"})})]})}),a.jsx("div",{className:"text-2xl font-bold text-gray-400 px-2",children:"-"}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{type:"button",className:"w-10 h-10 rounded-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 flex items-center justify-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all",onClick:()=>P("B",-1),disabled:b,children:a.jsx(A,{name:"remove",size:"sm"})}),a.jsx("input",{type:"number",min:0,value:m,onChange:Z=>p(Math.max(0,parseInt(Z.target.value)||0)),className:"w-20 h-14 text-center text-2xl font-bold text-slate-900 dark:text-white bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:b}),a.jsx("button",{type:"button",className:"w-10 h-10 rounded-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 flex items-center justify-center text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-white/10 active:scale-95 transition-all",onClick:()=>P("B",1),disabled:b,children:a.jsx(A,{name:"add",size:"sm"})})]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-bold text-slate-900 dark:text-white mb-2",children:"Ghi ch"}),a.jsx("textarea",{value:x,onChange:Z=>y(Z.target.value),placeholder:"Nhp ghi ch v trn u (ty chn)",rows:3,maxLength:200,className:"w-full px-4 py-3 text-sm bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",disabled:b}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[x.length,"/200"]})]}),j&&a.jsxs("div",{className:"mb-4 flex items-start gap-2 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx(A,{name:"error",size:"sm",className:"text-red-500 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:j})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx(ke,{variant:"secondary",className:"flex-1",onClick:S,disabled:b,children:"Hy"}),a.jsx(ke,{className:"flex-1",onClick:w,disabled:b,children:b?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin",size:"sm"}),"ang lu..."]}):"Lu kt qu"})]})]})]}):null},Dz=({jerseyNumber:e,position:t,className:n=""})=>!e&&!t?null:a.jsxs("div",{className:`
        flex items-center gap-4
        py-2 px-4
        bg-white/80 dark:bg-surface-dark/50
        rounded-full
        border border-gray-200 dark:border-white/5
        backdrop-blur-sm shadow-sm
        ${n}
      `,children:[e!=null&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"material-icons text-[#006af6] text-[18px]",children:"label"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["S o: ",a.jsx("span",{className:"text-slate-900 dark:text-white font-semibold",children:e})]})]}),t&&a.jsx("div",{className:"w-px h-4 bg-gray-200 dark:bg-white/10"})]}),t&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"material-icons text-[#006af6] text-[18px]",children:"sports_soccer"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["V tr: ",a.jsx("span",{className:"text-slate-900 dark:text-white font-semibold",children:t})]})]})]}),zz=({bannerUrl:e,userName:t,userAvatar:n,userPhone:r,userPosition:s,userJerseyNumber:i,userBio:l,isOnline:c=!0,onEditClick:d,minHeight:h=240,maxHeight:m=400,defaultHeight:p=280})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsxs("div",{className:"h-64 w-full bg-cover bg-center bg-gray-200 dark:bg-transparent",style:{backgroundImage:e?`url("${e}")`:void 0},children:[a.jsx("div",{className:"absolute inset-0 bottom-[-1px] bg-gradient-to-t from-background-dark to-transparent dark:from-background-dark dark:to-transparent"}),a.jsx("div",{className:"absolute inset-0 bottom-[-1px] bg-gradient-to-t from-white/80 to-transparent dark:from-transparent"}),!e&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#006af6] via-blue-600 to-cyan-500 dark:from-[#006af6] dark:via-blue-600 dark:to-cyan-500"})]}),a.jsxs("div",{className:"absolute -bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center",children:[a.jsx("div",{className:"p-1.5 rounded-full bg-white dark:bg-background-dark shadow-lg",children:a.jsx("div",{className:`
                h-24 w-24
                rounded-full
                bg-cover bg-center
                border-2 border-[#006af6]
                overflow-hidden
              `,style:{backgroundImage:n?`url("${n}")`:void 0},children:!n&&a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#006af6] to-blue-600 flex items-center justify-center text-white font-bold text-2xl",children:(t==null?void 0:t.charAt(0).toUpperCase())||"U"})})}),c&&a.jsx("div",{className:"absolute bottom-0 right-0 bg-green-500 size-5 rounded-full border-3 border-transparent shadow-lg shadow-green-500/30"})]})]}),a.jsxs("div",{className:"mt-14 flex flex-col items-center px-4",children:[a.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white",children:t||"Ngi dng"}),a.jsx("p",{className:"text-gray-600 dark:text-[#9aa9bc] text-base font-normal mt-1",children:r||"Cha cp nht s in thoi"}),a.jsx(Dz,{jerseyNumber:i,position:s,className:"mt-3"}),l&&a.jsx("p",{className:"text-xs text-gray-700 dark:text-white/80 text-center max-w-xs line-clamp-2 leading-relaxed mt-2",children:l})]})]}),np=({label:e,value:t,maxValue:n=100,color:r="#006af6"})=>{const s=Math.min(t/n*100,100);return a.jsxs("div",{className:"relative flex w-full flex-col gap-2 py-1",children:[a.jsxs("div",{className:"flex w-full items-center justify-between",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm font-medium",children:e}),a.jsx("span",{className:"font-bold text-sm",style:{color:r},children:t})]}),a.jsxs("div",{className:"relative h-2 w-full rounded-full bg-gray-200 dark:bg-[#394556]",children:[a.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full",style:{width:`${s}%`,backgroundColor:r}}),a.jsx("div",{className:"absolute -top-1 size-4 rounded-full bg-white border-2 shadow dark:border-gray-800",style:{left:`${s}%`,transform:"translateX(-50%)",borderColor:r}})]})]})},$z=({stats:e,maxValue:t=100,showInfo:n=!0,className:r=""})=>{const{attack:s,defense:i,technique:l}=e;return a.jsxs("div",{className:`
        flex flex-col gap-2
        bg-white dark:bg-surface-dark
        p-5 rounded-2xl
        shadow-lg
        border border-gray-100 dark:border-white/5
        ${r}
      `,children:[a.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[a.jsx("span",{className:"material-icons text-[#006af6]",children:"equalizer"}),a.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight",children:"Ch s c nhn"})]}),s!==void 0&&a.jsx(np,{label:"Tn cng",value:s,maxValue:t,color:"#ef4444"}),i!==void 0&&a.jsx(np,{label:"Phng ng",value:i,maxValue:t,color:"#3b82f6"}),l!==void 0&&a.jsx(np,{label:"K thut",value:l,maxValue:t,color:"#3b82f6"}),n&&a.jsxs("div",{className:"flex items-start gap-2 pt-2",children:[a.jsx("span",{className:"material-icons text-gray-400 dark:text-[#8e8e93] text-[16px] mt-0.5",children:"info"}),a.jsx("p",{className:"text-gray-500 dark:text-[#8e8e93] text-xs font-normal leading-normal",children:"D liu ny dng  tnh level i"})]})]})},Bz=({title:e,children:t,variant:n="default",className:r=""})=>{const s=`
    rounded-2xl border overflow-hidden
    transition-all duration-200
  `,i={default:"bg-white dark:bg-surface-dark border-gray-100 dark:border-white/5",danger:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800/30"};return a.jsxs("div",{className:`${s} ${i[n]} ${r}`,children:[e&&a.jsx("div",{className:"px-4 pt-3 pb-2",children:a.jsx("h4",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:e})}),t]})},rp=({icon:e,label:t,value:n,badge:r,color:s,showChevron:i=!0,onClick:l,disabled:c=!1,iconBackground:d=!0,variant:h="default",delay:m=0})=>{const x={default:{container:"hover:bg-gray-50 dark:hover:bg-white/5",leftBorder:"",iconBg:"bg-gray-100 dark:bg-white/10",iconColor:"text-gray-500",labelColor:"text-slate-900 dark:text-white",valueColor:"text-gray-500 dark:text-gray-400"},active:{container:"bg-primary/5 hover:bg-primary/10",leftBorder:"border-l-4 border-l-primary",iconBg:"bg-primary/20",iconColor:"text-primary",labelColor:"text-primary font-semibold",valueColor:"text-primary/70"},danger:{container:"hover:bg-red-50 dark:hover:bg-red-900/20",leftBorder:"",iconBg:"bg-red-100 dark:bg-red-900/30",iconColor:"text-red-500",labelColor:"text-red-500",valueColor:"text-red-400"}}[h],y=s||x.iconColor;return a.jsxs("div",{onClick:c?void 0:l,className:`
        flex items-center justify-between p-4
        border-b border-gray-100 dark:border-white/5 last:border-b-0
        transition-all duration-200
        ${x.container}
        ${x.leftBorder}
        ${c?"opacity-40 cursor-not-allowed":"cursor-pointer active:scale-[0.98]"}
        animate-slide-in-right
      `,style:{animationDelay:`${m}ms`},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 pb-1 rounded-xl ${d?x.iconBg:""}`,children:a.jsx(A,{name:e,className:`${y} text-lg`})}),a.jsx("span",{className:`font-medium ${x.labelColor}`,children:t})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsx("span",{className:`text-sm ${x.valueColor}`,children:n}),r&&a.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:r}),i&&!n&&!r&&a.jsx(A,{name:"chevron_right",className:"text-gray-400 text-sm"})]})]})},Fz=(e={})=>{const{threshold:t=.2,rootMargin:n="0px",triggerOnce:r=!0}=e,s=k.useRef(null),[i,l]=k.useState(!1),[c,d]=k.useState(!1);return k.useEffect(()=>{const h=s.current;if(!h)return;const m=new IntersectionObserver(([p])=>{p.isIntersecting?(l(!0),d(!0),r&&m.unobserve(h)):r||l(!1)},{threshold:t,rootMargin:n});return m.observe(h),()=>{h&&m.unobserve(h)}},[t,n,r]),{ref:s,isVisible:i,hasAnimated:c}},rr=({children:e,animation:t="slideUpFade",delay:n=0,className:r="",threshold:s=.2,triggerOnce:i=!0})=>{const{ref:l,isVisible:c}=Fz({threshold:s,triggerOnce:i}),d=c?t:"",h=n>0?{animationDelay:`${n}ms`}:{};return a.jsx("div",{ref:l,className:`scroll-animate ${d} ${r}`,style:h,children:e})},Uz=3,Hz=1e3;class Zz{constructor(){this.isInitialized=!1}initialize(t=0){return O(this,null,function*(){try{if(!this.hasValidToken())return{success:!0,shouldNavigate:!0,navigateTo:"login"};const r=yield Promise.all([this.loadUserProfile(),this.loadMyTeams()]),s=r[0],i=r[1];return s.success?i.success?(this.isInitialized=!0,{success:!0,shouldNavigate:!0,navigateTo:"dashboard"}):{success:!1,shouldNavigate:!1,error:i.error}:{success:!1,shouldNavigate:!1,error:s.error}}catch(n){return console.error("Launching error:",n),{success:!1,shouldNavigate:!1,error:n.message||"Khng th ti d liu. Vui lng th li."}}})}retry(t){return O(this,null,function*(){return t>=Uz?{success:!1,shouldNavigate:!1,error:" vt qu s ln th li. Vui lng ng nhp li."}:(yield new Promise(n=>setTimeout(n,Hz)),this.initialize(t))})}hasValidToken(){try{const{accessToken:t}=ff();return!!t}catch(t){return console.error("Error checking token:",t),!1}}loadUserProfile(){return O(this,null,function*(){try{const{useAuthStore:t}=yield ur(()=>O(this,null,function*(){const{useAuthStore:r}=yield Promise.resolve().then(()=>bD);return{useAuthStore:r}}),void 0,import.meta.url);return{success:!0,data:yield t.getState().getProfile()}}catch(t){return console.error("Error loading profile:",t),{success:!1,error:t.message||"Li kt ni khi ti thng tin ngi dng"}}})}loadMyTeams(){return O(this,null,function*(){try{const{useTeamStore:t}=yield ur(()=>O(this,null,function*(){const{useTeamStore:n}=yield Promise.resolve().then(()=>UD);return{useTeamStore:n}}),void 0,import.meta.url);return yield t.getState().fetchMyTeams(!0),{success:!0}}catch(t){return console.error("Error loading teams:",t),{success:!1,error:t.message||"Li kt ni khi ti danh sch i"}}})}loadFonts(){return O(this,null,function*(){return new Promise(t=>{"fonts"in document?O(this,null,function*(){try{yield Promise.all([document.fonts.load("24px Material Icons"),document.fonts.load("24px Material Symbols Outlined")]),document.body.classList.add("material-icons-loaded"),t(!0)}catch(r){console.warn("Font loading failed:",r),document.body.classList.add("material-icons-loaded"),t(!0)}}):setTimeout(()=>{document.body.classList.add("material-icons-loaded"),t(!0)},500)})})}reset(){this.isInitialized=!1}}const Rd=new Zz,__={status:"idle",error:null,retryCount:0,profileLoaded:!1,teamsLoaded:!1,fontsLoaded:!1,profile:null,teams:null},W2=sa(e=>le(R({},__),{setStatus:t=>e({status:t}),setError:t=>e({error:t,status:t?"error":"idle"}),incrementRetry:()=>e(t=>({retryCount:t.retryCount+1})),resetRetry:()=>e({retryCount:0}),reset:()=>e(__),setProfileLoaded:t=>e({profileLoaded:!0,profile:t,status:"loading_data"}),setTeamsLoaded:t=>e({teamsLoaded:!0,teams:t,status:"ready"}),setFontsLoaded:()=>e({fontsLoaded:!0})})),Wz=()=>{const e=W2();return{setStatus:e.setStatus,setError:e.setError,incrementRetry:e.incrementRetry,resetRetry:e.resetRetry,reset:e.reset,setProfileLoaded:e.setProfileLoaded,setTeamsLoaded:e.setTeamsLoaded,setFontsLoaded:e.setFontsLoaded}},ap=["sports_soccer","sports_basketball","sports_volleyball","sports","sports_handball","sports_tennis","sports_cricket","sports_golf"],Vz=()=>{const e=[];for(let t=0;t<20;t++){const n=t*7919,r=n%100,s=2+n%4,i=n%80/10,l=6+n%4;e.push({id:t,left:`${r}%`,size:s,delay:i,duration:l})}return e},Kz=Vz();function V2(){return a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:Kz.map(e=>a.jsx("div",{className:"absolute rounded-full bg-[#3b82f6]/20 animate-particle-float",style:{left:e.left,bottom:"-20px",width:e.size,height:e.size,animationDelay:`${e.delay}s`,animationDuration:`${e.duration}s`}},e.id))})}function Gz(){const[e,t]=k.useState(0);return k.useEffect(()=>{const i=setInterval(()=>{t(l=>(l+1)%ap.length)},1e3);return()=>clearInterval(i)},[]),a.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-8",children:[a.jsx("div",{className:"absolute inset-0 animate-sports-ring",children:a.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:a.jsx("circle",{cx:50,cy:50,r:80/2,fill:"none",stroke:"#3b82f6",strokeWidth:"0.5",strokeDasharray:"2 4",opacity:"0.3"})})}),ap.map((i,l)=>{const d=(l*360/ap.length-90)*Math.PI/180,h=50+35*Math.cos(d),m=50+35*Math.sin(d),p=l===e;return a.jsxs("div",{className:"absolute transition-all duration-500",style:{left:`${h}%`,top:`${m}%`,transform:"translate(-50%, -50%)"},children:[p&&a.jsx("div",{className:"absolute inset-0 -m-2 animate-pulse-ring",children:a.jsx("div",{className:"w-full h-full rounded-full bg-[#3b82f6]/30"})}),a.jsx("div",{className:`material-icons transition-all duration-500 ${p?"text-[#3b82f6] text-2xl scale-125":"text-gray-600 text-lg scale-100"}`,children:i})]},i)}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-[#3b82f6]/20 blur-xl animate-pulse"})})]})}function qz(){return a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-3 tracking-wide text-white animate-logo-pulse",children:"CP KO SPORT"}),a.jsx("p",{className:"text-gray-400 text-sm tracking-wider",children:"Kt ni am m th thao"})]})}function Yz({progress:e}){return a.jsxs("div",{className:"w-full max-w-xs mx-auto mb-8",children:[a.jsx("div",{className:"relative h-1.5 bg-gray-700/50 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-[#3b82f6] to-[#2563eb] rounded-full transition-all duration-300 ease-out",style:{width:`${e}%`},children:a.jsx("div",{className:"absolute inset-0 bg-white/30 animate-pulse"})})}),a.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[a.jsx("span",{children:"ang ti..."}),a.jsxs("span",{children:[Math.round(e),"%"]})]})]})}function Jz({progress:e}){return a.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-dvh bg-gradient-to-br from-slate-900 via-gray-800 to-slate-900 text-white px-6 pt-safe pb-safe overflow-hidden",children:[a.jsx(V2,{}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 w-full max-w-md",children:[a.jsx(Gz,{}),a.jsx(qz,{}),a.jsx(Yz,{progress:e}),a.jsx("div",{className:"flex gap-2 mt-4",children:[0,1,2].map(t=>a.jsx("div",{className:"w-2 h-2 bg-[#3b82f6] rounded-full animate-bounce",style:{animationDelay:`${t*.15}s`}},t))})]}),a.jsx("div",{className:"relative z-10 mt-auto mb-4 text-xs text-gray-600",children:"Version 1.0.0"})]})}function Qz({error:e,onRetry:t,onLoginAgain:n}){return a.jsxs("div",{className:"relative flex flex-col items-center justify-center min-h-dvh bg-gradient-to-br from-slate-900 via-gray-800 to-slate-900 text-white px-6 pt-safe pb-safe overflow-hidden",children:[a.jsx(V2,{}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 w-full max-w-md",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-0 bg-red-500/20 rounded-full blur-xl animate-pulse"}),a.jsx("div",{className:"material-icons text-red-500 text-7xl relative",children:"error_outline"})]}),a.jsx("h2",{className:"text-xl font-semibold mb-3 text-center",children:"Khng th ti d liu"}),a.jsx("p",{className:"text-gray-400 text-center mb-3 max-w-xs",children:e||"C li xy ra khi ti d liu"}),a.jsx("p",{className:"text-gray-500 text-sm mb-8 text-center",children:"Kim tra kt ni mng v th li"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full max-w-xs",children:[a.jsxs("button",{onClick:t,className:"flex-1 px-6 py-3.5 bg-[#3b82f6] hover:bg-[#2563eb] text-white font-medium rounded-xl transition-all duration-200 flex items-center justify-center gap-2 shadow-lg shadow-[#3b82f6]/20 hover:shadow-[#3b82f6]/30 active:scale-95",children:[a.jsx("span",{className:"material-icons text-xl",children:"refresh"}),"Th li"]}),a.jsxs("button",{onClick:n,className:"flex-1 px-6 py-3.5 bg-gray-700/50 hover:bg-gray-700 text-white font-medium rounded-xl transition-all duration-200 flex items-center justify-center gap-2 border border-gray-600/50 active:scale-95",children:[a.jsx("span",{className:"material-icons text-xl",children:"login"}),"ng nhp li"]})]})]}),a.jsx("div",{className:"relative z-10 mt-auto mb-4 text-xs text-gray-600",children:"Version 1.0.0"})]})}function Xz(){const e=jt(),{status:t,error:n,retryCount:r}=W2(),{setStatus:s,setError:i,incrementRetry:l,setFontsLoaded:c}=Wz(),[d,h]=k.useState(0);k.useEffect(()=>{if(t==="loading"||t==="auth_checking"||t==="loading_data"){const x=setInterval(()=>{h(y=>y>=90?y:y+Math.random()*15)},300);return()=>clearInterval(x)}},[t]),k.useEffect(()=>{t==="idle"||t==="error"?h(0):t==="ready"&&h(100)},[t]),k.useEffect(()=>{let x=!0;return O(this,null,function*(){try{if(s("loading"),yield Rd.loadFonts(),!x||(c(),h(30),yield new Promise(v=>setTimeout(v,800)),!x))return;h(50),s("auth_checking");const b=yield Rd.initialize(r);if(!x)return;if(h(100),b.success)if(b.shouldNavigate){if(yield new Promise(v=>setTimeout(v,300)),!x)return;b.navigateTo==="login"?e("/login",{replace:!0}):b.navigateTo==="dashboard"&&e("/dashboard",{replace:!0})}else s("ready");else i(b.error||"Khng th ti d liu")}catch(b){if(!x)return;const v=b instanceof Error?b.message:"C li xy ra";i(v)}}),()=>{x=!1}},[r]);const m=()=>{i(null),l()},p=()=>{Rd.reset(),e("/login",{replace:!0})};return t==="error"?a.jsx(Qz,{error:n,onRetry:m,onLoginAgain:p}):a.jsx(Jz,{progress:d})}const e6=()=>{const e=jt(),[t,n]=k.useState(!1),[r,s]=k.useState(null);k.useEffect(()=>{Rd.loadFonts().catch(l=>{console.warn("Font loading failed:",l)})},[]);const i=()=>O(void 0,null,function*(){try{n(!0),s(null),console.log("Starting Zalo 3-Step authentication...");const l=yield Lh.authenticateWithThreeSteps();if(l.success)e("/",{replace:!0});else throw new Error(l.error||l.message||"Authentication failed")}catch(l){console.error("Login error:",l),s(l instanceof Error?l.message:"Khng th ng nhp. Vui lng th li.")}finally{n(!1)}});return a.jsxs("div",{className:"relative min-h-screen flex flex-col bg-background-light dark:bg-background-dark",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-64 bg-gradient-to-b from-primary/10 to-transparent pointer-events-none","aria-hidden":"true"}),a.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none","aria-hidden":"true",children:a.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, currentColor 0.5px, transparent 0)",backgroundSize:"24px 24px",color:"rgba(59, 130, 246, 0.1)"}})}),a.jsxs("main",{className:"relative z-10 flex-1 flex flex-col items-center justify-center px-6 py-12",children:[a.jsxs("div",{className:"text-center mb-8 animate-fade-in",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 mb-4 bg-primary rounded-2xl shadow-xl animate-pulse-slow","aria-hidden":"true",children:a.jsx("span",{className:"material-icons text-white text-4xl animate-icon-bounce",children:"sports_soccer"})}),a.jsx("h1",{className:`${ut["3xl"]} font-extrabold text-slate-900 dark:text-white mb-2`,children:"Cp Ko Sport"}),a.jsx("p",{className:`${ut.base} text-gray-600 dark:text-gray-400`,children:"Kt ni am m th thao"})]}),a.jsxs("div",{className:"w-full max-w-[380px] bg-white dark:bg-surface-dark rounded-2xl shadow-2xl p-6 animate-slide-up",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("h2",{className:`${ut.xl} font-bold text-slate-900 dark:text-white mb-2`,children:[a.jsx("span",{"aria-hidden":"true",children:""}),a.jsx("span",{className:"sr-only",children:"Bng "}),"Cho mng!"]}),a.jsx("p",{className:`${ut.base} text-gray-600 dark:text-gray-400`,children:"Tham gia cng ng  bng"})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",role:"list","aria-label":"Tnh nng chnh",children:[{icon:"flash_on",label:"Tm ko cc nhanh"},{icon:"groups",label:"Qun l i bng"},{icon:"emoji_events",label:"Lu gi k nim"}].map(l=>a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 dark:bg-white/10 rounded-full",role:"listitem",children:[a.jsx("span",{className:"material-icons text-primary text-sm","aria-hidden":"true",children:l.icon}),a.jsx("span",{className:`${ut.caption} font-medium text-gray-700 dark:text-gray-300`,children:l.label})]},l.label))}),r&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl animate-bounce-in",role:"alert","aria-live":"polite",children:a.jsxs("p",{className:`${ut.small} text-red-600 dark:text-red-400 text-center`,children:[a.jsx("span",{"aria-hidden":"true",children:""}),a.jsx("span",{className:"sr-only",children:"Li:"}),r]})}),a.jsxs("button",{onClick:i,disabled:t,"aria-describedby":"login-info","aria-busy":t,className:"group relative w-full h-14 flex items-center justify-center gap-3 bg-gradient-to-r from-[#0068FF] to-[#0056CC] hover:from-[#0056CC] hover:to-[#004599] text-white rounded-2xl shadow-lg hover:shadow-xl transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 overflow-hidden focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700","aria-hidden":"true"}),t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}),a.jsxs("span",{className:`${ut.base} font-semibold`,children:["ang ng nhp...",a.jsx("span",{className:"sr-only",children:"vui lng ch"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm2.59-11.41L12 10l-2.59 1.41L8 11l2.59-1.41L12 8l1.41 1.59L16 11l-2.59 1.41L12 14l-1.41-1.59L8 13l2.59-1.41L12 10z"})}),a.jsx("span",{className:`${ut.base} font-semibold`,children:"ng nhp bng Zalo"})]})]}),a.jsx("div",{id:"login-info",className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800/50 rounded-xl",children:a.jsxs("p",{className:`${ut.caption} text-blue-600 dark:text-blue-400 text-center leading-relaxed`,children:[a.jsx("span",{"aria-hidden":"true",children:""}),"Dng Zalo  ng nhp, to i, tm ko v lin lc vi i th"]})}),a.jsxs("p",{className:`${ut.caption} text-gray-400 text-center mt-4`,children:["Bng vic tip tc, bn ng  vi"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline focus:outline-none focus:ring-1 focus:ring-primary focus:ring-offset-1 rounded","aria-label":"Xem iu khon s dng",children:"iu khon"})," ","&"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline focus:outline-none focus:ring-1 focus:ring-primary focus:ring-offset-1 rounded","aria-label":"Xem chnh sch bo mt",children:"Chnh sch bo mt"})]})]}),a.jsx("div",{className:"mt-6 grid grid-cols-3 gap-3 max-w-[380px] w-full",role:"list","aria-label":"Tnh nng ni bt",children:[{icon:"flash_on",title:"Tm ko cc nhanh",desc:"Ghp i th trong vi giy"},{icon:"groups",title:"Qun l i bng",desc:"im danh, thu qu d dng"},{icon:"emoji_events",title:"Lu gi k nim",desc:"Xy dng profile thnh tch"}].map(l=>a.jsxs("article",{className:"text-center p-3 bg-white dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-gray-700",role:"listitem",children:[a.jsx("div",{className:"w-9 h-9 mx-auto mb-2 rounded-lg bg-primary/10 flex items-center justify-center","aria-hidden":"true",children:a.jsx("span",{className:"material-icons text-primary",children:l.icon})}),a.jsx("p",{className:`${ut.caption} text-slate-900 dark:text-white font-medium mb-0.5`,children:l.title}),a.jsx("p",{className:`${ut.caption} text-gray-500 dark:text-gray-400 leading-tight`,children:l.desc})]},l.title))})]})]})},t6=({onScrollToContent:e})=>a.jsxs("section",{className:"relative min-h-screen flex flex-col items-center justify-center px-6 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary via-primary/90 to-cyan-500 animate-hero-gradient"}),a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((t,n)=>a.jsx("div",{className:"absolute animate-soccer-ball opacity-20",style:{left:`${15+n*15}%`,top:`${10+n%3*30}%`,animationDelay:`${n*.8}s`,animationDuration:`${5+n}s`},children:a.jsx("span",{className:"material-icons text-white text-4xl",children:"sports_soccer"})},n))}),a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(5)].map((t,n)=>a.jsx("div",{className:"absolute h-px w-32 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-speed-lines",style:{left:`${20+n*15}%`,top:`${20+n*15}%`,animationDelay:`${n*.4}s`}},n))}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-lg",children:[a.jsx("div",{className:"mb-6 animate-bounce-in",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full border border-white/30",children:[a.jsx("span",{className:"material-icons text-yellow-300 text-xl",children:"flash_on"}),a.jsx("span",{className:"text-white font-semibold text-sm",children:"Tm ko cc nhanh"})]})}),a.jsxs("h1",{className:`${ut["4xl"]} font-extrabold text-white mb-4 leading-tight animate-fade-in onboarding-delay-100`,children:["Tm ko  bng",a.jsx("br",{}),a.jsx("span",{className:"text-yellow-300",children:"Cc nhanh, cc cht"})]}),a.jsx("p",{className:`${ut.base} text-white/90 mb-8 leading-relaxed animate-fade-in onboarding-delay-200`,children:"Qut tri, qut phi. H thng t ng ghp ko da trn trnh , khu vc v thi gian ca bn."}),a.jsxs("div",{className:"relative w-64 h-40 mb-10 animate-scale-in onboarding-delay-300",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-3xl blur-xl animate-neon-pulse"}),a.jsx("div",{className:"relative h-full bg-white/10 backdrop-blur-md rounded-3xl border border-white/20 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"material-icons text-white/60 text-5xl mb-2",children:"sports"}),a.jsx("p",{className:"text-white/80 text-sm",children:"VS"})]})})]}),a.jsx("button",{onClick:e,className:"group relative px-8 py-4 bg-white text-primary font-bold rounded-2xl shadow-xl hover:shadow-2xl transition-all hover:scale-105 active:scale-95 animate-fade-in onboarding-delay-400",children:a.jsxs("span",{className:"flex items-center gap-2",children:["Bt u tm ko ngay",a.jsx("span",{className:"material-icons group-hover:translate-x-1 transition-transform",children:"arrow_downward"})]})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full",children:a.jsx("path",{d:"M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z",fill:"currentColor",className:"text-background-light dark:text-background-dark"})})})]}),n6=[{icon:"target",title:"Tm i th cng trnh ",description:"H thng phn tch trnh  i bng  ghp cp hp l",color:Km.match.text},{icon:"location_on",title:"Gn bn - Sn quen",description:"Tm ko theo khu vc, sn bng yu thch ca bn",color:Km.team.text},{icon:"schedule",title:"Lch rnh t ng",description:"ng b thi gian rnh  tm ko ph hp nht",color:Km.match.text}],r6=()=>a.jsx("section",{className:"min-h-screen py-20 px-6 flex items-center bg-background-light dark:bg-background-dark",children:a.jsxs("div",{className:"max-w-lg mx-auto w-full",children:[a.jsx(rr,{animation:"slideUpFade",children:a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-emerald-400 mb-4",children:a.jsx("span",{className:"material-icons text-white text-3xl",children:"sports_soccer"})}),a.jsx("h2",{className:`${ut["3xl"]} font-extrabold text-slate-900 dark:text-white mb-3`,children:"Ghp ko thng minh"}),a.jsx("p",{className:`${ut.base} text-gray-500 dark:text-gray-400`,children:"Tm i th ph hp ch trong vi giy"})]})}),a.jsx("div",{className:"space-y-4",children:n6.map((e,t)=>a.jsx(rr,{animation:"slideUpFade",delay:t*100,children:a.jsxs("div",{className:"group relative p-5 bg-white dark:bg-surface-dark rounded-2xl border border-gray-200 dark:border-gray-700 hover:border-primary/50 dark:hover:border-primary/50 transition-all hover:shadow-lg hover:shadow-primary/10 hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl ${e.color.replace("text-","bg-").replace("-500","/10")} ${e.color} flex items-center justify-center group-hover:scale-110 transition-transform`,children:a.jsx("span",{className:"material-icons text-xl",children:e.icon})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`${ut.lg} font-bold text-slate-900 dark:text-white mb-1`,children:e.title}),a.jsx("p",{className:`${ut.small} text-gray-500 dark:text-gray-400 leading-relaxed`,children:e.description})]})]}),a.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-r from-primary/5 to-emerald-400/5 opacity-0 group-hover:opacity-100 transition-opacity -z-10"})]})},e.title))}),a.jsx(rr,{animation:"fadeIn",delay:300,children:a.jsx("div",{className:"mt-10 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-white/5 rounded-full",children:[a.jsx("span",{className:"material-icons text-gray-400 text-sm",children:"swipe"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Qut tri/phi  tm ko"})]})})})]})}),a6=[{icon:"how_to_reg",title:"im danh thnh vin",description:"Theo di attendance d dng"},{icon:"payments",title:"Thu qu i bng",description:"Qun l ti chnh minh bch"},{icon:"format_list_numbered",title:"Sp xp i hnh",description:"Xp t chin thut nhanh chng"},{icon:"analytics",title:"Thng k ch s",description:"Theo di performance cu th"}],s6=()=>a.jsx("section",{className:"min-h-[70vh] py-16 px-6 flex items-center bg-background-light dark:bg-background-dark",children:a.jsxs("div",{className:"max-w-lg mx-auto w-full",children:[a.jsx(rr,{animation:"slideUpFade",children:a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 mb-3",children:a.jsx("span",{className:"material-icons text-white text-2xl",children:"groups"})}),a.jsx("h2",{className:`${ut["2xl"]} font-extrabold text-slate-900 dark:text-white mb-2`,children:"Qun l i bng chuyn nghip"}),a.jsx("p",{className:`${ut.small} text-gray-500 dark:text-gray-400`,children:"Mi thng tin thnh vin v ch s k nng u c s ha"})]})}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:a6.map((e,t)=>a.jsx(rr,{animation:"scaleIn",delay:t*75,children:a.jsxs("div",{className:"group p-4 bg-white dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-gray-700 hover:border-blue-500/50 dark:hover:border-blue-500/50 transition-all hover:shadow-lg",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 text-blue-500 flex items-center justify-center mb-3 group-hover:scale-110 transition-transform",children:a.jsx("span",{className:"material-icons",children:e.icon})}),a.jsx("h3",{className:`${ut.base} font-bold text-slate-900 dark:text-white mb-1`,children:e.title}),a.jsx("p",{className:`${ut.caption} text-gray-500 dark:text-gray-400 leading-snug`,children:e.description})]})},e.title))})]})}),i6=[{icon:"history",title:"Lch s i u",description:"Xem li cc trn u  qua"},{icon:"emoji_events",title:"Thnh tch i bng",description:'Profile ngy cng "ngu" hn'},{icon:"insights",title:"Thng k cu th",description:"Theo di ch s c nhn"}],o6=()=>a.jsx("section",{className:"min-h-[60vh] py-16 px-6 flex items-center bg-gradient-to-b from-background-light to-amber-50/30 dark:from-background-dark dark:to-amber-950/10",children:a.jsxs("div",{className:"max-w-lg mx-auto w-full",children:[a.jsx(rr,{animation:"slideUpFade",children:a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-amber-500 to-yellow-500 mb-3",children:a.jsx("span",{className:"material-icons text-white text-2xl",children:"military_tech"})}),a.jsx("h2",{className:`${ut["2xl"]} font-extrabold text-slate-900 dark:text-white mb-2`,children:"Lu gi k nim, xy dng thnh tch"}),a.jsx("p",{className:`${ut.small} text-gray-500 dark:text-gray-400`,children:"Ghi li t s, khonh khc bn thng p"})]})}),a.jsx("div",{className:"space-y-3",children:i6.map((e,t)=>a.jsx(rr,{animation:"slideInLeft",delay:t*75,children:a.jsxs("div",{className:"group flex items-center gap-4 p-4 bg-white/80 dark:bg-surface-dark/80 backdrop-blur rounded-xl border border-amber-200/50 dark:border-amber-900/30 hover:border-amber-400/50 dark:hover:border-amber-600/50 transition-all hover:shadow-lg hover:shadow-amber-500/10",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-amber-400/20 rounded-full blur-lg animate-pulse"}),a.jsx("div",{className:"relative w-12 h-12 rounded-full bg-gradient-to-br from-amber-400 to-yellow-500 flex items-center justify-center",children:a.jsx("span",{className:"material-icons text-white",children:e.icon})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`${ut.base} font-bold text-slate-900 dark:text-white mb-0.5`,children:e.title}),a.jsx("p",{className:`${ut.caption} text-gray-500 dark:text-gray-400`,children:e.description})]}),a.jsx("span",{className:"material-icons text-amber-500 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all",children:"chevron_right"})]})},e.title))})]})}),l6=[{number:1,title:"To i bng",description:"Thm thng tin i, logo, v trnh ",icon:"group_add"},{number:2,title:"Thit lp lch",description:"t thi gian rnh v khu vc a thch",icon:"schedule"},{number:3,title:"Ghp ko & Cht",description:"Tm i th v xc nhn trn u",icon:"check_circle"}],c6=()=>a.jsx("section",{className:"min-h-screen py-20 px-6 flex items-center bg-background-light dark:bg-background-dark",children:a.jsxs("div",{className:"max-w-lg mx-auto w-full",children:[a.jsx(rr,{animation:"slideUpFade",children:a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-primary to-emerald-400 mb-3",children:a.jsx("span",{className:"material-icons text-white text-2xl",children:"rocket_launch"})}),a.jsx("h2",{className:`${ut["3xl"]} font-extrabold text-slate-900 dark:text-white mb-2`,children:"Ch 3 bc  c ko"}),a.jsx("p",{className:`${ut.base} text-gray-500 dark:text-gray-400`,children:"Bt u trn giao lu ngay hm nay"})]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-[19px] top-0 bottom-0 w-0.5 bg-gradient-to-b from-primary via-primary/50 to-transparent"}),a.jsx("div",{className:"space-y-8",children:l6.map((e,t)=>a.jsx(rr,{animation:"slideInLeft",delay:t*100,children:a.jsxs("div",{className:"relative flex items-start gap-4",children:[a.jsx("div",{className:"relative z-10 flex-shrink-0",children:a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary to-emerald-400 flex items-center justify-center shadow-lg shadow-primary/30",children:a.jsx("span",{className:"material-icons text-white text-lg",children:e.icon})})}),a.jsxs("div",{className:"flex-1 pt-1",children:[a.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[a.jsxs("span",{className:`${ut.lg} font-bold text-primary`,children:["Bc ",e.number]}),a.jsx("span",{className:`${ut.base} font-semibold text-slate-900 dark:text-white`,children:e.title})]}),a.jsx("p",{className:`${ut.small} text-gray-500 dark:text-gray-400`,children:e.description})]})]})},e.number))})]}),a.jsx(rr,{animation:"fadeIn",delay:300,children:a.jsx("div",{className:"mt-10 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-primary/10 to-emerald-400/10 rounded-full border border-primary/20",children:[a.jsx("span",{className:"material-icons text-primary text-sm",children:"celebration"}),a.jsx("span",{className:`${ut.small} font-medium text-primary`,children:"Giao lu ngay - Hc hi - Kt ni"})]})})})]})}),u6=({onZaloLogin:e,isLoading:t})=>a.jsxs("section",{className:"min-h-[60vh] py-20 px-6 flex items-center bg-gradient-to-b from-background-light to-primary/5 dark:from-background-dark dark:to-primary/10",children:[a.jsxs("div",{className:"max-w-lg mx-auto w-full text-center",children:[a.jsx(rr,{animation:"slideUpFade",children:a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-3xl bg-gradient-to-br from-primary to-emerald-400 mb-6 animate-floating-bob",children:a.jsx("span",{className:"material-icons text-white text-4xl",children:"sports_soccer"})}),a.jsx("h2",{className:`${ut["3xl"]} font-extrabold text-slate-900 dark:text-white mb-3`,children:"Sn sng tm ko hm nay?"}),a.jsx("p",{className:`${ut.base} text-gray-500 dark:text-gray-400`,children:"Tham gia cng ng  bng ln nht"})]})}),a.jsx(rr,{animation:"bounceIn",delay:100,children:a.jsxs("button",{onClick:e,disabled:t,className:"group relative w-full h-16 flex items-center justify-center gap-3 bg-gradient-to-r from-[#0068FF] to-[#0056CC] hover:from-[#0056CC] hover:to-[#004599] text-white rounded-2xl shadow-[0_8px_24px_rgba(0,104,255,0.4)] hover:shadow-[0_12px_32px_rgba(0,104,255,0.5)] transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 animate-subtle-pulse overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.jsx("span",{className:`${ut.lg} font-bold`,children:"ang ng nhp..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm2.59-11.41L12 10l-2.59 1.41L8 11l2.59-1.41L12 8l1.41 1.59L16 11l-2.59 1.41L12 14l-1.41-1.59L8 13l2.59-1.41L12 10z"})}),a.jsx("span",{className:`${ut.lg} font-bold`,children:"ng nhp bng Zalo"})]})]})}),a.jsx(rr,{animation:"fadeIn",delay:200,children:a.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[a.jsx("span",{className:"material-icons text-sm",children:"lock"}),a.jsx("span",{className:`${ut.caption}`,children:"Bo mt"})]}),a.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[a.jsx("span",{className:"material-icons text-sm",children:"verified_user"}),a.jsx("span",{className:`${ut.caption}`,children:"An ton"})]}),a.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300"}),a.jsxs("div",{className:"flex items-center gap-1.5 text-gray-400",children:[a.jsx("span",{className:"material-icons text-sm",children:"bolt"}),a.jsx("span",{className:`${ut.caption}`,children:"Nhanh chng"})]})]})}),a.jsx(rr,{animation:"fadeIn",delay:300,children:a.jsxs("p",{className:`${ut.caption} text-gray-400 mt-6`,children:["Bng vic tip tc, bn ng  vi"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"iu khon s dng"})," ","v"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Chnh sch bo mt"})]})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a.jsx("svg",{viewBox:"0 0 1440 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full",children:a.jsx("path",{d:"M0 0V60C60 75 120 90 180 90C240 90 300 75 360 67.5C420 60 480 60 540 60C600 60 660 60 720 60C780 60 840 60 900 60C960 60 1020 60 1080 67.5C1140 75 1200 90 1260 90C1320 90 1380 75 1440 60V0H0Z",fill:"currentColor",className:"text-background-light dark:text-background-dark"})})})]}),Nt={success:e=>$o.getState().addToast("success",e),error:e=>$o.getState().addToast("error",e),warning:e=>$o.getState().addToast("warning",e),info:e=>$o.getState().addToast("info",e)},d6=()=>{const e=jt(),[t,n]=k.useState(!1),r=k.useRef(null),s=()=>{var c;(c=r.current)==null||c.scrollIntoView({behavior:"smooth"})},i=()=>O(void 0,null,function*(){n(!0);try{const c=yield Lh.authenticateWithThreeSteps();c.success?e(Ae.dashboard):(console.error("Login failed:",c.error),Nt.error(c.error||"ng nhp tht bi"))}catch(c){console.error("Zalo login error:",c),Nt.error("C li xy ra, vui lng th li")}finally{n(!1)}}),l=()=>{e(Ae.dashboard)};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark relative",children:[a.jsx("button",{onClick:l,className:"fixed top-4 right-4 z-50 px-4 py-2 text-sm font-semibold text-gray-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors bg-white/80 dark:bg-white/10 backdrop-blur-sm rounded-full",children:"B qua"}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.jsx(t6,{onScrollToContent:s}),a.jsxs("div",{ref:r,children:[a.jsx(r6,{}),a.jsx(s6,{}),a.jsx(o6,{}),a.jsx(c6,{})]}),a.jsx(u6,{onZaloLogin:i,isLoading:t})]})]})},xf=sa()((e,t)=>({_hasFetched:!1,pendingInvitations:[],isLoading:!1,error:null,setPendingInvitations:n=>e({pendingInvitations:n}),clearHomeData:()=>{e({_hasFetched:!1,pendingInvitations:[],error:null})},fetchHomeData:(n=!1)=>O(void 0,null,function*(){var r;try{const s=t();if(s.isLoading){console.log("[HomeStore]  Skipping fetch - already loading");return}if(!n&&s._hasFetched){console.log("[HomeStore]  Already fetched, use forceRefresh=true to refresh");return}console.log("[HomeStore]  Fetching home data..."),e({isLoading:!0,error:null});const i=yield ur(()=>import("./notification.store.mCbXZ9Kf.module.js"),[],import.meta.url),l=yield ur(()=>Promise.resolve().then(()=>QD),void 0,import.meta.url),c=i.useNotificationStore.getState(),d=l.useMatchStore.getState(),h=yield c.fetchNotifications({type:I2.NEW_MATCH,unreadOnly:!0});console.log("[HomeStore]  Fetched invitations:",h),console.log("[HomeStore]  Invitations count:",h.length),console.log("[HomeStore]  First invitation:",h[0]),d.fetchUpcomingMatches(void 0,1).catch(m=>{console.error("[HomeStore] Failed to fetch upcoming matches:",m)}),e({_hasFetched:!0,pendingInvitations:h,isLoading:!1,error:null}),console.log("[HomeStore]  Successfully fetched home data"),console.log("[HomeStore]  Store state after update:",t())}catch(s){console.error("[HomeStore]  Fetch home data error:",s);const i=((r=s.error)==null?void 0:r.message)||s.message||"Khng th ti d liu";throw e({error:i,isLoading:!1}),s}})})),h6=()=>xf(e=>e.pendingInvitations),f6=()=>xf(e=>e.isLoading),m6=()=>xf(e=>e.error),p6=()=>{const e=xf();return{setPendingInvitations:e.setPendingInvitations,clearHomeData:e.clearHomeData,fetchHomeData:e.fetchHomeData}},g6=sa((e,t)=>({myInvites:[],inviteDetails:new Map,isLoading:!1,isLoadingDetails:!1,error:null,_fetched:!1,_fetchedDetails:{},setMyInvites:n=>e({myInvites:n}),setInviteDetails:(n,r)=>e(s=>{const i=new Map(s.inviteDetails);return i.set(n,r),{inviteDetails:i}}),addInvite:n=>e(r=>({myInvites:[n,...r.myInvites]})),updateInvite:(n,r)=>e(s=>({myInvites:s.myInvites.map(i=>i.id===n?R(R({},i),r):i),inviteDetails:(()=>{const i=new Map(s.inviteDetails),l=i.get(n);return l&&i.set(n,R(R({},l),r)),i})()})),removeInvite:n=>e(r=>({myInvites:r.myInvites.filter(s=>s.id!==n),inviteDetails:(()=>{const s=new Map(r.inviteDetails);return s.delete(n),s})()})),clearError:()=>e({error:null}),setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),fetchMyInvites:(n=!1)=>O(void 0,null,function*(){var r,s;try{const i=t();if(i.isLoading)return console.log("[PhoneInviteStore] Skipping fetch - already loading"),i.myInvites;if(!n&&i._fetched)return console.log("[PhoneInviteStore] Skipping fetch - already fetched (use forceRefresh=true)"),i.myInvites;e({isLoading:!0,error:null});const l=yield Pe.get("/phone-invites/my-invites");if(l.success&&l.data){const c=Array.isArray(l.data)?l.data:[];return e({myInvites:c,_fetched:!0,error:null}),c}else throw new Error(((r=l.error)==null?void 0:r.message)||"Failed to fetch invites")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th ti li mi";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}}),getInviteDetails:(n,r=!1)=>O(void 0,null,function*(){var s,i;try{const l=t();if(!r&&l._fetchedDetails[n]){const d=l.inviteDetails.get(n);if(d)return d}e({isLoadingDetails:!0,error:null});const c=yield Pe.get(`/phone-invites/${n}`);if(c.success&&c.data)return t().setInviteDetails(n,c.data),t().updateInvite(n,c.data),e({_fetchedDetails:le(R({},l._fetchedDetails),{[n]:!0}),error:null}),c.data;throw new Error(((s=c.error)==null?void 0:s.message)||"Failed to fetch invite details")}catch(l){const c=((i=l.error)==null?void 0:i.message)||l.message||"Khng th ti chi tit li mi";throw e({error:c,isLoadingDetails:!1}),l}finally{e({isLoadingDetails:!1})}}),respondInvite:(n,r)=>O(void 0,null,function*(){var s,i;try{e({isLoading:!0,error:null});const l=yield Pe.post(`/phone-invites/${n}/respond`,{action:r});if(l.success&&l.data)t().updateInvite(n,l.data),r==="decline"&&setTimeout(()=>{t().removeInvite(n)},500);else throw new Error(((s=l.error)==null?void 0:s.message)||"Failed to respond to invite")}catch(l){const c=((i=l.error)==null?void 0:i.message)||l.message||"Khng th phn hi li mi";throw e({error:c,isLoading:!1}),l}finally{e({isLoading:!1})}}),sendPhoneInvite:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.post("/phone-invites/send",n);if(i.success&&i.data)return t().addInvite(i.data),i.data;throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to send invite")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th gi li mi";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}}),cancelInvite:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.delete(`/phone-invites/${n}`);if(i.success)t().updateInvite(n,{status:"cancelled"}),setTimeout(()=>{t().removeInvite(n)},500);else throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to cancel invite")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th hy li mi";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}}),resendInvite:n=>O(void 0,null,function*(){var r,s;try{e({isLoading:!0,error:null});const i=yield Pe.post(`/phone-invites/${n}/resend`);if(i.success&&i.data)return t().updateInvite(n,i.data),i.data;throw new Error(((r=i.error)==null?void 0:r.message)||"Failed to resend invite")}catch(i){const l=((s=i.error)==null?void 0:s.message)||i.message||"Khng th gi li li mi";throw e({error:l,isLoading:!1}),i}finally{e({isLoading:!1})}})})),x6=()=>{const e=g6();return{setMyInvites:e.setMyInvites,setInviteDetails:e.setInviteDetails,addInvite:e.addInvite,updateInvite:e.updateInvite,removeInvite:e.removeInvite,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,fetchMyInvites:e.fetchMyInvites,getInviteDetails:e.getInviteDetails,respondInvite:e.respondInvite,sendPhoneInvite:e.sendPhoneInvite,cancelInvite:e.cancelInvite,resendInvite:e.resendInvite}},K2=6e4,G2=36e5,hd=43200,k_=1440,N_=Symbol.for("constructDateFrom");function vf(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&N_ in e?e[N_](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ia(e,t){return vf(e,e)}let v6={};function y6(){return v6}function j_(e){const t=Ia(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hv(e,...t){const n=vf.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Dd(e,t){const n=+Ia(e)-+Ia(t);return n<0?-1:n>0?1:n}function b6(e){return vf(e,Date.now())}function w6(e,t,n){const[r,s]=hv(n==null?void 0:n.in,e,t),i=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return i*12+l}function _6(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function k6(e,t){return+Ia(e)-+Ia(t)}function N6(e,t){const n=Ia(e);return n.setHours(23,59,59,999),n}function j6(e,t){const n=Ia(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function S6(e,t){const n=Ia(e);return+N6(n)==+j6(n)}function T6(e,t,n){const[r,s,i]=hv(n==null?void 0:n.in,e,e,t),l=Dd(s,i),c=Math.abs(w6(s,i));if(c<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*c);let d=Dd(s,i)===-l;S6(r)&&c===1&&Dd(r,i)===1&&(d=!1);const h=l*(c-+d);return h===0?0:h}function E6(e,t,n){const r=k6(e,t)/1e3;return _6(n==null?void 0:n.roundingMethod)(r)}const C6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P6=(e,t,n)=>{let r;const s=C6[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const M6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},A6={date:Yo({formats:M6,defaultWidth:"full"}),time:Yo({formats:L6,defaultWidth:"full"}),dateTime:Yo({formats:I6,defaultWidth:"full"})},O6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},R6=(e,t,n,r)=>O6[e];function ya(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const D6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},B6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},F6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H6=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Z6={ordinalNumber:H6,era:ya({values:D6,defaultWidth:"wide"}),quarter:ya({values:z6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ya({values:$6,defaultWidth:"wide"}),day:ya({values:B6,defaultWidth:"wide"}),dayPeriod:ya({values:F6,defaultWidth:"wide",formattingValues:U6,defaultFormattingWidth:"wide"})};function ba(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?V6(c,p=>p.test(l)):W6(c,p=>p.test(l));let h;h=e.valueCallback?e.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}function W6(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function V6(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function q2(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const K6=/^(\d+)(th|st|nd|rd)?/i,G6=/\d+/i,q6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y6={any:[/^b/i,/^(a|c)/i]},J6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q6={any:[/1/i,/2/i,/3/i,/4/i]},X6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},e$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},t$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},n$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},r$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},a$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},s$={ordinalNumber:q2({matchPattern:K6,parsePattern:G6,valueCallback:e=>parseInt(e,10)}),era:ba({matchPatterns:q6,defaultMatchWidth:"wide",parsePatterns:Y6,defaultParseWidth:"any"}),quarter:ba({matchPatterns:J6,defaultMatchWidth:"wide",parsePatterns:Q6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:X6,defaultMatchWidth:"wide",parsePatterns:e$,defaultParseWidth:"any"}),day:ba({matchPatterns:t$,defaultMatchWidth:"wide",parsePatterns:n$,defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:r$,defaultMatchWidth:"any",parsePatterns:a$,defaultParseWidth:"any"})},i$={code:"en-US",formatDistance:P6,formatLong:A6,formatRelative:R6,localize:Z6,match:s$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o$(e,t,n){var b,v;const r=y6(),s=(v=(b=n==null?void 0:n.locale)!=null?b:r.locale)!=null?v:i$,i=2520,l=Dd(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,h]=hv(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),m=E6(h,d),p=(j_(h)-j_(d))/1e3,x=Math.round((m-p)/60);let y;if(x<2)return n!=null&&n.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,c):m<10?s.formatDistance("lessThanXSeconds",10,c):m<20?s.formatDistance("lessThanXSeconds",20,c):m<40?s.formatDistance("halfAMinute",0,c):m<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):x===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",x,c);if(x<45)return s.formatDistance("xMinutes",x,c);if(x<90)return s.formatDistance("aboutXHours",1,c);if(x<k_){const j=Math.round(x/60);return s.formatDistance("aboutXHours",j,c)}else{if(x<i)return s.formatDistance("xDays",1,c);if(x<hd){const j=Math.round(x/k_);return s.formatDistance("xDays",j,c)}else if(x<hd*2)return y=Math.round(x/hd),s.formatDistance("aboutXMonths",y,c)}if(y=T6(h,d),y<12){const j=Math.round(x/hd);return s.formatDistance("xMonths",j,c)}else{const j=y%12,N=Math.trunc(y/12);return j<3?s.formatDistance("aboutXYears",N,c):j<9?s.formatDistance("overXYears",N,c):s.formatDistance("almostXYears",N+1,c)}}function l$(e,t){return o$(e,b6(e),t)}function c$(e,t){const n=()=>vf(t==null?void 0:t.in,NaN),s=f$(e);let i;if(s.date){const h=m$(s.date,2);i=p$(h.restDateString,h.year)}if(!i||isNaN(+i))return n();const l=+i;let c=0,d;if(s.time&&(c=g$(s.time),isNaN(c)))return n();if(s.timezone){if(d=x$(s.timezone),isNaN(d))return n()}else{const h=new Date(l+c),m=Ia(0);return m.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),m.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),m}return Ia(l+c+d)}const fd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,h$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function f$(e){const t={},n=e.split(fd.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],fd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(fd.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=fd.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function m$(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function p$(e,t){if(t===null)return new Date(NaN);const n=e.match(u$);if(!n)return new Date(NaN);const r=!!n[4],s=Kl(n[1]),i=Kl(n[2])-1,l=Kl(n[3]),c=Kl(n[4]),d=Kl(n[5])-1;if(r)return _$(t,c,d)?v$(t,c,d):new Date(NaN);{const h=new Date(0);return!b$(t,i,l)||!w$(t,s)?new Date(NaN):(h.setUTCFullYear(t,i,Math.max(s,l)),h)}}function Kl(e){return e?parseInt(e):1}function g$(e){const t=e.match(d$);if(!t)return NaN;const n=sp(t[1]),r=sp(t[2]),s=sp(t[3]);return k$(n,r,s)?n*G2+r*K2+s*1e3:NaN}function sp(e){return e&&parseFloat(e.replace(",","."))||0}function x$(e){if(e==="Z")return 0;const t=e.match(h$);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return N$(r,s)?n*(r*G2+s*K2):NaN}function v$(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,i=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const y$=[31,null,31,30,31,30,31,31,30,31,30,31];function Y2(e){return e%400===0||e%4===0&&e%100!==0}function b$(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(y$[t]||(Y2(e)?29:28))}function w$(e,t){return t>=1&&t<=(Y2(e)?366:365)}function _$(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function k$(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function N$(e,t){return t>=0&&t<=59}const j$={lessThanXSeconds:{one:"di 1 giy",other:"di {{count}} giy"},xSeconds:{one:"1 giy",other:"{{count}} giy"},halfAMinute:"na pht",lessThanXMinutes:{one:"di 1 pht",other:"di {{count}} pht"},xMinutes:{one:"1 pht",other:"{{count}} pht"},aboutXHours:{one:"khong 1 gi",other:"khong {{count}} gi"},xHours:{one:"1 gi",other:"{{count}} gi"},xDays:{one:"1 ngy",other:"{{count}} ngy"},aboutXWeeks:{one:"khong 1 tun",other:"khong {{count}} tun"},xWeeks:{one:"1 tun",other:"{{count}} tun"},aboutXMonths:{one:"khong 1 thng",other:"khong {{count}} thng"},xMonths:{one:"1 thng",other:"{{count}} thng"},aboutXYears:{one:"khong 1 nm",other:"khong {{count}} nm"},xYears:{one:"1 nm",other:"{{count}} nm"},overXYears:{one:"hn 1 nm",other:"hn {{count}} nm"},almostXYears:{one:"gn 1 nm",other:"gn {{count}} nm"}},S$=(e,t,n)=>{let r;const s=j$[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" na":r+" trc":r},T$={full:"EEEE, 'ngy' d MMMM 'nm' y",long:"'ngy' d MMMM 'nm' y",medium:"d MMM 'nm' y",short:"dd/MM/y"},E$={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},C$={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},P$={date:Yo({formats:T$,defaultWidth:"full"}),time:Yo({formats:E$,defaultWidth:"full"}),dateTime:Yo({formats:C$,defaultWidth:"full"})},M$={lastWeek:"eeee 'tun trc vo lc' p",yesterday:"'hm qua vo lc' p",today:"'hm nay vo lc' p",tomorrow:"'ngy mai vo lc' p",nextWeek:"eeee 'ti vo lc' p",other:"P"},L$=(e,t,n,r)=>M$[e],I$={narrow:["TCN","SCN"],abbreviated:["trc CN","sau CN"],wide:["trc Cng Nguyn","sau Cng Nguyn"]},A$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu 1","Qu 2","Qu 3","Qu 4"]},O$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu I","qu II","qu III","qu IV"]},R$={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"]},D$={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["thng 01","thng 02","thng 03","thng 04","thng 05","thng 06","thng 07","thng 08","thng 09","thng 10","thng 11","thng 12"]},z$={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],wide:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"]},$$={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"}},B$={narrow:{am:"am",pm:"pm",midnight:"na m",noon:"tr",morning:"sg",afternoon:"ch",evening:"ti",night:"m"},abbreviated:{am:"AM",pm:"PM",midnight:"na m",noon:"tra",morning:"sng",afternoon:"chiu",evening:"ti",night:"m"},wide:{am:"SA",pm:"CH",midnight:"na m",noon:"gia tra",morning:"vo bui sng",afternoon:"vo bui chiu",evening:"vo bui ti",night:"vo ban m"}},F$=(e,t)=>{const n=Number(e),r=t==null?void 0:t.unit;if(r==="quarter")switch(n){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(r==="day")switch(n){case 1:return"th 2";case 2:return"th 3";case 3:return"th 4";case 4:return"th 5";case 5:return"th 6";case 6:return"th 7";case 7:return"ch nht"}else{if(r==="week")return n===1?"th nht":"th "+n;if(r==="dayOfYear")return n===1?"u tin":"th "+n}return String(n)},U$={ordinalNumber:F$,era:ya({values:I$,defaultWidth:"wide"}),quarter:ya({values:A$,defaultWidth:"wide",formattingValues:O$,defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:ya({values:R$,defaultWidth:"wide",formattingValues:D$,defaultFormattingWidth:"wide"}),day:ya({values:z$,defaultWidth:"wide"}),dayPeriod:ya({values:$$,defaultWidth:"wide",formattingValues:B$,defaultFormattingWidth:"wide"})},H$=/^(\d+)/i,Z$=/\d+/i,W$={narrow:/^(tcn|scn)/i,abbreviated:/^(trc CN|sau CN)/i,wide:/^(trc Cng Nguyn|sau Cng Nguyn)/i},V$={any:[/^t/i,/^s/i]},K$={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^qu ([1234]|i{1,3}v?)/i},G$={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},q$={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^thng ?(Mt|Hai|Ba|T|Nm|Su|By|Tm|Chn|Mi|Mi ?Mt|Mi ?Hai|0?[1-9](?!\d)|10|11|12)/i},Y$={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^thng ?(Mt|0?1(?!\d))/i,/^thng ?(Hai|0?2)/i,/^thng ?(Ba|0?3)/i,/^thng ?(T|0?4)/i,/^thng ?(Nm|0?5)/i,/^thng ?(Su|0?6)/i,/^thng ?(By|0?7)/i,/^thng ?(Tm|0?8)/i,/^thng ?(Chn|0?9)/i,/^thng ?(Mi|10)/i,/^thng ?(Mi ?Mt|11)/i,/^thng ?(Mi ?Hai|12)/i]},J$={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Ch ?Nht|Cha ?Nht|th ?Hai|th ?Ba|th ?T|th ?Nm|th ?Su|th ?By)/i},Q$={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Ch|Cha) ?Nht/i,/Hai/i,/Ba/i,/T/i,/Nm/i,/Su/i,/By/i]},X$={narrow:/^(a|p|na m|tra|(gi) (sng|chiu|ti|m))/i,abbreviated:/^(am|pm|na m|tra|(gi) (sng|chiu|ti|m))/i,wide:/^(ch[^i]*|sa|na m|tra|(gi) (sng|chiu|ti|m))/i},eB={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/na m/i,noon:/tra/i,morning:/sng/i,afternoon:/chiu/i,evening:/ti/i,night:/^m/i}},tB={ordinalNumber:q2({matchPattern:H$,parsePattern:Z$,valueCallback:e=>parseInt(e,10)}),era:ba({matchPatterns:W$,defaultMatchWidth:"wide",parsePatterns:V$,defaultParseWidth:"any"}),quarter:ba({matchPatterns:K$,defaultMatchWidth:"wide",parsePatterns:G$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:q$,defaultMatchWidth:"wide",parsePatterns:Y$,defaultParseWidth:"wide"}),day:ba({matchPatterns:J$,defaultMatchWidth:"wide",parsePatterns:Q$,defaultParseWidth:"wide"}),dayPeriod:ba({matchPatterns:X$,defaultMatchWidth:"wide",parsePatterns:eB,defaultParseWidth:"any"})},nB={code:"vi",formatDistance:S$,formatLong:P$,formatRelative:L$,localize:U$,match:tB,options:{weekStartsOn:1,firstWeekContainsDate:1}},rB=()=>{var S;const e=jt(),t=vu(),n=P2(),r=h6(),s=f6(),i=m6(),{fetchHomeData:l}=p6();k.useEffect(()=>{console.log("[Dashboard]  Fetching home data..."),l()},[l]);const c=k.useCallback(()=>O(void 0,null,function*(){console.log("[Dashboard]  Manual refresh triggered"),yield l()}),[l]),[d,h]=k.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),m=k.useRef(0),p=k.useRef(0),x=P=>{m.current=P.touches[0].clientY,p.current=P.currentTarget.scrollTop,console.log("[Dashboard] Touch start:",{startY:m.current,scrollTop:p.current})},y=P=>{if(p.current>0)return;const C=P.touches[0].clientY,U=C-m.current;U>0&&(console.log("[Dashboard] Touch move:",{currentY:C,diff:U,shouldRefresh:U>100}),h({isPulling:!0,pullDistance:Math.min(U*.5,120),shouldRefresh:U>100}))},b=()=>O(void 0,null,function*(){console.log("[Dashboard] Touch end:",{shouldRefresh:d.shouldRefresh}),d.shouldRefresh&&(yield c()),h({isPulling:!1,pullDistance:0,shouldRefresh:!1})});if(i&&!t)return a.jsx(OD,{error:i,onRetry:c});const v=x6(),j=P=>O(void 0,null,function*(){try{yield v.respondInvite(P,"decline"),c()}catch(C){console.error("Reject invitation error:",C)}}),N=P=>O(void 0,null,function*(){try{yield v.respondInvite(P,"accept"),c()}catch(C){console.error("Accept invitation error:",C)}}),w=P=>{try{return l$(c$(P),{addSuffix:!0,locale:nB})}catch(C){return"va xong"}};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[d.isPulling&&a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 flex items-center justify-center bg-primary/10 pointer-events-none transition-all",style:{height:`${d.pullDistance}px`},children:a.jsx("div",{className:"transform -translate-y-1/2",children:a.jsx(A,{name:"refresh",className:`text-2xl text-primary ${d.shouldRefresh?"animate-spin":""}`})})}),s&&a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-primary/10 py-2 text-center text-xs text-primary font-medium",children:"ang lm mi..."}),a.jsxs("div",{className:"flex flex-col gap-6 pb-safe-with-nav overflow-y-auto h-screen-dvh",onTouchStart:x,onTouchMove:y,onTouchEnd:b,children:[a.jsxs("header",{className:"px-5 flex items-start justify-between bg-gradient-to-b from-slate-800/50 to-transparent safe-area-top",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[10px] font-bold tracking-widest text-text-secondary uppercase mb-1",children:"Trang qun l"}),a.jsxs("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white leading-tight",children:["Xin cho, ",(t==null?void 0:t.name)||"Bn"," ",a.jsx("span",{className:"inline-block animate-bounce",children:""})]}),a.jsx("p",{className:"text-sm font-normal text-gray-500 dark:text-text-secondary mt-1",children:"Sn sng tm ko hm nay?"})]}),a.jsxs("button",{className:"relative group",onClick:()=>e(Ae.profile),children:[a.jsx("div",{className:"h-11 w-11 rounded-full border-2 border-white dark:border-border-dark overflow-hidden shadow-lg",children:t!=null&&t.avatar?a.jsx("img",{alt:"User",className:"h-full w-full object-cover",src:t.avatar}):a.jsx("div",{className:"h-full w-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg",children:((S=t==null?void 0:t.name)==null?void 0:S.charAt(0).toUpperCase())||"U"})}),a.jsx("div",{className:"absolute bottom-0 right-0 h-3 w-3 bg-primary rounded-full border-2 border-white dark:border-background-dark"})]})]}),(s||r.length>0)&&a.jsxs("section",{className:"px-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"size-2 rounded-full bg-red-500 animate-pulse"}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Li mi tham gia"})]}),a.jsx("button",{onClick:()=>e(Ae.myInvites),className:"text-xs font-semibold text-primary py-1 px-3 rounded-full hover:bg-primary/10 transition-colors",children:"Xem tt c"})]}),s?a.jsx(Ri,{}):a.jsx("div",{className:"flex overflow-x-auto gap-3 pb-4 no-scrollbar",children:r.map(P=>{var D,J,H,W;const C="teamName"in P&&"inviterName"in P,U=C?P.teamLogo:(D=P.data)==null?void 0:D.teamLogo,E=C?P.teamName:(J=P.data)==null?void 0:J.teamName,Z=C?P.inviterName:(H=P.data)==null?void 0:H.inviterName,q=C?P.teamId:(W=P.data)==null?void 0:W.teamId,$=P.createdAt;return a.jsx("div",{className:"min-w-[320px] shrink-0",children:a.jsxs("div",{className:"bg-white dark:bg-surface-dark border-l-4 border-primary rounded-r-2xl p-4 shadow-md flex flex-col gap-3 relative overflow-hidden h-full",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[U?a.jsx(Jt,{src:U,size:"md"}):a.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-lg border-2 border-white dark:border-white/10",children:(E==null?void 0:E.charAt(0).toUpperCase())||"T"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-xs text-gray-500 mb-0.5",children:[a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:Z||"Ngi dng"})," "," mi bn vo:"]}),a.jsx("h4",{className:"text-lg font-bold text-slate-900 dark:text-white leading-none",children:E||"i bng"}),a.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:$&&w($)})]})]}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx(ke,{className:"h-9 flex-1 text-xs",onClick:()=>N(P.id),children:"Chp nhn"}),a.jsx(ke,{variant:"secondary",className:"h-9 flex-1 text-xs bg-gray-50 dark:bg-white/5",onClick:()=>j(P.id),children:"T chi"}),a.jsx(ke,{variant:"ghost",className:"h-9 w-9 p-0 rounded-full",onClick:()=>e(Ae.teamDetail(q||"")),children:a.jsx(A,{name:"visibility"})})]})]})},P.id)})})]}),a.jsxs("section",{className:"px-5 flex flex-col gap-4",children:[a.jsxs("button",{onClick:()=>e(Ae.matchFind,{state:{openTeamSelector:!0}}),className:"relative w-full group overflow-hidden rounded-2xl bg-primary text-[#102219] shadow-[0_8px_20px_rgba(17,212,115,0.25)] transition-all hover:shadow-[0_12px_24px_rgba(17,212,115,0.35)] active:scale-[0.98] text-left",children:[a.jsx("div",{className:"absolute -right-6 -bottom-6 opacity-10 rotate-12 transition-transform group-hover:rotate-6 group-hover:scale-110",children:a.jsx(A,{name:"sports_soccer",className:"text-[140px] leading-none"})}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between p-5",children:[a.jsxs("div",{className:"flex flex-col items-start gap-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(A,{name:"bolt",filled:!0,className:"text-2xl"}),a.jsx("h2",{className:"text-xl font-bold leading-tight",children:"Cp ko ngay"})]}),a.jsx("p",{className:"text-sm font-medium opacity-80",children:"Tm i th ph hp gn bn"})]}),a.jsx("div",{className:"h-10 w-10 bg-black/10 rounded-full flex items-center justify-center backdrop-blur-sm",children:a.jsx(A,{name:"arrow_forward"})})]})]}),a.jsxs("button",{onClick:()=>e(Ae.teamsCreate),className:"w-full group flex items-center justify-between p-5 rounded-2xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm active:scale-[0.98] transition-all",children:[a.jsxs("div",{className:"flex flex-col items-start gap-1",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight",children:"To i bng"})}),a.jsx("p",{className:"text-gray-500 dark:text-text-secondary text-sm font-normal",children:"Lp i mi & qun l thnh vin"})]}),a.jsx("div",{className:"h-10 w-10 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center text-primary",children:a.jsx(A,{name:"add"})})]})]}),a.jsxs("section",{className:"px-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white tracking-tight",children:"Ko ca ti"}),a.jsx("button",{onClick:()=>e(Ae.matchHistory),className:"text-xs font-semibold text-primary py-1 px-3 rounded-full hover:bg-primary/10 transition-colors",children:"Xem tt c"})]}),s?a.jsx(PD,{}):n&&n.length>0?n.slice(0,1).map(P=>{var C,U,E,Z,q;return a.jsxs("div",{onClick:()=>e(Ae.matchDetail(P.id)),className:"group relative rounded-2xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 p-5 shadow-lg overflow-hidden cursor-pointer active:scale-[0.99] transition-transform mb-3",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{className:"inline-flex items-center gap-1.5 bg-blue-500/10 px-3 py-1 rounded-full border border-blue-500/20",children:[a.jsxs("span",{className:"relative flex h-2 w-2",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-primary"})]}),a.jsx("span",{className:"text-[11px] font-bold text-primary uppercase tracking-wide",children:"Sp din ra"})]}),a.jsx("div",{className:"bg-gray-100 dark:bg-white/5 p-1.5 rounded-lg",children:a.jsx(A,{name:"notifications_active",className:"text-gray-500 dark:text-text-secondary text-lg"})})]}),a.jsxs("div",{className:"flex gap-4 items-start mb-5",children:[a.jsx("div",{className:"w-16 h-16 rounded-xl bg-gray-200 dark:bg-gray-700 overflow-hidden shrink-0 border dark:border-white/5",children:(C=P.teamA)!=null&&C.logo?a.jsx("img",{alt:"Team Logo",className:"w-full h-full object-cover",src:P.teamA.logo}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-xl",children:((E=(U=P.teamA)==null?void 0:U.name)==null?void 0:E.charAt(0))||"A"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("h4",{className:"text-slate-900 dark:text-white font-bold text-xl leading-tight mb-1",children:[((Z=P.teamA)==null?void 0:Z.name)||"i nh"," vs ",((q=P.teamB)==null?void 0:q.name)||"i khch"]}),a.jsxs("div",{className:"flex items-center gap-1 text-primary mb-1",children:[a.jsx(A,{name:"schedule",className:"text-lg"}),a.jsxs("span",{className:"text-base font-bold",children:[P.time,"  ",P.date]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-text-secondary",children:[a.jsx(A,{name:"location_on",className:"text-sm"}),a.jsx("span",{className:"text-xs font-normal truncate max-w-[180px]",children:P.location||"a im cha xc nh"})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 dark:border-white/5",children:[a.jsx(ke,{className:"flex-1 h-10",variant:"primary",children:"im danh"}),a.jsx(ke,{className:"flex-1 h-10",variant:"secondary",children:"Chi tit"})]})]},P.id)}):a.jsx(ID,{onFindMatch:()=>e(Ae.matchFind,{state:{openTeamSelector:!0}})})]})]})]})},aB=()=>{const e=jt(),t=Qi(),n=Vn(),{fetchMyTeams:r}=Xi(),[s,i]=k.useState(null),[l,c]=k.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),d=k.useRef(0),h=k.useRef(0),m=k.useRef(!0);k.useEffect(()=>(O(void 0,null,function*(){if(!n.isLoading)try{i(null),yield r()}catch(j){const N=j instanceof Error?j.message:"Khng th ti danh sch i";i(N)}}),()=>{m.current=!1}),[]);const p=v=>{d.current=v.touches[0].clientY,h.current=v.currentTarget.scrollTop},x=v=>{if(h.current>0)return;const N=v.touches[0].clientY-d.current;N>0&&c({isPulling:!0,pullDistance:Math.min(N*.5,120),shouldRefresh:N>100})},y=()=>O(void 0,null,function*(){l.shouldRefresh&&(yield b()),c({isPulling:!1,pullDistance:0,shouldRefresh:!1})}),b=()=>O(void 0,null,function*(){try{i(null),yield r(!0)}catch(v){const j=v instanceof Error?v.message:"Khng th ti danh sch i";i(j)}});return n.isLoading&&t.length===0?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[a.jsx(Kt,{title:"i bng ca ti",showBack:!1}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch i..."})]})})]}):a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[a.jsx(Kt,{title:"i bng ca ti",showBack:!1}),l.isPulling&&a.jsx("div",{className:"flex items-center justify-center transition-all duration-150 overflow-hidden",style:{height:l.pullDistance,opacity:l.pullDistance/120},children:a.jsx(A,{name:"refresh",className:`text-primary ${l.shouldRefresh?"animate-spin":""}`})}),n.isLoading&&!l.isPulling&&a.jsxs("div",{className:"flex items-center justify-center py-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"ang ti..."})]}),s&&t.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-10 px-4",children:[a.jsx(A,{name:"error",className:"text-4xl mb-2 text-red-500"}),a.jsx("p",{className:"text-sm text-red-500 text-center mb-4",children:s}),a.jsx(ke,{variant:"ghost",onClick:b,children:"Th li"})]}),!n.isLoading&&t.length===0&&!s&&a.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:a.jsx(AD,{onCreateTeam:()=>e(Ae.teamsCreate)})}),a.jsx("div",{className:"p-4 space-y-6 flex-1 overflow-y-auto no-scrollbar",onTouchStart:p,onTouchMove:x,onTouchEnd:y,children:n.isLoading&&t.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide ml-1",children:"Danh sch i"}),a.jsx(Jm,{}),a.jsx(Jm,{}),a.jsx(Jm,{})]}):t.length>0?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wide ml-1",children:["Danh sch i (",t.length,")"]}),t.map(v=>{const j=v;return a.jsxs("div",{onClick:()=>e(Ae.teamDetail(v.id)),className:"group bg-white dark:bg-surface-dark rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm active:scale-[0.98] transition-all cursor-pointer relative overflow-hidden",children:[a.jsx("div",{className:`absolute top-0 right-0 px-3 py-1 rounded-bl-xl text-[10px] font-bold uppercase tracking-wider ${v.userRole==="admin"?"bg-primary/10 text-primary":"bg-gray-100 dark:bg-white/10 text-gray-500"}`,children:v.userRole==="admin"?"Qun tr vin":"Thnh vin"}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx(Jt,{src:v.logo,size:"lg",className:"shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white leading-tight",children:v.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 text-gray-500 dark:text-text-secondary text-sm",children:[a.jsx(A,{name:"groups",className:"text-sm"}),a.jsxs("span",{children:[v.memberCount," thnh vin"]})]})]})]}),j.stats&&a.jsxs("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Thng"}),a.jsx("span",{className:"font-bold text-green-500",children:j.stats.wins})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Ha"}),a.jsx("span",{className:"font-bold text-gray-500",children:j.stats.draws})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Thua"}),a.jsx("span",{className:"font-bold text-red-500",children:j.stats.losses})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm mt-2 pt-2 border-t border-gray-100",children:[a.jsx("span",{className:"text-gray-500",children:"T l thng"}),a.jsxs("span",{className:"font-bold text-primary",children:[j.stats.winRate,"%"]})]})]}),j.nextMatch&&a.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:a.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-background-dark p-2 rounded-lg",children:[a.jsx("div",{className:"size-8 rounded-lg bg-green-500/10 flex items-center justify-center text-green-500 shrink-0",children:a.jsx(A,{name:"calendar_today",className:"text-sm",filled:!0})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase",children:"Trn tip theo"}),a.jsxs("p",{className:"text-sm font-semibold truncate text-slate-900 dark:text-white",children:["vs ",j.nextMatch.opponent,"  ",j.nextMatch.time]})]})]})}),!j.nextMatch&&!j.stats&&a.jsx("div",{className:"pt-3 border-t border-gray-100 dark:border-white/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm text-gray-400 italic",children:"Cha c lch thi u"}),v.userRole==="admin"&&a.jsx("button",{onClick:N=>{N.stopPropagation(),e(Ae.matchFind)},className:"text-xs font-bold text-primary hover:underline",children:"Tm ko ngay"})]})})]},v.id)}),a.jsxs("button",{onClick:()=>e(Ae.teamsCreate),className:"w-full py-4 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-2xl flex items-center justify-center gap-2 text-gray-500 hover:text-primary hover:border-primary hover:bg-primary/5 transition-all group",children:[a.jsx("div",{className:"size-8 rounded-full bg-gray-200 dark:bg-white/10 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors",children:a.jsx(A,{name:"add",className:"text-lg"})}),a.jsx("span",{className:"font-semibold",children:"To i bng mi"})]})]}):null})]})},sB=()=>{const e=jt(),t=vu(),{getProfile:n}=lv(),r=cn(),[s,i]=k.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),l=k.useRef(0),c=k.useRef(0),d=b=>{l.current=b.touches[0].clientY,c.current=b.currentTarget.scrollTop},h=b=>{if(c.current>0)return;const j=b.touches[0].clientY-l.current;j>0&&i({isPulling:!0,pullDistance:Math.min(j*.5,120),shouldRefresh:j>100})},m=()=>O(void 0,null,function*(){s.shouldRefresh&&(yield p()),i({isPulling:!1,pullDistance:0,shouldRefresh:!1})}),p=()=>O(void 0,null,function*(){try{yield n(!0)}catch(b){console.error("Failed to refresh profile:",b)}}),x={attack:75,defense:70,technique:75},y=(t==null?void 0:t.playerStats)||x;return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx(Kt,{title:"",showBack:!1,transparent:!0}),s.isPulling&&a.jsx("div",{className:"flex items-center justify-center transition-all duration-150 overflow-hidden",style:{height:s.pullDistance,opacity:s.pullDistance/120},children:a.jsx(A,{name:"refresh",className:`text-primary ${s.shouldRefresh?"animate-spin":""}`})}),r.isLoading&&!s.isPulling&&t&&a.jsxs("div",{className:"flex items-center justify-center py-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"ang ti..."})]}),a.jsxs("div",{className:"overflow-y-auto pb-safe-with-nav",onTouchStart:d,onTouchMove:h,onTouchEnd:m,children:[a.jsx(zz,{bannerUrl:t==null?void 0:t.banner,userName:t==null?void 0:t.name,userAvatar:t==null?void 0:t.avatar,userPhone:t==null?void 0:t.phone,userPosition:t==null?void 0:t.position,userJerseyNumber:t==null?void 0:t.jerseyNumber,userBio:t==null?void 0:t.bio,isOnline:!0}),a.jsxs("div",{className:"flex flex-col gap-6 px-4 pt-6 pb-4",children:[a.jsx($z,{stats:y,maxValue:100,showInfo:!0}),a.jsxs(Bz,{title:"Ci t",children:[a.jsx(CD,{}),a.jsx(rp,{icon:"notifications",label:"Thng bo",badge:"3",onClick:()=>e(Ae.notifications)}),a.jsx(rp,{icon:"edit",label:"Chnh sa h s",onClick:()=>e(Ae.profileEdit)}),a.jsx(rp,{icon:"help",label:"Tr gip & H tr",onClick:()=>console.log("Help")})]})]})]})]})},iB=e=>{const t=bn(D=>D.pendingMatches),n=bn(D=>D.upcomingMatches),r=bn(D=>D.historyMatches),s=bn(D=>D.isLoadingMore),i=bn(D=>D.pagination),l=bn(),[c,d]=k.useState(!1),[h,m]=k.useState(!1),[p,x]=k.useState(!1),[y,b]=k.useState(!1),[v,j]=k.useState(null),N=k.useRef(!0),w=k.useRef(void 0),S=k.useCallback(D=>{w.current=D},[]),P=k.useCallback((D,J=1,H=!1)=>O(void 0,null,function*(){var ie,ge,he;if(!e){console.warn("[useScheduleData] No team selected, skipping fetch");return}console.log(`[useScheduleData] Fetching ${D} matches (page ${J}) for teamId: ${e}, forceRefresh: ${H}`);const W=V=>{D==="pending"&&d(V),D==="upcoming"&&m(V),D==="history"&&x(V)};J===1&&(H?b(!0):W(!0)),j(null);try{D==="pending"?yield l.fetchPendingMatches(e,J,H,w.current):D==="upcoming"?yield l.fetchUpcomingMatches(e,J,H):D==="history"&&(yield l.fetchHistoryMatches(e,J,H)),console.log(`[useScheduleData] Successfully fetched ${D} matches`)}catch(V){console.error(`[useScheduleData] Error fetching ${D} matches:`,V);const fe=((he=(ge=(ie=V==null?void 0:V.response)==null?void 0:ie.data)==null?void 0:ge.error)==null?void 0:he.message)||(V==null?void 0:V.message)||"C li xy ra";j(fe)}finally{N.current&&J===1&&(W(!1),b(!1))}}),[e,l]),C=k.useCallback((D,J=!1)=>O(void 0,null,function*(){var H;if(e){if(!J&&((H=l._fetchedTabs[e])==null?void 0:H[D])){console.log(`[useScheduleData] Skipping fetchTabOnDemand for ${D} - already has data`);return}yield P(D,1,J)}}),[e,P]),U=k.useCallback(D=>O(void 0,null,function*(){const J=i[D];if(!J.hasMore||s[D]){console.log(`[useScheduleData] Skipping loadMore for ${D} - hasMore: ${J.hasMore}, isLoadingMore: ${s[D]}`);return}const H=J.page+1;console.log(`[useScheduleData] Loading more for ${D}, page: ${H}`),yield P(D,H,!1)}),[i,s,P]),E=k.useCallback(D=>O(void 0,null,function*(){console.log(`[useScheduleData] Refreshing ${D} tab`),yield P(D,1,!0)}),[P]),Z=k.useCallback(()=>O(void 0,null,function*(){if(e){b(!0),j(null);try{yield Promise.all([P("pending",1,!0),P("upcoming",1,!0),P("history",1,!0)])}catch(D){console.error("Refresh all error:",D)}finally{N.current&&b(!1)}}}),[e,P]),q=k.useCallback(()=>{console.log("[useScheduleData] Resetting all data"),l.clearAllData()},[l]),$=k.useCallback(D=>i[D].hasMore,[i]);return k.useEffect(()=>()=>{N.current=!1},[]),{pendingMatches:t,upcomingMatches:n,historyMatches:r,isLoadingPending:c,isLoadingUpcoming:h,isLoadingHistory:p,isRefreshing:y,isLoadingMore:s,pagination:i,error:v,fetchTabOnDemand:C,loadMore:U,refreshTab:E,refreshAll:Z,resetAll:q,hasMore:$,setPendingFilter:S}},oB=()=>{const e=jt(),[t,n]=k.useState(!1),[r,s]=k.useState(null),[i,l]=k.useState(null),[c,d]=k.useState("send"),[h,m]=k.useState(null),[p,x]=k.useState("all"),[y,b]=k.useState({isOpen:!1,type:"input",matchId:null,action:"cancel_request",title:"",description:"",icon:"",primaryButtonText:""}),[v,j]=k.useState(!1),[N,w]=k.useState(null),[S,P]=k.useState(!1),[C,U]=k.useState(null),[E,Z]=k.useState({isOpen:!1,matchId:""}),[q,$]=k.useState({isPulling:!1,pullDistance:0,shouldRefresh:!1}),D=Qi(),J=Vn(),H=La(),{setSelectedTeam:W}=Xi(),ie=eo(),ge=ra(z=>z.hideMatchBookingGuide),he=bn(z=>H!=null&&H.id&&z._activeTabs[H==null?void 0:H.id]||"pending"),V=bn(z=>z.isLoading),fe=z=>z.requestedByTeam===(H==null?void 0:H.id),{pendingMatches:re,upcomingMatches:se,historyMatches:ce,isLoadingPending:Ne,isLoadingUpcoming:Ee,isLoadingHistory:_e,isRefreshing:Me,isLoadingMore:Be,error:Xe,fetchTabOnDemand:nt,loadMore:Fe,refreshTab:ve,resetAll:Ze,hasMore:et,setPendingFilter:oe}=iB(H==null?void 0:H.id),Ce=k.useRef(null),Se=k.useRef(null),je=k.useRef(0),We=k.useRef(0),ue=[{id:"pending",label:"Ch ko"},{id:"upcoming",label:"Lch u"},{id:"history",label:"Lch s"}],Ye=[{id:"all",label:"Tt c",icon:"inbox"},{id:"matched",label:" match",icon:"handshake"},{id:"requested",label:"Cn tr li",icon:"notifications_active"}],ae=z=>{ie.setActiveTab(H==null?void 0:H.id,z),nt(z)};k.useEffect(()=>{if(H!=null&&H.id){const z=ie.getActiveTab(H==null?void 0:H.id);nt(z)}},[H==null?void 0:H.id]),k.useEffect(()=>{var X;if((X=Se.current)==null||X.disconnect(),!et(he))return;const z=new IntersectionObserver(Oe=>{Oe[0].isIntersecting&&et(he)&&Fe(he)},{threshold:.1,rootMargin:"100px"}),ee=Ce.current;return ee&&(z.observe(ee),Se.current=z),()=>{z.disconnect()}},[he,et,Fe]);const De=z=>{je.current=z.touches[0].clientY,We.current=z.currentTarget.scrollTop},Ge=z=>{if(We.current>0)return;const X=z.touches[0].clientY-je.current;X>0&&$({isPulling:!0,pullDistance:Math.min(X*.5,120),shouldRefresh:X>100})},Je=()=>O(void 0,null,function*(){q.shouldRefresh&&(yield ve(he)),$({isPulling:!1,pullDistance:0,shouldRefresh:!1})});if(J.isLoading&&D.length===0)return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[a.jsx("div",{className:"pt-6 px-4 pb-2",children:a.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:"Lch thi u"})}),a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch i..."})]})]});if(D.length===0)return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[a.jsx("div",{className:"pt-6 px-4 pb-2",children:a.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:"Lch thi u"})}),a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-4",children:[a.jsx(A,{name:"sports_soccer",className:"text-6xl text-gray-400 mb-4"}),a.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Cha c i bng"}),a.jsx("p",{className:"text-sm text-gray-500 text-center mb-6",children:"Bn cn to i bng trc khi xem lch thi u"}),a.jsx(ke,{className:"w-full max-w-xs",icon:"add",onClick:()=>e(Ae.teamsCreate),children:"To i bng ngay"})]})]});const zt=z=>O(void 0,null,function*(){try{yield ie.acceptMatch(z),yield Promise.all([ve("pending"),ve("upcoming")]),Nt.success(" chp nhn li mi")}catch(ee){Nt.error(ee.message||"Khng th chp nhn li mi")}}),_t=z=>O(void 0,null,function*(){try{yield ie.declineMatch(z),yield ve("pending"),Nt.success(" t chi li mi")}catch(ee){Nt.error(ee.message||"Khng th t chi li mi")}}),Et=(z,ee)=>{const Oe={cancel_invite:{title:"Hy li mi?",description:"Nhp l do hy (ty chn)",icon:"undo",primaryButtonText:"Hy li mi"},cancel_request:{title:"Hy yu cu?",description:"Nhp l do hy (ty chn)",icon:"close",primaryButtonText:"Hy yu cu"},report_busy:{title:"Bo bn",description:"Nhp l do bo bn ca bn",icon:"event_busy",primaryButtonText:"Bo bn",iconColor:"text-orange-500"}}[ee];b({isOpen:!0,type:"input",matchId:z,action:ee,title:Oe.title,description:Oe.description,icon:Oe.icon,iconColor:Oe.iconColor,primaryButtonText:Oe.primaryButtonText})},qn=z=>O(void 0,null,function*(){if(y.matchId){j(!0);try{const ee=(z==null?void 0:z.trim())||"";switch(y.action){case"cancel_invite":yield ie.cancelMatch(y.matchId,{reason:ee}),yield ve("pending"),Nt.success(" hy li mi");break;case"cancel_request":yield ie.declineMatch(y.matchId),yield ve("pending"),Nt.success(" hy yu cu");break;case"report_busy":yield Zt.updateAttendance(y.matchId,{status:"DECLINED",reason:ee}),yield ve("upcoming"),Nt.success(" bo bn");break;default:break}b(X=>le(R({},X),{isOpen:!1}))}catch(ee){Nt.error(ee.message||"Khng th thc hin thao tc")}finally{j(!1)}}}),to=z=>{ge||P(!0),U(z)},no=()=>{P(!1)},ms=()=>{U(null)},yl=()=>O(void 0,null,function*(){U(null),yield Promise.all([ve("pending"),ve("upcoming")]),Nt.success(" cht ko thnh cng")}),Yn=z=>{d("send"),l(z)},ps=()=>{s(null)},ii=()=>O(void 0,null,function*(){s(null),yield Promise.all([ve("pending"),ve("upcoming")]),Nt.success(" gi li mi")}),ro=z=>{d("edit"),l(z)},Da=()=>{l(null)},ao=()=>O(void 0,null,function*(){l(null),yield ve("pending"),Nt.success(c==="send"?" gi li mi":" cp nht li mi")}),gs=z=>O(void 0,null,function*(){try{e(Ae.matchUpdateScore(z))}catch(ee){Nt.error(ee.message||"Khng th kt thc trn u")}}),oi=z=>O(void 0,null,function*(){try{e(Ae.matchUpdateScore(z))}catch(ee){Nt.error(ee.message||"Khng th cp nht t s")}}),xs=z=>{w(z)},so=()=>{w(null)},io=()=>O(void 0,null,function*(){w(null),yield Promise.all([ve("pending"),ve("history")]),Nt.success(" gi li mi ti u")}),bl=z=>O(void 0,null,function*(){e(Ae.matchDetail(z))}),oo=z=>O(void 0,null,function*(){try{(yield Zt.updateAttendance(z,{status:"CONFIRMED"})).success&&(Nt.success(" xc nhn tham gia!"),E.isOpen&&E.matchId)}catch(ee){Nt.error(ee.message||"Khng th cp nht im danh")}}),vs=z=>{Z({isOpen:!0,matchId:z})},ys=()=>O(void 0,null,function*(){yield ve("upcoming")}),lo=()=>{Z({isOpen:!1,matchId:""})},li=z=>{m(z)},wl=()=>{m(null)},B=()=>O(void 0,null,function*(){m(null),yield ve("upcoming"),Nt.success(" cp nht kt qu")}),G=z=>O(void 0,null,function*(){try{yield ie.confirmMatchResult(z),se.find(X=>X.id===z)||(yield ve("history")),Nt.success(" xc nhn kt qu")}catch(ee){Nt.error(ee.message||"Khng th xc nhn kt qu")}});return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[a.jsxs("div",{className:"pt-6 px-4 pb-2 flex items-center justify-between bg-background-light dark:bg-background-dark sticky top-0 z-30 safe-area-top",children:[a.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:"Lch thi u"}),a.jsxs("div",{onClick:()=>n(!0),className:"flex items-center gap-2 bg-white dark:bg-surface-dark border border-gray-200 dark:border-white/10 px-3 py-1.5 rounded-full shadow-sm cursor-pointer active:scale-95 transition-transform",children:[a.jsx(Jt,{src:(H==null?void 0:H.logo)||"",size:"sm",className:"w-6 h-6"}),a.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white max-w-[100px] truncate",children:(H==null?void 0:H.name)||"Chn i"}),a.jsx(A,{name:"expand_more",className:"text-gray-400 text-sm"})]})]}),a.jsx("div",{className:"px-4 pt-2",children:a.jsx("div",{className:"flex p-1 bg-gray-200 dark:bg-surface-dark rounded-xl border border-gray-200 dark:border-white/5",children:ue.map(z=>a.jsx("button",{onClick:()=>ae(z.id),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${he===z.id?"bg-white dark:bg-background-dark text-primary shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white"}`,children:z.label},z.id))})}),q.isPulling&&a.jsx("div",{className:"flex items-center justify-center transition-all duration-150 overflow-hidden",style:{height:q.pullDistance,opacity:q.pullDistance/120},children:a.jsx(A,{name:"refresh",className:`text-primary ${q.shouldRefresh?"animate-spin":""}`})}),Me&&!q.isPulling&&a.jsxs("div",{className:"flex items-center justify-center py-2",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"ang ti..."})]}),a.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto no-scrollbar",onTouchStart:De,onTouchMove:Ge,onTouchEnd:Je,children:[he==="pending"&&a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[a.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-1 -mx-1 px-1",children:Ye.map(z=>{const ee=p===z.id;return a.jsxs("button",{onClick:()=>{V||(ie.setPendingMatches([]),x(z.id),oe(z.id==="all"?void 0:z.id),ie.fetchPendingMatches((H==null?void 0:H.id)||"",1,!0,z.id==="all"?void 0:z.id))},className:`
                        filter-chip flex items-center gap-1.5 px-3 py-2 rounded-full border text-xs font-medium whitespace-nowrap
                        ${ee?"bg-primary text-white border-primary shadow-md":"bg-white dark:bg-surface-dark text-gray-600 dark:text-gray-400 border-gray-200 dark:border-white/10 hover:bg-gray-50 dark:hover:bg-white/10"}
                      `,children:[a.jsx(A,{name:z.icon,size:"xs"}),a.jsx("span",{children:z.label})]},z.id)})}),Ne||V?a.jsxs(a.Fragment,{children:[a.jsx(Gm,{}),a.jsx(Gm,{}),a.jsx(Gm,{})]}):Xe?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx(A,{name:"error",className:"text-4xl mb-2 text-red-500"}),a.jsx("p",{className:"text-sm text-red-500",children:Xe}),a.jsx(ke,{variant:"ghost",className:"mt-2",onClick:()=>ve("pending"),children:"Th li"})]}):p!=="all"&&re.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx(A,{name:"filter_alt",className:"text-4xl mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c ko no trong b lc ny"}),a.jsx(ke,{variant:"ghost",className:"mt-2 text-primary",onClick:()=>x("all"),children:"Xem tt c"})]}):re.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx(A,{name:"inbox",className:"text-4xl mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c li mi no"}),a.jsx(ke,{variant:"ghost",className:"mt-2 text-primary",onClick:()=>e(Ae.matchFind),children:"Tm ko ngay"})]}):re.map((z,ee)=>a.jsx(RD,{match:z,index:ee,isAdmin:Od(H==null?void 0:H.userRole),canEditRequest:fe(z),onAccept:zt,onDecline:_t,onCancel:X=>Et(X,"cancel_request"),onConfirm:to,onSendRequest:Yn,onEditRequest:ro,onShowGuide:()=>P(!0)},z.id)),re.length>0&&a.jsx("div",{ref:Ce,className:"h-1"}),Be.pending&&a.jsx("div",{className:"flex justify-center py-4",children:a.jsx(A,{name:"refresh",className:"animate-spin text-primary"})}),!et("pending")&&re.length>0&&a.jsx("div",{className:"text-center text-xs text-gray-400 py-4",children:" ti ht"})]}),he==="upcoming"&&a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[Ee||V?a.jsxs(a.Fragment,{children:[a.jsx(qm,{}),a.jsx(qm,{}),a.jsx(qm,{})]}):Xe?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx(A,{name:"error",className:"text-4xl mb-2 text-red-500"}),a.jsx("p",{className:"text-sm text-red-500",children:Xe}),a.jsx(ke,{variant:"ghost",className:"mt-2",onClick:()=>ve("upcoming"),children:"Th li"})]}):se.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx(A,{name:"event_busy",className:"text-4xl mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Khng c lch thi u no"}),a.jsx(ke,{variant:"ghost",className:"mt-2 text-primary",onClick:()=>e(Ae.matchFind),children:"Tm ko ngay"})]}):se.map(z=>a.jsx(DD,{match:z,myTeam:H||{id:"",name:"",logo:""},isAdmin:Od(H==null?void 0:H.userRole),onFinish:gs,onUpdateScore:oi,onCancel:ee=>Et(ee,"report_busy"),onConfirmAttendance:oo,onAttendanceView:vs,onSubmitResult:li,onConfirmResult:G},z.id)),se.length>0&&a.jsx("div",{ref:Ce,className:"h-1"}),Be.upcoming&&a.jsx("div",{className:"flex justify-center py-4",children:a.jsx(A,{name:"refresh",className:"animate-spin text-primary"})}),!et("upcoming")&&se.length>0&&a.jsx("div",{className:"text-center text-xs text-gray-400 py-4",children:" ti ht"})]}),he==="history"&&a.jsxs("div",{className:"space-y-4 animate-fade-in",children:[_e||V?a.jsxs(a.Fragment,{children:[a.jsx(Ym,{}),a.jsx(Ym,{}),a.jsx(Ym,{})]}):Xe?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx(A,{name:"error",className:"text-4xl mb-2 text-red-500"}),a.jsx("p",{className:"text-sm text-red-500",children:Xe}),a.jsx(ke,{variant:"ghost",className:"mt-2",onClick:()=>ve("history"),children:"Th li"})]}):ce.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[a.jsx(A,{name:"history",className:"text-4xl mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Cha c lch s trn u"})]}):ce.map(z=>a.jsx(zD,{match:z,myTeam:H||{id:"",name:"",logo:""},isAdmin:Od(H==null?void 0:H.userRole),onViewDetail:bl,onRematch:xs},z.id)),ce.length>0&&a.jsx("div",{ref:Ce,className:"h-1"}),Be.history&&a.jsx("div",{className:"flex justify-center py-4",children:a.jsx(A,{name:"refresh",className:"animate-spin text-primary"})}),!et("history")&&ce.length>0&&a.jsx("div",{className:"text-center text-xs text-gray-400 py-4",children:" ti ht"})]})]}),t&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>n(!1)}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe-with-nav animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Xem lch thi u ca"}),a.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto no-scrollbar",children:[D.map(z=>a.jsxs("button",{onClick:()=>{Ze(),W(z),n(!1)},className:`w-full flex items-center gap-4 p-3 rounded-2xl border transition-all active:scale-[0.98] ${(H==null?void 0:H.id)===z.id?"bg-primary/10 border-primary":"bg-gray-50 dark:bg-white/5 border-transparent hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[a.jsx(Jt,{src:z.logo}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h4",{className:`font-bold ${(H==null?void 0:H.id)===z.id?"text-primary":"text-slate-900 dark:text-white"}`,children:z.name}),a.jsx("p",{className:"text-xs text-gray-500",children:z.userRole==="admin"?"Qun tr vin":"Thnh vin"})]}),(H==null?void 0:H.id)===z.id&&a.jsx("div",{className:"size-6 bg-primary rounded-full flex items-center justify-center text-black",children:a.jsx(A,{name:"check",className:"text-sm"})})]},z.id)),a.jsxs("button",{onClick:()=>{n(!1),e(Ae.teamsCreate)},className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-primary hover:border-primary transition-colors",children:[a.jsx(A,{name:"add"}),a.jsx("span",{className:"font-medium",children:"To i mi"})]})]})]})]}),r&&a.jsx(rz,{isOpen:!!r,matchId:r,myTeam:H||{id:"",name:"",logo:""},onClose:ps,onSuccess:ii}),i&&(()=>{const z=re.find(ee=>ee.id===i);return z?a.jsx(M2,{isOpen:!!i,mode:c,matchId:i,myTeam:H||{id:"",name:"",logo:""},opponentTeam:z.teamB||{id:"",name:""},initialData:c==="edit"?{proposedDate:z.date,proposedTime:z.time,proposedPitch:z.location,notes:z.notes}:void 0,onClose:Da,onSuccess:ao}):null})(),a.jsx(pf,{isOpen:y.isOpen,onClose:()=>b(z=>le(R({},z),{isOpen:!1})),type:y.type,title:y.title,description:y.description,icon:y.icon,iconColor:y.iconColor,inputPlaceholder:"Nhp l do (ty chn)...",inputMaxLength:200,primaryButtonText:y.primaryButtonText,secondaryButtonText:"Hy",onPrimaryAction:qn,isLoading:v}),N&&(()=>{const z=ce.find(ee=>ee.id===N);return z?a.jsx(uz,{isOpen:!!N,matchId:N,myTeam:H||{id:"",name:"",logo:""},opponentTeam:z.teamB||{id:"",name:"",logo:""},onClose:so,onSuccess:io}):null})(),a.jsx(Oz,{isOpen:S,onClose:no}),(()=>{if(!C)return null;const z=re.find(ee=>ee.id===C);return z?a.jsx(Az,{isOpen:!!C,matchId:C,match:z,myTeam:H||{id:"",name:"",logo:""},opponentTeam:z.teamB||{id:"",name:"",logo:""},onClose:ms,onSuccess:yl}):null})(),a.jsx(cz,{isOpen:E.isOpen,onClose:lo,matchId:E.matchId,onAttendanceUpdate:ys}),h&&(()=>{const z=se.find(ee=>ee.id===h);return z?a.jsx(Rz,{isOpen:!!h,matchId:h,myTeam:H||{id:"",name:"",logo:""},opponentTeam:z.teamB||{id:"",name:"",logo:""},initialData:z.result?{teamAScore:z.result.teamAScore,teamBScore:z.result.teamBScore,notes:z.result.notes,fileIds:z.result.fileIds}:void 0,onClose:wl,onSuccess:B}):null})()]})},Qn={lat:10.7769,lng:106.7009},lB=()=>{const e=jt(),{showToast:t}=ra(),n=La(),{teams:r,currentIndex:s,isLoading:i,isRefreshing:l,error:c,matchedTeam:d,matchedMatch:h,setFilters:m,resetFilters:p,setTeams:x,nextCard:y,setMatchedTeam:b,setMatchedMatch:v,setLoading:j,setRefreshing:N,setError:w}=Bs(),S=k.useRef(!0),P=k.useRef(!1),C=k.useRef(Date.now()),U=k.useRef([]),E=k.useRef(!1),[Z,q]=k.useState(0),[$,D]=k.useState(!1),J=k.useRef(null),H=k.useRef(!1),W=k.useRef(null),ie=k.useRef(0);k.useEffect(()=>{typeof s=="number"&&(C.current=Date.now())},[s]),k.useCallback(()=>new Promise(nt=>{if(H.current){Mn.getLocation().then(Fe=>{nt({lat:Fe.latitude,lng:Fe.longitude})}).catch(()=>{console.warn("Zalo location error, using default location"),nt(Qn)});return}H.current=!0,D(!0),J.current={resolve:Fe=>nt(Fe),reject:()=>nt(Qn)}}),[]);const ge=k.useCallback((nt,Fe)=>O(void 0,null,function*(){ie.current=Date.now(),W.current={source:nt,stadiumLocation:Fe};let ve;switch(nt){case"current":try{const Ze=yield Mn.getLocation(),et=Ze.latitude||Ze.lat,oe=Ze.longitude||Ze.lng;et&&oe?ve={lat:typeof et=="string"?parseFloat(et):et,lng:typeof oe=="string"?parseFloat(oe):oe}:(console.warn("Zalo location did not return coordinates, using default location"),t("Khng th ly v tr ca bn. ang s dng v tr mc nh (H Ch Minh)","info"),ve=Qn)}catch(Ze){console.warn("Zalo location error, using default location",Ze),t("Khng th ly v tr ca bn. ang s dng v tr mc nh (H Ch Minh)","info"),ve=Qn}break;case"stadium":ve=Fe||Qn;break;case"default":default:ve=Qn;break}j(!0),w(null);try{const Ze=Bs.getState().filters;m({center:{lat:ve.lat,lng:ve.lng}});const et={lat:ve.lat,lng:ve.lng,radius:Ze.radius,level:Ze.level,gender:Ze.gender,sortBy:Ze.sortBy==="rating"?"quality":Ze.sortBy==="createdAt"||Ze.sortBy==="lastActive"?"activity":Ze.sortBy,sortOrder:Ze.sortOrder,limit:50},oe=La();oe!=null&&oe.id&&(et.teamId=oe.id),console.log("[useDiscovery] fetchWithLocation: Calling API with params",{lat:et.lat,lng:et.lng,teamId:et.teamId});const Ce=yield y_.discoverTeams(et);if(Ce.success&&Ce.data){const je=(Ce.data.teams||[]).map(We=>le(R({},We),{logo:We.logo||"",isActive:!0,isArchived:!1,createdBy:"",createdAt:We.lastActive||new Date().toISOString()}));x(je,Ce.data.total||0),P.current=!0}else w("Khng th ti danh sch i")}catch(Ze){console.error("Discovery fetch error:",Ze);const et=(Ze==null?void 0:Ze.message)||"Khng th ti danh sch i. Vui lng th li.";w(et),t(et,"error")}finally{j(!1)}}),[m,x,j,w,t]);k.useEffect(()=>{var nt,Fe,ve,Ze;if(!P.current&&n){const et=Ih(n.level,n.gender),oe=Bs.getState().filters;((Fe=(nt=oe.center)==null?void 0:nt.lat)!=null?Fe:Qn.lat)===et.center.lat&&((Ze=(ve=oe.center)==null?void 0:ve.lng)!=null?Ze:Qn.lng)===et.center.lng&&oe.radius===et.radius&&p(n.level,n.gender)}},[n,p]);const he=k.useCallback((nt=!1)=>O(void 0,null,function*(){if(!(i&&!nt)){if(!W.current){console.warn("fetchTeams called without location source");return}ie.current=Date.now(),j(!0),nt&&N(!0),w(null);try{let Fe;switch(W.current.source){case"current":try{const oe=yield Mn.getLocation(),Ce=oe.latitude||oe.lat,Se=oe.longitude||oe.lng;Ce&&Se?Fe={lat:typeof Ce=="string"?parseFloat(Ce):Ce,lng:typeof Se=="string"?parseFloat(Se):Se}:Fe=Qn}catch(oe){console.warn("Zalo location error, using default location"),Fe=Qn}break;case"stadium":Fe=W.current.stadiumLocation||Qn;break;case"default":default:Fe=Qn;break}const ve=Bs.getState().filters;m({center:{lat:Fe.lat,lng:Fe.lng}});const Ze={lat:Fe.lat,lng:Fe.lng,radius:ve.radius,level:ve.level,gender:ve.gender,sortBy:ve.sortBy==="rating"?"quality":ve.sortBy==="createdAt"||ve.sortBy==="lastActive"?"activity":ve.sortBy,sortOrder:ve.sortOrder,limit:50};n!=null&&n.id&&(Ze.teamId=n.id);const et=yield y_.discoverTeams(Ze);if(et.success&&et.data){const Ce=(et.data.teams||[]).map(Se=>le(R({},Se),{logo:Se.logo||"",isActive:!0,isArchived:!1,createdBy:"",createdAt:Se.lastActive||new Date().toISOString()}));x(Ce,et.data.total||0),P.current=!0}else w("Khng th ti danh sch i")}catch(Fe){console.error("Discovery fetch error:",Fe);const ve=(Fe==null?void 0:Fe.message)||"Khng th ti danh sch i. Vui lng th li.";w(ve),nt&&t(ve,"error")}finally{S.current&&(j(!1),N(!1))}}}),[n,i,m,x,j,N,w,t]),V=k.useCallback(()=>O(void 0,null,function*(){var Fe;if(E.current||U.current.length===0)return;E.current=!0;const nt=U.current.shift();try{const ve=nt.direction==="right"?"like":"pass",Ze=Date.now()-C.current,et=yield rc.createSwipe({swiperTeamId:n.id,targetTeamId:nt.teamId,action:ve,swipeMetadata:{timeSpentViewing:Ze,locationPreferenceMatch:!0,levelPreferenceMatch:!0,genderPreferenceMatch:!0}});if(et.success&&((Fe=et.data)!=null&&Fe.isMatch)){const oe=r.find(Ce=>Ce.id===nt.teamId);oe&&(b(oe),et.data.newMatch&&v(et.data.newMatch))}}catch(ve){console.error("Swipe error:",ve);const Ze=(ve==null?void 0:ve.message)||"Khng th thc hin hnh ng. Vui lng th li.";t(Ze,"error")}finally{q(ve=>ve-1),E.current=!1,U.current.length>0&&V()}}),[n,r,b,v,t]),fe=k.useCallback(nt=>{const Fe=r[s];if(!(!Fe||!n)){if(Z>=5){t("ang x l qu nhiu thao tc, vui lng i trong giy lt","error");return}y(),U.current.push({direction:nt,teamId:Fe.id}),q(ve=>ve+1),E.current||V()}},[r,s,n,y,V,Z,t]),re=k.useCallback(()=>{},[]),se=k.useCallback(()=>{b(null),v(null)},[b,v]),ce=k.useCallback(nt=>{se(),nt&&e(Ae.matchDetail(nt))},[se,e]),Ne=k.useCallback(()=>O(void 0,null,function*(){if(!W.current){t("Vui lng chn b lc trc","error");return}yield he(!0)}),[he,t]),Ee=k.useRef(he);Ee.current=he,k.useEffect(()=>{const nt=Date.now(),Fe=nt-ie.current;W.current&&r.length>0&&r.length-s<=3&&!i&&!l&&Fe>1e3&&(ie.current=nt,Ee.current(!1))},[s,r.length,l]);const _e=r[s]||null,Me=s<r.length,Be=Z<5,Xe=k.useCallback(nt=>O(void 0,null,function*(){if(D(!1),!!J.current){if(nt)try{const Fe=yield Mn.getLocation();J.current.resolve({lat:Fe.latitude,lng:Fe.longitude})}catch(Fe){console.warn("Zalo location error:",Fe),J.current.resolve(Qn)}else J.current.resolve(Qn);J.current=null}}),[]);return{currentTeam:_e,allTeams:r,currentIndex:s,hasMoreCards:Me,matchedTeam:d,matchedMatch:h,isLoading:i,isRefreshing:l,error:c,pendingSwipeCount:Z,canSwipe:Be,showLocationPermission:$,fetchTeams:he,fetchWithLocation:ge,handleSwipe:fe,nextCard:y,openFilters:re,closeMatchModal:se,goToMatchDetail:ce,refresh:Ne,handleLocationPermissionResponse:Xe}},cB=()=>{const e=jt(),{currentTeam:t,allTeams:n,currentIndex:r,matchedTeam:s,matchedMatch:i,isLoading:l,isRefreshing:c,error:d,handleSwipe:h,closeMatchModal:m,pendingSwipeCount:p,canSwipe:x,fetchWithLocation:y}=lB(),b=Bs(oe=>oe.filters),v=Bs(oe=>oe.hasAppliedFilters),j=Bs(oe=>oe.setHasAppliedFilters),N=Qi(),w=La(),{setSelectedTeam:S}=Vn(),P=Vn(oe=>oe.isLoading),C=N.filter(oe=>oe.userRole==="admin"),[U,E]=k.useState(!1),[Z,q]=k.useState(!1),[$,D]=k.useState(null),[J,H]=k.useState(null),[W,ie]=k.useState({x:0,y:0}),[ge,he]=k.useState(!1),V=k.useRef(null),fe=k.useRef(!1),re=k.useRef(!1),se=k.useMemo(()=>P?"loading":N.length===0||C.length===0?"no-teams":C.length>1&&!w?"select-team":w&&!v?"select-filter":v&&w?!l&&n.length===0&&!c?"empty-results":"discovery":"loading",[P,N.length,C.length,w,v,n.length,l,c]);k.useEffect(()=>{fe.current||(!P&&C.length===1&&!w?(console.log("[FindMatch] Auto-selecting single admin team"),S(C[0]),fe.current=!0):!P&&C.length>1&&!w&&(fe.current=!0))},[P,C.length,w,S]),k.useEffect(()=>{se==="select-filter"&&!Z&&(console.log("[FindMatch] Flow: Showing filter sheet (required first time)"),q(!0))},[se]),k.useEffect(()=>{if(v&&w&&!l&&n.length===0&&!c&&!re.current){const oe=localStorage.getItem("discovery-location-source"),Ce=localStorage.getItem("discovery-stadium-location");let Se;oe==="stadium"&&Ce&&(Se=JSON.parse(Ce));const je=oe||"default";re.current=!0,y(je,Se)}},[v,w,l,n.length,c]);const ce=oe=>O(void 0,null,function*(){j(!0),q(!1),re.current=!0,localStorage.setItem("discovery-location-source",oe);let Ce;oe==="stadium"?(Ce={lat:10.7769,lng:106.7009},localStorage.setItem("discovery-stadium-location",JSON.stringify(Ce))):localStorage.removeItem("discovery-stadium-location"),yield y(oe,Ce)}),Ne=oe=>O(void 0,null,function*(){q(!1),re.current=!0,localStorage.setItem("discovery-location-source",oe);let Ce;oe==="stadium"?(Ce={lat:10.7769,lng:106.7009},localStorage.setItem("discovery-stadium-location",JSON.stringify(Ce))):localStorage.removeItem("discovery-stadium-location"),yield y(oe,Ce)}),Ee=oe=>O(void 0,null,function*(){const Ce=C.find(Se=>Se.id===oe);if(Ce)if(console.log("[FindMatch] handleTeamChange: Changing to team",Ce.name,"hasAppliedFilters:",v),E(!1),v){const Se=localStorage.getItem("discovery-location-source"),je=localStorage.getItem("discovery-stadium-location");let We;Se==="stadium"&&je&&(We=JSON.parse(je));const ue=Se||"default";console.log("[FindMatch] handleTeamChange: Fetching with locationSource",ue),S(Ce),setTimeout(()=>{y(ue,We)},0)}else console.log("[FindMatch] handleTeamChange: Showing filter sheet"),S(Ce),setTimeout(()=>{q(!0)},0)}),_e=oe=>{if(!t||(w==null?void 0:w.userRole)!=="admin"||!x){x||Nt.error("ang x l qu nhiu thao tc, vui lng i trong giy lt");return}D(oe),setTimeout(()=>{h(oe),D(null),ie({x:0,y:0})},100)},Me=oe=>{const Ce="touches"in oe?oe.touches[0].clientX:oe.clientX,Se="touches"in oe?oe.touches[0].clientY:oe.clientY;H({x:Ce,y:Se}),he(!0)},Be=oe=>{if(!J)return;const Ce="touches"in oe?oe.touches[0].clientX:oe.clientX,Se="touches"in oe?oe.touches[0].clientY:oe.clientY;ie({x:Ce-J.x,y:Se-J.y})},Xe=()=>{if(!J)return;if(he(!1),!((w==null?void 0:w.userRole)==="admin")){ie({x:0,y:0}),H(null);return}W.x>120?_e("right"):W.x<-120?_e("left"):ie({x:0,y:0}),H(null)},nt=()=>{t&&Math.abs(W.x)<5&&Math.abs(W.y)<5&&e(Ae.opponentDetail(t==null?void 0:t.id),{state:{team:t,sortBy:b.sortBy,compatibilityScore:Math.round((t.compatibilityScore||0)*100),qualityScore:Math.round((t.qualityScore||0)*100),activityScore:Math.round((t.activityScore||0)*100)}})},Fe=oe=>{if(r+oe>=n.length)return{zIndex:0,opacity:0,transformOrigin:"center center"};if(oe===0){const Se=W.x*.05,je=$?0:1;return{transform:`translate(${$==="left"?-500:$==="right"?500:W.x}px, ${W.y*.2}px) rotate(${Se}deg)`,transformOrigin:"center center",transition:ge?"none":"transform 0.3s ease, opacity 0.3s ease",opacity:je,zIndex:30}}else if(oe===1)return{transform:"scale(0.95) translateY(10px)",transformOrigin:"center center",zIndex:20,opacity:1};return{zIndex:0,opacity:0,transformOrigin:"center center"}},ve=Math.max(0,Math.min(W.x/100,1)),Ze=Math.max(0,Math.min(-W.x/100,1)),et=oe=>oe<1?`${Math.round(oe*1e3)}m`:`${oe.toFixed(1)}km`;if(se==="loading")return console.log("[FindMatch] Flow: Loading skeleton"),a.jsx(LD,{});if(d&&!t&&se==="discovery")return a.jsxs("div",{className:"flex flex-col h-dvh bg-background-light dark:bg-background-dark items-center justify-center p-6 text-center",children:[a.jsx("div",{className:"size-24 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mb-4",children:a.jsx(A,{name:"error",className:"text-4xl text-red-500"})}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"C li xy ra"}),a.jsx("p",{className:"text-gray-500 mb-6",children:d}),a.jsx("button",{onClick:()=>{j(!1),q(!0)},className:"px-6 py-3 rounded-xl bg-primary text-background-dark font-bold",children:"Th li"})]});if(se==="no-teams"){const oe=N.length>0&&C.length===0;return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[a.jsxs("div",{className:"safe-area-top px-4 pb-2 flex items-center",children:[a.jsx("button",{onClick:()=>e(Ae.dashboard),className:"size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors mr-4",children:a.jsx(A,{name:"arrow_back"})}),a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Tm ko"})]}),a.jsx("div",{className:"flex flex-col items-center justify-center flex-1 p-6",children:oe?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-amber-500/10 flex items-center justify-center mb-6",children:a.jsx(A,{name:"admin_panel_settings",className:"text-amber-500 text-5xl"})}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Cn quyn qun tr vin"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6 max-w-sm",children:["Bn ang tham gia ",N.length," i nhng cha l qun tr vin ca i no. Hy to i mi hoc lin h qun tr vin  c cp quyn tm ko."]}),a.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[a.jsx(ke,{icon:"add",onClick:()=>e(Ae.teamsCreate),children:"To i mi"}),a.jsx("button",{onClick:()=>e(Ae.teams),className:"px-6 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold",children:"Xem i ca ti"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:a.jsx(A,{name:"groups",className:"text-primary text-5xl"})}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Cha c i bng"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6 max-w-sm",children:"Bn cn to i  tm ko u. Hy to i mi ca bn v bt u kt ni vi cc i bng khc."}),a.jsx(ke,{icon:"add",onClick:()=>e(Ae.teamsCreate),children:"To i ngay"})]})})]})}return se==="select-team"?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe-with-nav",children:[a.jsxs("div",{className:"safe-area-top px-4 pb-2 flex items-center",children:[a.jsx("button",{onClick:()=>e(Ae.dashboard),className:"size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors mr-4",children:a.jsx(A,{name:"arrow_back"})}),a.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Chn i"})]}),a.jsxs("div",{className:"flex flex-col items-center flex-1 p-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:a.jsx(A,{name:"groups",className:"text-primary text-4xl"})}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:"Chn i  tm ko"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6 max-w-sm",children:["Bn l qun tr vin ca ",C.length," i. Chn i bn mun dng  tm ko."]}),a.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[C.map(oe=>a.jsxs("button",{onClick:()=>Ee(oe.id),className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-surface-light dark:bg-surface-dark border border-gray-200 dark:border-white/5 hover:border-primary transition-all active:scale-[0.98]",children:[a.jsx(Jt,{src:oe.logo}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:oe.name}),a.jsx("p",{className:"text-xs text-gray-500",children:"Qun tr vin"})]}),a.jsx(A,{name:"chevron_right",className:"text-gray-400"})]},oe.id)),a.jsxs("button",{onClick:()=>{e(Ae.teamsCreate)},className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-primary hover:border-primary transition-colors",children:[a.jsx(A,{name:"add"}),a.jsx("span",{className:"font-medium",children:"To i mi"})]})]})]})]}):se==="empty-results"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col h-dvh bg-background-light dark:bg-background-dark items-center justify-center p-6 text-center",children:[a.jsxs("div",{className:"flex flex-col items-center text-center max-w-[280px] gap-4",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-surface-light dark:bg-surface-dark flex items-center justify-center mb-2",children:a.jsx(A,{name:"search_off",className:"text-text-secondary text-4xl"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-900 dark:text-white text-xl font-bold",children:"Ht ko ph hp"}),a.jsx("p",{className:"text-text-secondary text-sm mt-2 leading-relaxed",children:"Hy th m rng bn knh tm kim hoc iu chnh b lc trnh ."})]})]}),a.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[a.jsx("button",{onClick:()=>E(!0),className:"px-6 py-3 rounded-xl bg-primary text-background-dark font-bold shadow-lg",children:"Chn i khc"}),a.jsx("button",{onClick:()=>q(!0),className:"px-6 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold",children:"iu chnh b lc"}),a.jsx("button",{onClick:()=>e(Ae.dashboard),className:"px-6 py-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 font-bold",children:"Quay v trang ch"})]})]}),U&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>E(!1)}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:'Chn i i "cp ko"'}),a.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto no-scrollbar",children:[C.map(oe=>a.jsxs("button",{onClick:()=>Ee(oe.id),className:`w-full flex items-center gap-4 p-3 rounded-2xl border transition-all active:scale-[0.98] ${(w==null?void 0:w.id)===oe.id?"bg-primary/10 border-primary":"bg-gray-50 dark:bg-white/5 border-transparent hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[a.jsx(Jt,{src:oe.logo}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h4",{className:`font-bold ${(w==null?void 0:w.id)===oe.id?"text-primary":"text-slate-900 dark:text-white"}`,children:oe.name}),a.jsx("p",{className:"text-xs text-gray-500",children:"Qun tr vin"})]}),(w==null?void 0:w.id)===oe.id&&a.jsx("div",{className:"size-6 bg-primary rounded-full flex items-center justify-center text-black",children:a.jsx(A,{name:"check",className:"text-sm"})})]},oe.id)),a.jsxs("button",{onClick:()=>{E(!1),e(Ae.teamsCreate)},className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-primary hover:border-primary transition-colors",children:[a.jsx(A,{name:"add"}),a.jsx("span",{className:"font-medium",children:"To i mi"})]})]})]})]}),a.jsx(x_,{isOpen:Z,onClose:()=>q(!1),onApply:ce,onChange:Ne,isChange:!0,required:!1})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col h-dvh bg-background-light dark:bg-background-dark relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-primary/10 to-transparent pointer-events-none z-0"}),c&&a.jsx("div",{className:"fixed top-4 left-0 right-0 z-50 bg-primary/10 py-2 text-center text-xs text-primary font-medium safe-area-top",children:"ang lm mi..."}),p>0&&a.jsx("div",{className:"fixed top-12 left-0 right-0 z-40 flex justify-center px-4 safe-area-top",children:a.jsxs("div",{className:"flex items-center gap-2 bg-white/90 dark:bg-surface-dark/90 backdrop-blur-sm px-4 py-2 rounded-full shadow-lg border border-gray-200 dark:border-white/10",children:[a.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-primary border-t-transparent animate-spin"}),a.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:["ang lu ",p," swipe",p>1?"s":"","..."]})]})}),a.jsxs("div",{className:"relative z-50 safe-area-top px-4 pb-2 flex justify-center shrink-0",children:[a.jsxs("div",{onClick:()=>E(!0),className:"flex items-center gap-2 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-md pl-4 pr-5 py-2 rounded-full shadow-lg border border-white/5 cursor-pointer hover:bg-surface-light hover:dark:bg-surface-dark transition-colors group",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/20 flex items-center justify-center group-hover:bg-primary/30 transition-colors",children:a.jsx(A,{name:"groups",className:"text-primary text-[16px]"})}),a.jsx("p",{className:"text-slate-900 dark:text-white text-sm font-medium leading-normal",children:w?a.jsxs(a.Fragment,{children:["i ca bn: ",a.jsx("span",{className:"text-primary font-bold",children:w.name})]}):a.jsx("span",{className:"text-primary font-bold",children:"Chn i  tm ko"})}),a.jsx(A,{name:"expand_more",className:"text-text-secondary text-[16px] ml-1"})]}),a.jsx("button",{onClick:()=>e(Ae.dashboard),className:"absolute left-4 top-1/2 -translate-y-1/2 size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors",children:a.jsx(A,{name:"arrow_back"})}),a.jsx("button",{onClick:()=>{q(!0)},className:"absolute right-4 top-1/2 -translate-y-1/2 size-10 flex items-center justify-center rounded-full bg-white/10 backdrop-blur-md hover:bg-white/20 transition-colors",children:a.jsx(A,{name:"tune"})})]}),a.jsxs("div",{className:"flex-1 relative w-full flex flex-col items-center justify-center p-4 z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[calc(50%+8px)] w-[82%] h-[calc(100dvh-220px)] sm:h-[calc(100dvh-200px)] max-h-[580px] sm:max-h-[640px] bg-surface-light/40 dark:bg-surface-dark/40 rounded-[2.5rem] border border-white/5 z-0 pointer-events-none"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[calc(50%+4px)] w-[82%] h-[calc(100dvh-220px)] sm:h-[calc(100dvh-200px)] max-h-[580px] sm:max-h-[640px] bg-surface-light/70 dark:bg-surface-dark/70 rounded-[2.5rem] border border-white/5 z-10 shadow-lg backdrop-blur-sm pointer-events-none"}),(c||l&&!t)&&a.jsx("div",{className:"absolute w-full max-w-[360px] h-[calc(100dvh-220px)] sm:h-[calc(100dvh-200px)] max-h-[580px] sm:max-h-[640px] bg-surface-light/90 dark:bg-surface-dark/90 rounded-[2.5rem] z-50 flex flex-col items-center justify-center backdrop-blur-sm animate-fade-in",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-primary/30 border-t-primary animate-spin"}),a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:c?"ang tm ko mi...":"ang tm ko..."}),a.jsx("p",{className:"text-xs text-gray-500",children:"ang p dng b lc"})]})}),Array.from({length:Math.min(2,n.length-r)}).map((oe,Ce)=>{var je,We,ue,Ye,ae,De,Ge;const Se=n[r+Ce];return Se?a.jsxs("div",{ref:Ce===0?V:null,style:Fe(Ce),className:"absolute left-0 right-0 mx-auto w-full max-w-[360px] h-[calc(100dvh-220px)] sm:h-[calc(100dvh-200px)] max-h-[580px] sm:max-h-[640px] bg-surface-light dark:bg-surface-dark rounded-[2.5rem] shadow-card flex flex-col overflow-hidden border border-gray-200 dark:border-white/10 group cursor-grab active:cursor-grabbing select-none will-change-transform",onTouchStart:Ce===0?Me:void 0,onTouchMove:Ce===0?Be:void 0,onTouchEnd:Ce===0?Xe:void 0,onMouseDown:Ce===0?Me:void 0,onMouseMove:Ce===0?Be:void 0,onMouseUp:Ce===0?Xe:void 0,onMouseLeave:Ce===0?Xe:void 0,children:[Ce===0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute top-8 left-8 z-30 border-4 border-green-500 rounded-[2.5rem] px-6 py-3 transform -rotate-12 pointer-events-none transition-opacity bg-white/95 dark:bg-surface-dark/95 backdrop-blur-md shadow-lg",style:{opacity:ve},children:a.jsx("span",{className:"text-4xl font-black text-green-500 uppercase tracking-widest",children:"LIKE"})}),a.jsx("div",{className:"absolute top-8 right-8 z-30 border-4 border-red-500 rounded-[2.5rem] px-6 py-3 transform rotate-12 pointer-events-none transition-opacity bg-white/95 dark:bg-surface-dark/95 backdrop-blur-md shadow-lg",style:{opacity:Ze},children:a.jsx("span",{className:"text-4xl font-black text-red-500 uppercase tracking-widest",children:"NOPE"})})]}),a.jsxs("div",{className:"relative h-[160px] sm:h-[180px] w-full bg-surface-light overflow-hidden shrink-0",children:[Se.banner?a.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${Se.banner}')`}}):Se.logo?a.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${Se.logo}')`}}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-6xl font-bold",children:((je=Se.name)==null?void 0:je.charAt(0))||"T"})}),a.jsx("div",{className:"absolute inset-0 bg-surface-light/60 dark:bg-surface-dark/60 backdrop-blur-[2px]"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-surface-light dark:from-surface-dark via-transparent to-transparent"}),a.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-1.5 items-start",children:[(()=>{const Je=Math.round((Se.qualityScore||0)*100),zt=Je>=80?"bg-primary":Je>=60?"bg-amber-500":"bg-gray-500";return a.jsxs("div",{className:"px-3 py-1 bg-white/20 dark:bg-black/20 backdrop-blur-md border border-white/30 dark:border-white/10 rounded-lg flex items-center gap-1.5",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${zt} animate-pulse`}),a.jsxs("span",{className:"text-slate-900 dark:text-white text-xs font-bold uppercase tracking-wide",children:[Je,"% Cht lng"]})]})})(),(()=>{const Je=Math.round((Se.activityScore||0)*100),zt=Je>=80?"bg-orange-500":Je>=60?"bg-amber-500":"bg-gray-500";return a.jsxs("div",{className:"px-3 py-1 bg-white/20 dark:bg-black/20 backdrop-blur-md border border-white/30 dark:border-white/10 rounded-lg flex items-center gap-1.5",children:[a.jsx(A,{name:"whatshot",className:`${zt} text-[14px]`}),a.jsxs("span",{className:"text-slate-900 dark:text-white text-xs font-bold uppercase tracking-wide",children:[Je,"% Hot ng"]})]})})(),(()=>{const Je=Math.round((Se.compatibilityScore||0)*100),zt=Je>=80?"bg-pink-500":Je>=60?"bg-amber-500":"bg-gray-500";return a.jsxs("div",{className:"px-3 py-1 bg-white/20 dark:bg-black/20 backdrop-blur-md border border-white/30 dark:border-white/10 rounded-lg flex items-center gap-1.5",children:[a.jsx(A,{name:"favorite",className:`${zt} text-[14px]`}),a.jsxs("span",{className:"text-slate-900 dark:text-white text-xs font-bold uppercase tracking-wide",children:[Je,"% Hp c"]})]})})()]})]}),a.jsx("div",{className:"absolute top-[140px] sm:top-[160px] left-1/2 -translate-x-1/2 z-20",children:a.jsx("div",{className:"w-20 sm:w-24 h-20 sm:h-24 rounded-full p-1.5 bg-surface-light dark:bg-surface-dark shadow-2xl",children:a.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-surface-light border border-gray-200 dark:border-white/10 relative",children:Se.logo?a.jsx("img",{src:Se.logo,className:"w-full h-full object-cover",alt:"logo"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-2xl",children:((We=Se.name)==null?void 0:We.charAt(0))||"T"})})})}),a.jsxs("div",{className:"flex-1 flex flex-col px-4 sm:px-6 pt-14 pb-24 items-center text-center bg-surface-light dark:bg-surface-dark w-full",onClick:nt,children:[a.jsxs("div",{className:"flex flex-col items-center gap-1 mb-2",children:[a.jsxs("h2",{className:"text-slate-900 dark:text-white text-2xl font-display font-bold tracking-tight flex items-center gap-2",children:[Se.name,(Se.qualityScore||0)>=.8&&a.jsx(A,{name:"verified",className:"text-primary text-[22px]"})]}),a.jsx("div",{className:"flex items-center gap-1.5",children:Se.lastActive&&(()=>{const Je=Date.now(),zt=new Date(Se.lastActive).getTime(),_t=(Je-zt)/(1e3*60*60),Et=new Date(Se.lastActive).toDateString()===new Date().toDateString();return _t<1?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),a.jsx("span",{className:"text-emerald-400 text-xs font-medium",children:"ang hot ng"})]}):Et?a.jsxs("span",{className:"text-text-secondary text-xs font-medium",children:["Hot ng ",new Date(Se.lastActive).toLocaleDateString("vi-VN",{hour:"2-digit",minute:"2-digit"})]}):null})()}),a.jsx("span",{className:"text-text-secondary text-sm font-medium",children:((ue=Se.location)==null?void 0:ue.address)||"..."})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-4",children:[(()=>{const Je=bu(Se.level);return a.jsxs("div",{className:`px-3 py-1 rounded-lg ${Je.bg} border ${Je.border} flex items-center gap-1.5`,children:[a.jsx(A,{name:uv,className:`${Je.main} text-[16px]`}),a.jsx("span",{className:`${Je.main} text-xs font-bold uppercase tracking-wide`,children:Se.level||"-"})]})})(),a.jsxs("div",{className:"px-3 py-1 rounded-lg bg-white/5 border border-white/10 flex items-center gap-1.5",children:[a.jsx(A,{name:"groups",className:"text-text-secondary text-[16px]"}),a.jsxs("span",{className:"text-text-secondary text-xs font-bold",children:[Se.membersCount||0," Thnh vin"]})]})]}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed line-clamp-2 px-2 mb-6",children:Se.description?Se.description:`Tham gia CapKeoSport t ${new Date(Se.createdAt||"").toLocaleDateString("vi-VN",{month:"long",year:"numeric"})}`}),a.jsxs("div",{className:"w-full grid grid-cols-3 gap-2 sm:gap-3 mb-auto",children:[((Ye=Se.stats)==null?void 0:Ye.attack)&&a.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-2 sm:p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5 shadow-inner-light",children:[a.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold tracking-wider",children:"Tn cng"}),a.jsx("span",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-white",children:Se.stats.attack}),a.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full mt-1 overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-400 rounded-full",style:{width:`${Se.stats.attack}%`}})})]}),((ae=Se.stats)==null?void 0:ae.defense)&&a.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-2 sm:p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5 shadow-inner-light",children:[a.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold tracking-wider",children:"Phng th"}),a.jsx("span",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-white",children:Se.stats.defense}),a.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full mt-1 overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-400 rounded-full",style:{width:`${Se.stats.defense}%`}})})]}),((De=Se.stats)==null?void 0:De.technique)&&a.jsxs("div",{className:"bg-surface-light/50 dark:bg-surface-dark/50 rounded-2xl p-2 sm:p-3 flex flex-col items-center gap-1 border border-gray-200 dark:border-white/5 shadow-inner-light",children:[a.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold tracking-wider",children:"K thut"}),a.jsx("span",{className:"text-base sm:text-lg font-bold text-slate-900 dark:text-white",children:Se.stats.technique}),a.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full mt-1 overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${Se.stats.technique}%`}})})]})]}),a.jsxs("div",{className:"w-full grid grid-cols-2 gap-2 sm:gap-3 mt-3 sm:mt-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 sm:py-3 px-3 sm:px-4 rounded-xl bg-surface-light dark:bg-surface-dark border border-gray-200 dark:border-white/5",children:[a.jsx(A,{name:"sports_soccer",className:"text-primary text-[18px] sm:text-[20px]"}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold",children:"Sn bng"}),a.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-900 dark:text-white",children:((Ge=Se.pitch)==null?void 0:Ge.join(" & "))||"Sn 5 & 7"})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 py-2 sm:py-3 px-3 sm:px-4 rounded-xl bg-surface-light dark:bg-surface-dark border border-gray-200 dark:border-white/5",children:[a.jsx(A,{name:"near_me",className:"text-primary text-[18px] sm:text-[20px]"}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-[10px] text-text-secondary uppercase font-bold",children:"Cch xa"}),a.jsx("span",{className:"text-xs sm:text-sm font-bold text-slate-900 dark:text-white",children:et(Se.distance)})]})]})]})]})]},Se.id):null})]}),a.jsxs("div",{className:"relative z-20 w-full flex items-center justify-center gap-10 pb-12 pt-4 px-6 shrink-0",children:[a.jsx("button",{onClick:()=>_e("left"),disabled:!t||(w==null?void 0:w.userRole)!=="admin",className:"group flex items-center justify-center w-[72px] h-[72px] rounded-full bg-surface-light dark:bg-surface-dark text-text-secondary shadow-lg border border-gray-200 dark:border-white/5 hover:bg-gray-200 dark:hover:bg-surface-light hover:text-slate-900 dark:hover:text-white transition-all duration-300 active:scale-90 disabled:opacity-50",children:a.jsx(A,{name:"close",className:"text-[32px] group-hover:rotate-12 transition-transform duration-300"})}),a.jsx("button",{onClick:()=>_e("right"),disabled:!t||(w==null?void 0:w.userRole)!=="admin",className:"group flex items-center justify-center w-[84px] h-[84px] rounded-full bg-primary text-background-dark shadow-glow shadow-primary/40 hover:shadow-primary/60 hover:scale-105 transition-all duration-300 active:scale-95 border-4 border-background-light dark:border-background-dark disabled:opacity-50",children:a.jsx(A,{name:"favorite",className:"text-[40px] filled group-hover:scale-110 transition-transform duration-200"})})]}),w&&w.userRole!=="admin"&&a.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-3xl p-6 mx-6 max-w-sm shadow-2xl text-center animate-fade-in",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-500/10 flex items-center justify-center mx-auto mb-4",children:a.jsx(A,{name:"admin_panel_settings",className:"text-amber-500 text-3xl"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"Cn quyn qun tr vin"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 leading-relaxed",children:["Bn khng phi l qun tr vin ca i ",a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:w.name}),". Ch qun tr vin mi c th tm ko u."]}),a.jsx(ke,{icon:"groups",onClick:()=>E(!0),className:"w-full",children:"Chn i khc"})]})}),U&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>E(!1)}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:'Chn i i "cp ko"'}),a.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto no-scrollbar",children:[C.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4 text-center",children:[a.jsx(A,{name:"admin_panel_settings",className:"text-4xl text-gray-400 mb-3"}),a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Bn cha l qun tr vin ca i no"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Hy to i mi hoc lin h qun tr vin  cp quyn"})]}):C.map(oe=>a.jsxs("button",{onClick:()=>Ee(oe.id),className:`w-full flex items-center gap-4 p-3 rounded-2xl border transition-all active:scale-[0.98] ${(w==null?void 0:w.id)===oe.id?"bg-primary/10 border-primary":"bg-gray-50 dark:bg-white/5 border-transparent hover:bg-gray-100 dark:hover:bg-white/10"}`,children:[a.jsx(Jt,{src:oe.logo}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("h4",{className:`font-bold ${(w==null?void 0:w.id)===oe.id?"text-primary":"text-slate-900 dark:text-white"}`,children:oe.name}),a.jsx("p",{className:"text-xs text-gray-500",children:"Qun tr vin"})]}),(w==null?void 0:w.id)===oe.id&&a.jsx("div",{className:"size-6 bg-primary rounded-full flex items-center justify-center text-black",children:a.jsx(A,{name:"check",className:"text-sm"})})]},oe.id)),a.jsxs("button",{onClick:()=>{E(!1),e(Ae.teamsCreate)},className:"w-full flex items-center justify-center gap-2 p-4 rounded-2xl border border-dashed border-gray-300 dark:border-gray-600 text-gray-500 hover:text-primary hover:border-primary transition-colors",children:[a.jsx(A,{name:"add"}),a.jsx("span",{className:"font-medium",children:"To i mi"})]})]})]})]})]}),a.jsx(x_,{isOpen:Z,onClose:()=>{se!=="select-filter"&&q(!1)},onApply:ce,onChange:Ne,isChange:v,required:se==="select-filter",requiredText:"Bt buc chn b lc  tip tc"}),a.jsx(ez,{isOpen:!!s,matchedTeam:s,myTeamLogo:w==null?void 0:w.logo,myTeamName:w==null?void 0:w.name,myTeamId:w==null?void 0:w.id,matchId:i==null?void 0:i.id,onKeepSwiping:m})]})},uB=()=>{const e=jt(),t=Xi(),{showPermissionModal:n,getLocation:r,handlePermissionResponse:s}=Z2({storageKey:"create_team_location_permission",showExplanation:!0});k.useEffect(()=>{r().catch(()=>{})},[]);const[i,l]=k.useState(""),[c,d]=k.useState("Mi chi"),[h,m]=k.useState("Nam"),[p,x]=k.useState(["Sn 5"]),[y,b]=k.useState({attack:7,defense:6.5,technique:8}),[v,j]=k.useState(null),[N,w]=k.useState(null),[S,P]=k.useState(null),[C,U]=k.useState(null),[E,Z]=k.useState(""),[q,$]=k.useState(null),[D,J]=k.useState(void 0),[H,W]=k.useState(!1),[ie,ge]=k.useState(null),[he,V]=k.useState(void 0),[fe,re]=k.useState(!1),[se,ce]=k.useState(0),[Ne,Ee]=k.useState(""),[_e,Me]=k.useState(!1),[Be,Xe]=k.useState(null),nt=k.useRef(null),Fe=k.useRef(null),ve=je=>{x(We=>We.includes(je)?We.filter(ue=>ue!==je):[...We,je])},Ze=(je,We)=>{b(ue=>le(R({},ue),{[je]:We}))},et=je=>O(void 0,null,function*(){var ue;const We=(ue=je.target.files)==null?void 0:ue[0];if(We){if(!We.type.startsWith("image/")){Xe("Logo phi l file nh (JPG, PNG, WEBP)");return}if(We.size>5*1024*1024){Xe("Logo khng c vt qu 5MB");return}Xe(null);const Ye=new FileReader;Ye.onloadend=()=>$(Ye.result),Ye.readAsDataURL(We),W(!0);try{const ae=yield Ah.uploadFile({file:We,fileType:"logo"},De=>{console.log(`Logo upload progress: ${De}%`)});ae.success&&ae.data?(J(ae.data.publicUrl),console.log("Logo uploaded successfully:",ae.data.publicUrl)):Xe("Khng th ti ln logo. Vui lng th li.")}catch(ae){console.error("Logo upload error:",ae),Xe("Khng th ti ln logo. Vui lng th li.")}finally{W(!1)}}}),oe=je=>O(void 0,null,function*(){var ue;const We=(ue=je.target.files)==null?void 0:ue[0];if(We){if(!We.type.startsWith("image/")){Xe("Banner phi l file nh (JPG, PNG, WEBP)");return}if(We.size>5*1024*1024){Xe("Banner khng c vt qu 5MB");return}Xe(null);const Ye=new FileReader;Ye.onloadend=()=>ge(Ye.result),Ye.readAsDataURL(We),re(!0);try{const ae=yield Ah.uploadFile({file:We,fileType:"banner"},De=>{console.log(`Banner upload progress: ${De}%`)});ae.success&&ae.data?(V(ae.data.publicUrl),console.log("Banner uploaded successfully:",ae.data.publicUrl)):Xe("Khng th ti ln nh ba. Vui lng th li.")}catch(ae){console.error("Banner upload error:",ae),Xe("Khng th ti ln nh ba. Vui lng th li.")}finally{re(!1)}}}),Ce=()=>i.trim()?i.length<3||i.length>100?"Tn i bng phi t 3-100 k t":v?null:"Vui lng chn sn nh  cc i bng khc c th tm n bn":"Vui lng nhp tn i bng",Se=()=>O(void 0,null,function*(){const je=Ce();if(je){Xe(je);return}if(H||fe){Xe("Vui lng i ti ln nh hon tt.");return}Me(!0),Xe(null),ce(0),Ee("ang to i bng...");try{const We={attack:Math.round(y.attack*10),defense:Math.round(y.defense*10),technique:Math.round(y.technique*10)};let ue={};if(v)if(S==="database"&&!v.id.startsWith("goong_")&&!v.id.startsWith("custom-"))ue.homeStadiumId=v.id,N!=null&&N.lat&&(N!=null&&N.lng)&&(ue.confirmedLat=N.lat,ue.confirmedLng=N.lng);else if(S==="goong_places")ue.goongPlaceId=v.placeId,ue.stadiumName=(C==null?void 0:C.name)||v.name,ue.confirmedLat=N==null?void 0:N.lat,ue.confirmedLng=N==null?void 0:N.lng,ue.stadiumAddress=(C==null?void 0:C.formattedAddress)||v.address,ue.stadiumDistrict=(C==null?void 0:C.district)||v.district,ue.stadiumCity=(C==null?void 0:C.city)||v.city;else{const ae=N!=null&&N.lat&&(N!=null&&N.lng)?`https://www.google.com/maps?q=${N.lat},${N.lng}`:"";ue.homeStadium={name:v.name,mapUrl:ae,address:v.address,district:v.district,city:v.city,lat:N==null?void 0:N.lat,lng:N==null?void 0:N.lng}}const Ye=le(R({name:i.trim(),gender:j2(h),level:c},ue),{stats:We,pitch:p.length>0?p:void 0,description:E.trim()||void 0,logo:D,banner:he});yield t.createTeam(Ye),ce(100),Ee("Hon tt!"),yield t.fetchMyTeams(!0),setTimeout(()=>{e(-1)},500)}catch(We){console.error("Create team error:",We),Xe(We.message||"C li xy ra. Vui lng th li."),ce(0),Ee("")}finally{Me(!1)}});return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx(Kt,{title:"To i bng mi",onBack:()=>e(Ae.teams)}),a.jsxs("div",{className:"flex-1 p-4 flex flex-col gap-6 overflow-y-auto pb-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"relative w-full h-36 rounded-xl bg-gray-100 dark:bg-surface-dark border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-white/5 transition-colors group overflow-hidden",onClick:()=>{var je;return!_e&&!fe&&((je=Fe.current)==null?void 0:je.click())},children:[ie?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:ie,alt:"Banner",className:"w-full h-full object-cover"}),fe&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin block mx-auto mb-2"}),a.jsx("p",{className:"text-white text-xs font-bold",children:"ang ti ln..."})]})}),he&&!fe&&a.jsx("div",{className:"absolute top-2 right-2 bg-green-500 rounded-full p-1 shadow-lg flex items-center justify-center",children:a.jsx("span",{className:"material-icons text-white select-none leading-none",style:{fontSize:"14px"},children:"check"})})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400 group-hover:text-primary transition-colors",children:[a.jsx(A,{name:"add_photo_alternate",className:"text-3xl"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"nh ba (Banner)"})]}),a.jsx("input",{ref:Fe,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:oe,disabled:_e||fe})]}),a.jsxs("div",{className:"flex items-center gap-4 px-2",children:[a.jsxs("div",{className:"relative size-24 shrink-0",children:[a.jsx("div",{className:"relative w-full h-full rounded-full bg-gray-100 dark:bg-surface-dark border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center overflow-hidden",onClick:()=>{var je;return!_e&&!H&&((je=nt.current)==null?void 0:je.click())},children:q?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:q,alt:"Logo",className:"w-full h-full object-cover"}),H&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin block"})})]}):a.jsx(A,{name:"add_a_photo",className:"text-2xl text-gray-400"})}),!H&&a.jsx("button",{onClick:je=>{var We;je.stopPropagation(),(We=nt.current)==null||We.click()},className:"absolute bottom-0 right-0 bg-primary hover:bg-primary-dark rounded-full p-1.5 shadow-lg border-2 border-background-light dark:border-background-dark transition-all z-10 flex items-center justify-center","aria-label":"Thay i logo",type:"button",children:a.jsx("span",{className:"material-icons text-white select-none leading-none",style:{fontSize:"14px"},children:"edit"})}),D&&!H&&a.jsx("div",{className:"absolute top-0 right-0 bg-green-500 rounded-full p-1 shadow-lg z-10 flex items-center justify-center","aria-hidden":"true",children:a.jsx("span",{className:"material-icons text-white select-none leading-none",style:{fontSize:"12px"},children:"check"})}),a.jsx("input",{ref:nt,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:et,disabled:_e||H})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Logo i bng"}),a.jsx("p",{className:"text-xs text-gray-500",children:H?"ang ti ln...":"Nn dng nh vung, ti a 5MB"})]})]})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsx(zr,{label:"Tn i bng",placeholder:"VD: FC Si Gn",icon:"groups",value:i,onChange:je=>l(je.target.value),disabled:_e}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Trnh "}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:mf.map(je=>{const We=c===je;return a.jsx("button",{onClick:()=>!_e&&d(je),disabled:_e,className:`py-3 px-4 rounded-xl border text-sm font-semibold transition-all ${We?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:je},je)})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii tnh"}),a.jsx("div",{className:"flex gap-3",children:[{label:"Nam",icon:"male"},{label:"N",icon:"female"},{label:"Mixed",icon:"wc"}].map(je=>a.jsxs("button",{onClick:()=>!_e&&m(je.label),disabled:_e,className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex items-center justify-center gap-2 ${h===je.label?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[a.jsx(A,{name:je.icon,className:"text-lg"}),je.label]},je.label))})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Loi sn thng "}),a.jsx("div",{className:"flex gap-3",children:yu.map(je=>a.jsxs("button",{onClick:()=>!_e&&ve(je),disabled:_e,className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex flex-col items-center gap-1 ${p.includes(je)?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[a.jsx(A,{name:"sports_soccer",className:"text-lg",filled:p.includes(je)}),a.jsx("span",{children:je})]},je))})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ch s i bng (Thang 10)"}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[a.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg",children:a.jsx(A,{name:"flash_on",className:"text-lg"})}),a.jsx("span",{className:"font-bold text-sm",children:"Tn cng"})]}),a.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:y.attack})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:y.attack,onChange:je=>Ze("attack",parseFloat(je.target.value)),disabled:_e,className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[a.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-lg",children:a.jsx(A,{name:"shield",className:"text-lg"})}),a.jsx("span",{className:"font-bold text-sm",children:"Phng th"})]}),a.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:y.defense})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:y.defense,onChange:je=>Ze("defense",parseFloat(je.target.value)),disabled:_e,className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:a.jsx(A,{name:"sports_soccer",className:"text-lg"})}),a.jsx("span",{className:"font-bold text-sm",children:"K thut"})]}),a.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white",children:y.technique})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:y.technique,onChange:je=>Ze("technique",parseFloat(je.target.value)),disabled:_e,className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("div",{className:"flex items-center gap-2 ml-1",children:a.jsxs("label",{className:"text-sm font-bold text-slate-900 dark:text-white",children:["Sn nh ",a.jsx("span",{className:"text-red-500",children:"*"})]})}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-3 mb-1",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(A,{name:"info",className:"text-blue-500 text-lg mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 font-semibold mb-1",children:" cc i bng khc c th tm n bn"}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 leading-relaxed",children:"Chn sn ni i bng thng xuyn hot ng  cc i khc trong khu vc d dng tm thy v gi li mi giao lu."}),a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400 leading-relaxed mt-1",children:[" ",a.jsx("span",{className:"font-medium",children:"Cha c sn nh?"})," Hy tm v chn 1 sn trong khu vc ca bn!"]})]})]})}),a.jsx(dv,{value:v,onChange:(je,We,ue)=>{j(je),P((je==null?void 0:je.source)||"custom"),U(ue||null),We&&w(We)},disabled:_e})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii thiu ngn"}),a.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none disabled:opacity-50",placeholder:"M t v i bng, tiu ch giao lu...",value:E,onChange:je=>Z(je.target.value),disabled:_e})]})]})]}),a.jsxs("div",{className:"mt-auto border-t border-gray-200 dark:border-white/5 bg-background-light dark:bg-background-dark pb-safe z-20",children:[Be&&a.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-white/5",children:a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:Be})})}),_e&&Ne&&a.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-white/5",children:a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl",children:[a.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mb-2",children:Ne}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${se}%`}})})]})}),a.jsx("div",{className:"p-4",children:a.jsx(ke,{fullWidth:!0,onClick:Se,disabled:_e,children:_e?"ANG TO...":"TO I BNG"})})]}),a.jsx(H2,{isOpen:n,onAllow:()=>s(!0),onDeny:()=>s(!1)})]})},J2=({isOpen:e,onClose:t,teamId:n})=>{const[r,s]=k.useState(""),[i,l]=k.useState(""),[c,d]=k.useState(!1),[h,m]=k.useState(!1),[p,x]=k.useState(null);Re.useEffect(()=>{e&&(s(""),l(""),x(null))},[e]);const y=v=>{let j=v.replace(/\s/g,"");return j.startsWith("0")?j="84"+j.slice(1):j.startsWith("+84")&&(j=j.slice(1)),"+"+j},b=()=>O(void 0,null,function*(){var v;if(!r||r.length<9){x("Vui lng nhp s in thoi hp l");return}if(n){d(!0),x(null);try{const j=yield L2.inviteByPhone(n,{phone:y(r),customMessage:i.trim()||void 0});j.success?(m(!0),setTimeout(()=>{m(!1),t()},1500),s(""),l("")):x(((v=j.error)==null?void 0:v.message)||"Khng th gi li mi")}catch(j){x("Khng th gi li mi. Vui lng th li.")}finally{d(!1)}}});return e?a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mi tham gia i"}),a.jsx("button",{onClick:t,className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:a.jsx(A,{name:"close",className:"text-gray-500 dark:text-gray-400"})})]}),p&&a.jsx("div",{className:"mb-4 p-3 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 text-sm",children:p}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"S in thoi"}),a.jsx("div",{className:"flex gap-2",children:a.jsx("input",{value:r,onChange:v=>s(v.target.value),type:"tel",placeholder:"Nhp ST...",className:"flex-1 bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl h-12 px-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",autoFocus:!0})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Li nhn (ty chn)"}),a.jsx("textarea",{value:i,onChange:v=>l(v.target.value),placeholder:"VD: Gia nhp i chng ti nh!",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl p-3 h-24 text-sm text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-none",maxLength:100}),a.jsxs("p",{className:"text-xs text-gray-400 text-right",children:[i.length,"/100"]})]})]}),a.jsx("button",{onClick:b,disabled:c||!r,className:"w-full mt-6 py-3 rounded-xl bg-primary text-white font-semibold hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"size-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"ang gi..."]}):"Gi li mi"}),h&&a.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-slate-900/90 text-white px-4 py-2 rounded-full shadow-xl flex items-center gap-2 text-sm font-medium animate-fade-in",children:[a.jsx(A,{name:"check_circle",className:"text-green-500"})," gi li mi thnh cng!"]})]})]}):null},Q2=(e,t=!1)=>{const n=Vn(),r=t?n.currentOpponentDetail:n.currentTeamDetail;t?n.currentOpponentId:n.currentTeamId;const s=t?n.isOpponentDetailLoading:n.isTeamDetailLoading,i=t?n.isOpponentDetailRefreshing:n.isTeamDetailRefreshing,l=t?n.opponentDetailError:n.teamDetailError;k.useEffect(()=>{if(!e){console.warn("[useTeamDetail] No teamId provided, skipping fetch");return}O(void 0,null,function*(){try{t?yield n.fetchOpponentDetail(e):yield n.fetchTeamDetail(e)}catch(h){console.error("[useTeamDetail] Failed to fetch team detail:",h)}})},[e,t]);const c=k.useCallback(()=>O(void 0,null,function*(){if(!e){console.warn("[useTeamDetail] No teamId provided, skipping refresh");return}try{t?yield n.fetchOpponentDetail(e,!0):yield n.fetchTeamDetail(e,!0)}catch(d){console.error("[useTeamDetail] Failed to refresh team detail:",d)}}),[e,t,n]);return{team:r,isLoading:s,isRefreshing:i,error:l,refresh:c}},dB=()=>{var J,H;const e=jt(),{teamId:t}=Ra(),{team:n,isLoading:r,error:s,isRefreshing:i,refresh:l}=Q2(t),[c,d]=k.useState(!1),[h,m]=k.useState(!1),[p,x]=k.useState(0),[y,b]=k.useState(0),v=W=>{window.scrollY===0&&x(W.touches[0].clientY)},j=W=>{if(p&&window.scrollY===0){const ie=W.touches[0].clientY-p;ie>0&&b(Math.min(ie,120))}},N=()=>O(void 0,null,function*(){y>80&&(yield l()),x(0),b(0)}),S=Qi().find(W=>W.id===t),C=T2(S),U=W=>W==="MALE"||W==="Nam"?"Nam":W==="FEMALE"||W==="N"?"N":"Mixed",E=W=>W==="MALE"||W==="Nam"?"male":W==="FEMALE"||W==="N"?"female":"wc",Z=W=>[W.address,W.district,W.city].filter(Boolean).join(", ")||"Cha c a ch",q=W=>{if(!W||!W.trim())return;const ie=`comgooglemaps://?url=${encodeURIComponent(W.trim())}`,ge=Date.now();window.location.href=ie,setTimeout(()=>{Date.now()-ge<600&&window.open(W.trim(),"_blank")},500)};if(r&&!i)return a.jsxs(a.Fragment,{children:[a.jsx(Kt,{title:"Chi tit i bng",onBack:()=>e(-1)}),a.jsx(MD,{})]});if(s||!n)return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[a.jsx(Kt,{title:"Chi tit i bng",onBack:()=>e(-1)}),a.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx(A,{name:"error",className:"text-4xl mb-2 text-red-500"}),a.jsx("p",{className:"text-sm text-red-500 mb-4",children:s||"Khng tm thy i bng"}),a.jsx(ke,{variant:"ghost",onClick:()=>e(-1),children:"Quay li"})]})})]});const $=((J=n.members)==null?void 0:J.slice(0,3).map(W=>{var ie;return(ie=W.user)==null?void 0:ie.avatar}).filter(Boolean))||[],D=Math.max(0,(n.membersCount||0)-(((H=n.members)==null?void 0:H.length)||0));return a.jsxs("div",{className:`flex flex-col min-h-screen bg-background-light dark:bg-background-dark ${C?"pb-24":""}`,onTouchStart:v,onTouchMove:j,onTouchEnd:N,children:[a.jsx(Kt,{title:"Chi tit i bng",onBack:()=>e(-1)}),(y>0||i)&&a.jsx("div",{className:"fixed top-16 left-0 right-0 z-30 flex items-center justify-center pointer-events-none transition-all duration-200",style:{opacity:Math.min(y/80,1),transform:`translateY(${Math.min(y,80)}px)`},children:a.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-primary/30 border-t-primary animate-spin"}),a.jsx("span",{children:"ang ti..."})]}):y>80?a.jsxs(a.Fragment,{children:[a.jsx(A,{name:"refresh",className:"text-primary"}),a.jsx("span",{children:"Th  ti"})]}):a.jsxs(a.Fragment,{children:[a.jsx(A,{name:"arrow_downward"}),a.jsx("span",{children:"Ko  ti"})]})})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-40 w-full overflow-hidden",children:n.banner?a.jsx("img",{src:n.banner,className:"w-full h-full object-cover",alt:"Team Banner"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-green-600/20"})}),a.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:a.jsx("div",{className:"size-24 rounded-full border-4 border-background-light dark:border-background-dark bg-surface-dark overflow-hidden shadow-lg",children:n.logo?a.jsx("img",{className:"w-full h-full object-cover",src:n.logo,alt:n.name}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-2xl",children:n.name.charAt(0)})})})]}),a.jsxs("div",{className:"mt-12 text-center px-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:n.name}),C&&a.jsx("button",{onClick:()=>e(Ae.teamEdit(t),{state:{team:n}}),className:"size-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/10 active:bg-gray-200 dark:active:bg-white/20 transition-colors",children:a.jsx(A,{name:"edit",className:"text-lg text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"flex justify-center gap-2 mt-3",children:[a.jsxs("span",{className:"px-3 py-1 rounded-full bg-gray-200 dark:bg-white/10 text-xs font-medium flex items-center gap-1",children:[a.jsx(A,{name:E(n.gender),className:"text-sm"})," ",U(n.gender)]}),(()=>{const W=bu(n.level);return a.jsxs("span",{className:`px-3 py-1 rounded-full ${W.bg} ${W.main} text-xs font-medium flex items-center gap-1`,children:[a.jsx(A,{name:uv,className:"text-sm"})," ",n.level]})})()]})]}),a.jsx("div",{className:"px-4 mt-6",children:a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5 space-y-4 shadow-sm",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary shrink-0",children:a.jsx(A,{name:"stadium",className:"text-lg"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Sn nh"}),n.homeStadium?a.jsxs("div",{className:"mt-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:n.homeStadium.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:Z(n.homeStadium)}),a.jsx("p",{className:"text-xs italic text-gray-400 mt-0.5",children:"Sn i thng xuyn thi u"}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.homeStadium.matchCount>0&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-gray-500",children:[a.jsx(A,{name:"sports_soccer",className:"text-xs"}),n.homeStadium.matchCount," trn"]}),n.homeStadium.mapUrl&&a.jsxs("button",{onClick:()=>q(n.homeStadium.mapUrl),className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-xs font-medium hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors","aria-label":"Xem bn  trn Google Maps",children:[a.jsx(A,{name:"map",className:"text-xs"}),"Xem bn "]})]})]}):a.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Cha cp nht sn nh"})]})]}),n.pitch&&n.pitch.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary shrink-0",children:a.jsx(A,{name:"sports_soccer",className:"text-lg"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Loi sn"}),a.jsx("p",{className:"text-sm font-medium",children:n.pitch.join("  ")})]})]})]}),n.description&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full h-px bg-gray-100 dark:bg-white/5"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"size-8 rounded-full bg-primary/10 flex items-center justify-center text-primary shrink-0",children:a.jsx(A,{name:"info",className:"text-lg"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Gii thiu"}),a.jsx("p",{className:"text-sm font-normal text-gray-600 dark:text-gray-300",children:n.description})]})]})]})]})}),n.stats&&(n.stats.attack||n.stats.defense||n.stats.technique)&&a.jsxs("div",{className:"px-4 mt-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsx("h3",{className:"font-bold text-lg",children:"Ch s i"})}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[n.stats.attack!==void 0&&a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-10 ${$t.attack.bg} ${$t.attack.main} rounded-full flex items-center justify-center`,children:a.jsx(A,{name:Dr.attack})}),a.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Tn cng"}),a.jsx("span",{className:"font-bold text-lg",children:(n.stats.attack/10).toFixed(1)})]}),n.stats.defense!==void 0&&a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-10 ${$t.defense.bg} ${$t.defense.main} rounded-full flex items-center justify-center`,children:a.jsx(A,{name:Dr.defense})}),a.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Phng th"}),a.jsx("span",{className:"font-bold text-lg",children:(n.stats.defense/10).toFixed(1)})]}),n.stats.technique!==void 0&&a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 flex flex-col items-center gap-2",children:[a.jsx("div",{className:`size-10 ${$t.technique.bg} ${$t.technique.main} rounded-full flex items-center justify-center`,children:a.jsx(A,{name:Dr.technique})}),a.jsx("span",{className:"text-xs font-medium text-gray-500",children:"K thut"}),a.jsx("span",{className:"font-bold text-lg",children:(n.stats.technique/10).toFixed(1)})]})]})]}),a.jsxs("div",{className:"px-4 mt-6 pb-32",children:[a.jsxs("h3",{className:"font-bold text-lg mb-3",children:["Thnh vin (",n.membersCount||0,")"]}),a.jsxs("div",{onClick:()=>t&&e(Ae.teamMembers(t)),className:"flex items-center justify-between p-4 rounded-xl bg-white dark:bg-surface-dark border border-gray-100 dark:border-white/5 shadow-sm active:bg-gray-50 dark:active:bg-white/5 cursor-pointer transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex -space-x-3",children:[$.map((W,ie)=>a.jsx("div",{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark overflow-hidden bg-gray-200",children:W?a.jsx("img",{src:W,className:"w-full h-full object-cover",alt:`Member ${ie+1}`}):a.jsx("div",{className:"w-full h-full bg-gray-300 flex items-center justify-center",children:a.jsx(A,{name:"person",className:"text-gray-400"})})},ie)),D>0&&a.jsxs("div",{className:"size-10 rounded-full border-2 border-white dark:border-surface-dark bg-gray-100 dark:bg-white/10 flex items-center justify-center text-xs font-bold text-gray-500",children:["+",D]})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-sm text-slate-900 dark:text-white",children:"Xem tt c"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Qun l thnh vin"})]})]}),a.jsx("div",{className:"size-8 rounded-full bg-gray-100 dark:bg-white/5 flex items-center justify-center",children:a.jsx(A,{name:"arrow_forward",className:"text-gray-400 text-lg"})})]})]}),C&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/90 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5 z-40",children:a.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[a.jsx(ke,{variant:"secondary",className:"flex-1",icon:"person_add",onClick:()=>d(!0),children:"Thm TV"}),a.jsx(ke,{variant:"primary",className:"flex-[1.2]",icon:"sports",onClick:()=>e(Ae.matchFind),children:"Cp ko"})]})}),a.jsx(az,{isOpen:c,onClose:()=>d(!1),teamId:t,onAddByPhone:()=>{d(!1),m(!0)}}),a.jsx(J2,{isOpen:h,onClose:()=>m(!1),teamId:t})]})},hB=()=>{var We,ue,Ye;const e=jt(),{teamId:t}=Ra(),[n,r]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(null),[d,h]=k.useState(null),[m,p]=k.useState(!1),[x,y]=k.useState(!1),[b,v]=k.useState("players"),[j,N]=k.useState([]),[w,S]=k.useState(!1),[P,C]=k.useState(!1),[U,E]=k.useState(!1),[Z,q]=k.useState(null),[$,D]=k.useState(null),J=E2(),{fetchSentInvites:H,cancelInvite:W}=Xi(),ie=vu(),he=Qi().find(ae=>ae.id===t),V=(he==null?void 0:he.userRole)==="admin";k.useEffect(()=>{b==="pending"&&t&&fe()},[b,t]);const fe=()=>O(void 0,null,function*(){if(t){S(!0);try{yield H(t,{status:"pending"});const ae=J.filter(De=>De.status==="pending");N(ae)}catch(ae){console.error("Failed to load pending invites:",ae)}finally{S(!1)}}});k.useEffect(()=>{O(void 0,null,function*(){if(t)try{i(!0),c(null);const De=yield Pi.getTeamMembers(t);De.success&&De.data?r(De.data):c("Khng th ti danh sch thnh vin")}catch(De){console.error("Failed to fetch team members:",De),c(De instanceof Error?De.message:"C li xy ra")}finally{i(!1)}})},[t]);const re=(ae,De)=>{ae.stopPropagation(),h(De),p(!0)},se=()=>{p(!1),setTimeout(()=>h(null),300)},ce=ae=>{q("delete_member"),D({member:ae}),E(!0)},Ne=ae=>{q("demote_admin"),D({member:ae}),E(!0)},Ee=ae=>{q("cancel_invite"),D({inviteId:ae}),E(!0)},_e=()=>O(void 0,null,function*(){if(!(!Z||!$)){switch(Z){case"delete_member":yield Be();break;case"demote_admin":yield Fe();break;case"cancel_invite":yield Ze();break}E(!1),q(null),D(null)}}),Me=()=>O(void 0,null,function*(){if(!(!d||!t||!he)){if(!V){Nt.error("Ch admin mi c quyn xa thnh vin");return}if(d.userId===(ie==null?void 0:ie.id)){Nt.error("Khng th xa chnh mnh. Hy dng tnh nng ri i.");return}ce(d)}}),Be=()=>O(void 0,null,function*(){var De;const ae=$==null?void 0:$.member;if(!(!ae||!t))try{const Ge=yield Pi.removeMember(t,ae.id);Ge.success?(Nt.success(" xa thnh vin khi i"),r(Je=>Je.filter(zt=>zt.id!==ae.id)),se()):Nt.error(((De=Ge.error)==null?void 0:De.message)||"Khng th xa thnh vin")}catch(Ge){console.error("Failed to remove member:",Ge),Nt.error("C li xy ra")}}),Xe=()=>O(void 0,null,function*(){var ae;if(!(!d||!t||!he)){if(!V){Nt.error("Ch admin mi c quyn thng cp");return}if(Se(d)){Nt.error("Thnh vin ny  l admin ri");return}try{yield Vn.getState().updateMemberAdminRole(t,d.id,"admin"),Nt.success(` thng ${(ae=d.user)==null?void 0:ae.name} lm admin`),se();const Ge=yield Pi.getTeamMembers(t);Ge.success&&Ge.data&&r(Ge.data)}catch(De){console.error("Failed to promote member:",De),Nt.error("Khng th thng cp thnh vin")}}}),nt=()=>O(void 0,null,function*(){if(!(!d||!t||!he)){if(!V){Nt.error("Ch admin mi c quyn h cp");return}if(!Se(d)){Nt.error("Ch c th h cp admin");return}Ne(d)}}),Fe=()=>O(void 0,null,function*(){var De;const ae=$==null?void 0:$.member;if(!(!ae||!t))try{yield Vn.getState().updateMemberAdminRole(t,ae.id,"member"),Nt.success(` h cp ${(De=ae.user)==null?void 0:De.name} xung thnh vin`),se();const Je=yield Pi.getTeamMembers(t);Je.success&&Je.data&&r(Je.data)}catch(Ge){console.error("Failed to demote member:",Ge),Nt.error("Khng th h cp thnh vin")}}),ve=ae=>O(void 0,null,function*(){Ee(ae)}),Ze=()=>O(void 0,null,function*(){const ae=$==null?void 0:$.inviteId;if(ae){C(!0);try{yield W(ae),yield fe()}catch(De){console.error("Failed to cancel invite:",De)}finally{C(!1)}}}),et=()=>{var ae,De,Ge,Je;switch(Z){case"delete_member":return{title:"Xa thnh vin",description:`Bn c chc mun xa ${(De=(ae=$==null?void 0:$.member)==null?void 0:ae.user)==null?void 0:De.name} khi i?`,icon:"person_remove",iconColor:"text-red-500",primaryButtonText:"Xa"};case"demote_admin":return{title:"H cp thnh vin",description:`Bn c chc mun h cp ${(Je=(Ge=$==null?void 0:$.member)==null?void 0:Ge.user)==null?void 0:Je.name} xung thnh vin?`,icon:"arrow_downward",iconColor:"text-orange-500",primaryButtonText:"H cp"};case"cancel_invite":return{title:"Hy li mi",description:"Bn c chc mun hy li mi ny?",icon:"cancel",iconColor:"text-orange-500",primaryButtonText:"Hy li mi"};default:return null}},oe=ae=>{var De;if((De=ae.user)!=null&&De.position)return ae.user.position;if(ae.position)return ae.position;switch(ae.role){case"admin":return"Cu th";case"PLAYER":return"Cu th";case"member":return"Cu th";case"SUBSTITUTE":return"D b";default:return"Thnh vin"}},Ce=ae=>{var De,Ge,Je,zt;return ae.role==="admin"?"Qun tr vin":ae.position==="Captain"||((Ge=(De=ae.user)==null?void 0:De.position)==null?void 0:Ge.toLowerCase())==="i trng"||((zt=(Je=ae.user)==null?void 0:Je.position)==null?void 0:zt.toLowerCase())==="captain"?"i trng":"Thnh vin"},Se=ae=>{var De,Ge,Je,zt;return ae.role==="admin"||ae.position==="Captain"||((Ge=(De=ae.user)==null?void 0:De.position)==null?void 0:Ge.toLowerCase())==="i trng"||((zt=(Je=ae.user)==null?void 0:Je.position)==null?void 0:zt.toLowerCase())==="captain"},je=et();return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[a.jsx(Kt,{title:"Thnh vin",onBack:()=>e(-1)}),V&&a.jsxs("div",{className:"flex border-b border-gray-200 dark:border-white/10 bg-white dark:bg-surface-dark",children:[a.jsxs("button",{className:`flex-1 py-3 text-center font-medium transition-colors ${b==="players"?"text-primary border-b-2 border-primary":"text-gray-500 dark:text-gray-400"}`,onClick:()=>v("players"),children:["Cu th (",n.length,")"]}),a.jsxs("button",{className:`flex-1 py-3 text-center font-medium transition-colors ${b==="pending"?"text-primary border-b-2 border-primary":"text-gray-500 dark:text-gray-400"}`,onClick:()=>v("pending"),children:["ang mi (",j.length,")"]})]}),!V||b==="players"?a.jsxs(a.Fragment,{children:[s&&a.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4 mx-auto"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti danh sch thnh vin..."})]})}),!s&&l&&a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsx(vl,{message:l,onRetry:()=>window.location.reload()})}),!s&&!l&&n.length===0&&a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsx(Ki,{icon:"group_off",title:"Cha c thnh vin no",description:"Team ny cha c thnh vin. Hy mi thm thnh vin!"})}),!s&&!l&&n.length>0&&a.jsx("div",{className:"p-4 space-y-3 overflow-y-auto pb-24",children:n.map(ae=>{var De,Ge,Je;return a.jsxs("div",{onClick:()=>e(Ae.memberProfile(t||"",ae.id),{state:{member:ae,team:he}}),className:"flex items-center gap-3 bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 shadow-sm active:scale-[0.99] transition-transform cursor-pointer",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"size-12 rounded-full overflow-hidden bg-gray-200 dark:bg-white/10",children:(De=ae.user)!=null&&De.avatar?a.jsx("img",{src:ae.user.avatar,alt:(Ge=ae.user)==null?void 0:Ge.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(A,{name:"person",className:"text-gray-400"})})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm truncate",children:((Je=ae.user)==null?void 0:Je.name)||"Thnh vin"})}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-text-secondary",children:oe(ae)}),a.jsx("span",{className:"text-[10px] text-gray-300",children:""}),a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${Se(ae)?"bg-yellow-500/10 text-yellow-600 dark:text-yellow-500":"bg-gray-100 dark:bg-white/5 text-gray-500"}`,children:Ce(ae)})]})]}),V&&a.jsx("button",{onClick:zt=>re(zt,ae),className:"size-8 flex items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 dark:hover:bg-white/5 active:bg-gray-200",children:a.jsx(A,{name:"more_vert"})})]},ae.id)})})]}):a.jsx(a.Fragment,{children:a.jsx("div",{className:"flex-1 p-4 overflow-y-auto pb-24",children:w?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ri,{}),a.jsx(Ri,{}),a.jsx(Ri,{})]}):j.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(Ki,{icon:"send",title:"Cha c li mi no",description:"Khng c li mi ang ch x l"})}):a.jsx("div",{className:"space-y-3",children:j.map(ae=>a.jsx(oz,{invite:ae,onCancel:V?()=>ve(ae.id):void 0,isLoading:P},ae.id))})})}),V&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-background-light dark:from-background-dark via-background-light/80 dark:via-background-dark/80 to-transparent z-10 pointer-events-none flex justify-center pb-8",children:a.jsxs("button",{onClick:()=>y(!0),className:"pointer-events-auto h-12 px-6 rounded-full bg-primary text-black font-bold shadow-lg shadow-primary/30 flex items-center gap-2 active:scale-95 transition-transform",children:[a.jsx(A,{name:"person_add"}),"Thm thnh vin"]})}),m&&d&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:se}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsxs("div",{className:"flex flex-col items-center mb-6",children:[a.jsx("div",{className:"size-16 rounded-full overflow-hidden mb-3 border-2 border-white dark:border-white/10 shadow-sm",children:(We=d.user)!=null&&We.avatar?a.jsx("img",{src:d.user.avatar,className:"w-full h-full object-cover",alt:(ue=d.user)==null?void 0:ue.name}):a.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:a.jsx(A,{name:"person",className:"text-gray-400"})})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:((Ye=d.user)==null?void 0:Ye.name)||"Thnh vin"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-gray-500",children:oe(d)}),a.jsx("span",{className:"text-xs text-gray-300",children:""}),a.jsx("span",{className:`text-xs font-bold ${Se(d)?"text-yellow-600":"text-gray-500"}`,children:Ce(d)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>{e(Ae.memberProfile(t||"",d.id),{state:{member:d,team:he}}),se()},className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsx("div",{className:"size-10 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-gray-600 dark:text-gray-300",children:a.jsx(A,{name:"person"})}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Xem chi tit"})]}),!Se(d)&&a.jsxs("button",{onClick:Xe,className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsx("div",{className:"size-10 rounded-full bg-yellow-500/10 flex items-center justify-center text-yellow-600",children:a.jsx(A,{name:"security"})}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Thng lm i trng"})]}),Se(d)&&d.userId!==(ie==null?void 0:ie.id)&&a.jsxs("button",{onClick:nt,className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[a.jsx("div",{className:"size-10 rounded-full bg-orange-500/10 flex items-center justify-center text-orange-600",children:a.jsx(A,{name:"arrow_downward"})}),a.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"H cp xung thnh vin"})]}),a.jsx("div",{className:"h-px bg-gray-100 dark:bg-white/5 my-2"}),a.jsxs("button",{onClick:Me,className:"w-full flex items-center gap-3 p-4 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group",children:[a.jsx("div",{className:"size-10 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center text-red-500 group-hover:bg-red-200 dark:group-hover:bg-red-900/40",children:a.jsx(A,{name:"person_remove"})}),a.jsx("span",{className:"font-semibold text-red-500",children:"Xa khi i"})]})]})]})]}),x&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-end justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:()=>y(!1)}),a.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-surface-dark rounded-t-3xl p-6 pb-safe animate-slide-up shadow-2xl",children:[a.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),a.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6",children:"Thm thnh vin mi"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>{y(!1),e(Ae.memberAdd(t||""))},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-gray-200 dark:border-white/10 hover:border-primary/50 hover:bg-primary/5 transition-all group",children:[a.jsx("div",{className:"size-12 rounded-full bg-primary/10 flex items-center justify-center text-primary group-hover:scale-110 transition-transform",children:a.jsx(A,{name:"dialpad",className:"text-2xl"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Thm bng s in thoi"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Tm kim v mi trc tip"})]}),a.jsx(A,{name:"chevron_right",className:"ml-auto text-gray-400"})]}),a.jsxs("button",{onClick:()=>{y(!1),e(Ae.teamShare(t||""))},className:"w-full flex items-center gap-4 p-4 rounded-2xl border border-gray-200 dark:border-white/10 hover:border-blue-500/50 hover:bg-blue-500/5 transition-all group",children:[a.jsx("div",{className:"size-12 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500 group-hover:scale-110 transition-transform",children:a.jsx(A,{name:"share",className:"text-2xl"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:"Chia s lin kt"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Mi qua Zalo, Messenger..."})]}),a.jsx(A,{name:"chevron_right",className:"ml-auto text-gray-400"})]})]})]})]}),je&&a.jsx(pf,{isOpen:U,onClose:()=>E(!1),type:"confirm",title:je.title,description:je.description,icon:je.icon,iconColor:je.iconColor,primaryButtonText:je.primaryButtonText,onPrimaryAction:_e,secondaryButtonText:"Hy",isLoading:P}),a.jsx("style",{children:`
        .animate-fade-in {
          animation: fadeIn 0.2s ease-out forwards;
        }
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }
        .animate-slide-up {
          animation: slideUp 0.3s ease-out forwards;
        }
        @keyframes slideUp {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
      `})]})},fB=()=>{const e=jt(),n=Zr().state,{teamId:r}=Ra(),s=Vn(ue=>ue.fetchTeamDetail),[i,l]=k.useState(null),[c,d]=k.useState(!0),[h,m]=k.useState(!1),[p,x]=k.useState(null),[y,b]=k.useState(null),[v,j]=k.useState(void 0),[N,w]=k.useState(!1),[S,P]=k.useState(null),[C,U]=k.useState(void 0),[E,Z]=k.useState(!1),q=k.useRef(null),$=k.useRef(null),[D,J]=k.useState(""),[H,W]=k.useState("Mi chi"),[ie,ge]=k.useState("Nam"),[he,V]=k.useState(["5","7"]),[fe,re]=k.useState({attack:7.5,defense:6,technique:8.5}),[se,ce]=k.useState(null),[Ne,Ee]=k.useState(null),[_e,Me]=k.useState(null),[Be,Xe]=k.useState(null),[nt,Fe]=k.useState(""),[ve,Ze]=k.useState(!1);k.useEffect(()=>{O(void 0,null,function*(){var Ye,ae,De,Ge,Je,zt;if(r){if(n!=null&&n.team){const _t=n.team;l(_t),J(_t.name),W(_t.level),ge(m_(_t.gender)),V(_t.pitch||[]),re({attack:(((Ye=_t.stats)==null?void 0:Ye.attack)||75)/10,defense:(((ae=_t.stats)==null?void 0:ae.defense)||70)/10,technique:(((De=_t.stats)==null?void 0:De.technique)||72)/10}),_t.homeStadium&&(ce({id:_t.homeStadium.id,name:_t.homeStadium.name,source:"database",mapUrl:_t.homeStadium.mapUrl,address:_t.homeStadium.address,district:_t.homeStadium.district,city:_t.homeStadium.city,matchCount:_t.homeStadium.matchCount||0,homeTeamCount:0,description:_t.homeStadium.address||""}),Me("database")),Fe(_t.description||""),d(!1);return}try{d(!0);const _t=yield Pi.getTeamById(r);if(_t.success&&_t.data){const Et=_t.data;l(Et),J(Et.name),W(Et.level),ge(m_(Et.gender)),V(Et.pitch||[]),re({attack:(((Ge=Et.stats)==null?void 0:Ge.attack)||75)/10,defense:(((Je=Et.stats)==null?void 0:Je.defense)||70)/10,technique:(((zt=Et.stats)==null?void 0:zt.technique)||72)/10}),Et.homeStadium&&(ce({id:Et.homeStadium.id,name:Et.homeStadium.name,source:"database",mapUrl:Et.homeStadium.mapUrl,address:Et.homeStadium.address,district:Et.homeStadium.district,city:Et.homeStadium.city,matchCount:Et.homeStadium.matchCount||0,homeTeamCount:0,description:Et.homeStadium.address||""}),Me("database")),Fe(Et.description||"")}else x("Khng th ti thng tin i")}catch(_t){console.error("Failed to fetch team:",_t),x(_t instanceof Error?_t.message:"C li xy ra")}finally{d(!1)}}})},[r,n]);const et=ue=>{V(Ye=>Ye.includes(ue)?Ye.filter(ae=>ae!==ue):[...Ye,ue])},oe=(ue,Ye)=>{re(ae=>le(R({},ae),{[ue]:Ye}))},Ce=ue=>O(void 0,null,function*(){var ae;const Ye=(ae=ue.target.files)==null?void 0:ae[0];if(Ye){if(!Ye.type.startsWith("image/")){x("Logo phi l file nh (JPG, PNG, WEBP)");return}if(Ye.size>5*1024*1024){x("Logo khng c vt qu 5MB");return}x(null);const De=new FileReader;De.onloadend=()=>b(De.result),De.readAsDataURL(Ye),w(!0);try{const Ge=yield Ah.uploadFile({file:Ye,fileType:"logo"},Je=>{console.log(`Logo upload progress: ${Je}%`)});Ge.success&&Ge.data?(j(Ge.data.publicUrl),console.log("Logo uploaded successfully:",Ge.data.publicUrl)):x("Khng th ti ln logo. Vui lng th li.")}catch(Ge){console.error("Logo upload error:",Ge),x("Khng th ti ln logo. Vui lng th li.")}finally{w(!1)}}}),Se=ue=>O(void 0,null,function*(){var ae;const Ye=(ae=ue.target.files)==null?void 0:ae[0];if(Ye){if(!Ye.type.startsWith("image/")){x("Banner phi l file nh (JPG, PNG, WEBP)");return}if(Ye.size>5*1024*1024){x("Banner khng c vt qu 5MB");return}x(null);const De=new FileReader;De.onloadend=()=>P(De.result),De.readAsDataURL(Ye),Z(!0);try{const Ge=yield Ah.uploadFile({file:Ye,fileType:"banner"},Je=>{console.log(`Banner upload progress: ${Je}%`)});Ge.success&&Ge.data?(U(Ge.data.publicUrl),console.log("Banner uploaded successfully:",Ge.data.publicUrl)):x("Khng th ti ln nh ba. Vui lng th li.")}catch(Ge){console.error("Banner upload error:",Ge),x("Khng th ti ln nh ba. Vui lng th li.")}finally{Z(!1)}}}),je=()=>{Ze(!0),setTimeout(()=>{re({attack:8.2,defense:7.1,technique:7.9}),Ze(!1)},1e3)},We=()=>O(void 0,null,function*(){if(r)try{m(!0),x(null);let ue={};se&&(_e==="database"&&!se.id.startsWith("goong_")&&!se.id.startsWith("custom-")?(ue.homeStadiumId=se.id,Ne!=null&&Ne.lat&&(Ne!=null&&Ne.lng)&&(ue.confirmedLat=Ne.lat,ue.confirmedLng=Ne.lng)):_e==="goong_places"?(ue.goongPlaceId=se.placeId,ue.stadiumName=(Be==null?void 0:Be.name)||se.name,ue.confirmedLat=Ne==null?void 0:Ne.lat,ue.confirmedLng=Ne==null?void 0:Ne.lng,ue.stadiumAddress=(Be==null?void 0:Be.formattedAddress)||se.address,ue.stadiumDistrict=(Be==null?void 0:Be.district)||se.district,ue.stadiumCity=(Be==null?void 0:Be.city)||se.city):ue.homeStadium={name:se.name,mapUrl:se.mapUrl||"",address:se.address,district:se.district,city:se.city,lat:Ne==null?void 0:Ne.lat,lng:Ne==null?void 0:Ne.lng});const Ye=R({name:D,gender:j2(ie),level:H,pitch:he,stats:{attack:Math.round(fe.attack*10),defense:Math.round(fe.defense*10),technique:Math.round(fe.technique*10)},description:nt||void 0,logo:v||(i==null?void 0:i.logo),banner:C||(i==null?void 0:i.banner)},ue);(yield Pi.updateTeam(r,Ye)).success?(yield s(r,!0),e(-1)):x("Khng th cp nht thng tin i")}catch(ue){console.error("Failed to update team:",ue),x(ue instanceof Error?ue.message:"C li xy ra")}finally{m(!1)}});return c?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[a.jsx(Kt,{title:"Chnh sa thng tin i",onBack:()=>e(-1)}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),a.jsx("p",{className:"text-sm text-gray-500",children:"ang ti thng tin i..."})]})})]}):p&&!i?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[a.jsx(Kt,{title:"Chnh sa thng tin i",onBack:()=>e(-1)}),a.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx(A,{name:"error",className:"text-4xl mb-2 text-red-500"}),a.jsx("p",{className:"text-sm text-red-500 mb-4",children:p}),a.jsx(ke,{variant:"ghost",onClick:()=>e(-1),children:"Quay li"})]})})]}):a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx(Kt,{title:"Chnh sa thng tin i",onBack:()=>e(-1)}),a.jsxs("div",{className:"flex-1 p-4 flex flex-col gap-6 overflow-y-auto pb-4",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"relative w-full h-36 rounded-xl bg-gray-100 dark:bg-surface-dark border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-200 dark:hover:bg-white/5 transition-colors group overflow-hidden",onClick:()=>{var ue;return!h&&!E&&((ue=$.current)==null?void 0:ue.click())},children:[S||i!=null&&i.banner?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:S||(i==null?void 0:i.banner),alt:"Banner",className:"w-full h-full object-cover"}),E&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin block mx-auto mb-2"}),a.jsx("p",{className:"text-white text-xs font-bold",children:"ang ti ln..."})]})}),(C||(i==null?void 0:i.banner))&&!E&&a.jsx("div",{className:"absolute top-2 right-2 bg-green-500 rounded-full p-1 shadow-lg flex items-center justify-center",children:a.jsx("span",{className:"material-icons text-white select-none leading-none",style:{fontSize:"14px"},children:"check"})})]}):a.jsxs("div",{className:"flex flex-col items-center gap-2 text-gray-400 group-hover:text-primary transition-colors",children:[a.jsx(A,{name:"add_photo_alternate",className:"text-3xl"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"nh ba (Banner)"})]}),a.jsx("input",{ref:$,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:Se,disabled:h||E})]}),a.jsxs("div",{className:"flex items-center gap-4 px-2",children:[a.jsxs("div",{className:"relative size-24 shrink-0",children:[a.jsx("div",{className:"relative w-full h-full rounded-full bg-gray-100 dark:bg-surface-dark border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center overflow-hidden",onClick:()=>{var ue;return!h&&!N&&((ue=q.current)==null?void 0:ue.click())},children:y||i!=null&&i.logo?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:y||(i==null?void 0:i.logo),alt:"Logo",className:"w-full h-full object-cover"}),N&&a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:a.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin block"})})]}):a.jsx(A,{name:"add_a_photo",className:"text-2xl text-gray-400"})}),!N&&a.jsx("button",{onClick:ue=>{var Ye;ue.stopPropagation(),(Ye=q.current)==null||Ye.click()},className:"absolute bottom-0 right-0 bg-primary hover:bg-primary-dark rounded-full p-1.5 shadow-lg border-2 border-background-light dark:border-background-dark transition-all z-10 flex items-center justify-center","aria-label":"Thay i logo",type:"button",children:a.jsx("span",{className:"material-icons text-white select-none leading-none",style:{fontSize:"14px"},children:"edit"})}),(v||(i==null?void 0:i.logo))&&!N&&a.jsx("div",{className:"absolute top-0 right-0 bg-green-500 rounded-full p-1 shadow-lg z-10 flex items-center justify-center","aria-hidden":"true",children:a.jsx("span",{className:"material-icons text-white select-none leading-none",style:{fontSize:"12px"},children:"check"})}),a.jsx("input",{ref:q,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:Ce,disabled:h||N})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Logo i bng"}),a.jsx("p",{className:"text-xs text-gray-500",children:N?"ang ti ln...":"Nn dng nh vung, ti a 5MB"})]})]})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsx(zr,{label:"Tn i bng",value:D,onChange:ue=>J(ue.target.value),icon:"groups"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Trnh "}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:mf.map(ue=>{const Ye=H===ue;return a.jsx("button",{onClick:()=>W(ue),className:`py-3 px-4 rounded-xl border text-sm font-semibold transition-all ${Ye?"bg-primary text-background-dark border-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:ue},ue)})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii tnh"}),a.jsx("div",{className:"flex gap-3",children:[{label:"Nam",icon:"male"},{label:"N",icon:"female"},{label:"Mixed",icon:"wc"}].map(ue=>a.jsxs("button",{onClick:()=>ge(ue.label),className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex items-center justify-center gap-2 ${ie===ue.label?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[a.jsx(A,{name:ue.icon,className:"text-lg"}),ue.label]},ue.label))})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Loi sn thng "}),a.jsx("div",{className:"flex gap-3",children:yu.map(ue=>a.jsxs("button",{onClick:()=>et(ue),className:`flex-1 py-3 rounded-xl border text-sm font-semibold transition-all flex flex-col items-center gap-1 ${he.includes(ue)?"bg-primary/20 border-primary text-primary":"bg-white dark:bg-surface-dark border-gray-200 dark:border-white/10 text-gray-500 hover:border-gray-400"}`,children:[a.jsx(A,{name:"sports_soccer",className:"text-lg",filled:he.includes(ue)}),a.jsx("span",{children:ue})]},ue))})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ch s i bng (Thang 10)"}),a.jsxs("button",{onClick:je,disabled:ve,className:"flex items-center gap-1.5 px-3 py-1.5 bg-primary/10 hover:bg-primary/20 active:bg-primary/30 text-primary rounded-lg text-xs font-bold transition-all disabled:opacity-50",children:[ve?a.jsx("span",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin"}):a.jsx(A,{name:"auto_awesome",className:"text-xs"}),ve?"ang tnh...":"Tnh t thnh vin"]})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[a.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg",children:a.jsx(A,{name:"flash_on",className:"text-lg"})}),a.jsx("span",{className:"font-bold text-sm",children:"Tn cng"})]}),a.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white transition-all",children:fe.attack})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.1",value:fe.attack,onChange:ue=>oe("attack",parseFloat(ue.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[a.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-lg",children:a.jsx(A,{name:"shield",className:"text-lg"})}),a.jsx("span",{className:"font-bold text-sm",children:"Phng th"})]}),a.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white transition-all",children:fe.defense})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.1",value:fe.defense,onChange:ue=>oe("defense",parseFloat(ue.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-200 dark:border-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-primary",children:[a.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:a.jsx(A,{name:"sports_soccer",className:"text-lg"})}),a.jsx("span",{className:"font-bold text-sm",children:"K thut"})]}),a.jsx("span",{className:"font-bold text-lg text-slate-900 dark:text-white transition-all",children:fe.technique})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.1",value:fe.technique,onChange:ue=>oe("technique",parseFloat(ue.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-primary"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Sn nh"}),a.jsx(dv,{value:se,onChange:(ue,Ye,ae)=>{ce(ue),Me((ue==null?void 0:ue.source)||"custom"),Xe(ae||null),Ye&&Ee(Ye)},disabled:h}),a.jsx("p",{className:"text-xs text-gray-500 ml-1",children:"Chn sn ni i bng thng xuyn hot ng (Optional)"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii thiu ngn"}),a.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none",placeholder:"M t v i bng, tiu ch giao lu...",value:nt,onChange:ue=>Fe(ue.target.value)})]})]})]}),a.jsxs("div",{className:"mt-auto border-t border-gray-200 dark:border-white/5 bg-background-light dark:bg-background-dark pb-safe z-20",children:[p&&a.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-white/5",children:a.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:a.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:p})})}),a.jsx("div",{className:"p-4",children:a.jsx(ke,{fullWidth:!0,onClick:We,disabled:h,children:h?"ANG LU...":"LU THAY I"})})]})]})},mB=()=>{var p,x,y,b,v,j,N,w,S,P,C,U,E,Z;const e=jt(),{teamId:t,memberId:n}=Ra(),r=Zr(),[s,i]=k.useState(null),l=(p=r.state)==null?void 0:p.member;(x=r.state)==null||x.team;const h=Qi().find(q=>q.id===t)!==void 0;k.useEffect(()=>{l||i("Khng tm thy thng tin thnh vin")},[l]);const m=q=>q.role==="admin";return s||!l?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[a.jsx(Kt,{title:"Thng tin thnh vin",onBack:()=>e(-1)}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:a.jsx(vl,{title:s?"C li xy ra":"Khng tm thy thnh vin",message:s||"Thnh vin ny khng tn ti",onRetry:()=>e(-1),retryLabel:"Quay li"})})]}):a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[a.jsx(Kt,{title:"Thng tin thnh vin",onBack:()=>e(-1)}),a.jsxs("div",{className:"overflow-y-auto",children:[(y=l.user)!=null&&y.banner?a.jsx("div",{className:"h-64 w-full overflow-hidden",children:a.jsx("img",{src:l.user.banner,className:"w-full h-full object-cover",alt:"Banner"})}):a.jsx("div",{className:"h-64 w-full bg-gradient-to-br from-primary/20 via-primary/10 to-background-light dark:from-primary/30 dark:via-primary/20 dark:to-background-dark"}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8 -mt-16",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx("div",{className:"size-28 rounded-full border-4 border-white dark:border-surface-dark shadow-xl overflow-hidden bg-white dark:bg-surface-dark",children:(b=l.user)!=null&&b.avatar?a.jsx("img",{src:l.user.avatar,className:"w-full h-full object-cover",alt:(v=l.user)==null?void 0:v.name}):a.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:a.jsx(A,{name:"person",className:"text-gray-400 text-4xl"})})}),m(l)&&a.jsx("div",{className:"absolute bottom-0 right-0 bg-yellow-500 text-white p-1.5 rounded-full border-4 border-background-light dark:border-background-dark shadow-sm",title:"Admin",children:a.jsx(A,{name:"star",className:"text-xs",filled:!0})}),((j=l.user)==null?void 0:j.jerseyNumber)&&a.jsx("div",{className:"absolute -top-2 -left-2 bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm shadow-lg border-2 border-white dark:border-surface-dark",children:l.user.jerseyNumber})]}),a.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:((N=l.user)==null?void 0:N.name)||"Thnh vin"}),a.jsx("p",{className:"text-gray-500 dark:text-text-secondary font-medium",children:((w=l.user)==null?void 0:w.phone)||"Cha cp nht s in thoi"}),(((S=l.user)==null?void 0:S.position)||((P=l.user)==null?void 0:P.jerseyNumber))&&a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-sm",children:[l.user.position&&a.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-full font-medium",children:[a.jsx(A,{name:"sports_soccer",className:"text-sm"}),l.user.position]}),l.user.jerseyNumber&&a.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-blue-500/10 text-blue-500 rounded-full font-bold",children:[a.jsx(A,{name:"tag",className:"text-sm"}),"#",l.user.jerseyNumber]})]}),m(l)&&a.jsx("div",{className:"mt-2 text-xs font-bold text-yellow-600 dark:text-yellow-500 bg-yellow-500/10 px-2 py-0.5 rounded border border-yellow-500/20",children:"Admin"})]}),((C=l.user)==null?void 0:C.playerStats)&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-3",children:"Ch s k nng"}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-5 rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm space-y-5",children:[l.user.playerStats.attack!==void 0&&l.user.playerStats.attack!==null&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:`flex items-center gap-2 ${$t.attack.main} font-bold text-sm`,children:[a.jsx("div",{className:`p-1 ${$t.attack.bg} rounded`,children:a.jsx(A,{name:Dr.attack,className:"text-sm"})}),"Tn cng"]}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:(l.user.playerStats.attack/10).toFixed(1)})]}),a.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${$t.attack.gradient} rounded-full transition-all duration-500`,style:{width:`${l.user.playerStats.attack}%`}})})]}),l.user.playerStats.defense!==void 0&&l.user.playerStats.defense!==null&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:`flex items-center gap-2 ${$t.defense.main} font-bold text-sm`,children:[a.jsx("div",{className:`p-1 ${$t.defense.bg} rounded`,children:a.jsx(A,{name:Dr.defense,className:"text-sm"})}),"Phng th"]}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:(l.user.playerStats.defense/10).toFixed(1)})]}),a.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${$t.defense.gradient} rounded-full transition-all duration-500`,style:{width:`${l.user.playerStats.defense}%`}})})]}),l.user.playerStats.technique!==void 0&&l.user.playerStats.technique!==null&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:`flex items-center gap-2 ${$t.technique.main} font-bold text-sm`,children:[a.jsx("div",{className:`p-1 ${$t.technique.bg} rounded`,children:a.jsx(A,{name:Dr.technique,className:"text-sm"})}),"K thut"]}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:(l.user.playerStats.technique/10).toFixed(1)})]}),a.jsx("div",{className:"h-2.5 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${$t.technique.gradient} rounded-full transition-all duration-500`,style:{width:`${l.user.playerStats.technique}%`}})})]})]})]}),((U=l.user)==null?void 0:U.bio)&&a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 mb-6",children:[a.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase mb-2",children:"Gii thiu"}),a.jsx("p",{className:"text-slate-900 dark:text-white text-sm leading-relaxed whitespace-pre-wrap",children:l.user.bio})]}),a.jsx("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"size-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:a.jsx(A,{name:"event",className:"text-lg"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Ngy tham gia"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:new Date(l.joinedAt).toLocaleDateString("vi-VN",{day:"numeric",month:"long",year:"numeric"})})]})]})})]})]}),h&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/90 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5 z-40",children:a.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[a.jsx(ke,{variant:"secondary",className:"flex-1",icon:"call",onClick:()=>{var q;return((q=l.user)==null?void 0:q.phone)&&window.open(`tel:${l.user.phone}`)},disabled:!((E=l.user)!=null&&E.phone),children:"Gi in"}),a.jsx(ke,{variant:"primary",className:"flex-[2]",icon:"chat",onClick:()=>{var q;return((q=l.user)==null?void 0:q.phone)&&window.open(`https://zalo.me/${l.user.phone}`)},disabled:!((Z=l.user)!=null&&Z.phone),children:"Nhn tin"})]})})]})};var yf={},X2={L:1,M:0,Q:3,H:2},eS={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},pB=eS;function tS(e){this.mode=pB.MODE_8BIT_BYTE,this.data=e}tS.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var gB=tS,md=X2;function wa(e,t){this.totalCount=e,this.dataCount=t}wa.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];wa.getRSBlocks=function(e,t){var n=wa.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,s=new Array,i=0;i<r;i++)for(var l=n[i*3+0],c=n[i*3+1],d=n[i*3+2],h=0;h<l;h++)s.push(new wa(c,d));return s};wa.getRsBlockTable=function(e,t){switch(t){case md.L:return wa.RS_BLOCK_TABLE[(e-1)*4+0];case md.M:return wa.RS_BLOCK_TABLE[(e-1)*4+1];case md.Q:return wa.RS_BLOCK_TABLE[(e-1)*4+2];case md.H:return wa.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var xB=wa;function nS(){this.buffer=new Array,this.length=0}nS.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var vB=nS,Qr={glog:function(e){if(e<1)throw new Error("glog("+e+")");return Qr.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return Qr.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ln=0;Ln<8;Ln++)Qr.EXP_TABLE[Ln]=1<<Ln;for(var Ln=8;Ln<256;Ln++)Qr.EXP_TABLE[Ln]=Qr.EXP_TABLE[Ln-4]^Qr.EXP_TABLE[Ln-5]^Qr.EXP_TABLE[Ln-6]^Qr.EXP_TABLE[Ln-8];for(var Ln=0;Ln<255;Ln++)Qr.LOG_TABLE[Qr.EXP_TABLE[Ln]]=Ln;var rS=Qr,yi=rS;function zd(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var r=0;r<e.length-n;r++)this.num[r]=e[r+n]}zd.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<e.getLength();r++)t[n+r]^=yi.gexp(yi.glog(this.get(n))+yi.glog(e.get(r)));return new zd(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=yi.glog(this.get(0))-yi.glog(e.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<e.getLength();r++)n[r]^=yi.gexp(yi.glog(e.get(r))+t);return new zd(n,0).mod(e)}};var aS=zd,Er=eS,S_=aS,yB=rS,Ts={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Cn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Cn.getBCHDigit(t)-Cn.getBCHDigit(Cn.G15)>=0;)t^=Cn.G15<<Cn.getBCHDigit(t)-Cn.getBCHDigit(Cn.G15);return(e<<10|t)^Cn.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Cn.getBCHDigit(t)-Cn.getBCHDigit(Cn.G18)>=0;)t^=Cn.G18<<Cn.getBCHDigit(t)-Cn.getBCHDigit(Cn.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Cn.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case Ts.PATTERN000:return(t+n)%2==0;case Ts.PATTERN001:return t%2==0;case Ts.PATTERN010:return n%3==0;case Ts.PATTERN011:return(t+n)%3==0;case Ts.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case Ts.PATTERN101:return t*n%2+t*n%3==0;case Ts.PATTERN110:return(t*n%2+t*n%3)%2==0;case Ts.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new S_([1],0),n=0;n<e;n++)t=t.multiply(new S_([1,yB.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Er.MODE_NUMBER:return 10;case Er.MODE_ALPHA_NUM:return 9;case Er.MODE_8BIT_BYTE:return 8;case Er.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Er.MODE_NUMBER:return 12;case Er.MODE_ALPHA_NUM:return 11;case Er.MODE_8BIT_BYTE:return 16;case Er.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Er.MODE_NUMBER:return 14;case Er.MODE_ALPHA_NUM:return 13;case Er.MODE_8BIT_BYTE:return 16;case Er.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r++)for(var s=0;s<t;s++){for(var i=0,l=e.isDark(r,s),c=-1;c<=1;c++)if(!(r+c<0||t<=r+c))for(var d=-1;d<=1;d++)s+d<0||t<=s+d||c==0&&d==0||l==e.isDark(r+c,s+d)&&i++;i>5&&(n+=3+i-5)}for(var r=0;r<t-1;r++)for(var s=0;s<t-1;s++){var h=0;e.isDark(r,s)&&h++,e.isDark(r+1,s)&&h++,e.isDark(r,s+1)&&h++,e.isDark(r+1,s+1)&&h++,(h==0||h==4)&&(n+=3)}for(var r=0;r<t;r++)for(var s=0;s<t-6;s++)e.isDark(r,s)&&!e.isDark(r,s+1)&&e.isDark(r,s+2)&&e.isDark(r,s+3)&&e.isDark(r,s+4)&&!e.isDark(r,s+5)&&e.isDark(r,s+6)&&(n+=40);for(var s=0;s<t;s++)for(var r=0;r<t-6;r++)e.isDark(r,s)&&!e.isDark(r+1,s)&&e.isDark(r+2,s)&&e.isDark(r+3,s)&&e.isDark(r+4,s)&&!e.isDark(r+5,s)&&e.isDark(r+6,s)&&(n+=40);for(var m=0,s=0;s<t;s++)for(var r=0;r<t;r++)e.isDark(r,s)&&m++;var p=Math.abs(100*m/t/t-50)/5;return n+=p*10,n}},bB=Cn,wB=gB,sS=xB,iS=vB,si=bB,_B=aS;function _a(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var wr=_a.prototype;wr.addData=function(e){var t=new wB(e);this.dataList.push(t),this.dataCache=null};wr.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};wr.getModuleCount=function(){return this.moduleCount};wr.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=sS.getRSBlocks(e,this.errorCorrectLevel),n=new iS,r=0,s=0;s<t.length;s++)r+=t[s].dataCount;for(var s=0;s<this.dataList.length;s++){var i=this.dataList[s];n.put(i.mode,4),n.put(i.getLength(),si.getLengthInBits(i.mode,e)),i.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};wr.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=_a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};wr.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r++)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)};wr.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=si.getLostPoint(this);(n==0||e>r)&&(e=r,t=n)}return t};wr.createMovieClip=function(e,t,n){var r=e.createEmptyMovieClip(t,n),s=1;this.make();for(var i=0;i<this.modules.length;i++)for(var l=i*s,c=0;c<this.modules[i].length;c++){var d=c*s,h=this.modules[i][c];h&&(r.beginFill(0,100),r.moveTo(d,l),r.lineTo(d+s,l),r.lineTo(d+s,l+s),r.lineTo(d,l+s),r.endFill())}return r};wr.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};wr.setupPositionAdjustPattern=function(){for(var e=si.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var r=e[t],s=e[n];if(this.modules[r][s]==null)for(var i=-2;i<=2;i++)for(var l=-2;l<=2;l++)i==-2||i==2||l==-2||l==2||i==0&&l==0?this.modules[r+i][s+l]=!0:this.modules[r+i][s+l]=!1}};wr.setupTypeNumber=function(e){for(var t=si.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};wr.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=si.getBCHTypeInfo(n),s=0;s<15;s++){var i=!e&&(r>>s&1)==1;s<6?this.modules[s][8]=i:s<8?this.modules[s+1][8]=i:this.modules[this.moduleCount-15+s][8]=i}for(var s=0;s<15;s++){var i=!e&&(r>>s&1)==1;s<8?this.modules[8][this.moduleCount-s-1]=i:s<9?this.modules[8][15-s-1+1]=i:this.modules[8][15-s-1]=i}this.modules[this.moduleCount-8][8]=!e};wr.mapData=function(e,t){for(var n=-1,r=this.moduleCount-1,s=7,i=0,l=this.moduleCount-1;l>0;l-=2)for(l==6&&l--;;){for(var c=0;c<2;c++)if(this.modules[r][l-c]==null){var d=!1;i<e.length&&(d=(e[i]>>>s&1)==1);var h=si.getMask(t,r,l-c);h&&(d=!d),this.modules[r][l-c]=d,s--,s==-1&&(i++,s=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};_a.PAD0=236;_a.PAD1=17;_a.createData=function(e,t,n){for(var r=sS.getRSBlocks(e,t),s=new iS,i=0;i<n.length;i++){var l=n[i];s.put(l.mode,4),s.put(l.getLength(),si.getLengthInBits(l.mode,e)),l.write(s)}for(var c=0,i=0;i<r.length;i++)c+=r[i].dataCount;if(s.getLengthInBits()>c*8)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+c*8+")");for(s.getLengthInBits()+4<=c*8&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=c*8||(s.put(_a.PAD0,8),s.getLengthInBits()>=c*8));)s.put(_a.PAD1,8);return _a.createBytes(s,r)};_a.createBytes=function(e,t){for(var n=0,r=0,s=0,i=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c++){var d=t[c].dataCount,h=t[c].totalCount-d;r=Math.max(r,d),s=Math.max(s,h),i[c]=new Array(d);for(var m=0;m<i[c].length;m++)i[c][m]=255&e.buffer[m+n];n+=d;var p=si.getErrorCorrectPolynomial(h),x=new _B(i[c],p.getLength()-1),y=x.mod(p);l[c]=new Array(p.getLength()-1);for(var m=0;m<l[c].length;m++){var b=m+y.getLength()-l[c].length;l[c][m]=b>=0?y.get(b):0}}for(var v=0,m=0;m<t.length;m++)v+=t[m].totalCount;for(var j=new Array(v),N=0,m=0;m<r;m++)for(var c=0;c<t.length;c++)m<i[c].length&&(j[N++]=i[c][m]);for(var m=0;m<s;m++)for(var c=0;c<t.length;c++)m<l[c].length&&(j[N++]=l[c][m]);return j};var kB=_a,fv={};Object.defineProperty(fv,"__esModule",{value:!0});var NB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jB=kj,Cr=lS(jB),oS=k,pd=lS(oS);function lS(e){return e&&e.__esModule?e:{default:e}}function SB(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var TB={bgColor:Cr.default.oneOfType([Cr.default.object,Cr.default.string]).isRequired,bgD:Cr.default.string.isRequired,fgColor:Cr.default.oneOfType([Cr.default.object,Cr.default.string]).isRequired,fgD:Cr.default.string.isRequired,size:Cr.default.number.isRequired,title:Cr.default.string,viewBoxSize:Cr.default.number.isRequired,xmlns:Cr.default.string},mv=(0,oS.forwardRef)(function(e,t){var n=e.bgColor,r=e.bgD,s=e.fgD,i=e.fgColor,l=e.size,c=e.title,d=e.viewBoxSize,h=e.xmlns,m=h===void 0?"http://www.w3.org/2000/svg":h,p=SB(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return pd.default.createElement("svg",NB({},p,{height:l,ref:t,viewBox:"0 0 "+d+" "+d,width:l,xmlns:m}),c?pd.default.createElement("title",null,c):null,pd.default.createElement("path",{d:r,fill:n}),pd.default.createElement("path",{d:s,fill:i}))});mv.displayName="QRCodeSvg";mv.propTypes=TB;fv.default=mv;Object.defineProperty(yf,"__esModule",{value:!0});yf.QRCode=void 0;var EB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CB=kj,Ka=wu(CB),PB=X2,MB=wu(PB),LB=kB,IB=wu(LB),cS=k,AB=wu(cS),OB=fv,RB=wu(OB);function wu(e){return e&&e.__esModule?e:{default:e}}function DB(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var zB={bgColor:Ka.default.oneOfType([Ka.default.object,Ka.default.string]),fgColor:Ka.default.oneOfType([Ka.default.object,Ka.default.string]),level:Ka.default.string,size:Ka.default.number,value:Ka.default.string.isRequired},bf=(0,cS.forwardRef)(function(e,t){var n=e.bgColor,r=n===void 0?"#FFFFFF":n,s=e.fgColor,i=s===void 0?"#000000":s,l=e.level,c=l===void 0?"L":l,d=e.size,h=d===void 0?256:d,m=e.value,p=DB(e,["bgColor","fgColor","level","size","value"]),x=new IB.default(-1,MB.default[c]);x.addData(m),x.make();var y=x.modules;return AB.default.createElement(RB.default,EB({},p,{bgColor:r,bgD:y.map(function(b,v){return b.map(function(j,N){return j?"":"M "+N+" "+v+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:y.map(function(b,v){return b.map(function(j,N){return j?"M "+N+" "+v+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:h,viewBoxSize:y.length}))});yf.QRCode=bf;bf.displayName="QRCode";bf.propTypes=zB;var $B=yf.default=bf;const BB=()=>{const e=jt(),{teamId:t}=Ra(),{createInviteToken:n}=Xi(),r=Vn(w=>w.inviteToken),[s,i]=k.useState(!1),[l,c]=k.useState(!1),[d,h]=k.useState(0),[m,p]=k.useState(null);k.useEffect(()=>{x()},[t]),k.useEffect(()=>{r&&console.log("[ShareTeamScreen] Token data from store:",r)},[r]),k.useEffect(()=>{if(!(r!=null&&r.expiresAt))return;const w=()=>{const P=new Date(r.expiresAt).getTime()-Date.now();h(P>0?P:0)};w();const S=setInterval(w,1e3);return()=>clearInterval(S)},[r]);const x=()=>O(void 0,null,function*(){if(t)try{i(!0),p(null),console.log("[ShareTeamScreen] Creating invite token for team:",t);const w=yield n(t,{expiryMinutes:15});console.log("[ShareTeamScreen] Received token data:",w),w?console.log("[ShareTeamScreen] Token created successfully"):console.warn("[ShareTeamScreen] No data returned from createInviteToken")}catch(w){console.error("[ShareTeamScreen] Failed to load invite token:",w),p(w.message||"Khng th to m mi")}finally{i(!1)}}),y=()=>x(),b=()=>{r!=null&&r.deepLink&&(navigator.clipboard.writeText(r.deepLink),c(!0),setTimeout(()=>c(!1),2e3))},v=()=>O(void 0,null,function*(){if(navigator.share&&r)try{yield navigator.share({title:"Mi tham gia i",text:"Tham gia i bng ca chng ti trn Cap Ko Sport nh!",url:r.deepLink})}catch(w){console.log("Error sharing",w)}else b()}),j=w=>{const S=Math.floor(w/6e4),P=Math.floor(w%6e4/1e3);return`${S}:${P.toString().padStart(2,"0")}`},N=d<=0;return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[a.jsx(Kt,{title:"Chia s i bng",onBack:()=>e(-1)}),a.jsxs("div",{className:"flex-1 p-6 flex flex-col items-center justify-center space-y-8 animate-fade-in",children:[m&&a.jsx("div",{className:"w-full max-w-sm p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400",children:a.jsx("p",{className:"text-sm text-center",children:m})}),a.jsxs("div",{className:"w-full max-w-sm bg-white dark:bg-surface-dark rounded-3xl p-6 shadow-xl border border-gray-100 dark:border-white/5 flex flex-col items-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-primary-dark via-primary to-primary-dark"}),a.jsxs("div",{className:"mt-4 mb-6 text-center",children:[a.jsx(Jt,{src:(r!=null&&r.teamId,""),size:"xl",className:"mx-auto mb-3 shadow-lg"}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Mi tham gia i"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Qut m  tham gia i"})]}),a.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-inner border border-gray-100 mb-4",children:s?a.jsx("div",{className:"size-48 flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse bg-gray-200 rounded-lg size-full"})}):r?a.jsx($B,{value:r.deepLink||r.token,size:192,level:"M",className:"mix-blend-multiply"}):a.jsx("div",{className:"size-48 flex items-center justify-center text-gray-400 text-sm text-center",children:"Khng th ti m QR"})}),r&&a.jsxs("div",{className:"flex items-center gap-2 text-sm mb-4",children:[a.jsx(A,{name:"schedule",className:N?"text-red-500":"text-gray-400"}),a.jsx("span",{className:N?"text-red-500 font-medium":"text-gray-500",children:N?" ht hn":`Ht hn sau: ${j(d)}`}),a.jsx("button",{onClick:y,className:"ml-2 text-primary hover:text-primary-dark transition-colors",title:"Lm mi m",children:a.jsx(A,{name:"refresh"})})]}),a.jsxs("div",{onClick:b,className:"w-full flex items-center gap-3 bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-gray-200 dark:border-white/10 cursor-pointer active:scale-95 transition-transform group",children:[a.jsx("div",{className:"size-10 rounded-full bg-white dark:bg-white/10 flex items-center justify-center text-primary shadow-sm group-hover:bg-primary group-hover:text-white transition-colors",children:a.jsx(A,{name:l?"check":"link"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Lin kt mi"}),a.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white truncate",children:(r==null?void 0:r.deepLink)||"ang ti..."})]}),a.jsx("div",{className:"text-gray-400",children:a.jsx(A,{name:"content_copy",className:"text-lg"})})]})]}),a.jsxs("div",{className:"w-full max-w-sm space-y-3",children:[a.jsx(ke,{fullWidth:!0,onClick:v,icon:"share",disabled:!r||s,children:"Chia s ngay"}),a.jsx(ke,{fullWidth:!0,variant:"secondary",onClick:()=>e(-1),children:"Quay li"})]})]})]})},FB=()=>{const e=jt(),{matchId:t}=Ra(),[n,r]=k.useState(null);return k.useEffect(()=>{O(void 0,null,function*(){if(t)try{const i=yield Zt.getMatchAttendance(t);if(i.success&&i.data){const l=i.data.teamA||i.data.teamB;l&&r({confirmed:l.summary.confirmed,total:l.summary.total})}}catch(i){console.error("Failed to fetch attendance:",i)}})},[t]),a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white pb-32",children:[a.jsx(Kt,{title:"Chi tit trn u",onBack:()=>e(-1)}),a.jsx("div",{className:"px-4 pt-4 pb-2",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"mb-6 rounded-full bg-primary/20 px-3 py-1",children:a.jsx("p",{className:"text-primary text-xs font-bold uppercase tracking-wide",children:"Sp din ra"})}),a.jsxs("div",{className:"flex w-full items-start justify-between gap-2 px-2",children:[a.jsxs("div",{className:"flex flex-1 flex-col items-center gap-3",children:[a.jsx("div",{className:"relative aspect-square w-20 sm:w-24 rounded-full bg-gray-200 dark:bg-gray-800 p-1 shadow-lg ring-2 ring-primary/20",children:a.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuBz6A3GWMzf4AI0quziAPb6BARuvVdV-cRlpkCAIh9aMaaZpSUvM9hjc_BhjASlj9QpjeRyXOHgE1qgwkaH3lN_qngWyJhW04VcoW84OqT0_h4kHW8V9WJ8gAemWE6t2ZasnffmtbyWVujHPdrWUi_TEoX7u_VRqwXGpg8rRsSOqcqxZVNyFsq_ETS6kZejnHBRew5zca0Ei0_N4qBQMtRG2wFBvMmPtporfJ5tnVjbo9kswS7VEqtoPVqjfBx76tnwbWtzPAefRdc_",alt:"FC Saigon",className:"h-full w-full rounded-full object-cover"})}),a.jsx("p",{className:"text-center text-base sm:text-lg font-bold leading-tight",children:"FC Saigon"})]}),a.jsx("div",{className:"flex flex-col items-center justify-center pt-6",children:a.jsx("span",{className:"text-3xl font-black italic tracking-tighter text-gray-300 dark:text-gray-600",children:"VS"})}),a.jsxs("div",{className:"flex flex-1 flex-col items-center gap-3",children:[a.jsx("div",{className:"relative aspect-square w-20 sm:w-24 rounded-full bg-gray-200 dark:bg-gray-800 p-1 shadow-lg ring-2 ring-transparent",children:a.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDHF0GkJyXMpEJRGf8MBb5NjD5_PuzxBYBNRRDRmrvXCjuUxydY2DMd2QIEHbWXgPtcGZfYRbfeTNhtBRe-o_WiqEOqG2kw4BvdiWAJv58mf6ARETaj1flzbOGPFVI_ugIvBOnIVHhksHBSoM-aFUCq_-QTeFYU-jf1N61gnBqyaOLZJp2ZW_4k4V0UXptOLgp9KFKhhzI_I-sNQa7SDIMupdhvs3e-xczxE7vMkB4wUiKDOZk6oCZoPOKsRn1GdV6ybNpfKAlsSvO5",alt:"FC Hanoi",className:"h-full w-full rounded-full object-cover"})}),a.jsx("p",{className:"text-center text-base sm:text-lg font-bold leading-tight",children:"FC Hanoi"})]})]})]})}),a.jsxs("div",{className:"mt-6 px-4",children:[a.jsx("p",{className:"mb-3 text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:"Trn u s bt u sau"}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsxs("div",{className:"flex min-w-[70px] flex-col items-center justify-center rounded-xl bg-white dark:bg-[#1A2C23] p-3 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[a.jsx("span",{className:"text-2xl font-bold text-primary",children:"02"}),a.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Ngy"})]}),a.jsx("div",{className:"flex h-8 items-center text-gray-400",children:":"}),a.jsxs("div",{className:"flex min-w-[70px] flex-col items-center justify-center rounded-xl bg-white dark:bg-[#1A2C23] p-3 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[a.jsx("span",{className:"text-2xl font-bold text-primary",children:"04"}),a.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Gi"})]}),a.jsx("div",{className:"flex h-8 items-center text-gray-400",children:":"}),a.jsxs("div",{className:"flex min-w-[70px] flex-col items-center justify-center rounded-xl bg-white dark:bg-[#1A2C23] p-3 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[a.jsx("span",{className:"text-2xl font-bold text-primary",children:"15"}),a.jsx("span",{className:"text-xs font-medium text-gray-400",children:"Pht"})]})]})]}),a.jsx("div",{className:"mt-8 px-4",children:a.jsxs("div",{className:"rounded-2xl bg-white dark:bg-[#1A2C23] p-5 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold",children:"Thng tin chi tit"}),a.jsx(A,{name:"info",className:"text-gray-400"})]}),a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(A,{name:"calendar_month",className:"text-[20px]"})}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Thi gian"}),a.jsx("p",{className:"text-base font-semibold",children:"19:30 - Th 7, 24/02/2024"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(A,{name:"stadium",className:"text-[20px]"})}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"a im"}),a.jsx("p",{className:"text-base font-semibold",children:"Sn bng  Cho La"}),a.jsx("p",{className:"text-sm text-gray-500",children:"30 Phan Thc Duyn, Tn Bnh"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(A,{name:"sports_soccer",className:"text-[20px]"})}),a.jsxs("div",{className:"flex flex-col justify-center",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Sn u"}),a.jsx("p",{className:"text-base font-semibold",children:"Sn s 5"})]})]})]})]})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background-light dark:bg-background-dark p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"flex flex-col gap-3 max-w-lg mx-auto",children:[n&&a.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg px-3 py-2 flex items-center justify-center gap-2",children:[a.jsx(A,{name:"how_to_reg",className:"text-primary text-sm"}),a.jsxs("span",{className:"text-sm font-medium text-primary",children:[n.confirmed,"/",n.total,"  im danh"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ke,{fullWidth:!0,icon:"how_to_reg",className:"flex-1",onClick:()=>e(Ae.matchAttendance(t||"")),children:"im danh"}),a.jsx(ke,{fullWidth:!0,icon:"chat",className:"flex-1",children:"M Zalo chat"})]}),a.jsx(ke,{fullWidth:!0,icon:"edit_note",className:"bg-gray-200 dark:bg-gray-800 text-gray-400 dark:text-gray-500",disabled:!0,children:"Cp nht kt qu"})]})})]})},UB=()=>{const e=jt();return a.jsxs("div",{className:"flex flex-col h-screen w-full bg-background-light dark:bg-background-dark relative overflow-hidden transition-colors duration-300",children:[a.jsx("style",{children:`
        @keyframes popIn {
          0% { opacity: 0; transform: scale(0.5) rotate(-10deg); }
          50% { opacity: 1; transform: scale(1.2) rotate(5deg); }
          70% { transform: scale(0.9) rotate(-5deg); }
          100% { opacity: 1; transform: scale(1) rotate(-6deg); }
        }
        @keyframes slideLeft {
          0% { opacity: 0; transform: translateX(-100px) rotate(-45deg); }
          100% { opacity: 1; transform: translateX(0) rotate(-12deg); }
        }
        @keyframes slideRight {
          0% { opacity: 0; transform: translateX(100px) rotate(45deg); }
          100% { opacity: 1; transform: translateX(0) rotate(12deg); }
        }
        @keyframes badgePop {
          0% { opacity: 0; transform: scale(0) rotate(180deg); }
          80% { opacity: 1; transform: scale(1.5) rotate(-10deg); }
          100% { opacity: 1; transform: scale(1.25) rotate(0); }
        }
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fall {
          0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
          100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .animate-pop-in { animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .animate-slide-left { animation: slideLeft 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        .animate-slide-right { animation: slideRight 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        .animate-badge-pop { animation: badgePop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.5s forwards; }
        .animate-fade-up { animation: fadeInUp 0.8s ease-out 1s forwards; }
      `}),a.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1522770179533-24471fcdba45?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-10 dark:opacity-20 grayscale"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/60 via-white/90 to-background-light dark:from-background-dark/80 dark:via-background-dark/90 dark:to-background-dark"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-96 bg-primary/30 dark:bg-primary/20 blur-[100px] animate-pulse rounded-full pointer-events-none"}),a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[...Array(15)].map((t,n)=>a.jsx("div",{className:"absolute w-2 h-2 rounded-full opacity-0 shadow-sm",style:{backgroundColor:["#3b82f6","#FFD700","#60a5fa"][n%3],left:`${Math.random()*100}%`,top:"-20px",animation:`fall ${3+Math.random()*2}s linear infinite`,animationDelay:`${Math.random()*2}s`}},n))}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full px-6",children:[a.jsxs("div",{className:"text-center mb-12 opacity-0 animate-pop-in",children:[a.jsx("h1",{className:"text-5xl font-extrabold italic text-transparent bg-clip-text bg-gradient-to-r from-primary-dark via-primary to-primary-dark dark:from-primary dark:via-white dark:to-primary drop-shadow-sm dark:drop-shadow-[0_0_15px_rgba(17,212,115,0.5)] transform -rotate-6",children:"IT'S A MATCH!"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-4 text-lg font-medium",children:["i bn v ",a.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:"C Su FC"})," rt hp c nhau"]})]}),a.jsxs("div",{className:"flex items-center justify-center w-full mb-16 relative h-40",children:[a.jsx("div",{className:"absolute left-[15%] opacity-0 animate-slide-left z-10",children:a.jsx("div",{className:"size-32 rounded-full border-4 border-white dark:border-white shadow-xl dark:shadow-[0_0_30px_rgba(255,255,255,0.3)] overflow-hidden bg-gray-100 dark:bg-surface-dark",children:a.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDgMiy1WmLO4CLqqm08LykjhNM_VUb8V7nJx8NNcKoNfLzmRWdsXEY_yV2U8cG0uLrYD5laTf2l7i5hxH15lGifO4dHiHKSnIBF8xOwAetdY2Ph1wP9lUYUr_y8p5zqgbC1osTFvvawVoHAHSc4TnIGOasCaFPaLTNNT0RG42RZc638OH_blB4k8j2K5Wy6oshulBAF96Y0pK-ZEtM8PzpbYc6wAcqMfliTLkZ87SXPQrX6d-idB1W5RkrQMu7ekYTrs0E0UJARtEq9",className:"w-full h-full object-cover"})})}),a.jsx("div",{className:"absolute z-20 bg-primary text-background-dark font-black text-xl size-12 flex items-center justify-center rounded-full border-4 border-white dark:border-background-dark shadow-xl opacity-0 animate-badge-pop",children:"VS"}),a.jsxs("div",{className:"absolute right-[15%] opacity-0 animate-slide-right z-0",children:[a.jsx("div",{className:"size-32 rounded-full border-4 border-primary shadow-xl dark:shadow-[0_0_30px_rgba(17,212,115,0.4)] overflow-hidden bg-gray-100 dark:bg-surface-dark",children:a.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuCeKRp8PNX06N8qLy6aBysvvgnzY-M6lgYIfjhgqTodyPAi2wEW2ob_i9EdMrg8MfmRcDkKx4X1otwpwsJuurICNxkC_6NKoRY36WfdJ2kDRuocVwGO1wPOFcfF1ylENUtxowUKtSAjmJSMgVAVR05f7ZjvDYTy67BitLR1YGQHDW26ppWzT6L3bGi3pAN6Ywt84Rl87aEm2sulKC-OEey-aMiAqZFBuNCeqdpuKa6C_mCcF6VXAvavSend-1KFuh3Iqg6Ft1dnFLRE",className:"w-full h-full object-cover"})}),a.jsx("div",{className:"absolute -bottom-2 -right-2 bg-white text-black p-1.5 rounded-full shadow-lg border border-gray-100 dark:border-none",children:a.jsx(A,{name:"favorite",filled:!0,className:"text-red-500 text-sm"})})]})]}),a.jsxs("div",{className:"w-full space-y-4 max-w-sm opacity-0 animate-fade-up",children:[a.jsx(ke,{fullWidth:!0,onClick:()=>e(Ae.matchInvite),className:"h-14 text-lg bg-primary hover:bg-primary-dark text-background-dark hover:text-white transition-colors border-0 shadow-xl shadow-primary/30",icon:"send",children:"GI LI MI GIAO LU"}),a.jsx(ke,{fullWidth:!0,variant:"secondary",onClick:()=>e(Ae.matchFind),className:"h-14 text-slate-600 border-gray-300 hover:bg-gray-100 dark:text-white dark:border-white/20 dark:hover:bg-white/10",icon:"search",children:"Tm i khc"})]})]})]})},HB=()=>{const e=jt(),{matchId:t}=Ra(),[n,r]=k.useState(3),[s,i]=k.useState(1),[l,c]=k.useState(["https://lh3.googleusercontent.com/aida-public/AB6AXuCQ9Ns4MA64Fnc8Vke3awKivvU4LqvEgVWMBQCuI0C8gVvDROVIMsYR9JP17oh9jGvYoUXqRJTmmm8F1pRY_pbFhBJ3RVUdz7cyvkSefPGh7gY--1T7TGY64u7yqPjTH92IvklbdiudT8pL6OzfzOWFXjPmMH0zqGj9V7BTRjpQk9OGQdvWCVbg3rzSgl77SvzFxl6fBEoLqpKbYD8COWiRUCd8vK07Q9WeWVFCTH2E4IRqmuNKBgZn1TVXJ369CZnwYDXFapEHoKos","https://lh3.googleusercontent.com/aida-public/AB6AXuAQl5XVDrioHKHxyH9m3AJNhIpcTo1lH1i6tzv83AcOAOPiQWhrYtiIhdvswszL6YUQDRtbDsUHjrlwA472jAvUV_imlLd0GFbRltCudayRqRCAqhs_NPz8FMr3wRMhqBlCzJOdHcyRMa9hvUIOTAPHDWitxwwyX0HskkwI0z8eigZKcJAusH0WpJzjWoDeO-O8Z2Zqq9Ql4T3qfw-EDiqyGnb1kPFWFutE7HCcgLVoSKsYl-Q6sWkDwuajBqR8NBAm98ox1Kmmtnmk"]),d=(h,m)=>{h==="home"?r(Math.max(0,n+m)):i(Math.max(0,s+m))};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-800 dark:text-white pb-32",children:[a.jsx(Kt,{title:"Cp nht kt qu",onBack:()=>e(-1)}),a.jsxs("main",{className:"flex-1 w-full max-w-md mx-auto p-4 space-y-6",children:[a.jsxs("section",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-surface-dark shadow-sm ring-1 ring-black/5 dark:ring-white/10 p-6",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-primary/5 to-transparent pointer-events-none"}),a.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex flex-col items-center justify-start w-1/3 text-center",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-100 dark:bg-white/10 p-1 mb-3 ring-2 ring-primary/20 overflow-hidden relative",children:a.jsx("img",{alt:"FC Chim ng Logo",className:"w-full h-full object-cover rounded-full",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuD3tnQmrRGUX0ePUvqff6cq3_qZlRcT9SgkJSctA9HjBiZFoz2VWi7EnZvIcpA6rk2HMQtxKD0X9ZDdGvoImdgG57MuaLBndlzUg80UgeT1fGkKD9yD5RgOpEP5AXROB_TGgEI58htik1xtTneBs8BC3WEDKJmTe2AvfxoYSi2W5mWiROYvMJECYNexJsVhAnCVA_ZsqK-PSKyPf8ZmPu4IR9Pyqs2hFb6XsX6R1e8sTXQ6_tMyW-i2LZ0LVac2ARcAokFkp4qSwbT5"})}),a.jsx("h2",{className:"text-sm sm:text-base font-semibold leading-tight line-clamp-2",children:"FC Chim ng"})]}),a.jsxs("div",{className:"flex flex-col items-center justify-center w-1/6",children:[a.jsx("span",{className:"text-xs font-bold text-primary bg-primary/10 px-2 py-1 rounded",children:"VS"}),a.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 mt-1",children:"Hm nay"})]}),a.jsxs("div",{className:"flex flex-col items-center justify-start w-1/3 text-center",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-100 dark:bg-white/10 p-1 mb-3 ring-2 ring-white/10 overflow-hidden relative",children:a.jsx("img",{alt:"FC Bo en Logo",className:"w-full h-full object-cover rounded-full",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuAInradef2yFx63hNPX8ntut-VJf0uPlGE1jGX44ISB2hv-WZqUhd8DIKSTvCiz13km70T4SfnsBVh6e5VYkataCPt1arbsCZ8TlorYx1nkXzkmEe0uC7GYK0VyG-55HRlP7QUOpXn0R8fiYibmgYUAJ2IOEOrDxkOlCX2n5Tsv9aLBfb9MgaEf6d5b3DleQTdymi6C9HFbJQgrsscWXAWf86yWg8DNeIc3z1SpaZslcaFFiKg8KMITBVb1mPr1qrabijyJH92D8BoB"})}),a.jsx("h2",{className:"text-sm sm:text-base font-semibold leading-tight line-clamp-2",children:"FC Bo en"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider text-center",children:"T s"}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark rounded-2xl p-4 flex flex-col items-center gap-3 ring-1 ring-black/5 dark:ring-white/5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[a.jsx("button",{onClick:()=>d("home",-1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:a.jsx(A,{name:"remove",className:"text-lg"})}),a.jsx("button",{onClick:()=>d("home",1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:a.jsx(A,{name:"add",className:"text-lg"})})]}),a.jsx("input",{className:"w-full bg-transparent text-center text-6xl font-bold text-slate-800 dark:text-white border-none focus:ring-0 p-0 leading-none placeholder-gray-700 dark:placeholder-gray-600",placeholder:"0",type:"number",value:n,readOnly:!0}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Chim ng"})]}),a.jsx("div",{className:"text-2xl font-bold text-gray-300 dark:text-gray-600 pb-6",children:":"}),a.jsxs("div",{className:"flex-1 bg-white dark:bg-surface-dark rounded-2xl p-4 flex flex-col items-center gap-3 ring-1 ring-black/5 dark:ring-white/5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 w-full justify-between",children:[a.jsx("button",{onClick:()=>d("away",-1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:a.jsx(A,{name:"remove",className:"text-lg"})}),a.jsx("button",{onClick:()=>d("away",1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-300 hover:bg-primary/20 hover:text-primary transition-colors active:scale-95",children:a.jsx(A,{name:"add",className:"text-lg"})})]}),a.jsx("input",{className:"w-full bg-transparent text-center text-6xl font-bold text-slate-800 dark:text-white border-none focus:ring-0 p-0 leading-none placeholder-gray-700 dark:placeholder-gray-600",placeholder:"0",type:"number",value:s,readOnly:!0}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Bo en"})]})]})]}),a.jsxs("section",{className:"grid gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-gray-300",htmlFor:"notes",children:[a.jsx(A,{name:"edit_note",className:"text-primary text-lg"}),"Ghi ch trn u"]}),a.jsx("textarea",{className:"w-full rounded-xl bg-white dark:bg-surface-dark border-0 ring-1 ring-gray-200 dark:ring-white/10 focus:ring-2 focus:ring-primary text-slate-800 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 resize-none p-4 text-base shadow-sm",id:"notes",placeholder:"Nhp tn cu th ghi bn, th pht...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-slate-700 dark:text-gray-300",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(A,{name:"image",className:"text-primary text-lg"}),"Hnh nh trn u"]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-normal",children:"Ti a 5 nh"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("button",{className:"aspect-square rounded-xl border-2 border-dashed border-gray-300 dark:border-white/20 flex flex-col items-center justify-center text-gray-400 dark:text-gray-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all group",children:a.jsx(A,{name:"add_a_photo",className:"text-2xl mb-1 group-hover:scale-110 transition-transform"})}),l.map((h,m)=>a.jsxs("div",{className:"aspect-square rounded-xl bg-white dark:bg-surface-dark relative group overflow-hidden ring-1 ring-black/5 dark:ring-white/10",children:[a.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url('${h}')`}}),a.jsx("button",{className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-black/60 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(A,{name:"close",className:"text-sm"})})]},m))]})]})]})]}),a.jsxs("div",{className:"fixed bottom-0 left-0 w-full z-40",children:[a.jsx("div",{className:"h-8 bg-gradient-to-b from-transparent to-background-light dark:to-background-dark pointer-events-none"}),a.jsx("div",{className:"bg-background-light dark:bg-background-dark p-4 pb-8 pt-2",children:a.jsxs("button",{onClick:()=>e(Ae.matchSchedule),className:"w-full bg-primary hover:bg-primary-dark text-white dark:text-[#102219] font-bold text-lg h-14 rounded-xl shadow-lg shadow-primary/25 flex items-center justify-center gap-2 transition-transform active:scale-[0.98]",children:[a.jsx(A,{name:"save"}),"Lu kt qu"]})})]})]})},ZB=()=>{const e=jt(),{id:t}=Ra(),[n,r]=k.useState(!1),[s,i]=k.useState(null),[l,c]=k.useState(null),[d,h]=k.useState(""),[m,p]=k.useState(""),[x,y]=k.useState(""),[b,v]=k.useState(""),j=eo();k.useEffect(()=>{O(void 0,null,function*(){var P,C;if(t)try{const U=yield Zt.getMatchById(t);if(U.success&&U.data){const E=U.data,Z=((P=E.teamA)==null?void 0:P.id)||"";c(Z);const q=Z===((C=E.teamA)==null?void 0:C.id)?E.teamB:E.teamA;q&&i({id:q.id,name:q.name,logo:q.logo,level:q.level}),h(E.date||""),p(E.time||""),y(E.proposedPitch||"")}}catch(U){console.error("Failed to fetch match details:",U)}})},[t]);const N=()=>O(void 0,null,function*(){if(t){if(!d||!m||!x){Nt.warning("Vui lng in y  thng tin ngy, gi v sn d kin");return}r(!0);try{const S={proposedDate:d,proposedTime:m,proposedPitch:x,notes:b||void 0};yield j.rematch(t,S),Nt.success(" gi li mi  li!"),e(Ae.matchSchedule)}catch(S){console.error("Rematch error:",S),Nt.error(S.message||"Khng th gi li mi  li")}finally{r(!1)}}}),w=()=>{e(-1)};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[a.jsx(Kt,{title:" li",onBack:w}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 no-scrollbar",children:[s?a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-surface-dark p-6 border border-gray-200 dark:border-white/5 shadow-sm mb-6",children:[a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-primary/10 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"size-20 rounded-full bg-gray-100 dark:bg-black/30 border-2 border-primary p-1",children:s.logo?a.jsx("img",{src:s.logo,className:"w-full h-full rounded-full object-cover"}):a.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:a.jsx(A,{name:"sports_soccer",className:"text-3xl text-gray-400"})})}),s.level&&(()=>{const S=bu(s.level);return a.jsx("div",{className:`absolute -bottom-2 -right-2 ${S.bgSolid} text-black text-[10px] font-bold px-2 py-0.5 rounded-full border-2 border-white dark:border-surface-dark`,children:s.level})})()]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:s.name}),a.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-1 text-gray-500 dark:text-text-secondary text-sm",children:[a.jsx(A,{name:"sports_soccer",className:"text-primary text-sm"}),a.jsx("span",{children:"i th c"})]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center p-8 mb-6",children:a.jsx(A,{name:"refresh",className:"animate-spin text-2xl text-primary"})}),a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx(zr,{label:"Ngy d kin",type:"date",value:d,onChange:S=>h(S.target.value),className:"flex-1"}),a.jsx(zr,{label:"Gi d kin",type:"time",value:m,onChange:S=>p(S.target.value),className:"flex-1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1 mb-2 block",children:["Loi sn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:yu.map(S=>a.jsx("button",{type:"button",onClick:()=>y(S),className:`py-2.5 px-3 rounded-xl text-sm font-medium transition-all ${x===S?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:S},S))})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ghi ch (Ty chn)"}),a.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[120px] resize-none",placeholder:"Nhn tin cho i bn v o u, ko nc...",value:b,onChange:S=>v(S.target.value)})]}),a.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-600 dark:text-blue-300",children:[a.jsx(A,{name:"info",className:"shrink-0"}),a.jsx("p",{className:"text-xs leading-relaxed",children:"Li mi ti u s c gi n i bn. H c th chp nhn hoc t chi li mi."})]})]})]}),a.jsx("div",{className:"fixed bottom-0 w-full p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5",children:a.jsx(ke,{fullWidth:!0,icon:"send",onClick:N,disabled:n||!s,children:n?"ANG GI...":"GI LI MI TI U"})})]})},WB=()=>{const e=jt();return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-24",children:[a.jsx(Kt,{title:"Gi li mi giao lu",onBack:()=>e(-1)}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 no-scrollbar",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white dark:bg-surface-dark p-6 border border-gray-200 dark:border-white/5 shadow-sm mb-6",children:[a.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-primary/10 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"size-20 rounded-full bg-gray-100 dark:bg-black/30 border-2 border-primary p-1",children:a.jsx("img",{src:"https://lh3.googleusercontent.com/aida-public/AB6AXuBdSvJy9n3m4nDJboxMNyYIffoPOU-q_PGbSpEtCD7oZ3QLnawTx_1DEjQVzWpwzx6GI0HV0JsCpXaMYDzdOusm7IV8SDt-tv7lcvKkU9jgDe0q4JLtzD9NXRWWP0gualfKFckerrNu7uXjyLayhLsD4LPOLodvjUQxqIKDw0C25gTjlVsjebdqgrT6zpzHAJNBdjD7Sf8i6GBSnDq9Gn6J1kwtIiNbLUTGWhLS8YzzlBfZQNtaxu43uCkI2p3Y1JZYeAdvo81iUYE7",className:"w-full h-full rounded-full object-cover"})}),a.jsx("div",{className:"absolute -bottom-2 -right-2 bg-primary text-black text-[10px] font-bold px-2 py-0.5 rounded-full border-2 border-white dark:border-surface-dark",children:"LV.5"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"FC Si Gn Phi"}),a.jsxs("div",{className:"flex items-center justify-center gap-1.5 mt-1 text-gray-500 dark:text-text-secondary text-sm",children:[a.jsx(A,{name:"verified",className:"text-primary text-sm",filled:!0}),a.jsx("span",{children:"Trnh : Trung bnh - Kh"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-5",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx(zr,{label:"Ngy d kin",type:"date",className:"flex-1"}),a.jsx(zr,{label:"Gi d kin",type:"time",defaultValue:"19:30",className:"flex-1"})]}),a.jsx(zr,{label:"Sn d kin",placeholder:"Nhp tn sn hoc a ch...",icon:"location_on"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Ghi ch (Ty chn)"}),a.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[120px] resize-none",placeholder:"Nhn tin cho i bn v o u, ko nc..."})]}),a.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-600 dark:text-blue-300",children:[a.jsx(A,{name:"info",className:"shrink-0"}),a.jsx("p",{className:"text-xs leading-relaxed",children:"Li mi s c gi n qun tr vin ca i bn. H c th chp nhn hoc  xut thay i."})]})]})]}),a.jsx("div",{className:"fixed bottom-0 w-full p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-t border-gray-200 dark:border-white/5",children:a.jsx(ke,{fullWidth:!0,icon:"send",onClick:()=>e(Ae.matchSchedule),children:"GI LI MI GIAO LU"})})]})},VB=e=>{if(!e)return null;const t=Date.now(),n=new Date(e).getTime(),r=(t-n)/(1e3*60*60),s=new Date(e).toDateString()===new Date().toDateString();return r<1?{text:"ang hot ng",isOnline:!0}:r<24?{text:`Hot ng ${Math.floor(r)}h trc`,isOnline:!1}:s?{text:"Hot ng hm nay",isOnline:!1}:r<48?{text:"Hot ng hm qua",isOnline:!1}:{text:`Hot ng ${Math.floor(r/24)} ngy trc`,isOnline:!1}},T_=e=>e&&[e.address,e.district,e.city].filter(Boolean).join(", ")||"...",KB=()=>{var q;const e=jt(),t=Zr(),{teamId:n}=Ra(),r=t.state,s=r==null?void 0:r.team,i=r==null?void 0:r.compatibilityScore,l=r==null?void 0:r.qualityScore,{team:c,isLoading:d,error:h,isRefreshing:m,refresh:p}=Q2(n,!0),x=s||c,y=i||Math.round(((x==null?void 0:x.qualityScore)||.5)*100),b=!s&&d&&!m,[v,j]=k.useState(0),[N,w]=k.useState(0),S=$=>{window.scrollY===0&&j($.touches[0].clientY)},P=$=>{if(v&&window.scrollY===0){const D=$.touches[0].clientY-v;D>0&&w(Math.min(D,120))}},C=()=>O(void 0,null,function*(){N>80&&(yield p()),j(0),w(0)});if(b)return a.jsxs("div",{className:"flex flex-col min-h-dvh bg-gradient-to-br from-primary/20 to-green-600/20",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 z-50 p-4 flex justify-between items-center text-white safe-area-top",children:a.jsx("button",{onClick:()=>e(-1),className:"size-10 flex items-center justify-center rounded-full bg-black/30 backdrop-blur-md hover:bg-black/50 transition-colors",children:a.jsx(A,{name:"arrow_back"})})}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-primary/30 border-t-primary animate-spin"})}),a.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white pb-8 text-center",children:"ang ti..."})]});if(h||!x)return a.jsxs("div",{className:"flex flex-col min-h-dvh bg-background-light dark:bg-background-dark items-center justify-center p-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mb-4",children:a.jsx(A,{name:"error",className:"text-3xl text-red-500"})}),a.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Khng tm thy i bng"}),a.jsx("p",{className:"text-gray-500 mb-6 text-center",children:h||"i bng ny khng tn ti hoc  b xa."}),a.jsx(ke,{onClick:()=>e(-1),variant:"primary",children:"Quay li"})]});const U=VB(x.lastActive),Z=(l||x.qualityScore||0)>=.8;return a.jsxs("div",{className:"flex flex-col min-h-dvh bg-gradient-to-br from-primary/15 via-green-50/50 to-background-light dark:from-background-dark dark:to-surface-dark pb-safe animate-fade-in",onTouchStart:S,onTouchMove:P,onTouchEnd:C,children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 z-50 p-4 flex justify-start items-center safe-area-top",children:a.jsx("button",{onClick:()=>e(-1),className:"size-10 flex items-center justify-center rounded-full bg-black/30 backdrop-blur-md hover:bg-black/50 transition-colors text-white",children:a.jsx(A,{name:"arrow_back"})})}),(N>0||m)&&a.jsx("div",{className:"absolute top-16 left-0 right-0 z-40 flex items-center justify-center pointer-events-none transition-all duration-200",style:{opacity:Math.min(N/80,1),transform:`translateY(${Math.min(N,80)}px)`},children:a.jsx("div",{className:"flex items-center gap-2 text-sm text-white",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white/30 border-t-white animate-spin"}),a.jsx("span",{children:"ang ti..."})]}):N>80?a.jsxs(a.Fragment,{children:[a.jsx(A,{name:"refresh",className:"text-white"}),a.jsx("span",{children:"Th  ti"})]}):a.jsxs(a.Fragment,{children:[a.jsx(A,{name:"arrow_downward"}),a.jsx("span",{children:"Ko  ti"})]})})}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative h-[40vh] min-h-[280px]",children:[a.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-surface-dark",children:x.banner?a.jsx("img",{src:x.banner,className:"w-full h-full object-cover",alt:"Team Banner"}):x.logo?a.jsx("div",{className:"absolute inset-0 bg-cover bg-center opacity-20 blur-xl",style:{backgroundImage:`url("${x.logo}")`}}):a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/30 via-green-400/20 to-primary/20 dark:from-primary/20 dark:to-green-900/20"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-transparent"})]}),a.jsx("div",{className:"absolute -bottom-14 left-1/2 -translate-x-1/2",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/20 blur-2xl animate-pulse"}),a.jsx("div",{className:"relative w-28 h-28 rounded-full p-1 bg-white/40 dark:bg-white/10 backdrop-blur-sm",children:a.jsx(Jt,{src:x.logo||"",size:"xl",className:"w-full h-full rounded-full border-4 border-white dark:border-surface-dark shadow-2xl"})}),(U==null?void 0:U.isOnline)&&a.jsx("div",{className:"absolute bottom-1 right-1 w-7 h-7 bg-emerald-400 rounded-full border-4 border-white dark:border-surface-dark flex items-center justify-center shadow-lg",children:a.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full animate-pulse"})})]})})]}),a.jsxs("div",{className:"mt-16 text-center px-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("h1",{className:"text-2xl font-extrabold text-slate-900 dark:text-white",children:x.name}),Z&&a.jsx(A,{name:"verified",className:"text-primary text-xl"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[a.jsxs("div",{className:"px-3 py-1 bg-primary/90 dark:bg-primary/80 backdrop-blur-sm border border-primary/50 rounded-full flex items-center gap-1.5 shadow-md",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),a.jsxs("span",{className:"text-xs font-bold text-white",children:[y,"% Hp c"]})]}),U&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${U.isOnline?"bg-emerald-400 animate-pulse":"bg-gray-400"}`}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:U.text})]})]})]}),a.jsxs("div",{className:"flex-1 px-4 space-y-4 pb-24",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-sm rounded-2xl p-3 border border-gray-100 dark:border-white/5 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(A,{name:"groups",className:"text-primary text-lg"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Thnh vin"}),a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:x.membersCount||0})]})]})}),(()=>{const $=bu(x.level);return a.jsx("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-sm rounded-2xl p-3 border border-gray-100 dark:border-white/5 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-full ${$.bg} flex items-center justify-center`,children:a.jsx(A,{name:uv,className:`${$.main} text-lg`})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Trnh "}),a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:x.level||"-"})]})]})})})(),a.jsx("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-sm rounded-2xl p-3 border border-gray-100 dark:border-white/5 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500/10 flex items-center justify-center",children:a.jsx(A,{name:"stadium",className:"text-blue-500 text-lg"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Sn nh"}),x.homeStadium?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:x.homeStadium.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:T_(x.homeStadium)})]}):a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:T_(x.location)})]})]})}),a.jsx("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-sm rounded-2xl p-3 border border-gray-100 dark:border-white/5 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center",children:a.jsx(A,{name:"sports_soccer",className:"text-green-500 text-lg"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Sn"}),a.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:((q=x.pitch)==null?void 0:q.join(" & "))||"..."})]})]})})]}),x.stats&&(x.stats.attack||x.stats.defense||x.stats.technique)&&a.jsxs("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-3",children:"Ch s sc mnh"}),a.jsxs("div",{className:"space-y-3",children:[x.stats.attack!==void 0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(A,{name:Dr.attack,className:`${$t.attack.main} text-sm`}),a.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white",children:"Tn cng"})]}),a.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white",children:(x.stats.attack/10).toFixed(1)})]}),a.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${$t.attack.gradient} rounded-full transition-all duration-500`,style:{width:`${x.stats.attack}%`}})})]}),x.stats.defense!==void 0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(A,{name:Dr.defense,className:`${$t.defense.main} text-sm`}),a.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white",children:"Phng th"})]}),a.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white",children:(x.stats.defense/10).toFixed(1)})]}),a.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${$t.defense.gradient} rounded-full transition-all duration-500`,style:{width:`${x.stats.defense}%`}})})]}),x.stats.technique!==void 0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(A,{name:Dr.technique,className:`${$t.technique.main} text-sm`}),a.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white",children:"K thut"})]}),a.jsx("span",{className:"text-xs font-bold text-slate-900 dark:text-white",children:(x.stats.technique/10).toFixed(1)})]}),a.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-black/20 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full bg-gradient-to-r ${$t.technique.gradient} rounded-full transition-all duration-500`,style:{width:`${x.stats.technique}%`}})})]})]})]}),x.description&&a.jsxs("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-2",children:"Gii thiu"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed",children:x.description})]}),x.recentMatches&&x.recentMatches.length>0&&a.jsxs("div",{className:"bg-white/80 dark:bg-surface-dark/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900 dark:text-white mb-3",children:"Trn u gn y"}),a.jsx("div",{className:"space-y-2",children:x.recentMatches.map($=>{const D=$.teamAId===n,J=D?$.teamB:$.teamA,H=D?$.scoreA:$.scoreB,W=D?$.scoreB:$.scoreA,ie=H&&W&&H>W,ge=H&&W&&H<W,he=new Date($.date),V=`${he.getDate().toString().padStart(2,"0")}/${(he.getMonth()+1).toString().padStart(2,"0")}`;return a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-white/5 border border-gray-100 dark:border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:V}),ie&&a.jsx("div",{className:"bg-green-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md",children:"W"}),ge&&a.jsx("div",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md",children:"L"}),!ie&&!ge&&a.jsx("div",{className:"bg-gray-400 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md",children:"D"}),a.jsxs("span",{className:"text-xs font-semibold text-slate-900 dark:text-white truncate",children:["vs ",(J==null?void 0:J.name)||"..."]})]}),a.jsxs("span",{className:"text-xs font-mono font-bold text-slate-900 dark:text-white ml-2",children:[H!=null?H:"-"," - ",W!=null?W:"-"]})]},$.id)})})]})]})]})},GB=()=>{const e=jt(),t=[{date:"12/05",result:"W",score:"5 - 3",opponent:"C Su FC",location:"Sn Cho La",isHome:!0},{date:"10/05",result:"L",score:"2 - 4",opponent:"Tiger Utd",location:"Sn K34",isHome:!1},{date:"05/05",result:"D",score:"4 - 4",opponent:"Storm FC",location:"Sn PM",isHome:!0},{date:"01/05",result:"W",score:"3 - 1",opponent:"Vn Phng FC",location:"Sn Qun 7",isHome:!0}],n=r=>{switch(r){case"W":return"bg-green-500 text-white";case"L":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx(Kt,{title:"Lch s thi u",onBack:()=>e(-1)}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-2",children:[a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[a.jsx("span",{className:"block text-xl font-bold text-green-500",children:"15"}),a.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Thng"})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[a.jsx("span",{className:"block text-xl font-bold text-gray-500",children:"4"}),a.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Ha"})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark p-3 rounded-xl border border-gray-100 dark:border-white/5 text-center",children:[a.jsx("span",{className:"block text-xl font-bold text-red-500",children:"3"}),a.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Thua"})]})]}),t.map((r,s)=>a.jsxs("div",{onClick:()=>e(Ae.matchDetail("1")),className:"flex items-center gap-4 bg-white dark:bg-surface-dark p-4 rounded-xl border border-gray-100 dark:border-white/5 active:scale-[0.99] transition-transform cursor-pointer",children:[a.jsxs("div",{className:"flex flex-col items-center w-10",children:[a.jsx("span",{className:"text-xs font-bold text-gray-500 mb-1",children:r.date}),a.jsx("div",{className:`size-8 rounded-full flex items-center justify-center font-bold text-sm ${n(r.result)}`,children:r.result})]}),a.jsx("div",{className:"w-px h-10 bg-gray-100 dark:bg-white/10"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("h4",{className:"font-bold text-slate-900 dark:text-white",children:["vs ",r.opponent]}),a.jsx("span",{className:`font-mono font-bold ${r.result==="W"?"text-green-500":r.result==="L"?"text-red-500":"text-gray-400"}`,children:r.score})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[a.jsx(A,{name:"location_on",className:"text-xs"}),r.location]})]}),a.jsx(A,{name:"chevron_right",className:"text-gray-400"})]},s))]})]})},qB=()=>{var q,$;const e=jt(),{matchId:t}=Ra(),n=cn(D=>D.user),r=ra(D=>D.showToast),[s,i]=k.useState(!0),[l,c]=k.useState(null),[d,h]=k.useState(null),[m,p]=k.useState("A"),[x,y]=k.useState(!1),[b,v]=k.useState(!1),j=k.useCallback(()=>O(void 0,null,function*(){if(t)try{i(!0);const[D,J]=yield Promise.all([Zt.getMatchAttendance(t),Zt.getMyAttendance(t)]);D.success&&D.data&&c(D.data),J.success&&h(J.data)}catch(D){console.error("Failed to fetch attendance:",D),r(D.message||"Khng th ti danh sch im danh","error")}finally{i(!1)}}),[t,r]);k.useEffect(()=>{j()},[j]),d&&(l==null||l.teamA.teamId,d.teamId);const N=(D,J)=>O(void 0,null,function*(){if(t)try{y(!0);const H=yield Zt.updateAttendance(t,{status:D,reason:J});H.success&&H.data&&(h(H.data),r({PENDING:" hy xc nhn",CONFIRMED:" xc nhn tham gia!",DECLINED:" bo bn"}[D],"success"),yield j())}catch(H){console.error("Failed to update attendance:",H),r(H.message||"Khng th cp nht im danh","error")}finally{y(!1)}}),w=()=>{N("CONFIRMED")},S=()=>{v(!0)},P=D=>{v(!1),N("DECLINED",D)},C=()=>{N("PENDING")},U=(D,J)=>{switch(D){case"PENDING":return a.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-gray-500/10 text-gray-500 border border-gray-500/20",children:"Cha phn hi"});case"CONFIRMED":return a.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:"C mt"});case"DECLINED":return a.jsxs("span",{className:"text-xs font-bold px-2 py-0.5 rounded-md bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20",children:["Bn ",J&&`(${J})`]})}},E=()=>{if(!d)return null;const D=d.status;return a.jsxs("div",{className:"flex gap-3",children:[D==="PENDING"&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:x,onClick:S,children:"Bo bn"}),a.jsx(ke,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:x,onClick:w,children:"S tham gia"})]}),D==="CONFIRMED"&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm",icon:"person_off",disabled:x,onClick:S,children:"Bo bn"}),a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:x,onClick:C,children:"Cha xc nhn"})]}),D==="DECLINED"&&a.jsxs(a.Fragment,{children:[a.jsx(ke,{className:"flex-1 h-10 text-sm",icon:"check_circle",disabled:x,onClick:w,children:"S tham gia"}),a.jsx(ke,{variant:"secondary",className:"flex-1 h-10 text-sm border-gray-300",disabled:x,onClick:C,children:"Cha xc nhn"})]})]})},Z=m==="A"?l==null?void 0:l.teamA:l==null?void 0:l.teamB;return s?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white",children:[a.jsx(Kt,{title:"im danh",onBack:()=>e(-1)}),a.jsx("div",{className:"flex items-center justify-center flex-1",children:a.jsx("div",{className:"text-gray-500",children:"ang ti..."})})]}):!l||!Z?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white",children:[a.jsx(Kt,{title:"im danh",onBack:()=>e(-1)}),a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-4",children:[a.jsx(A,{name:"event_busy",className:"text-5xl text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center",children:"Khng th ti thng tin im danh"}),a.jsx(ke,{className:"mt-4",onClick:()=>e(-1),children:"Quay li"})]})]}):(m==="A"?l.teamB:l.teamA,a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white pb-40",children:[a.jsx(Kt,{title:"im danh",onBack:()=>e(-1)}),a.jsx("div",{className:"px-4 pt-4 pb-2",children:a.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-1 rounded-xl flex",children:[a.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${m==="A"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>p("A"),children:(q=l.teamA)!=null&&q.teamId?"i A":"i nh"}),a.jsx("button",{className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${m==="B"?"bg-white dark:bg-gray-700 text-primary shadow-sm":"text-gray-600 dark:text-gray-400"}`,onClick:()=>p("B"),children:($=l.teamB)!=null&&$.teamId?"i B":"i khch"})]})}),a.jsx("div",{className:"px-4 pt-4",children:a.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-bold text-lg",children:"Tnh trng im danh"}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-2xl font-bold text-primary",children:Z.summary.confirmed}),a.jsxs("span",{className:"text-gray-500",children:["/",Z.summary.total]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-3",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${Z.summary.confirmedPercentage}%`}})}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["C mt: ",Z.summary.confirmed]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Bn: ",Z.summary.declined]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Cha tr li: ",Z.summary.pending]})]})]})]})}),a.jsxs("div",{className:"px-4 pt-6",children:[a.jsx("h3",{className:"font-bold text-base mb-3",children:"Danh sch thnh vin"}),Z.attendance.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(A,{name:"person_off",className:"text-4xl text-gray-400 mb-2"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Cha c d liu im danh"})]}):a.jsx("div",{className:"space-y-2",children:Z.attendance.map(D=>{const J=n&&D.userId===n.id;return a.jsxs("div",{className:`bg-white dark:bg-[#1A2C23] rounded-xl p-3 shadow-sm border border-gray-100 dark:border-gray-800/50 flex items-center gap-3 ${J?"ring-2 ring-primary/20":""}`,children:[a.jsx("div",{className:"relative",children:D.avatar?a.jsx("img",{src:D.avatar,alt:D.fullName,className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:a.jsx(A,{name:"person",className:"text-gray-500"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-semibold text-sm truncate",children:D.fullName}),J&&a.jsx("span",{className:"text-xs font-medium px-1.5 py-0.5 rounded bg-primary/20 text-primary",children:"Bn"})]}),D.phone&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:D.phone})]}),a.jsx("div",{children:U(D.status,D.reason)})]},D.id)})})]}),d&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 bg-background-light dark:bg-background-dark p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] border-t border-gray-200 dark:border-gray-800",children:a.jsxs("div",{className:"max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-white dark:bg-[#1A2C23] rounded-xl p-3 mb-3 border border-gray-100 dark:border-gray-800/50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(A,{name:"person",className:"text-primary"}),a.jsx("p",{className:"font-medium text-sm",children:"Trng thi ca bn"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[U(d.status,d.reason),d.responseTime&&a.jsx("span",{className:"text-xs text-gray-500",children:new Date(d.responseTime).toLocaleString("vi-VN")})]})]}),E()]})})]}),a.jsx(pf,{isOpen:b,onClose:()=>v(!1),type:"input",title:"Bo bn",description:"Nhp l do bn khng th tham gia trn u ny",icon:"event_busy",iconColor:"text-orange-500",inputPlaceholder:"L do bo bn (ty chn)...",inputMaxLength:200,primaryButtonText:"Xc nhn bo bn",onPrimaryAction:P,secondaryButtonText:"Hy",isLoading:x})]}))},YB=()=>{const e=jt(),[t,n]=k.useState("all"),[r,s]=k.useState([{id:"1",type:"team_invite",title:"Li mi tham gia i",content:"Hong Nam  mi bn tham gia i bng FC Anh Em.",time:"15 pht trc",isRead:!1,data:{teamName:"FC Anh Em",logo:"https://lh3.googleusercontent.com/aida-public/AB6AXuBypvDsi-D_phTOtQVDsuko1_OaeLHOPwHmhVianjSwwv5eXiQ5TI7fie-VKOFm-iNPkFWxJww3Phok10XnM2xeMBaAhHiM6qPUAdUNYq5nf1AvtF-q24k4xmzXc1hWjuPlMOqQOniDFxVh0ZkHaooaQ4OYzSSuMP9u6TNYh0DkSG6liPhKWavxJG405PNn8issj3m_-RoaeJs2kPsmhV5S0nTTxwPAbxwfKAPtRPkzmjUDq4_45ql8q8y7Byllkt5Ou8PGPsisKYJp",inviter:"Hong Nam"}},{id:"2",type:"match_invite",title:"Li mi giao hu",content:"Tiger Utd mun giao hu vi FC Si Gn vo ti mai.",time:"2 gi trc",isRead:!0,data:{teamName:"Tiger Utd",logo:"https://lh3.googleusercontent.com/aida-public/AB6AXuAgxBAaJQou-skfFZH5ACWZ-qpEWdiR7OC1Ed1HCHOREyVUCtHmKYJGQoYC_UPMXGDEoSsU1p4tKlT0V4O1ROjwVxJaHO-xN6R7H-6b9U5j_4n47evOpJOrLBTseQ-vBpPT1DoR5gIISwy_i5KqGzMuHbLw5yuB5wSsdt0hkXXz32EfnKqFH933RZnWk5JsZ9Shpst4HVWLru7fZ_PKYR4qvSBh3_fOxfHYyHSzrOMtfQtTbuV4gR064mquc2XNzjS07DUl8OA1r18W"}},{id:"3",type:"system",title:"Cp nht h thng",content:"Phin bn mi 2.0  sn sng. Tri nghim ngay cc tnh nng qun l i bng mi.",time:"1 ngy trc",isRead:!0}]),i=t==="all"?r:r.filter(c=>c.type==="team_invite"),l=c=>{s(d=>d.filter(h=>h.id!==c))};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[a.jsx(Kt,{title:"Thng bo",onBack:()=>e(-1),rightAction:a.jsx("button",{className:"text-primary text-sm font-bold p-2",children:"c tt c"})}),a.jsx("div",{className:"px-4 pt-2 pb-4 border-b border-gray-200 dark:border-white/5",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>n("all"),className:`px-4 py-1.5 rounded-full text-sm font-bold transition-colors ${t==="all"?"bg-slate-900 dark:bg-white text-white dark:text-slate-900":"text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:"Tt c"}),a.jsx("button",{onClick:()=>n("invites"),className:`px-4 py-1.5 rounded-full text-sm font-bold transition-colors ${t==="invites"?"bg-slate-900 dark:bg-white text-white dark:text-slate-900":"text-gray-500 hover:bg-gray-100 dark:hover:bg-white/5"}`,children:"Li mi"})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(c=>a.jsx("div",{className:`p-4 rounded-2xl border ${c.isRead?"bg-white dark:bg-surface-dark border-gray-100 dark:border-white/5":"bg-primary/5 border-primary/20 shadow-sm"}`,children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0",children:c.type==="team_invite"||c.type==="match_invite"?a.jsxs("div",{className:"relative",children:[a.jsx(Jt,{src:c.data.logo,size:"md"}),c.type==="team_invite"&&a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white p-1 rounded-full border-2 border-white dark:border-surface-dark",children:a.jsx(A,{name:"person_add",className:"text-xs"})}),c.type==="match_invite"&&a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-red-500 text-white p-1 rounded-full border-2 border-white dark:border-surface-dark",children:a.jsx(A,{name:"flash_on",className:"text-xs"})})]}):a.jsx("div",{className:"size-12 rounded-full bg-gray-100 dark:bg-white/10 flex items-center justify-center text-gray-500",children:a.jsx(A,{name:"notifications"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("h4",{className:`text-sm ${c.isRead?"font-semibold text-slate-900 dark:text-white":"font-bold text-slate-900 dark:text-white"}`,children:c.title}),a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-2",children:c.time})]}),a.jsx("p",{className:`text-sm ${c.isRead?"text-gray-500":"text-slate-800 dark:text-gray-200"} leading-relaxed mb-3`,children:c.content}),c.type==="team_invite"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ke,{className:"h-9 px-4 text-xs flex-1",children:"Chp nhn"}),a.jsx(ke,{variant:"secondary",className:"h-9 px-4 text-xs flex-1 bg-white dark:bg-white/5",onClick:()=>l(c.id),children:"T chi"}),a.jsx(ke,{variant:"ghost",className:"h-9 w-9 p-0 rounded-full",onClick:()=>e(Ae.teamDetail("1")),children:a.jsx(A,{name:"arrow_forward"})})]}),c.type==="match_invite"&&a.jsx(ke,{variant:"secondary",className:"h-9 w-full text-xs",children:"Xem chi tit"})]})]})},c.id)),i.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[a.jsx("div",{className:"size-20 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center mb-4",children:a.jsx(A,{name:"notifications_off",className:"text-3xl"})}),a.jsx("p",{children:"Khng c thng bo no"})]})]})]})},Gl=()=>`upload_${Date.now()}_${Math.random().toString(36).substring(7)}`,JB=sa((e,t)=>({uploadedFiles:new Map,isLoading:!1,uploadProgress:new Map,error:null,setUploadedFiles:n=>e({uploadedFiles:n}),addUploadedFile:(n,r)=>e(s=>{const i=new Map(s.uploadedFiles),l=i.get(n)||[];return i.set(n,[...l,r]),{uploadedFiles:i}}),removeUploadedFile:(n,r)=>e(s=>{const i=new Map(s.uploadedFiles),l=i.get(n)||[];return i.set(n,l.filter(c=>c.id!==r)),{uploadedFiles:i}}),clearError:()=>e({error:null}),setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),setUploadProgress:(n,r,s)=>e(i=>{const l=new Map(i.uploadProgress);return l.set(n,{fileId:n,progress:r,fileName:s}),{uploadProgress:l}}),removeUploadProgress:n=>e(r=>{const s=new Map(r.uploadProgress);return s.delete(n),{uploadProgress:s}}),uploadFile:(n,r,s,i,l)=>O(void 0,null,function*(){var d,h;const c=Gl();try{e({isLoading:!0,error:null});const m=yield Ja("/files/upload",n,p=>{t().setUploadProgress(c,p,n.name),l==null||l(p)});if(m.success&&m.data)return t().addUploadedFile(s,m.data),t().removeUploadProgress(c),m.data;throw new Error(((d=m.error)==null?void 0:d.message)||"Failed to upload file")}catch(m){const p=((h=m.error)==null?void 0:h.message)||m.message||"Khng th ti ln file";throw e({error:p,isLoading:!1}),t().removeUploadProgress(c),m}finally{e({isLoading:!1})}}),uploadTeamLogo:(n,r,s)=>O(void 0,null,function*(){var l,c;const i=Gl();try{e({isLoading:!0,error:null});const d=yield Ja(`/files/team/${n}/logo`,r,h=>{t().setUploadProgress(i,h,r.name),s==null||s(h)});if(d.success&&d.data)return t().addUploadedFile(n,d.data),t().removeUploadProgress(i),d.data;throw new Error(((l=d.error)==null?void 0:l.message)||"Failed to upload logo")}catch(d){const h=((c=d.error)==null?void 0:c.message)||d.message||"Khng th ti ln logo";throw e({error:h,isLoading:!1}),t().removeUploadProgress(i),d}finally{e({isLoading:!1})}}),uploadTeamBanner:(n,r,s)=>O(void 0,null,function*(){var l,c;const i=Gl();try{e({isLoading:!0,error:null});const d=yield Ja(`/files/team/${n}/banners`,r,h=>{t().setUploadProgress(i,h,r.name),s==null||s(h)});if(d.success&&d.data)return t().addUploadedFile(n,d.data),t().removeUploadProgress(i),d.data;throw new Error(((l=d.error)==null?void 0:l.message)||"Failed to upload banner")}catch(d){const h=((c=d.error)==null?void 0:c.message)||d.message||"Khng th ti ln banner";throw e({error:h,isLoading:!1}),t().removeUploadProgress(i),d}finally{e({isLoading:!1})}}),uploadUserAvatar:(n,r)=>O(void 0,null,function*(){var i,l;const s=Gl();try{e({isLoading:!0,error:null});const c=yield Ja("/files/user/avatar",n,d=>{t().setUploadProgress(s,d,n.name),r==null||r(d)});if(c.success&&c.data)return t().removeUploadProgress(s),c.data;throw new Error(((i=c.error)==null?void 0:i.message)||"Failed to upload avatar")}catch(c){const d=((l=c.error)==null?void 0:l.message)||c.message||"Khng th ti ln nh i din";throw e({error:d,isLoading:!1}),t().removeUploadProgress(s),c}finally{e({isLoading:!1})}}),uploadUserBanner:(n,r)=>O(void 0,null,function*(){var i,l;const s=Gl();try{e({isLoading:!0,error:null});const c=yield Ja("/files/user/banner",n,d=>{t().setUploadProgress(s,d,n.name),r==null||r(d)});if(c.success&&c.data)return t().removeUploadProgress(s),c.data;throw new Error(((i=c.error)==null?void 0:i.message)||"Failed to upload banner")}catch(c){const d=((l=c.error)==null?void 0:l.message)||c.message||"Khng th ti ln nh ba";throw e({error:d,isLoading:!1}),t().removeUploadProgress(s),c}finally{e({isLoading:!1})}}),getEntityFiles:(n,r)=>O(void 0,null,function*(){try{e({isLoading:!0,error:null});const s=yield fetch(`/api/v1/files/entity/${n}/${r}`,{headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const i=yield s.json();if(i.success&&i.data){const l=Array.isArray(i.data)?i.data:[i.data];return e(c=>{const d=new Map(c.uploadedFiles);return d.set(r,l),{uploadedFiles:d,error:null}}),l}else throw new Error(i.message||"Failed to fetch files")}catch(s){const i=s.message||"Khng th ti danh sch file";throw e({error:i,isLoading:!1}),s}finally{e({isLoading:!1})}}),deleteFile:n=>O(void 0,null,function*(){try{e({isLoading:!0,error:null});const r=yield fetch(`/api/v1/files/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=yield r.json();if(s.success)e(i=>{const l=new Map(i.uploadedFiles);for(const[c,d]of l.entries())l.set(c,d.filter(h=>h.id!==n));return{uploadedFiles:l}});else throw new Error(s.message||"Failed to delete file")}catch(r){const s=r.message||"Khng th xa file";throw e({error:s,isLoading:!1}),r}finally{e({isLoading:!1})}})})),QB=()=>{const e=JB();return{setUploadedFiles:e.setUploadedFiles,addUploadedFile:e.addUploadedFile,removeUploadedFile:e.removeUploadedFile,clearError:e.clearError,setLoading:e.setLoading,setError:e.setError,setUploadProgress:e.setUploadProgress,removeUploadProgress:e.removeUploadProgress,uploadFile:e.uploadFile,uploadTeamLogo:e.uploadTeamLogo,uploadTeamBanner:e.uploadTeamBanner,uploadUserAvatar:e.uploadUserAvatar,uploadUserBanner:e.uploadUserBanner,getEntityFiles:e.getEntityFiles,deleteFile:e.deleteFile}},XB=()=>{var se;const e=jt(),t=vu(),{updateProfile:n}=lv(),{uploadUserAvatar:r,uploadUserBanner:s}=QB(),i=k.useRef(null),l=k.useRef(null),[c,d]=k.useState({name:"",phone:"",position:"Tin v",jerseyNumber:"",bio:""}),[h,m]=k.useState({attack:7.5,defense:7,technique:7.5}),[p,x]=k.useState(!1),[y,b]=k.useState(!1),[v,j]=k.useState(null),[N,w]=k.useState(0),[S,P]=k.useState(0),[C,U]=k.useState(!1),[E,Z]=k.useState(!1),[q,$]=k.useState(null),[D,J]=k.useState(null);k.useEffect(()=>{var ce;t&&(d({name:t.name||"",phone:t.phone||"",position:t.position||"Tin v",jerseyNumber:((ce=t.jerseyNumber)==null?void 0:ce.toString())||"",bio:t.bio||""}),t.playerStats&&m({attack:t.playerStats.attack/10,defense:t.playerStats.defense/10,technique:t.playerStats.technique/10}),$(t.avatar||null),J(t.banner||null))},[t]);const H=(ce,Ne)=>{d(Ee=>le(R({},Ee),{[ce]:Ne}))},W=(ce,Ne)=>{m(Ee=>le(R({},Ee),{[ce]:Ne}))},ie=ce=>{if(!ce.type.startsWith("image/"))return{valid:!1,error:"Ch chp nhn file hnh nh"};const Ne=5*1024*1024;return ce.size>Ne?{valid:!1,error:"Kch thc file khng c vt qu 5MB"}:{valid:!0}},ge=()=>{var ce;(ce=i.current)==null||ce.click()},he=ce=>O(void 0,null,function*(){var _e,Me;const Ne=(_e=ce.target.files)==null?void 0:_e[0];if(!Ne)return;const Ee=ie(Ne);if(!Ee.valid){j(Ee.error||"File khng hp l");return}try{U(!0),w(0),j(null);const Be=yield r(Ne,Xe=>{w(Xe)});Be.publicUrl&&$(Be.publicUrl)}catch(Be){const Xe=((Me=Be.error)==null?void 0:Me.message)||Be.message||"Khng th ti ln nh i din";j(Xe)}finally{U(!1),w(0),i.current&&(i.current.value="")}}),V=()=>{var ce;(ce=l.current)==null||ce.click()},fe=ce=>O(void 0,null,function*(){var _e,Me;const Ne=(_e=ce.target.files)==null?void 0:_e[0];if(!Ne)return;const Ee=ie(Ne);if(!Ee.valid){j(Ee.error||"File khng hp l");return}try{Z(!0),P(0),j(null);const Be=yield s(Ne,Xe=>{P(Xe)});Be.publicUrl&&J(Be.publicUrl)}catch(Be){const Xe=((Me=Be.error)==null?void 0:Me.message)||Be.message||"Khng th ti ln nh ba";j(Xe)}finally{Z(!1),P(0),l.current&&(l.current.value="")}}),re=()=>O(void 0,null,function*(){if(!(t!=null&&t.id)){j("Khng tm thy thng tin ngi dng");return}try{b(!0),j(null),yield n({name:c.name,phone:c.phone,position:c.position,jerseyNumber:c.jerseyNumber?parseInt(c.jerseyNumber):void 0,bio:c.bio,avatar:q||void 0,banner:D||void 0,playerStats:{attack:h.attack*10,defense:h.defense*10,technique:h.technique*10}}),e(-1)}catch(ce){console.error("Failed to update profile:",ce),j(ce instanceof Error?ce.message:"C li xy ra khi cp nht h s")}finally{b(!1)}});return t?a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[a.jsx(Kt,{title:"Chnh sa h s",onBack:()=>e(-1)}),v&&a.jsx("div",{className:"mx-4 mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4",children:a.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:v})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[a.jsxs("div",{className:"relative group cursor-pointer -mx-4 -mt-4",onClick:V,children:[a.jsxs("div",{className:"h-64 overflow-hidden bg-gradient-to-r from-primary to-green-600 relative",children:[D?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:D,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity",alt:"Banner"}),a.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx(A,{name:"camera_alt",className:"text-3xl mx-auto mb-1"}),a.jsx("p",{className:"text-sm font-medium",children:"Thay i nh ba"})]})})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-r from-primary/50 to-green-600/50",children:a.jsxs("div",{className:"text-white text-center",children:[a.jsx(A,{name:"add_photo_alternate",className:"text-4xl mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium",children:"Thm nh ba"})]})}),E&&S>0&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/50",children:a.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${S}%`}})})]}),!E&&a.jsx("div",{className:"absolute bottom-3 right-3 bg-white/90 dark:bg-surface-dark/90 text-primary p-2 rounded-full shadow-lg",children:a.jsx(A,{name:"edit",className:"text-lg"})})]}),a.jsxs("div",{className:"flex flex-col items-center -mt-16 mb-4",children:[a.jsxs("div",{className:"relative group cursor-pointer",onClick:ge,children:[a.jsxs("div",{className:"size-28 rounded-full border-4 border-white dark:border-surface-dark shadow-xl overflow-hidden bg-gray-200 dark:bg-white/5",children:[q?a.jsx("img",{src:q,className:"w-full h-full object-cover group-hover:opacity-75 transition-opacity",alt:t.name}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold text-3xl",children:((se=t==null?void 0:t.name)==null?void 0:se.charAt(0).toUpperCase())||"U"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/30",children:a.jsx(A,{name:"camera_alt",className:"text-white text-3xl"})}),C&&N>0&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/50",children:a.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${N}%`}})})]}),!C&&a.jsx("div",{className:"absolute bottom-1 right-1 bg-primary text-white p-2 rounded-full border-4 border-background-light dark:border-background-dark shadow-sm",children:a.jsx(A,{name:"edit",className:"text-sm"})})]}),a.jsx("p",{className:"mt-3 text-sm text-primary font-bold cursor-pointer",onClick:ge,children:"Thay i nh i din"})]}),a.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:he,className:"hidden"}),a.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:fe,className:"hidden"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4 p-4 bg-white dark:bg-surface-dark rounded-2xl border border-gray-100 dark:border-white/5 shadow-sm",children:[a.jsx(zr,{label:"H v tn",value:c.name,onChange:ce=>H("name",ce.target.value),icon:"person"}),a.jsx(zr,{label:"S in thoi",value:c.phone,onChange:ce=>H("phone",ce.target.value),icon:"phone",type:"tel"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"V tr s trng"}),a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("div",{className:"absolute left-4 text-gray-400 dark:text-gray-500 pointer-events-none",children:a.jsx(A,{name:"sports_soccer"})}),a.jsxs("select",{value:c.position,onChange:ce=>H("position",ce.target.value),className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl h-12 pl-12 pr-10 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent transition-all appearance-none",children:[a.jsx("option",{children:"Th mn"}),a.jsx("option",{children:"Hu v"}),a.jsx("option",{children:"Tin v"}),a.jsx("option",{children:"Tin o"})]}),a.jsx("div",{className:"absolute right-4 text-gray-400 pointer-events-none",children:a.jsx(A,{name:"expand_more"})})]})]}),a.jsx(zr,{label:"S o yu thch",value:c.jerseyNumber,onChange:ce=>H("jerseyNumber",ce.target.value),icon:"tag",type:"number"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-text-secondary ml-1",children:"Gii thiu bn thn"}),a.jsx("textarea",{className:"w-full bg-white dark:bg-surface-dark border border-gray-200 dark:border-border-dark rounded-xl p-4 text-slate-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent min-h-[100px] resize-none shadow-sm",placeholder:"Gii thiu v phong cch , kinh nghim...",value:c.bio,onChange:ce=>H("bio",ce.target.value)})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-2xl border border-gray-100 dark:border-white/5 overflow-hidden shadow-sm",children:[a.jsxs("button",{onClick:()=>x(!p),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-white/5 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-900 dark:text-white",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded-md text-primary",children:a.jsx(A,{name:"bar_chart",className:"text-lg"})}),a.jsx("span",{children:"Ch s k nng (T nh gi)"})]}),a.jsx(A,{name:p?"expand_less":"expand_more",className:"text-gray-400"})]}),p&&a.jsxs("div",{className:"p-4 space-y-4 border-t border-gray-100 dark:border-white/5 animate-fade-in",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:`flex items-center gap-2 ${$t.attack.main} font-bold text-sm`,children:[a.jsx(A,{name:Dr.attack,className:"text-sm"})," Tn cng"]}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:h.attack})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:h.attack,onChange:ce=>W("attack",parseFloat(ce.target.value)),className:`w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer ${$t.attack.accent}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:`flex items-center gap-2 ${$t.defense.main} font-bold text-sm`,children:[a.jsx(A,{name:Dr.defense,className:"text-sm"})," Phng th"]}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:h.defense})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:h.defense,onChange:ce=>W("defense",parseFloat(ce.target.value)),className:`w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer ${$t.defense.accent}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:`flex items-center gap-2 ${$t.technique.main} font-bold text-sm`,children:[a.jsx(A,{name:Dr.technique,className:"text-sm"})," K thut"]}),a.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:h.technique})]}),a.jsx("input",{type:"range",min:"1",max:"10",step:"0.5",value:h.technique,onChange:ce=>W("technique",parseFloat(ce.target.value)),className:`w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer ${$t.technique.accent}`})]})]})]})]})]}),a.jsx("div",{className:"p-4 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur border-t border-gray-200 dark:border-white/5",children:a.jsx(ke,{fullWidth:!0,onClick:re,disabled:y||C||E,children:y?"ANG LU...":C||E?"ANG TI LN...":"LU THAY I"})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx(A,{name:"refresh",className:"animate-spin text-4xl text-primary mb-4"}),a.jsx("p",{className:"text-gray-500",children:"ang ti thng tin..."})]})},uS=sa()(pl((e,t)=>({swipeHistory:[],receivedSwipes:[],swipeStats:null,historyPagination:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},receivedPagination:{page:1,limit:20,total:0,totalPages:0,hasMore:!0},isLoadingHistory:!1,isLoadingReceived:!1,isLoadingStats:!1,isLoadingMoreHistory:!1,isLoadingMoreReceived:!1,error:null,historyFilter:"all",_fetchedHistory:{},_fetchedReceived:{},_fetchedStats:{},setSwipeHistory:n=>e({swipeHistory:n}),setReceivedSwipes:n=>e({receivedSwipes:n}),setSwipeStats:n=>e({swipeStats:n}),setHistoryFilter:n=>e({historyFilter:n}),setError:n=>e({error:n}),clearAllData:()=>e({swipeHistory:[],receivedSwipes:[],swipeStats:null,_fetchedHistory:{},_fetchedReceived:{},_fetchedStats:{},error:null}),fetchSwipeHistory:(n,r=1,s=!1)=>O(void 0,null,function*(){const i=t();if(!(r===1&&i.isLoadingHistory)&&!(r>1&&i.isLoadingMoreHistory)&&!(!s&&r===1&&i._fetchedHistory[n]&&i.swipeHistory.length>0)){e(r===1?{isLoadingHistory:!0,error:null}:{isLoadingMoreHistory:!0});try{const l=i.historyFilter==="all"?void 0:i.historyFilter,d=(yield rc.getSwipeHistory(n,{page:r,limit:20,action:l})).data;if(!d)throw new Error("No data received from API");e(h=>({swipeHistory:r===1||s?d.swipes:[...h.swipeHistory,...d.swipes],historyPagination:{page:d.pagination.page,limit:d.pagination.limit,total:d.pagination.total,totalPages:d.pagination.totalPages,hasMore:d.pagination.page<d.pagination.totalPages},_fetchedHistory:le(R({},h._fetchedHistory),{[n]:!0}),error:null}))}catch(l){e({error:l.message||"Khng th ti lch s swipe"})}finally{e(r===1?{isLoadingHistory:!1}:{isLoadingMoreHistory:!1})}}}),fetchReceivedSwipes:(n,r=1,s=!1)=>O(void 0,null,function*(){const i=t();if(!(r===1&&i.isLoadingReceived)&&!(r>1&&i.isLoadingMoreReceived)&&!(!s&&r===1&&i._fetchedReceived[n]&&i.receivedSwipes.length>0)){e(r===1?{isLoadingReceived:!0,error:null}:{isLoadingMoreReceived:!0});try{const c=(yield rc.getReceivedSwipes(n,{page:r,limit:20})).data;if(!c)throw new Error("No data received from API");e(d=>{var h,m,p,x;return{receivedSwipes:r===1||s?c.receivedSwipes:[...d.receivedSwipes,...c.receivedSwipes],receivedPagination:{page:((h=c.pagination)==null?void 0:h.page)||r,limit:((m=c.pagination)==null?void 0:m.limit)||20,total:c.total||0,totalPages:((p=c.pagination)==null?void 0:p.totalPages)||Math.ceil((c.total||0)/20),hasMore:c.pagination?c.pagination.page<c.pagination.totalPages:(((x=c.receivedSwipes)==null?void 0:x.length)||0)>=20},_fetchedReceived:le(R({},d._fetchedReceived),{[n]:!0}),error:null}})}catch(l){e({error:l.message||"Khng th ti danh sch thch"})}finally{e(r===1?{isLoadingReceived:!1}:{isLoadingMoreReceived:!1})}}}),fetchSwipeStats:(n,r=!1)=>O(void 0,null,function*(){const s=t();if(!s.isLoadingStats&&!(!r&&s._fetchedStats[n]&&s.swipeStats)){e({isLoadingStats:!0,error:null});try{const l=(yield rc.getSwipeStats(n)).data;if(!l)throw new Error("No data received from API");e({swipeStats:l,_fetchedStats:le(R({},s._fetchedStats),{[n]:!0}),error:null})}catch(i){e({error:i.message||"Khng th ti thng k"})}finally{e({isLoadingStats:!1})}}}),undoSwipe:n=>O(void 0,null,function*(){try{yield rc.undoSwipe(n),e(r=>({swipeHistory:r.swipeHistory.filter(s=>s.id!==n)}))}catch(r){throw e({error:r.message||"Khng th hon tc"}),r}})}),{name:"swipe-storage",partialize:e=>({historyFilter:e.historyFilter})})),eF=()=>{const e=uS();return{fetchSwipeHistory:e.fetchSwipeHistory,fetchReceivedSwipes:e.fetchReceivedSwipes,fetchSwipeStats:e.fetchSwipeStats,undoSwipe:e.undoSwipe,setHistoryFilter:e.setHistoryFilter,clearAllData:e.clearAllData}},pv=()=>{const e=jt(),{showToast:t}=ra(),n=La(),r=uS(),s=eF(),i=k.useCallback((x=1,y=!1)=>O(void 0,null,function*(){n!=null&&n.id&&(yield s.fetchSwipeHistory(n.id,x,y))}),[n==null?void 0:n.id,s]),l=k.useCallback((x=1,y=!1)=>O(void 0,null,function*(){n!=null&&n.id&&(yield s.fetchReceivedSwipes(n.id,x,y))}),[n==null?void 0:n.id,s]),c=k.useCallback((x=!1)=>O(void 0,null,function*(){n!=null&&n.id&&(yield s.fetchSwipeStats(n.id,x))}),[n==null?void 0:n.id,s]),d=k.useCallback(x=>O(void 0,null,function*(){try{yield s.undoSwipe(x),t(" hon tc","success")}catch(y){const b=y.message||"Khng th hon tc";throw t(b,"error"),y}}),[s,t]),h=k.useCallback(x=>{s.setHistoryFilter(x),i(1,!0)},[s,i]),m=k.useCallback(x=>{e(Ae.teamDetail(x))},[e]),p=k.useCallback(x=>{e(Ae.matchDetail(x))},[e]);return le(R({},r),{fetchHistory:i,fetchReceived:l,fetchStats:c,undoSwipe:d,setFilter:h,goToTeamDetail:m,goToMatchDetail:p,clearError:()=>r.setError(null)})},tF=()=>{const e=jt(),t=La(),{swipeHistory:n,historyPagination:r,isLoadingHistory:s,isLoadingMoreHistory:i,historyFilter:l,error:c,fetchHistory:d,setFilter:h,undoSwipe:m,goToTeamDetail:p}=pv(),x=k.useRef(null);k.useEffect(()=>{t!=null&&t.id&&d(1,!1)},[t==null?void 0:t.id]),k.useEffect(()=>{if(!r.hasMore||i)return;const v=new IntersectionObserver(N=>{N[0].isIntersecting&&d(r.page+1,!1)},{threshold:.1,rootMargin:"100px"}),j=x.current;return j&&v.observe(j),()=>v.disconnect()},[r.hasMore,i,d,r.page]);const y=v=>{const j=Math.floor((Date.now()-new Date(v).getTime())/1e3);return j<60?"Va xong":j<3600?`${Math.floor(j/60)} pht trc`:j<86400?`${Math.floor(j/3600)} gi trc`:`${Math.floor(j/86400)} ngy trc`},b=v=>Date.now()-new Date(v).getTime()<5*60*1e3;return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx("div",{className:"safe-area-top bg-white dark:bg-surface-dark border-b border-gray-200 dark:border-white/5 px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e(Ae.matchFind),className:"text-gray-600 dark:text-gray-400",children:a.jsx(A,{name:"arrow_back"})}),a.jsx("h1",{className:"text-lg font-bold flex-1 text-slate-900 dark:text-white",children:"Lch s swipe"})]})}),a.jsx("div",{className:"px-4 py-3 flex gap-2 bg-white dark:bg-surface-dark border-b border-gray-100 dark:border-white/5",children:[{label:"Tt c",value:"all"},{label:" thch",value:"LIKE"},{label:" b qua",value:"PASS"}].map(v=>a.jsx("button",{onClick:()=>h(v.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${l===v.value?"bg-primary text-background-dark":"bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-white/10"}`,children:v.label},v.value))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s&&n.length===0&&a.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>a.jsx("div",{className:"h-20 bg-gray-100 dark:bg-white/5 rounded-xl animate-pulse"},v))}),c&&n.length===0&&a.jsx(vl,{message:c,onRetry:()=>d(1,!0)}),!s&&!c&&n.length===0&&a.jsx(Ki,{icon:"history",title:"Cha c lch s swipe",description:"Bt u tm kim i th  xem lch s nh"}),a.jsx("div",{className:"space-y-3",children:n.map(v=>{var j,N,w,S;return a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{onClick:()=>p(v.targetTeamId),className:"size-12 rounded-full overflow-hidden cursor-pointer bg-gradient-to-br from-primary to-green-600 flex items-center justify-center text-white font-bold flex-shrink-0",children:(j=v.targetTeam)!=null&&j.logo?a.jsx("img",{src:v.targetTeam.logo,alt:"",className:"w-full h-full object-cover"}):((w=(N=v.targetTeam)==null?void 0:N.name)==null?void 0:w.charAt(0))||"T"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{onClick:()=>p(v.targetTeamId),className:"font-bold text-slate-900 dark:text-white truncate cursor-pointer",children:((S=v.targetTeam)==null?void 0:S.name)||"Unknown"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:y(v.createdAt)})]}),a.jsxs("div",{className:`flex items-center gap-1 ${v.action==="LIKE"?"text-green-500":"text-red-500"}`,children:[a.jsx(A,{name:v.action==="LIKE"?"favorite":"close",filled:v.action==="LIKE"}),a.jsx("span",{className:"text-sm",children:v.action==="LIKE"?"Thch":"B qua"})]}),v.action==="LIKE"&&b(v.createdAt)&&a.jsx("button",{onClick:()=>m(v.id),className:"px-3 py-1 rounded-lg bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 text-xs font-medium hover:bg-gray-200 dark:hover:bg-white/10 transition-colors",children:"Hon tc"})]}),v.isMatch&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-white/5",children:a.jsxs("div",{className:"flex items-center gap-1 text-green-500 text-sm font-medium",children:[a.jsx(A,{name:"celebration"}),a.jsx("span",{children:"Match!  to trn u"})]})})]},v.id)})}),a.jsx("div",{ref:x,className:"h-1"}),i&&a.jsx("div",{className:"py-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"ang ti..."})]})]})},nF=()=>{const e=jt(),t=La(),{receivedSwipes:n,receivedPagination:r,isLoadingReceived:s,isLoadingMoreReceived:i,error:l,fetchReceived:c,goToTeamDetail:d,goToMatchDetail:h}=pv(),m=k.useRef(null);k.useEffect(()=>{t!=null&&t.id&&c(1,!1)},[t==null?void 0:t.id]),k.useEffect(()=>{if(!r.hasMore||i)return;const x=new IntersectionObserver(b=>{b[0].isIntersecting&&c(r.page+1,!1)},{threshold:.1}),y=m.current;return y&&x.observe(y),()=>x.disconnect()},[r.hasMore,i,c,r.page]);const p=x=>{const y=Math.floor((Date.now()-new Date(x).getTime())/1e3);return y<60?"Va xong":y<3600?`${Math.floor(y/60)} pht trc`:`${Math.floor(y/3600)} gi trc`};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx("div",{className:"safe-area-top bg-white dark:bg-surface-dark border-b border-gray-200 dark:border-white/5 px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"text-gray-600 dark:text-gray-400",children:a.jsx(A,{name:"arrow_back"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"c thch"}),n.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[n.length," i"]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s&&n.length===0&&a.jsx("div",{className:"space-y-3",children:[1,2,3].map(x=>a.jsx("div",{className:"h-20 bg-gray-100 dark:bg-white/5 rounded-xl animate-pulse"},x))}),l&&n.length===0&&a.jsx(vl,{message:l,onRetry:()=>c(1,!0)}),!s&&!l&&n.length===0&&a.jsx(Ki,{icon:"favorite",title:"Cha c lt thch no",description:"Khi c i thch li, h s hin  y"}),a.jsx("div",{className:"space-y-3",children:n.map(x=>{var y,b,v,j;return a.jsx("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{onClick:()=>d(x.swiperTeamId),className:"size-12 rounded-full overflow-hidden cursor-pointer relative bg-gradient-to-br from-pink-500 to-red-500 flex items-center justify-center text-white font-bold flex-shrink-0",children:[(y=x.swiperTeam)!=null&&y.logo?a.jsx("img",{src:x.swiperTeam.logo,alt:"",className:"w-full h-full object-cover"}):((v=(b=x.swiperTeam)==null?void 0:b.name)==null?void 0:v.charAt(0))||"T",a.jsx("div",{className:"absolute -bottom-1 -right-1 size-5 bg-red-500 rounded-full flex items-center justify-center border-2 border-white dark:border-surface-dark",children:a.jsx(A,{name:"favorite",className:"text-white text-xs",filled:!0})})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{onClick:()=>d(x.swiperTeamId),className:"font-bold text-slate-900 dark:text-white truncate cursor-pointer",children:((j=x.swiperTeam)==null?void 0:j.name)||"Unknown"}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[" thch bn  ",p(x.swipedAt)]})]}),x.isMatch&&x.matchId&&a.jsxs("button",{onClick:()=>h(x.matchId),className:"px-3 py-2 rounded-lg bg-green-500 text-white text-sm font-medium flex items-center gap-1 hover:bg-green-600 transition-colors",children:[a.jsx(A,{name:"celebration"}),a.jsx("span",{children:"Match!"})]})]})},x.id)})}),a.jsx("div",{ref:m,className:"h-1"}),i&&a.jsx("div",{className:"py-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:"ang ti..."})]})]})},rF=()=>{const e=jt(),t=La(),{swipeStats:n,isLoadingStats:r,error:s,fetchStats:i}=pv();return k.useEffect(()=>{t!=null&&t.id&&i(!1)},[t==null?void 0:t.id]),r&&!n?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background-light dark:bg-background-dark",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):s&&!n?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background-light dark:bg-background-dark p-4",children:a.jsx(vl,{message:s,onRetry:()=>i(!0)})}):a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark",children:[a.jsx("div",{className:"safe-area-top bg-white dark:bg-surface-dark border-b border-gray-200 dark:border-white/5 px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>e(-1),className:"text-gray-600 dark:text-gray-400",children:a.jsx(A,{name:"arrow_back"})}),a.jsx("h1",{className:"text-lg font-bold flex-1 text-slate-900 dark:text-white",children:"Thng k swipe"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:n&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Tng swipe"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:n.totalSwipes})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Match"}),a.jsx("p",{className:"text-2xl font-bold text-green-500",children:n.matches})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:" thch"}),a.jsx("p",{className:"text-2xl font-bold text-red-500",children:n.likes})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 border border-gray-100 dark:border-white/5",children:[a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"c thch"}),a.jsx("p",{className:"text-2xl font-bold text-pink-500",children:n.totalLikesReceived||0})]})]}),a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 space-y-3 border border-gray-100 dark:border-white/5",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"T l"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"T l thch"}),a.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[n.likeRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-500 transition-all",style:{width:`${n.likeRate}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"T l match"}),a.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[n.matchRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${n.matchRate}%`}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"T thch thnh match"}),a.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[n.likeToMatchRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-gray-100 dark:bg-white/5 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${n.likeToMatchRate}%`}})})]})]}),n.averageResponseTime&&a.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-xl p-4 space-y-2 border border-gray-100 dark:border-white/5",children:[a.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Phn tch"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Thi gian phn hi TB"}),a.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[Math.round(n.averageResponseTime/6e4)," pht"]})]}),n.mostSwipedDay&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Swipe nhiu nht"}),a.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:n.mostSwipedDay})]})]})]})})]})},aF=()=>{const{fetchReceivedInvites:e,respondInvite:t}=Xi(),n=C2(),[r,s]=k.useState("Tt c"),[i,l]=k.useState(!0),[c,d]=k.useState(null),[h,m]=k.useState(!1),[p,x]=k.useState(!1);k.useEffect(()=>{y()},[]);const y=()=>O(void 0,null,function*(){l(!0);try{yield e()}catch(w){console.error("Failed to load invites:",w)}finally{l(!1)}}),b=n.filter(w=>{if(r==="Tt c")return!0;const S={"Ch x l":"pending"," chp nhn":"accepted"," t chi":"declined","Ht hn":"expired"};return w.status===S[r]}),v=w=>O(void 0,null,function*(){x(!0);try{yield t(w,"accept")}catch(S){console.error("Failed to accept invite:",S)}finally{x(!1)}}),j=w=>{d(w),m(!0)},N=w=>O(void 0,null,function*(){if(c){x(!0),m(!1);try{yield t(c,"decline",w)}catch(S){console.error("Failed to decline invite:",S)}finally{x(!1),d(null)}}});return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark pb-safe",children:[a.jsx(Kt,{title:"Li mi tham gia"}),a.jsx(sz,{options:["Tt c","Ch x l"," chp nhn"," t chi","Ht hn"],selected:r,onChange:s}),a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:i?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Ri,{}),a.jsx(Ri,{}),a.jsx(Ri,{})]}):b.length===0?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(Ki,{icon:"mail_outline",title:"Khng c li mi",description:r==="Tt c"?"Bn cha c li mi tham gia i no":`Khng c li mi ${r.toLowerCase()}`})}):a.jsx("div",{className:"space-y-3",children:b.map(w=>a.jsx(iz,{invite:w,onAccept:()=>v(w.id),onDecline:()=>j(w.id),isLoading:p},w.id))})}),a.jsx(lz,{isOpen:h,onClose:()=>m(!1),onConfirm:N,isLoading:p})]})},sF=()=>a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"20px",backgroundColor:"#f5f5f5"},children:[a.jsx("h1",{style:{fontSize:"48px",fontWeight:"bold",color:"#333",marginBottom:"16px"},children:"404"}),a.jsx("p",{style:{fontSize:"16px",color:"#666",marginBottom:"24px"},children:"Trang khng tn ti"}),a.jsx(Ph,{to:"/login",replace:!0})]}),iF=TR([{path:"/",element:a.jsx(Ph,{to:"/launching",replace:!0})},{path:"/launching",element:a.jsx(Xz,{})},{path:"/login",element:a.jsx(e6,{})},{path:"/onboarding",element:a.jsx(Ut,{children:a.jsx(d6,{})})},{path:"/",element:a.jsx(Ut,{children:a.jsx(SD,{})}),children:[{path:"dashboard",element:a.jsx(rB,{})},{path:"teams",element:a.jsx(aB,{})},{path:"profile",element:a.jsx(sB,{})},{path:"match/schedule",element:a.jsx(oB,{})}]},{path:"/match/find",element:a.jsx(Ut,{children:a.jsx(cB,{})})},{path:"/profile/edit",element:a.jsx(Ut,{children:a.jsx(XB,{})})},{path:"/teams/create",element:a.jsx(Ut,{children:a.jsx(uB,{})})},{path:"/teams/:teamId",element:a.jsx(Ut,{children:a.jsx(dB,{})})},{path:"/teams/:teamId/edit",element:a.jsx(Ut,{children:a.jsx(fB,{})})},{path:"/teams/:teamId/members",element:a.jsx(Ut,{children:a.jsx(hB,{})})},{path:"/teams/:teamId/members/add",element:a.jsx(Ut,{children:a.jsx(J2,{})})},{path:"/teams/:teamId/members/:memberId",element:a.jsx(Ut,{children:a.jsx(mB,{})})},{path:"/teams/:teamId/share",element:a.jsx(Ut,{children:a.jsx(BB,{})})},{path:"/invites/received",element:a.jsx(Ut,{children:a.jsx(aF,{})})},{path:"/match/found",element:a.jsx(Ut,{children:a.jsx(UB,{})})},{path:"/match/:matchId",element:a.jsx(Ut,{children:a.jsx(FB,{})})},{path:"/match/:matchId/attendance",element:a.jsx(Ut,{children:a.jsx(qB,{})})},{path:"/match/:matchId/update-score",element:a.jsx(Ut,{children:a.jsx(HB,{})})},{path:"/match/:matchId/rematch",element:a.jsx(Ut,{children:a.jsx(ZB,{})})},{path:"/match/invite",element:a.jsx(Ut,{children:a.jsx(WB,{})})},{path:"/match/opponent/:teamId",element:a.jsx(Ut,{children:a.jsx(KB,{})})},{path:"/match/history",element:a.jsx(Ut,{children:a.jsx(GB,{})})},{path:"/notifications",element:a.jsx(Ut,{children:a.jsx(YB,{})})},{path:"/my-invites",element:a.jsx(Ut,{children:a.jsx(Ph,{to:"/notifications",replace:!0})})},{path:"/swipe/history",element:a.jsx(Ut,{children:a.jsx(tF,{})})},{path:"/swipe/received",element:a.jsx(Ut,{children:a.jsx(nF,{})})},{path:"/swipe/stats",element:a.jsx(Ut,{children:a.jsx(rF,{})})},{path:"*",element:a.jsx(sF,{})}]);class oF extends k.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){var t;return this.state.hasError?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:" c li xy ra"}),a.jsx("p",{className:"text-gray-400 mb-4",children:((t=this.state.error)==null?void 0:t.message)||"Unexpected application error"}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Ti li trang"})]}):this.props.children}}const lF=()=>a.jsx(oF,{children:a.jsx(ED,{children:a.jsx("div",{className:"flex min-h-screen justify-center bg-background-light dark:bg-background-dark text-slate-900 dark:text-white",children:a.jsx("div",{className:"flex w-full flex-col bg-surface-light dark:bg-surface-dark",children:a.jsx($R,{router:iF})})})})}),cF=x5,uF=()=>{const e=hN().zaloTheme;return a.jsx(BA,{theme:e,children:a.jsxs(cF,{children:[a.jsx(lF,{}),a.jsx(_5,{})]})})},dF={title:"Cap Ko Sport",textColor:{light:"white",dark:"white"},statusBar:"transparent",actionBarHidden:!0,hideIOSSafeAreaBottom:!0,hideAndroidBottomNavigationBar:!1,themeColor:"#11d473"},hF=[],fF=[],mF=[],pF={app:dF,listCSS:hF,listSyncJS:fF,listAsyncJS:mF};window.APP_CONFIG||(window.APP_CONFIG=pF);const E_=document.getElementById("app");E_&&$1(E_).render(Re.createElement(uF));export{Pe as a,sa as c};
